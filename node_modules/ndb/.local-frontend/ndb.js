const allDescriptors=[];let applicationDescriptor;const _loadedScripts={};for(const e of[]){}(function(){const e=self.location?self.location.origin+self.location.pathname:"";self._importScriptPathPrefix=e.substring(0,e.lastIndexOf("/")+1)})();const REMOTE_MODULE_FALLBACK_REVISION="@010ddcfda246975d194964ccf20038ebbdec6084";var Runtime=class{constructor(e){this._modules=[];this._modulesMap={};this._extensions=[];this._cachedTypeClasses={};this._descriptorsMap={};for(let t=0;t<e.length;++t)this._registerModule(e[t])}static loadResourcePromise(e){return new Promise(t);function t(t,n){const s=new XMLHttpRequest;s.open("GET",e,true);s.onreadystatechange=i;function i(i){if(s.readyState!==XMLHttpRequest.DONE)return;const o=/^HTTP\/1.1 404/.test(i.target.response)?404:s.status;if([0,200,304].indexOf(o)===-1)n(new Error("While loading from url "+e+" server responded with a status of "+o));else t(i.target.response)}s.send(null)}}static loadResourcePromiseWithFallback(e){return Runtime.loadResourcePromise(e).catch(t=>{const n=e.replace(/@[0-9a-f]{40}/,REMOTE_MODULE_FALLBACK_REVISION);if(n===e||!e.includes("audits_worker_module"))throw t;return Runtime.loadResourcePromise(n)})}static normalizePath(e){if(e.indexOf("..")===-1&&e.indexOf(".")===-1)return e;const t=[];const n=e.split("/");for(let e=0;e<n.length;e++){const s=n[e];if(s===".")continue;else if(s==="..")t.pop();else if(s)t.push(s)}let s=t.join("/");if(s[s.length-1]==="/")return s;if(e[0]==="/"&&s)s="/"+s;if(e[e.length-1]==="/"||n[n.length-1]==="."||n[n.length-1]==="..")s=s+"/";return s}static _loadScriptsPromise(e,t){const n=[];const s=[];const i=new Array(e.length);let o=0;for(let i=0;i<e.length;++i){const o=e[i];let a=(t||self._importScriptPathPrefix)+o;const l=a.indexOf("://")+3;let c=a.indexOf("/",l);if(c===-1)c=a.length;a=a.substring(0,c)+Runtime.normalizePath(a.substring(c));if(_loadedScripts[a])continue;s.push(a);const d=t?Runtime.loadResourcePromiseWithFallback(a):Runtime.loadResourcePromise(a);n.push(d.then(r.bind(null,i),r.bind(null,i,undefined)))}return Promise.all(n).then(undefined);function r(e,t){i[e]=t||"";while(typeof i[o]!=="undefined"){a(s[o],i[o]);++o}}function a(e,t){_loadedScripts[e]=true;if(!t){console.error("Empty response arrived for script '"+e+"'");return}self.eval(t+"\n//# sourceURL="+e)}}static _loadResourceIntoCache(e,t){return Runtime.loadResourcePromise(e).then(n.bind(this,e),n.bind(this,e,undefined));function n(e,n){if(!n){console.error("Failed to load resource: "+e);return}const s=t?Runtime.resolveSourceURL(e):"";Runtime.cachedResources[e]=n+s}}static async appStarted(){return Runtime._appStartedPromise}static async startApplication(e){console.timeStamp("Runtime.startApplication");const t={};for(let e=0;e<allDescriptors.length;++e){const n=allDescriptors[e];t[n["name"]]=n}if(!applicationDescriptor){let t=await Runtime.loadResourcePromise(e+".json");applicationDescriptor=JSON.parse(t);let n=applicationDescriptor;while(n.extends){t=await Runtime.loadResourcePromise(n.extends+".json");n=JSON.parse(t);applicationDescriptor.modules=n.modules.concat(applicationDescriptor.modules)}}const n=applicationDescriptor.modules;const s=[];const i=[];for(let e=0;e<n.length;++e){const o=n[e];const r=o["name"];const a=t[r];if(a)s.push(Promise.resolve(a));else s.push(Runtime.loadResourcePromise(r+"/module.json").then(JSON.parse.bind(JSON)));if(o["type"]==="autostart")i.push(r)}const o=await Promise.all(s);for(let e=0;e<o.length;++e){o[e].name=n[e]["name"];o[e].condition=n[e]["condition"];o[e].remote=n[e]["type"]==="remote"}self.runtime=new Runtime(o);if(i)await self.runtime._loadAutoStartModules(i);Runtime._appStartedPromiseCallback()}static startWorker(e){return Runtime.startApplication(e).then(t);function t(){self.postMessage("workerReady")}}static queryParam(e){return Runtime._queryParamsObject.get(e)}static queryParamsString(){return location.search}static _experimentsSetting(){try{return JSON.parse(self.localStorage&&self.localStorage["experiments"]?self.localStorage["experiments"]:"{}")}catch(e){console.error("Failed to parse localStorage['experiments']");return{}}}static _assert(e,t){if(e)return;Runtime._originalAssert.call(Runtime._console,e,t+" "+(new Error).stack)}static setPlatform(e){Runtime._platform=e}static _isDescriptorEnabled(e){const t=e["experiment"];if(t==="*")return Runtime.experiments.supportEnabled();if(t&&t.startsWith("!")&&Runtime.experiments.isEnabled(t.substring(1)))return false;if(t&&!t.startsWith("!")&&!Runtime.experiments.isEnabled(t))return false;const n=e["condition"];if(n&&!n.startsWith("!")&&!Runtime.queryParam(n))return false;if(n&&n.startsWith("!")&&Runtime.queryParam(n.substring(1)))return false;return true}static resolveSourceURL(e){let t=self.location.href;if(self.location.search)t=t.replace(self.location.search,"");t=t.substring(0,t.lastIndexOf("/")+1)+e;return"\n/*# sourceURL="+t+" */"}static setL10nCallback(e){Runtime._l10nCallback=e}useTestBase(){Runtime._remoteBase="http://localhost:8000/inspector-sources/";if(Runtime.queryParam("debugFrontend"))Runtime._remoteBase+="debug/"}_registerModule(e){const t=new Runtime.Module(this,e);this._modules.push(t);this._modulesMap[e["name"]]=t}loadModulePromise(e){return this._modulesMap[e]._loadPromise()}_loadAutoStartModules(e){const t=[];for(let n=0;n<e.length;++n)t.push(this.loadModulePromise(e[n]));return Promise.all(t)}_checkExtensionApplicability(e,t){if(!t)return false;const n=e.descriptor().contextTypes;if(!n)return true;for(let e=0;e<n.length;++e){const s=this._resolve(n[e]);const i=!!s&&t(s);if(i)return true}return false}isExtensionApplicableToContext(e,t){if(!t)return true;return this._checkExtensionApplicability(e,n);function n(e){return t instanceof e}}isExtensionApplicableToContextTypes(e,t){if(!e.descriptor().contextTypes)return true;return this._checkExtensionApplicability(e,t?n:null);function n(e){return t.has(e)}}extensions(e,t,n){return this._extensions.filter(s).sort(n?o:i);function s(n){if(n._type!==e&&n._typeClass()!==e)return false;if(!n.enabled())return false;return!t||n.isApplicable(t)}function i(e,t){const n=e.descriptor()["order"]||0;const s=t.descriptor()["order"]||0;return n-s}function o(e,t){const n=e.title()||"";const s=t.title()||"";return n.localeCompare(s)}}extension(e,t){return this.extensions(e,t)[0]||null}allInstances(e,t){return Promise.all(this.extensions(e,t).map(e=>e.instance()))}_resolve(e){if(!this._cachedTypeClasses[e]){const t=e.split(".");let n=self;for(let e=0;n&&e<t.length;++e)n=n[t[e]];if(n)this._cachedTypeClasses[e]=n}return this._cachedTypeClasses[e]||null}sharedInstance(e){if(Runtime._instanceSymbol in e&&Object.getOwnPropertySymbols(e).includes(Runtime._instanceSymbol))return e[Runtime._instanceSymbol];const t=new e;e[Runtime._instanceSymbol]=t;return t}};Runtime._queryParamsObject=new URLSearchParams(Runtime.queryParamsString());Runtime._instanceSymbol=Symbol("instance");Runtime.cachedResources={__proto__:null};Runtime._console=console;Runtime._originalAssert=console.assert;Runtime._platform="";Runtime.ModuleDescriptor=class{constructor(){this.name;this.extensions;this.dependencies;this.scripts;this.condition;this.remote}};Runtime.ExtensionDescriptor=class{constructor(){this.type;this.className;this.factoryName;this.contextTypes}};Runtime.Module=class{constructor(e,t){this._manager=e;this._descriptor=t;this._name=t.name;this._extensions=[];this._extensionsByClassName=new Map;const n=t.extensions;for(let e=0;n&&e<n.length;++e){const t=new Runtime.Extension(this,n[e]);this._manager._extensions.push(t);this._extensions.push(t)}this._loadedForTest=false}name(){return this._name}enabled(){return Runtime._isDescriptorEnabled(this._descriptor)}resource(e){const t=this._name+"/"+e;const n=Runtime.cachedResources[t];if(!n)throw new Error(t+" not preloaded. Check module.json");return n}_loadPromise(){if(!this.enabled())return Promise.reject(new Error("Module "+this._name+" is not enabled"));if(this._pendingLoadPromise)return this._pendingLoadPromise;const e=this._descriptor.dependencies;const t=[];for(let n=0;e&&n<e.length;++n)t.push(this._manager._modulesMap[e[n]]._loadPromise());this._pendingLoadPromise=Promise.all(t).then(this._loadResources.bind(this)).then(this._loadScripts.bind(this)).then(()=>this._loadedForTest=true);return this._pendingLoadPromise}_loadResources(){const e=this._descriptor["resources"];if(!e||!e.length)return Promise.resolve();const t=[];for(let n=0;n<e.length;++n){const s=this._modularizeURL(e[n]);const i=s.endsWith(".html");t.push(Runtime._loadResourceIntoCache(s,!i))}return Promise.all(t).then(undefined)}_loadScripts(){if(!this._descriptor.scripts||!this._descriptor.scripts.length)return Promise.resolve();const e={sdk:"SDK",js_sdk:"JSSDK",browser_sdk:"BrowserSDK",ui:"UI",object_ui:"ObjectUI",javascript_metadata:"JavaScriptMetadata",perf_ui:"PerfUI",har_importer:"HARImporter",sdk_test_runner:"SDKTestRunner",cpu_profiler_test_runner:"CPUProfilerTestRunner"};const t=e[this._name]||this._name.split("_").map(e=>e.substring(0,1).toUpperCase()+e.substring(1)).join("");self[t]=self[t]||{};return Runtime._loadScriptsPromise(this._descriptor.scripts.map(this._modularizeURL,this),this._remoteBase())}_modularizeURL(e){return Runtime.normalizePath(this._name+"/"+e)}_remoteBase(){return!Runtime.queryParam("debugFrontend")&&this._descriptor.remote&&Runtime._remoteBase||undefined}substituteURL(e){const t=this._remoteBase()||"";return e.replace(/@url\(([^\)]*?)\)/g,n.bind(this));function n(e,n){return t+this._modularizeURL(n)}}};Runtime.Extension=class{constructor(e,t){this._module=e;this._descriptor=t;this._type=t.type;this._hasTypeClass=this._type.charAt(0)==="@";this._className=t.className||null;this._factoryName=t.factoryName||null}descriptor(){return this._descriptor}module(){return this._module}enabled(){return this._module.enabled()&&Runtime._isDescriptorEnabled(this.descriptor())}_typeClass(){if(!this._hasTypeClass)return null;return this._module._manager._resolve(this._type.substring(1))}isApplicable(e){return this._module._manager.isExtensionApplicableToContext(this,e)}instance(){return this._module._loadPromise().then(this._createInstance.bind(this))}canInstantiate(){return!!(this._className||this._factoryName)}_createInstance(){const e=this._className||this._factoryName;if(!e)throw new Error("Could not instantiate extension with no class");const t=self.eval(e);if(!(t instanceof Function))throw new Error("Could not instantiate: "+e);if(this._className)return this._module._manager.sharedInstance(t);return new t(this)}title(){const e=this._descriptor["title-"+Runtime._platform]||this._descriptor["title"];if(e&&Runtime._l10nCallback)return Runtime._l10nCallback(e);return e}hasContextType(e){const t=this.descriptor().contextTypes;if(!t)return false;for(let n=0;n<t.length;++n){if(e===this._module._manager._resolve(t[n]))return true}return false}};Runtime.ExperimentsSupport=class{constructor(){this._supportEnabled=Runtime.queryParam("experiments")!==null;this._experiments=[];this._experimentNames={};this._enabledTransiently={};this._serverEnabled=new Set}allConfigurableExperiments(){const e=[];for(let t=0;t<this._experiments.length;t++){const n=this._experiments[t];if(!this._enabledTransiently[n.name])e.push(n)}return e}supportEnabled(){return this._supportEnabled}_setExperimentsSetting(e){if(!self.localStorage)return;self.localStorage["experiments"]=JSON.stringify(e)}register(e,t,n){Runtime._assert(!this._experimentNames[e],"Duplicate registration of experiment "+e);this._experimentNames[e]=true;this._experiments.push(new Runtime.Experiment(this,e,t,!!n))}isEnabled(e){this._checkExperiment(e);if(Runtime._experimentsSetting()[e]===false)return false;if(this._enabledTransiently[e])return true;if(this._serverEnabled.has(e))return true;if(!this.supportEnabled())return false;return!!Runtime._experimentsSetting()[e]}setEnabled(e,t){this._checkExperiment(e);const n=Runtime._experimentsSetting();n[e]=t;this._setExperimentsSetting(n)}setDefaultExperiments(e){for(let t=0;t<e.length;++t){this._checkExperiment(e[t]);this._enabledTransiently[e[t]]=true}}setServerEnabledExperiments(e){for(const t of e){this._checkExperiment(t);this._serverEnabled.add(t)}}enableForTest(e){this._checkExperiment(e);this._enabledTransiently[e]=true}clearForTest(){this._experiments=[];this._experimentNames={};this._enabledTransiently={};this._serverEnabled.clear()}cleanUpStaleExperiments(){const e=Runtime._experimentsSetting();const t={};for(let n=0;n<this._experiments.length;++n){const s=this._experiments[n].name;if(e[s])t[s]=true}this._setExperimentsSetting(t)}_checkExperiment(e){Runtime._assert(this._experimentNames[e],"Unknown experiment "+e)}};Runtime.Experiment=class{constructor(e,t,n,s){this.name=t;this.title=n;this.hidden=s;this._experiments=e}isEnabled(){return this._experiments.isEnabled(this.name)}setEnabled(e){this._experiments.setEnabled(this.name,e)}};Runtime.experiments=new Runtime.ExperimentsSupport;Runtime._appStartedPromiseCallback;Runtime._appStartedPromise=new Promise(e=>Runtime._appStartedPromiseCallback=e);Runtime._l10nCallback;Runtime._remoteBase;(function e(){if(location.href.startsWith("devtools://devtools/bundled/")&&Runtime.queryParam("remoteBase")){const e=/\/serve_file\/(@[0-9a-zA-Z]+)\/?$/.exec(Runtime.queryParam("remoteBase"));if(e)Runtime._remoteBase=`${location.origin}/remote/serve_file/${e[1]}/`}})();function ServicePort(){}ServicePort.prototype={setHandlers(e,t){},send(e){},close(){}};var runtime;allDescriptors.push(...[{name:"ndb_sdk",remote:false,extensions:[],dependencies:["sdk"]},{name:"ndb",remote:false,extensions:[{type:"early-initialization",className:"Ndb.NdbMain"},{type:"setting",category:"Debugger",title:"Set breakpoint at first line",settingName:"pauseAtStart",settingType:"boolean",defaultValue:false},{type:"setting",category:"Debugger",title:"Autostart main",settingName:"autoStartMain",settingType:"boolean",defaultValue:true},{type:"setting",category:"Debugger",title:"Blackbox internal/* Node.js scripts",settingName:"blackboxInternalScripts",settingType:"boolean",defaultValue:true},{type:"action",actionId:"ndb.restart",className:"Ndb.RestartActionDelegate",title:"Restart last run configuration",bindings:[{platform:"windows,linux",shortcut:"F5 Ctrl+R"},{platform:"mac",shortcut:"Meta+R"}]},{type:"@UI.ContextMenu.Provider",contextTypes:["Workspace.UISourceCode"],className:"Ndb.ContextMenuProvider"}],dependencies:["common","sdk","ndb_sdk","bindings","persistence","components"]},{name:"layer_viewer",remote:false,scripts:["layer_viewer_module.js"],extensions:[],dependencies:["components","sdk","timeline_model","ui","perf_ui"]},{name:"timeline_model",remote:false,scripts:["timeline_model_module.js"],extensions:[],dependencies:["sdk"]},{name:"timeline",remote:false,scripts:["timeline_module.js"],extensions:[{type:"view",location:"panel",id:"timeline",title:"Performance",order:50,className:"Timeline.TimelinePanel"},{type:"setting",category:"Performance",title:"Hide chrome frame in Layers view",settingName:"frameViewerHideChromeWindow",settingType:"boolean",defaultValue:false},{type:"@Common.QueryParamHandler",name:"loadTimelineFromURL",className:"Timeline.LoadTimelineHandler"},{type:"context-menu-item",location:"timelineMenu/open",actionId:"timeline.load-from-file",order:10},{type:"context-menu-item",location:"timelineMenu/open",actionId:"timeline.save-to-file",order:15},{type:"action",actionId:"timeline.toggle-recording",iconClass:"largeicon-start-recording",toggledIconClass:"largeicon-stop-recording",toggleWithRedColor:true,contextTypes:["Timeline.TimelinePanel"],className:"Timeline.TimelinePanel.ActionDelegate",options:[{value:true,title:"Record"},{value:false,title:"Stop"}],bindings:[{platform:"windows,linux",shortcut:"Ctrl+E"},{platform:"mac",shortcut:"Meta+E"}]},{type:"action",actionId:"timeline.record-reload",iconClass:"largeicon-refresh",contextTypes:["Timeline.TimelinePanel"],category:"Performance",title:"Start profiling and reload page",className:"Timeline.TimelinePanel.ActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+Shift+E"},{platform:"mac",shortcut:"Meta+Shift+E"}]},{type:"action",category:"Timeline",actionId:"timeline.save-to-file",contextTypes:["Timeline.TimelinePanel"],className:"Timeline.TimelinePanel.ActionDelegate",title:"Save profile…",bindings:[{platform:"windows,linux",shortcut:"Ctrl+S"},{platform:"mac",shortcut:"Meta+S"}]},{type:"action",category:"Timeline",actionId:"timeline.load-from-file",contextTypes:["Timeline.TimelinePanel"],className:"Timeline.TimelinePanel.ActionDelegate",title:"Load profile…",bindings:[{platform:"windows,linux",shortcut:"Ctrl+O"},{platform:"mac",shortcut:"Meta+O"}]},{type:"action",actionId:"timeline.jump-to-previous-frame",contextTypes:["Timeline.TimelinePanel"],className:"Timeline.TimelinePanel.ActionDelegate",bindings:[{shortcut:"["}]},{type:"action",actionId:"timeline.jump-to-next-frame",contextTypes:["Timeline.TimelinePanel"],className:"Timeline.TimelinePanel.ActionDelegate",bindings:[{shortcut:"]"}]},{type:"action",actionId:"timeline.show-history",className:"Timeline.TimelinePanel.ActionDelegate",category:"Performance",title:"Show recent timeline sessions",contextTypes:["Timeline.TimelinePanel"],bindings:[{platform:"windows,linux",shortcut:"Ctrl+H"},{platform:"mac",shortcut:"Meta+Y"}]},{type:"view",location:"panel",id:"js_profiler",title:"JavaScript Profiler",persistence:"closeable",order:65,className:"Profiler.JSProfilerPanel"},{type:"action",actionId:"timeline.previous-recording",className:"Timeline.TimelinePanel.ActionDelegate",contextTypes:["Timeline.TimelinePanel"],bindings:[{platform:"windows,linux",shortcut:"Alt+Left"},{platform:"mac",shortcut:"Meta+Left"}]},{type:"action",actionId:"timeline.next-recording",className:"Timeline.TimelinePanel.ActionDelegate",contextTypes:["Timeline.TimelinePanel"],bindings:[{platform:"windows,linux",shortcut:"Alt+Right"},{platform:"mac",shortcut:"Meta+Right"}]}],dependencies:["components","layer_viewer","timeline_model","perf_ui","extensions","data_grid","product_registry","profiler","mobile_throttling"]},{name:"product_registry",remote:false,scripts:["product_registry_module.js"],extensions:[{type:"setting",category:"Appearance",title:"Show third party URL badges",settingName:"product_registry.badges-visible",settingType:"boolean",defaultValue:false,options:[{value:true,title:"Show third party badges"},{value:false,title:"Do not show third party badges"}]}],dependencies:["common","sdk","ui"]},{name:"mobile_throttling",remote:false,scripts:["mobile_throttling_module.js"],extensions:[{type:"setting",settingName:"customNetworkConditions",settingType:"array",defaultValue:[]},{type:"action",actionId:"network-conditions.network-offline",category:"Network",title:"Go offline",className:"MobileThrottling.ThrottlingManager.ActionDelegate",tags:"device, throttling"},{type:"action",actionId:"network-conditions.network-low-end-mobile",category:"Network",title:"Enable slow 3G throttling",className:"MobileThrottling.ThrottlingManager.ActionDelegate",tags:"device, throttling"},{type:"action",actionId:"network-conditions.network-mid-tier-mobile",category:"Network",title:"Enable fast 3G throttling",className:"MobileThrottling.ThrottlingManager.ActionDelegate",tags:"device, throttling"},{type:"action",actionId:"network-conditions.network-online",category:"Network",title:"Go online",className:"MobileThrottling.ThrottlingManager.ActionDelegate",tags:"device, throttling"},{type:"view",location:"settings-view",id:"throttling-conditions",title:"Throttling",order:35,className:"MobileThrottling.ThrottlingSettingsTab",settings:["customNetworkConditions"]}],dependencies:["common","sdk","ui","protocol"]},{name:"ndb_ui",remote:false,scripts:["ndb_ui_module.js"],extensions:[{type:"view",category:"NDB",id:"ndb.runView",title:"NPM Scripts",persistence:"permanent",location:"run-view-sidebar",className:"Ndb.RunConfiguration"},{type:"view",location:"drawer-view",id:"ndb.terminal",title:"Terminal",persistence:"permanent",order:1,className:"Ndb.Terminal"},{type:"view",id:"ndb.processes-view",title:"Node processes",persistence:"permanent",className:"Ndb.NodeProcesses",location:"sources.sidebar-top"}],dependencies:["ui","sources","timeline","ndb","xterm"]},{name:"xterm",remote:false,scripts:["xterm_module.js"],extensions:[],dependencies:[]},{name:"bindings",remote:false,extensions:[],dependencies:["sdk","platform","services","workspace"]},{name:"common",remote:false,extensions:[],dependencies:["text_utils","platform"]},{name:"components",remote:false,extensions:[],dependencies:["bindings","platform","ui"]},{name:"console_counters",remote:false,extensions:[{type:"@UI.ToolbarItem.Provider",className:"ConsoleCounters.WarningErrorCounter",order:1,location:"main-toolbar-right"}],dependencies:["common","ui","sdk"]},{name:"dom_extension",remote:false,extensions:[],dependencies:["platform"]},{name:"extensions",remote:false,extensions:[],dependencies:["components","browser_sdk","common"]},{name:"host",remote:false,extensions:[],dependencies:["common","platform"]},{name:"main",remote:false,extensions:[{type:"@Common.AppProvider",className:"Main.SimpleAppProvider",order:10},{type:"@UI.ContextMenu.Provider",contextTypes:["Workspace.UISourceCode","SDK.Resource","SDK.NetworkRequest"],className:"Components.Linkifier.ContentProviderContextMenuProvider"},{type:"@UI.ContextMenu.Provider",contextTypes:["Node"],className:"UI.XLink.ContextMenuProvider"},{type:"@UI.ContextMenu.Provider",contextTypes:["Node"],className:"Components.Linkifier.LinkContextMenuProvider"},{type:"action",category:"Drawer",actionId:"inspector_main.focus-debuggee",className:"InspectorMain.FocusDebuggeeActionDelegate",order:100,title:"Focus debuggee"},{type:"action",category:"Drawer",actionId:"main.toggle-drawer",className:"UI.InspectorView.ActionDelegate",order:101,title:"Toggle drawer",bindings:[{shortcut:"Esc"}]},{type:"action",actionId:"main.next-tab",className:"UI.InspectorView.ActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+]"},{platform:"mac",shortcut:"Meta+]"}]},{type:"action",actionId:"main.previous-tab",className:"UI.InspectorView.ActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+["},{platform:"mac",shortcut:"Meta+["}]},{type:"action",actionId:"main.debug-reload",className:"Main.ReloadActionDelegate",bindings:[{shortcut:"Alt+R"}]},{type:"action",category:"DevTools",title:"Restore last dock position",actionId:"main.toggle-dock",className:"Components.DockController.ToggleDockActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+Shift+D"},{platform:"mac",shortcut:"Meta+Shift+D"}]},{type:"action",actionId:"main.zoom-in",className:"Main.Main.ZoomActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+Plus Ctrl+Shift+Plus Ctrl+NumpadPlus Ctrl+Shift+NumpadPlus"},{platform:"mac",shortcut:"Meta+Plus Meta+Shift+Plus Meta+NumpadPlus Meta+Shift+NumpadPlus"}]},{type:"action",actionId:"main.zoom-out",className:"Main.Main.ZoomActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+Minus Ctrl+Shift+Minus Ctrl+NumpadMinus Ctrl+Shift+NumpadMinus"},{platform:"mac",shortcut:"Meta+Minus Meta+Shift+Minus Meta+NumpadMinus Meta+Shift+NumpadMinus"}]},{type:"action",actionId:"main.zoom-reset",className:"Main.Main.ZoomActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+0 Ctrl+Numpad0"},{platform:"mac",shortcut:"Meta+0 Meta+Numpad0"}]},{type:"action",actionId:"main.search-in-panel.find",className:"Main.Main.SearchActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+F"},{platform:"mac",shortcut:"Meta+F F3"}]},{type:"action",actionId:"main.search-in-panel.cancel",className:"Main.Main.SearchActionDelegate",order:10,bindings:[{shortcut:"Esc"}]},{type:"action",actionId:"main.search-in-panel.find-next",className:"Main.Main.SearchActionDelegate",bindings:[{platform:"mac",shortcut:"Meta+G"}]},{type:"action",actionId:"main.search-in-panel.find-previous",className:"Main.Main.SearchActionDelegate",bindings:[{platform:"mac",shortcut:"Meta+Shift+G"}]},{type:"@UI.ToolbarItem.Provider",separator:true,location:"main-toolbar-left",order:100},{type:"@UI.ToolbarItem.Provider",separator:true,order:98,location:"main-toolbar-right"},{type:"@UI.ToolbarItem.Provider",className:"Main.Main.MainMenuItem",order:99,location:"main-toolbar-right"},{type:"@UI.ToolbarItem.Provider",className:"Components.DockController.CloseButtonProvider",order:100,location:"main-toolbar-right"},{type:"setting",category:"Appearance",title:"Theme:",settingName:"uiTheme",settingType:"enum",defaultValue:"systemPreferred",options:[{title:"Switch to system preferred color theme",text:"System preference",value:"systemPreferred"},{title:"Switch to light theme",text:"Light",value:"default"},{title:"Switch to dark theme",text:"Dark",value:"dark"}],tags:"dark, light"},{type:"setting",category:"Appearance",title:"Panel layout:",settingName:"sidebarPosition",settingType:"enum",defaultValue:"auto",options:[{title:"Use horizontal panel layout",text:"horizontal",value:"bottom"},{title:"Use vertical panel layout",text:"vertical",value:"right"},{title:"Use automatic panel layout",text:"auto",value:"auto"}]},{type:"setting",category:"Appearance",title:"Color format:",settingName:"colorFormat",settingType:"enum",defaultValue:"original",options:[{title:"Set color format as authored",text:"As authored",value:"original"},{title:"Set color format to HEX",text:"HEX: #dac0de",value:"hex",raw:true},{title:"Set color format to RGB",text:"RGB: rgb(128, 255, 255)",value:"rgb",raw:true},{title:"Set color format to HSL",text:"HSL: hsl(300, 80%, 90%)",value:"hsl",raw:true}]},{type:"setting",category:"Appearance",title:"Enable Ctrl + 1-9 shortcut to switch panels","title-mac":"Enable ⌘ + 1-9 shortcut to switch panels",settingName:"shortcutPanelSwitch",settingType:"boolean",defaultValue:false},{type:"@UI.SettingUI",category:"Extensions",className:"Components.Linkifier.LinkHandlerSettingUI"},{type:"setting",category:"DevTools",settingName:"currentDockState",settingType:"enum",defaultValue:"right",options:[{value:"right",text:"Right",title:"Dock to right"},{value:"bottom",text:"Bottom",title:"Dock to bottom"},{value:"undocked",text:"Undocked",title:"Undock into separate window"}]},{type:"@UI.ViewLocationResolver",name:"drawer-view",category:"Drawer",className:"UI.InspectorView"},{type:"@UI.ViewLocationResolver",name:"drawer-sidebar",category:"Drawer sidebar",className:"UI.InspectorView"},{type:"@UI.ViewLocationResolver",name:"panel",category:"Panel",className:"UI.InspectorView"}],dependencies:["extensions","host","platform","sdk","persistence"]},{name:"persistence",remote:false,extensions:[{type:"view",location:"settings-view",id:"workspace",title:"Workspace",order:1,className:"Persistence.WorkspaceSettingsTab"},{type:"setting",category:"Persistence",title:"Enable Local Overrides",settingName:"persistenceNetworkOverridesEnabled",settingType:"boolean",defaultValue:false,tags:"interception, override, network, rewrite, request",options:[{value:true,title:"Enable override network requests"},{value:false,title:"Disable override network requests"}]},{type:"@UI.ContextMenu.Provider",contextTypes:["Workspace.UISourceCode","SDK.Resource","SDK.NetworkRequest"],className:"Persistence.PersistenceActions.ContextMenuProvider"}],dependencies:["bindings","workspace","components","sdk"]},{name:"platform",remote:false,extensions:[],dependencies:[]},{name:"product_registry",remote:false,extensions:[{type:"setting",category:"Appearance",title:"Show third party URL badges",settingName:"product_registry.badges-visible",settingType:"boolean",defaultValue:false,options:[{value:true,title:"Show third party badges"},{value:false,title:"Do not show third party badges"}]}],dependencies:["common","sdk","ui"]},{name:"protocol",remote:false,extensions:[],dependencies:["common","host"]},{name:"sdk",remote:false,extensions:[{type:"setting",settingName:"skipStackFramesPattern",settingType:"regex",defaultValue:""},{type:"setting",settingName:"skipContentScripts",settingType:"boolean",defaultValue:false},{type:"setting",category:"Console",title:"Preserve log upon navigation",settingName:"preserveConsoleLog",settingType:"boolean",defaultValue:false,options:[{value:true,title:"Preserve log upon navigation"},{value:false,title:"Do not preserve log upon navigation"}]},{type:"setting",category:"Debugger",settingName:"pauseOnExceptionEnabled",settingType:"boolean",defaultValue:false,options:[{value:true,title:"Pause on exceptions"},{value:false,title:"Do not pause on exceptions"}]},{type:"setting",settingName:"pauseOnCaughtException",settingType:"boolean",defaultValue:false},{type:"setting",category:"Debugger",title:"Disable JavaScript",settingName:"javaScriptDisabled",settingType:"boolean",storageType:"session",order:1,defaultValue:false,options:[{value:true,title:"Disable JavaScript"},{value:false,title:"Enable JavaScript"}]},{type:"setting",category:"Debugger",title:"Disable async stack traces",settingName:"disableAsyncStackTraces",settingType:"boolean",defaultValue:false,order:2,options:[{value:true,title:"Do not capture async stack traces"},{value:false,title:"Capture async stack traces"}]},{type:"setting",category:"Debugger",settingName:"breakpointsActive",settingType:"boolean",storageType:"session",defaultValue:true},{type:"setting",category:"Elements",title:"Show rulers",settingName:"showMetricsRulers",settingType:"boolean",defaultValue:false},{type:"setting",category:"Rendering",settingName:"showPaintRects",settingType:"boolean",storageType:"session",options:[{value:true,title:"Show paint flashing rectangles"},{value:false,title:"Hide paint flashing rectangles"}],defaultValue:false},{type:"setting",category:"Rendering",settingName:"showLayoutShiftRegions",settingType:"boolean",storageType:"session",options:[{value:true,title:"Show layout shift regions"},{value:false,title:"Hide layout shift regions"}],defaultValue:false},{type:"setting",category:"Rendering",settingName:"showAdHighlights",settingType:"boolean",storageType:"session",options:[{value:true,title:"Highlight ad frames"},{value:false,title:"Do not highlight ad frames"}],defaultValue:false},{type:"setting",category:"Rendering",settingName:"showDebugBorders",settingType:"boolean",storageType:"session",options:[{value:true,title:"Show layer borders"},{value:false,title:"Hide layer borders"}],defaultValue:false},{type:"setting",category:"Rendering",settingName:"showFPSCounter",settingType:"boolean",storageType:"session",options:[{value:true,title:"Show frames per second (FPS) meter"},{value:false,title:"Hide frames per second (FPS) meter"}],defaultValue:false},{type:"setting",category:"Rendering",settingName:"showScrollBottleneckRects",settingType:"boolean",storageType:"session",options:[{value:true,title:"Show scroll performance bottlenecks"},{value:false,title:"Hide scroll performance bottlenecks"}],defaultValue:false},{type:"setting",category:"Rendering",settingName:"showHitTestBorders",settingType:"boolean",storageType:"session",options:[{value:true,title:"Show hit-test borders"},{value:false,title:"Hide hit-test borders"}],defaultValue:false},{type:"setting",category:"Rendering",settingName:"emulatedCSSMedia",settingType:"enum",storageType:"session",defaultValue:"",options:[{title:"Do not emulate CSS media type",text:"No emulation",value:""},{title:"Emulate CSS print media type",text:"print",value:"print"},{title:"Emulate CSS screen media type",text:"screen",value:"screen"}],tags:"query"},{type:"setting",category:"Console",title:"Enable custom formatters",settingName:"customFormatters",settingType:"boolean",defaultValue:false},{type:"setting",category:"Network",title:"Enable request blocking",settingName:"requestBlockingEnabled",settingType:"boolean",storageType:"session",defaultValue:false,options:[{value:true,title:"Enable request blocking"},{value:false,title:"Disable request blocking"}]},{type:"setting",category:"Network",title:"Disable cache (while DevTools is open)",settingName:"cacheDisabled",settingType:"boolean",order:0,defaultValue:false,userActionCondition:"hasOtherClients",options:[{value:true,title:"Disable cache (while DevTools is open)"},{value:false,title:"Enable cache"}]}],dependencies:["common","host","platform","protocol"]},{name:"browser_sdk",remote:false,extensions:[{type:"setting",category:"Network",title:"Preserve log",settingName:"network_log.preserve-log",settingType:"boolean",defaultValue:false,tags:"preserve, clear, reset",options:[{value:true,title:"Do not preserve log on page reload / navigation"},{value:false,title:"Preserve log on page reload / navigation"}]}],dependencies:["sdk"]},{name:"services",remote:false,extensions:[],dependencies:["common","host"]},{name:"text_utils",remote:false,extensions:[],dependencies:["platform"]},{name:"ui",remote:false,extensions:[],dependencies:["platform","dom_extension","common","host"]},{name:"workspace",remote:false,extensions:[],dependencies:["common","host","platform"]},{name:"changes",remote:false,scripts:["changes_module.js"],extensions:[{type:"view",location:"drawer-view",id:"changes.changes",title:"Changes",persistence:"closeable",className:"Changes.ChangesView"},{type:"@Common.Revealer",contextTypes:["WorkspaceDiff.DiffUILocation"],destination:"Changes drawer",className:"Changes.ChangesView.DiffUILocationRevealer"}],dependencies:["workspace_diff","text_editor","workspace","diff","bindings","persistence","snippets","ui"]},{name:"cm",remote:false,scripts:["cm_module.js"],extensions:[],dependencies:[]},{name:"cm_modes",remote:false,scripts:["cm_modes_module.js"],extensions:[{type:"@TextEditor.CodeMirrorMimeMode",className:"CmModes.DefaultCodeMirrorMimeMode",fileName:"clike.js",mimeTypes:["text/x-csrc","text/x-c","text/x-chdr","text/x-c++src","text/x-c++hdr","text/x-java","text/x-csharp","text/x-scala","x-shader/x-vertex","x-shader/x-fragment"]},{type:"@TextEditor.CodeMirrorMimeMode",className:"CmModes.DefaultCodeMirrorMimeMode",fileName:"coffeescript.js",mimeTypes:["text/x-coffeescript"]},{type:"@TextEditor.CodeMirrorMimeMode",className:"CmModes.DefaultCodeMirrorMimeMode",fileName:"markdown.js",mimeTypes:["text/markdown","text/x-markdown"]},{type:"@TextEditor.CodeMirrorMimeMode",className:"CmModes.DefaultCodeMirrorMimeMode",fileName:"php.js",dependencies:["clike.js"],mimeTypes:["application/x-httpd-php","application/x-httpd-php-open","text/x-php"]},{type:"@TextEditor.CodeMirrorMimeMode",className:"CmModes.DefaultCodeMirrorMimeMode",fileName:"python.js",mimeTypes:["text/x-python","text/x-cython"]},{type:"@TextEditor.CodeMirrorMimeMode",className:"CmModes.DefaultCodeMirrorMimeMode",fileName:"shell.js",mimeTypes:["text/x-sh"]},{type:"@TextEditor.CodeMirrorMimeMode",className:"CmModes.DefaultCodeMirrorMimeMode",fileName:"livescript.js",mimeTypes:["text/x-livescript"]},{type:"@TextEditor.CodeMirrorMimeMode",className:"CmModes.DefaultCodeMirrorMimeMode",fileName:"clojure.js",mimeTypes:["text/x-clojure"]},{type:"@TextEditor.CodeMirrorMimeMode",className:"CmModes.DefaultCodeMirrorMimeMode",fileName:"jsx.js",mimeTypes:["text/jsx","text/typescript-jsx"]},{type:"@TextEditor.CodeMirrorMimeMode",className:"CmModes.DefaultCodeMirrorMimeMode",fileName:"stylus.js",mimeTypes:["text/x-styl"]}],dependencies:["text_editor"]},{name:"color_picker",remote:false,scripts:["color_picker_module.js"],extensions:[],dependencies:["ui","sdk"]},{name:"console",remote:false,scripts:["console_module.js"],extensions:[{type:"view",location:"panel",id:"console",title:"Console",order:20,className:"Console.ConsolePanel"},{type:"view",location:"drawer-view",id:"console-view",title:"Console",persistence:"permanent",order:0,className:"Console.ConsolePanel.WrapperView"},{type:"@Common.Revealer",contextTypes:["Common.Console"],className:"Console.ConsolePanel.ConsoleRevealer"},{type:"action",actionId:"console.show",className:"Console.ConsoleView.ActionDelegate",bindings:[{shortcut:"Ctrl+`"}]},{type:"action",category:"Console",contextTypes:["Console.ConsoleView"],actionId:"console.clear",title:"Clear console",iconClass:"largeicon-clear",className:"Console.ConsoleView.ActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+L"},{platform:"mac",shortcut:"Ctrl+L Meta+K"}]},{type:"action",category:"Console",actionId:"console.clear.history",title:"Clear console history",className:"Console.ConsoleView.ActionDelegate"},{type:"action",category:"Console",actionId:"console.create-pin",iconClass:"largeicon-visibility",className:"Console.ConsoleView.ActionDelegate",title:"Create live expression"},{type:"setting",category:"Console",title:"Hide network messages",settingName:"hideNetworkMessages",settingType:"boolean",defaultValue:false,options:[{value:true,title:"Hide network messages"},{value:false,title:"Show network messages"}]},{type:"setting",category:"Console",title:"Selected context only",settingName:"selectedContextFilterEnabled",settingType:"boolean",storageType:"session",defaultValue:false,options:[{value:true,title:"Only show messages from the current context (top, iframe, worker, extension)"},{value:false,title:"Show messages from all contexts"}]},{type:"setting",category:"Console",title:"Log XMLHttpRequests",settingName:"monitoringXHREnabled",settingType:"boolean",defaultValue:false},{type:"setting",category:"Console",title:"Show timestamps",settingName:"consoleTimestampsEnabled",settingType:"boolean",defaultValue:false,options:[{value:true,title:"Show timestamps"},{value:false,title:"Hide timestamps"}]},{type:"setting",category:"Console",title:"Autocomplete from history",settingName:"consoleHistoryAutocomplete",settingType:"boolean",defaultValue:true,options:[{value:true,title:"Autocomplete from history"},{value:false,title:"Do not autocomplete from history"}]},{type:"setting",category:"Console",title:"Group similar",settingName:"consoleGroupSimilar",settingType:"boolean",defaultValue:true,options:[{value:true,title:"Group similar messages in console"},{value:false,title:"Do not group similar messages in console"}]},{type:"setting",category:"Console",title:"Eager evaluation",settingName:"consoleEagerEval",settingType:"boolean",defaultValue:true,options:[{value:true,title:"Eagerly evaluate console prompt text"},{value:false,title:"Do not eagerly evaluate console prompt text"}]},{type:"setting",category:"Console",title:"Evaluate triggers user activation",settingName:"consoleUserActivationEval",settingType:"boolean",defaultValue:true,options:[{value:true,title:"Treat evaluation as user activation"},{value:false,title:"Do not treat evaluation as user activation"}]}],dependencies:["components","data_grid","object_ui","sdk","product_registry","formatter"]},{name:"coverage",remote:false,scripts:["coverage_module.js"],extensions:[{type:"view",location:"drawer-view",id:"coverage",title:"Coverage",persistence:"closeable",className:"Coverage.CoverageView",order:100},{type:"@SourceFrame.LineDecorator",className:"Coverage.CoverageView.LineDecorator",decoratorType:"coverage"},{type:"action",actionId:"coverage.toggle-recording",iconClass:"largeicon-start-recording",toggledIconClass:"largeicon-stop-recording",toggleWithRedColor:true,className:"Coverage.CoverageView.ActionDelegate",category:"Performance",options:[{value:true,title:"Instrument coverage"},{value:false,title:"Stop instrumenting coverage and show results"}]},{type:"action",actionId:"coverage.start-with-reload",iconClass:"largeicon-refresh",className:"Coverage.CoverageView.ActionDelegate",category:"Performance",title:"Start instrumenting coverage and reload page"}],dependencies:["sdk","ui","source_frame","sources","data_grid"]},{name:"data_grid",remote:false,scripts:["data_grid_module.js"],extensions:[],dependencies:["ui"]},{name:"diff",remote:false,scripts:["diff_module.js"],extensions:[],dependencies:["common"]},{name:"event_listeners",remote:false,scripts:["event_listeners_module.js"],extensions:[],dependencies:["ui","common","components","sdk","object_ui"]},{name:"formatter",remote:false,scripts:["formatter_module.js"],extensions:[],dependencies:["common"]},{name:"heap_snapshot_model",remote:false,scripts:["heap_snapshot_model_module.js"],extensions:[],dependencies:[]},{name:"inline_editor",remote:false,scripts:["inline_editor_module.js"],extensions:[],dependencies:["ui"]},{name:"javascript_metadata",remote:false,scripts:["javascript_metadata_module.js"],extensions:[{type:"@Common.JavaScriptMetadata",className:"JavaScriptMetadata.JavaScriptMetadata"}],dependencies:["common"]},{name:"object_ui",remote:false,scripts:["object_ui_module.js"],extensions:[{type:"@UI.Renderer",contextTypes:["SDK.RemoteObject"],className:"ObjectUI.ObjectPropertiesSection.Renderer"}],dependencies:["ui","sdk","components","formatter"]},{name:"perf_ui",remote:false,scripts:["perf_ui_module.js"],extensions:[{type:"late-initialization",className:"PerfUI.LiveHeapProfile",experiment:"liveHeapProfile",setting:"memoryLiveHeapProfile"},{type:"@SourceFrame.LineDecorator",className:"PerfUI.LineLevelProfile.LineDecorator",decoratorType:"performance"},{type:"@SourceFrame.LineDecorator",className:"PerfUI.LineLevelProfile.LineDecorator",decoratorType:"memory"},{type:"setting",category:"Performance",title:"Flamechart mouse wheel action:",settingName:"flamechartMouseWheelAction",settingType:"enum",defaultValue:"zoom",options:[{title:"Scroll",text:"Scroll",value:"scroll"},{title:"Zoom",text:"Zoom",value:"zoom"}]},{type:"setting",category:"Memory",experiment:"liveHeapProfile",title:"Live memory allocation annotations",settingName:"memoryLiveHeapProfile",settingType:"boolean",defaultValue:false,options:[{value:true,title:"Show live memory allocation annotations"},{value:false,title:"Hide live memory allocation annotations"}]},{type:"action",actionId:"components.collect-garbage",title:"Collect garbage",iconClass:"largeicon-trash-bin",className:"PerfUI.GCActionDelegate"}],dependencies:["ui","sdk","bindings","source_frame","text_editor"]},{name:"profiler",remote:false,scripts:["profiler_module.js"],extensions:[{type:"view",location:"panel",id:"heap_profiler",title:"Memory",order:60,className:"Profiler.HeapProfilerPanel"},{type:"view",location:"drawer-view",id:"live_heap_profile",title:"Live Heap Profile",persistence:"closeable",className:"Profiler.LiveHeapProfileView",order:100,experiment:"liveHeapProfile"},{type:"@UI.ContextMenu.Provider",contextTypes:["SDK.RemoteObject"],className:"Profiler.HeapProfilerPanel"},{type:"setting",category:"Performance",title:"High resolution CPU profiling",settingName:"highResolutionCpuProfiling",settingType:"boolean",defaultValue:true},{type:"setting",category:"Performance",title:"Show native functions in JS Profile",settingName:"showNativeFunctionsInJSProfile",settingType:"boolean",defaultValue:true},{type:"action",actionId:"live-heap-profile.toggle-recording",iconClass:"largeicon-start-recording",toggledIconClass:"largeicon-stop-recording",toggleWithRedColor:true,className:"Profiler.LiveHeapProfileView.ActionDelegate",category:"Performance",options:[{value:true,title:"Start recording heap allocations"},{value:false,title:"Stop recording heap allocations"}]},{type:"action",actionId:"live-heap-profile.start-with-reload",iconClass:"largeicon-refresh",className:"Profiler.LiveHeapProfileView.ActionDelegate",category:"Performance",title:"Start recording heap allocations and reload the page"},{type:"action",actionId:"profiler.heap-toggle-recording",iconClass:"largeicon-start-recording",toggledIconClass:"largeicon-stop-recording",toggleWithRedColor:true,contextTypes:["Profiler.HeapProfilerPanel"],className:"Profiler.HeapProfilerPanel",bindings:[{platform:"windows,linux",shortcut:"Ctrl+E"},{platform:"mac",shortcut:"Meta+E"}]},{type:"action",actionId:"profiler.js-toggle-recording",iconClass:"largeicon-start-recording",toggledIconClass:"largeicon-stop-recording",toggleWithRedColor:true,contextTypes:["Profiler.JSProfilerPanel"],className:"Profiler.JSProfilerPanel",bindings:[{platform:"windows,linux",shortcut:"Ctrl+E"},{platform:"mac",shortcut:"Meta+E"}]}],dependencies:["components","perf_ui","data_grid","heap_snapshot_model","object_ui"]},{name:"quick_open",remote:false,scripts:["quick_open_module.js"],extensions:[{type:"@QuickOpen.FilteredListWidget.Provider",title:"Run command",prefix:">",className:"QuickOpen.CommandMenuProvider"},{type:"@QuickOpen.FilteredListWidget.Provider",prefix:"?",className:"QuickOpen.HelpQuickOpen"},{type:"action",actionId:"commandMenu.show",title:"Run command",className:"QuickOpen.CommandMenu.ShowActionDelegate",bindings:[{platform:"windows,linux",shortcut:"Ctrl+Shift+P"},{platform:"mac",shortcut:"Meta+Shift+P"}]},{type:"context-menu-item",location:"mainMenu/default",actionId:"commandMenu.show"},{type:"action",actionId:"quickOpen.show",title:"Open file",className:"QuickOpen.QuickOpen.ShowActionDelegate",order:100,bindings:[{platform:"mac",shortcut:"Meta+P Meta+O"},{platform:"windows,linux",shortcut:"Ctrl+P Ctrl+O"}]},{type:"context-menu-item",location:"mainMenu/default",actionId:"quickOpen.show"}],dependencies:["ui","diff"]},{name:"search",remote:false,scripts:["search_module.js"],extensions:[],dependencies:["components"]},{name:"settings",remote:false,scripts:["settings_module.js"],extensions:[{type:"action",category:"Settings",actionId:"settings.show",title:"Settings",className:"Settings.SettingsScreen.ActionDelegate",bindings:[{shortcut:"F1 Shift+?"}]},{type:"action",category:"Settings",actionId:"settings.documentation",title:"Documentation",className:"Settings.SettingsScreen.ActionDelegate"},{type:"action",category:"Settings",actionId:"settings.shortcuts",title:"Shortcuts",className:"Settings.SettingsScreen.ActionDelegate"},{type:"@Common.Revealer",contextTypes:["Common.Setting"],className:"Settings.SettingsScreen.Revealer"},{type:"context-menu-item",location:"mainMenu/footer",actionId:"settings.shortcuts"},{type:"context-menu-item",location:"mainMenuHelp/default",actionId:"settings.documentation"},{type:"context-menu-item",location:"mainMenu/footer",actionId:"settings.show"},{type:"view",location:"settings-view",id:"preferences",title:"Preferences",order:0,className:"Settings.GenericSettingsTab"},{type:"view",location:"settings-view",id:"experiments",title:"Experiments",order:3,experiment:"*",className:"Settings.ExperimentsSettingsTab"},{type:"view",location:"settings-view",id:"blackbox",title:"Blackboxing",order:4,className:"Settings.FrameworkBlackboxSettingsTab"},{type:"@UI.ViewLocationResolver",name:"settings-view",category:"Settings",className:"Settings.SettingsScreen"}],dependencies:["components"]},{name:"snippets",remote:false,scripts:["snippets_module.js"],extensions:[{type:"@QuickOpen.FilteredListWidget.Provider",title:"Run snippet",prefix:"!",className:"Snippets.SnippetsQuickOpen"}],dependencies:["bindings","quick_open","persistence"]},{name:"source_frame",remote:false,scripts:["source_frame_module.js"],extensions:[{type:"setting",category:"Sources",title:"Default indentation:",settingName:"textEditorIndent",settingType:"enum",defaultValue:"    ",options:[{title:"Set indentation to 2 spaces",text:"2 spaces",value:"  "},{title:"Set indentation to 4 spaces",text:"4 spaces",value:"    "},{title:"Set indentation to 8 spaces",text:"8 spaces",value:"        "},{title:"Set indentation to tab character",text:"Tab character",value:"\t"}]}],dependencies:["text_editor","ui","platform","persistence","formatter","object_ui","workspace_diff"]},{name:"sources",remote:false,scripts:["sources_module.js"],extensions:[{type:"view",location:"panel",id:"sources",title:"Sources",order:30,className:"Sources.SourcesPanel"},{type:"@UI.ContextMenu.Provider",contextTypes:["Workspace.UISourceCode","Workspace.UILocation","SDK.RemoteObject","SDK.NetworkRequest","Sources.UISourceCodeFrame"],className:"Sources.SourcesPanel"},{type:"action",category:"Debugger",actionId:"debugger.toggle-pause",iconClass:"largeicon-pause",toggledIconClass:"largeicon-resume",className:"Sources.SourcesPanel.RevealingActionDelegate",contextTypes:["Sources.SourcesView","UI.ShortcutRegistry.ForwardedShortcut"],options:[{value:true,title:"Pause script execution"},{value:false,title:"Resume script execution"}],bindings:[{platform:"windows,linux",shortcut:"F8 Ctrl+\\"},{platform:"mac",shortcut:"F8 Meta+\\"}]},{type:"action",category:"Debugger",actionId:"debugger.step-over",className:"Sources.SourcesPanel.DebuggingActionDelegate",title:"Step over next function call",iconClass:"largeicon-step-over",contextTypes:["SDK.DebuggerPausedDetails"],bindings:[{platform:"windows,linux",shortcut:"F10 Ctrl+'"},{platform:"mac",shortcut:"F10 Meta+'"}]},{type:"action",category:"Debugger",actionId:"debugger.step-into",className:"Sources.SourcesPanel.DebuggingActionDelegate",title:"Step into next function call",iconClass:"largeicon-step-into",contextTypes:["SDK.DebuggerPausedDetails"],bindings:[{platform:"windows,linux",shortcut:"F11 Ctrl+;"},{platform:"mac",shortcut:"F11 Meta+;"}]},{type:"action",category:"Debugger",actionId:"debugger.step",className:"Sources.SourcesPanel.DebuggingActionDelegate",title:"Step",iconClass:"largeicon-step",contextTypes:["SDK.DebuggerPausedDetails"],bindings:[{shortcut:"F9"}]},{type:"action",category:"Debugger",actionId:"debugger.step-out",className:"Sources.SourcesPanel.DebuggingActionDelegate",title:"Step out of current function",iconClass:"largeicon-step-out",contextTypes:["SDK.DebuggerPausedDetails"],bindings:[{platform:"windows,linux",shortcut:"Shift+F11 Shift+Ctrl+;"},{platform:"mac",shortcut:"Shift+F11 Shift+Meta+;"}]},{type:"action",actionId:"debugger.run-snippet",className:"Sources.SourcesPanel.DebuggingActionDelegate",title:"Run snippet",iconClass:"largeicon-play",contextTypes:["Sources.SourcesView"],bindings:[{platform:"windows,linux",shortcut:"Ctrl+Enter"},{platform:"mac",shortcut:"Meta+Enter"}]},{type:"action",category:"Debugger",actionId:"debugger.toggle-breakpoints-active",iconClass:"largeicon-deactivate-breakpoints",toggledIconClass:"largeicon-activate-breakpoints",className:"Sources.SourcesPanel.DebuggingActionDelegate",contextTypes:["Sources.SourcesView"],options:[{value:true,title:"Deactivate breakpoints"},{value:false,title:"Activate breakpoints"}],bindings:[{platform:"windows,linux",shortcut:"Ctrl+F8"},{platform:"mac",shortcut:"Meta+F8"}]},{type:"action",actionId:"sources.add-to-watch",className:"Sources.WatchExpressionsSidebarPane",title:"Add selected text to watches",contextTypes:["Sources.UISourceCodeFrame"],bindings:[{shortcut:"Ctrl+Shift+A"}]},{type:"@UI.ContextMenu.Provider",actionId:"sources.add-to-watch",className:"Sources.WatchExpressionsSidebarPane",title:"Add to watch",contextTypes:["ObjectUI.ObjectPropertyTreeElement"]},{type:"@UI.ContextMenu.Provider",contextTypes:["TextEditor.CodeMirrorTextEditor"],className:"Sources.WatchExpressionsSidebarPane"},{type:"@UI.ContextMenu.Provider",contextTypes:["Workspace.UISourceCode"],className:"Sources.GutterDiffPlugin.ContextMenuProvider"},{type:"action",actionId:"debugger.evaluate-selection",className:"Sources.SourcesPanel.DebuggingActionDelegate",title:"Evaluate selected text in console",contextTypes:["Sources.UISourceCodeFrame"],bindings:[{shortcut:"Ctrl+Shift+E"}]},{type:"@QuickOpen.FilteredListWidget.Provider",title:"Open file",prefix:"",className:"Sources.OpenFileQuickOpen"},{type:"@QuickOpen.FilteredListWidget.Provider",title:"Go to line",prefix:":",className:"Sources.GoToLineQuickOpen"},{type:"@QuickOpen.FilteredListWidget.Provider",title:"Go to symbol",prefix:"@",className:"Sources.OutlineQuickOpen"},{type:"context-menu-item",location:"navigatorMenu/default",actionId:"quickOpen.show"},{type:"@Common.Revealer",contextTypes:["Workspace.UILocation"],destination:"Sources panel",className:"Sources.SourcesPanel.UILocationRevealer"},{type:"@Common.Revealer",contextTypes:["SDK.DebuggerModel.Location"],destination:"Sources panel",className:"Sources.SourcesPanel.DebuggerLocationRevealer"},{type:"@Common.Revealer",contextTypes:["Workspace.UISourceCode"],destination:"Sources panel",className:"Sources.SourcesPanel.UISourceCodeRevealer"},{type:"@Common.Revealer",contextTypes:["SDK.DebuggerPausedDetails"],destination:"Sources panel",className:"Sources.SourcesPanel.DebuggerPausedDetailsRevealer"},{type:"@Sources.SourcesView.EditorAction",className:"Sources.InplaceFormatterEditorAction"},{type:"@Sources.SourcesView.EditorAction",className:"Sources.ScriptFormatterEditorAction"},{type:"view",location:"navigator-view",id:"navigator-files",title:"Filesystem",order:3,persistence:"permanent",className:"Sources.FilesNavigatorView"},{type:"view",location:"navigator-view",id:"navigator-snippets",title:"Snippets",order:6,persistence:"permanent",className:"Sources.SnippetsNavigatorView"},{type:"view",location:"drawer-view",id:"sources.search-sources-tab",title:"Search",order:7,persistence:"closeable",className:"Sources.SearchSourcesView"},{type:"@Sources.NavigatorView",viewId:"navigator-network",className:"Sources.NetworkNavigatorView"},{type:"@Sources.NavigatorView",viewId:"navigator-files",className:"Sources.FilesNavigatorView"},{type:"@Sources.NavigatorView",viewId:"navigator-snippets",className:"Sources.SnippetsNavigatorView"},{type:"action",actionId:"sources.switch-file",className:"Sources.SourcesView.SwitchFileActionDelegate",contextTypes:["Sources.SourcesView"],bindings:[{shortcut:"Alt+O"}]},{type:"action",actionId:"sources.rename",bindings:[{platform:"windows,linux",shortcut:"F2"},{platform:"mac",shortcut:"Enter"}]},{type:"setting",settingName:"navigatorGroupByFolder",settingType:"boolean",defaultValue:"true"},{type:"setting",category:"Sources",title:"Search in anonymous and content scripts",settingName:"searchInAnonymousAndContentScripts",settingType:"boolean",defaultValue:false,options:[{value:true,title:"Search in anonymous and content scripts"},{value:false,title:"Do not search in anonymous and content scripts"}]},{type:"setting",category:"Sources",title:"Automatically reveal files in sidebar",settingName:"autoRevealInNavigator",settingType:"boolean",defaultValue:false,options:[{value:true,title:"Automatically reveal files in sidebar"},{value:false,title:"Do not automatically reveal files in sidebar"}]},{type:"setting",category:"Sources",title:"Enable JavaScript source maps",settingName:"jsSourceMapsEnabled",settingType:"boolean",defaultValue:true,options:[{value:true,title:"Enable JavaScript source maps"},{value:false,title:"Disable JavaScript source maps"}]},{type:"setting",category:"Sources",title:"Enable tab moves focus",settingName:"textEditorTabMovesFocus",settingType:"boolean",defaultValue:false,options:[{value:true,title:"Enable tab moves focus"},{value:false,title:"Disable tab moves focus"}]},{type:"setting",category:"Sources",title:"Detect indentation",settingName:"textEditorAutoDetectIndent",settingType:"boolean",defaultValue:true,options:[{value:true,title:"Detect indentation"},{value:false,title:"Do not detect indentation"}]},{type:"setting",category:"Sources",title:"Autocompletion",settingName:"textEditorAutocompletion",settingType:"boolean",defaultValue:true,options:[{value:true,title:"Enable autocompletion"},{value:false,title:"Disable autocompletion"}]},{type:"setting",category:"Sources",title:"Bracket matching",settingName:"textEditorBracketMatching",settingType:"boolean",defaultValue:true,options:[{value:true,title:"Enable bracket matching"},{value:false,title:"Disable bracket matching"}]},{type:"setting",category:"Sources",title:"Code folding",settingName:"textEditorCodeFolding",settingType:"boolean",defaultValue:false,options:[{value:true,title:"Enable code folding"},{value:false,title:"Disable code folding"}]},{type:"setting",category:"Sources",title:"Show whitespace characters:",settingName:"showWhitespacesInEditor",settingType:"enum",defaultValue:"original",options:[{title:"Do not show whitespace characters",text:"None",value:"none"},{title:"Show all whitespace characters",text:"All",value:"all"},{title:"Show trailing whitespace characters",text:"Trailing",value:"trailing"}]},{type:"setting",category:"Sources",title:"Display variable values inline while debugging",settingName:"inlineVariableValues",settingType:"boolean",defaultValue:true,options:[{value:true,title:"Display variable values inline while debugging"},{value:false,title:"Do not display variable values inline while debugging"}]},{type:"setting",category:"Sources",title:"Enable CSS source maps",settingName:"cssSourceMapsEnabled",settingType:"boolean",defaultValue:true,options:[{value:true,title:"Enable CSS source maps"},{value:false,title:"Disable CSS source maps"}]},{type:"view",location:"drawer-view",id:"sources.quick",title:"Quick source",persistence:"closeable",order:1e3,className:"Sources.SourcesPanel.WrapperView"},{type:"action",category:"Sources",actionId:"sources.close-all",className:"Sources.SourcesView.ActionDelegate",title:"Close All"},{type:"action",actionId:"sources.jump-to-previous-location",className:"Sources.SourcesView.ActionDelegate",contextTypes:["Sources.SourcesView"],bindings:[{shortcut:"Alt+Minus"}]},{type:"action",actionId:"sources.jump-to-next-location",className:"Sources.SourcesView.ActionDelegate",contextTypes:["Sources.SourcesView"],bindings:[{shortcut:"Alt+Plus"}]},{type:"action",actionId:"sources.close-editor-tab",className:"Sources.SourcesView.ActionDelegate",contextTypes:["Sources.SourcesView"],bindings:[{shortcut:"Alt+w"}]},{type:"action",actionId:"sources.go-to-line",className:"Sources.SourcesView.ActionDelegate",contextTypes:["Sources.SourcesView"],bindings:[{shortcut:"Ctrl+g"}]},{type:"action",actionId:"sources.go-to-member",className:"Sources.SourcesView.ActionDelegate",contextTypes:["Sources.SourcesView"],bindings:[{platform:"windows,linux",shortcut:"Ctrl+Shift+o"},{platform:"mac",shortcut:"Meta+Shift+o"}]},{type:"action",actionId:"debugger.toggle-breakpoint",bindings:[{platform:"windows,linux",shortcut:"Ctrl+b"},{platform:"mac",shortcut:"Meta+b"}]},{type:"action",actionId:"debugger.toggle-breakpoint-enabled",bindings:[{platform:"windows,linux",shortcut:"Ctrl+Shift+b"},{platform:"mac",shortcut:"Meta+Shift+b"}]},{type:"action",actionId:"debugger.breakpoint-input-window",bindings:[{platform:"windows,linux",shortcut:"Ctrl+Alt+b"},{platform:"mac",shortcut:"Meta+Alt+b"}]},{type:"action",actionId:"sources.save",className:"Sources.SourcesView.ActionDelegate",contextTypes:["Sources.SourcesView"],bindings:[{platform:"windows,linux",shortcut:"Ctrl+s"},{platform:"mac",shortcut:"Meta+s"}]},{type:"action",actionId:"sources.save-all",className:"Sources.SourcesView.ActionDelegate",contextTypes:["Sources.SourcesView"],bindings:[{platform:"windows,linux",shortcut:"Ctrl+Shift+s"},{platform:"mac",shortcut:"Meta+Alt+s"}]},{type:"action",category:"Sources",actionId:"sources.create-snippet",className:"Sources.ActionDelegate",title:"Create new snippet"},{type:"action",category:"Sources",actionId:"sources.add-folder-to-workspace",className:"Sources.ActionDelegate",iconClass:"largeicon-add",title:"Add folder to workspace",condition:"!sources.hide_add_folder"},{type:"@UI.ToolbarItem.Provider",actionId:"sources.add-folder-to-workspace",location:"files-navigator-toolbar",showLabel:true,condition:"!sources.hide_add_folder"},{type:"@UI.ViewLocationResolver",name:"navigator-view",category:"Sources",className:"Sources.SourcesPanel"},{type:"@UI.ViewLocationResolver",name:"sources.sidebar-top",category:"Sources",className:"Sources.SourcesPanel"},{type:"@UI.ViewLocationResolver",name:"sources.sidebar-bottom",category:"Sources",className:"Sources.SourcesPanel"},{type:"@UI.ViewLocationResolver",name:"sources.sidebar-tabs",category:"Sources",className:"Sources.SourcesPanel"},{type:"view",id:"sources.threads",title:"Threads",persistence:"permanent",className:"Sources.ThreadsSidebarPane",condition:"!sources.hide_thread_sidebar"},{type:"view",id:"sources.scopeChain",title:"Scope",persistence:"permanent",className:"Sources.ScopeChainSidebarPane"},{type:"view",id:"sources.watch",title:"Watch",hasToolbar:true,persistence:"permanent",className:"Sources.WatchExpressionsSidebarPane"},{type:"view",id:"sources.jsBreakpoints",title:"Breakpoints",persistence:"permanent",className:"Sources.JavaScriptBreakpointsSidebarPane"},{type:"@UI.ContextFlavorListener",contextTypes:["SDK.DebuggerPausedDetails"],className:"Sources.JavaScriptBreakpointsSidebarPane"},{type:"@UI.ContextFlavorListener",contextTypes:["SDK.DebuggerPausedDetails"],className:"Sources.CallStackSidebarPane"},{type:"@UI.ContextFlavorListener",contextTypes:["SDK.DebuggerModel.CallFrame"],className:"Sources.ScopeChainSidebarPane"},{type:"action",category:"Debugger",actionId:"debugger.previous-call-frame",className:"Sources.CallStackSidebarPane.ActionDelegate",title:"Previous call frame",contextTypes:["SDK.DebuggerPausedDetails"],bindings:[{shortcut:"Ctrl+,"}]},{type:"action",category:"Debugger",actionId:"debugger.next-call-frame",className:"Sources.CallStackSidebarPane.ActionDelegate",title:"Next call frame",contextTypes:["SDK.DebuggerPausedDetails"],bindings:[{shortcut:"Ctrl+."}]},{type:"action",actionId:"sources.search",title:"Search",className:"Sources.SearchSourcesView.ActionDelegate",category:"DevTools",bindings:[{platform:"mac",shortcut:"Meta+Alt+F"},{platform:"windows,linux",shortcut:"Ctrl+Shift+F"}]},{type:"context-menu-item",location:"mainMenu/default",actionId:"sources.search"}],dependencies:["components","search","source_frame","snippets","extensions","persistence","quick_open","inline_editor","color_picker","event_listeners","object_ui","formatter"]},{name:"terminal",remote:false,scripts:["terminal_module.js"],extensions:[{type:"view",location:"drawer-sidebar",id:"drawer.xterm",title:"Terminal",order:10,factoryName:"Terminal.TerminalWidget"}],dependencies:["components","ui","services"],experiment:"terminalInDrawer"},{name:"text_editor",remote:false,scripts:["text_editor_module.js"],extensions:[{type:"@TextUtils.TokenizerFactory",className:"TextEditor.CodeMirrorUtils.TokenizerFactory"},{type:"@UI.TextEditorFactory",className:"TextEditor.CodeMirrorTextEditorFactory"}],dependencies:["ui","platform","common","cm"]},{name:"workspace_diff",remote:false,scripts:["workspace_diff_module.js"],extensions:[],dependencies:["workspace","diff","persistence"]},{name:"protocol_monitor",remote:false,scripts:["protocol_monitor_module.js"],extensions:[{type:"view",location:"drawer-view",id:"protocol-monitor",title:"Protocol monitor",order:100,persistence:"closeable",className:"ProtocolMonitor.ProtocolMonitor",experiment:"protocolMonitor"}],dependencies:["platform","ui","host","components","data_grid","source_frame"]}]);applicationDescriptor={modules:[{name:"ndb_sdk",type:"autostart"},{name:"ndb",type:"autostart"},{name:"layer_viewer"},{name:"timeline_model"},{name:"timeline"},{name:"product_registry"},{name:"mobile_throttling"},{name:"ndb_ui"},{name:"xterm"},{name:"bindings",type:"autostart"},{name:"common",type:"autostart"},{name:"components",type:"autostart"},{name:"console_counters",type:"autostart"},{name:"dom_extension",type:"autostart"},{name:"extensions",type:"autostart"},{name:"host",type:"autostart"},{name:"main",type:"autostart"},{name:"persistence",type:"autostart"},{name:"platform",type:"autostart"},{name:"product_registry",type:"autostart"},{name:"protocol",type:"autostart"},{name:"sdk",type:"autostart"},{name:"browser_sdk",type:"autostart"},{name:"services",type:"autostart"},{name:"text_utils",type:"autostart"},{name:"ui",type:"autostart"},{name:"workspace",type:"autostart"},{name:"changes"},{name:"cm"},{name:"cm_modes",type:"remote"},{name:"color_picker"},{name:"console"},{name:"coverage"},{name:"data_grid"},{name:"diff"},{name:"event_listeners"},{name:"formatter"},{name:"heap_snapshot_model"},{name:"inline_editor"},{name:"javascript_metadata"},{name:"object_ui"},{name:"perf_ui"},{name:"profiler"},{name:"quick_open"},{name:"search"},{name:"settings"},{name:"snippets"},{name:"source_frame"},{name:"sources"},{name:"terminal",type:"remote"},{name:"text_editor"},{name:"workspace_diff"},{name:"protocol_monitor"}],hasHtml:true};Runtime.startApplication("ndb");self["Platform"]=self["Platform"]||{};let ArrayLike;function mod(e,t){return(e%t+t)%t}String.prototype.findAll=function(e){const t=[];let n=this.indexOf(e);while(n!==-1){t.push(n);n=this.indexOf(e,n+e.length)}return t};String.prototype.reverse=function(){return this.split("").reverse().join("")};String.prototype.replaceControlCharacters=function(){return this.replace(/[\u0000-\u0008\u000b\u000c\u000e-\u001f\u0080-\u009f]/g,"�")};String.prototype.isWhitespace=function(){return/^\s*$/.test(this)};String.prototype.computeLineEndings=function(){const e=this.findAll("\n");e.push(this.length);return e};String.prototype.escapeCharacters=function(e){let t=false;for(let n=0;n<e.length;++n){if(this.indexOf(e.charAt(n))!==-1){t=true;break}}if(!t)return String(this);let n="";for(let t=0;t<this.length;++t){if(e.indexOf(this.charAt(t))!==-1)n+="\\";n+=this.charAt(t)}return n};String.regexSpecialCharacters=function(){return"^[]{}()\\.^$*+?|-,"};String.prototype.escapeForRegExp=function(){return this.escapeCharacters(String.regexSpecialCharacters())};String.filterRegex=function(e){const t=String.regexSpecialCharacters();let n="";for(let s=0;s<e.length;++s){let i=e.charAt(s);if(t.indexOf(i)!==-1)i="\\"+i;if(s)n+="[^\\0"+i+"]*";n+=i}return new RegExp(n,"i")};String.escapeInvalidUnicodeCharacters=function(e){if(!String._invalidCharactersRegExp){let e="";for(let t=65534;t<=1114111;t+=65536)e+=String.fromCodePoint(t,t+1);String._invalidCharactersRegExp=new RegExp(`[${e}\ud800-\udfff﷐-﷯]`,"gu")}let t="";let n=0;while(true){const s=String._invalidCharactersRegExp.exec(e);if(!s)break;t+=e.substring(n,s.index)+"\\u"+e.charCodeAt(s.index).toString(16);if(s.index+1<String._invalidCharactersRegExp.lastIndex)t+="\\u"+e.charCodeAt(s.index+1).toString(16);n=String._invalidCharactersRegExp.lastIndex}return t+e.substring(n)};String.prototype.escapeHTML=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};String.prototype.unescapeHTML=function(){return this.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#58;/g,":").replace(/&quot;/g,'"').replace(/&#60;/g,"<").replace(/&#62;/g,">").replace(/&amp;/g,"&")};String.prototype.collapseWhitespace=function(){return this.replace(/[\s\xA0]+/g," ")};String.prototype.trimMiddle=function(e){if(this.length<=e)return String(this);let t=e>>1;let n=e-t-1;if(this.codePointAt(this.length-n-1)>=65536){--n;++t}if(t>0&&this.codePointAt(t-1)>=65536)--t;return this.substr(0,t)+"…"+this.substr(this.length-n,n)};String.prototype.trimEnd=function(e){if(this.length<=e)return String(this);return this.substr(0,e-1)+"…"};String.prototype.trimURL=function(e){let t=this.replace(/^(https|http|file):\/\//i,"");if(e){if(t.toLowerCase().startsWith(e.toLowerCase()))t=t.substr(e.length)}return t};String.prototype.toTitleCase=function(){return this.substring(0,1).toUpperCase()+this.substring(1)};String.prototype.compareTo=function(e){if(this>e)return 1;if(this<e)return-1;return 0};String.prototype.removeURLFragment=function(){let e=this.indexOf("#");if(e===-1)e=this.length;return this.substring(0,e)};String.hashCode=function(e){if(!e)return 0;const t=(1<<30)*4-5;const n=1345575271;const s=1506996573;let i=0;let o=1;for(let r=0;r<e.length;r++){const a=e.charCodeAt(r)*s;i=(i+o*a)%t;o=o*n%t}i=(i+o*(t-1))%t;return Math.abs(i|0)};String.isDigitAt=function(e,t){const n=e.charCodeAt(t);return 48<=n&&n<=57};String.prototype.toBase64=function(){function e(e){return e<26?e+65:e<52?e+71:e<62?e-4:e===62?43:e===63?47:65}const t=new TextEncoder;const n=t.encode(this.toString());const s=n.length;let i="";if(s===0)return i;let o;let r=0;for(let t=0;t<s;t++){o=t%3;r|=n[t]<<(16>>>o&24);if(o===2){i+=String.fromCharCode(e(r>>>18&63),e(r>>>12&63),e(r>>>6&63),e(r&63));r=0}}if(o===0)i+=String.fromCharCode(e(r>>>18&63),e(r>>>12&63),61,61);else if(o===1)i+=String.fromCharCode(e(r>>>18&63),e(r>>>12&63),e(r>>>6&63),61);return i};String.naturalOrderComparator=function(e,t){const n=/^\d+|^\D+/;let s,i,o,r;while(1){if(e){if(!t)return 1}else{if(t)return-1;else return 0}s=e.match(n)[0];i=t.match(n)[0];o=!isNaN(s);r=!isNaN(i);if(o&&!r)return-1;if(r&&!o)return 1;if(o&&r){const e=s-i;if(e)return e;if(s.length!==i.length){if(!+s&&!+i)return s.length-i.length;else return i.length-s.length}}else if(s!==i){return s<i?-1:1}e=e.substring(s.length);t=t.substring(i.length)}};String.caseInsensetiveComparator=function(e,t){e=e.toUpperCase();t=t.toUpperCase();if(e===t)return 0;return e>t?1:-1};Number.constrain=function(e,t,n){if(e<t)e=t;else if(e>n)e=n;return e};Number.gcd=function(e,t){if(t===0)return e;else return Number.gcd(t,e%t)};Number.toFixedIfFloating=function(e){if(!e||isNaN(e))return e;const t=Number(e);return t%1?t.toFixed(3):String(t)};Date.prototype.isValid=function(){return!isNaN(this.getTime())};Date.prototype.toISO8601Compact=function(){function e(e){return(e>9?"":"0")+e}return this.getFullYear()+e(this.getMonth()+1)+e(this.getDate())+"T"+e(this.getHours())+e(this.getMinutes())+e(this.getSeconds())};Object.defineProperty(Array.prototype,"remove",{value:function(e,t){let n=this.indexOf(e);if(n===-1)return false;if(t){this.splice(n,1);return true}for(let t=n+1,s=this.length;t<s;++t){if(this[t]!==e)this[n++]=this[t]}this.length=n;return true}});Object.defineProperty(Array.prototype,"pushAll",{value:function(e){for(let t=0;t<e.length;++t)this.push(e[t])}});Object.defineProperty(Array.prototype,"rotate",{value:function(e){const t=[];for(let n=e;n<e+this.length;++n)t.push(this[n%this.length]);return t}});Object.defineProperty(Array.prototype,"sortNumbers",{value:function(){function e(e,t){return e-t}this.sort(e)}});Object.defineProperty(Uint32Array.prototype,"sort",{value:Array.prototype.sort});(function(){const e={value:function(e,t,n,s){function i(e,t,n){const s=e[t];e[t]=e[n];e[n]=s}const o=this[s];i(this,n,s);let r=t;for(let s=t;s<n;++s){if(e(this[s],o)<0){i(this,r,s);++r}}i(this,n,r);return r}};Object.defineProperty(Array.prototype,"partition",e);Object.defineProperty(Uint32Array.prototype,"partition",e);const t={value:function(e,t,n,s,i){function o(e,t,n,s,i,r){if(s<=n)return;const a=Math.floor(Math.random()*(s-n))+n;const l=e.partition(t,n,s,a);if(i<l)o(e,t,n,l-1,i,r);if(l<r)o(e,t,l+1,s,i,r)}if(t===0&&n===this.length-1&&s===0&&i>=n)this.sort(e);else o(this,e,t,n,s,i);return this}};Object.defineProperty(Array.prototype,"sortRange",t);Object.defineProperty(Uint32Array.prototype,"sortRange",t)})();Object.defineProperty(Array.prototype,"stableSort",{value:function(e){function t(e,t){return e<t?-1:e>t?1:0}e=e||t;const n=new Array(this.length);for(let e=0;e<this.length;++e)n[e]=e;const s=this;function i(t,n){const i=e(s[t],s[n]);return i?i:t-n}n.sort(i);for(let e=0;e<this.length;++e){if(n[e]<0||e===n[e])continue;let t=e;const s=this[e];while(true){const i=n[t];n[t]=-1;if(i===e){this[t]=s;break}else{this[t]=this[i];t=i}}}return this}});Object.defineProperty(Array.prototype,"qselect",{value:function(e,t){if(e<0||e>=this.length)return;if(!t){t=function(e,t){return e-t}}let n=0;let s=this.length-1;for(;;){const i=this.partition(t,n,s,Math.floor((s+n)/2));if(i===e)return this[e];else if(i>e)s=i-1;else n=i+1}}});Object.defineProperty(Array.prototype,"lowerBound",{value:function(e,t,n,s){function i(e,t){return e<t?-1:e>t?1:0}t=t||i;let o=n||0;let r=s!==undefined?s:this.length;while(o<r){const n=o+r>>1;if(t(e,this[n])>0)o=n+1;else r=n}return r}});Object.defineProperty(Array.prototype,"upperBound",{value:function(e,t,n,s){function i(e,t){return e<t?-1:e>t?1:0}t=t||i;let o=n||0;let r=s!==undefined?s:this.length;while(o<r){const n=o+r>>1;if(t(e,this[n])>=0)o=n+1;else r=n}return r}});Object.defineProperty(Uint32Array.prototype,"lowerBound",{value:Array.prototype.lowerBound});Object.defineProperty(Uint32Array.prototype,"upperBound",{value:Array.prototype.upperBound});Object.defineProperty(Int32Array.prototype,"lowerBound",{value:Array.prototype.lowerBound});Object.defineProperty(Int32Array.prototype,"upperBound",{value:Array.prototype.upperBound});Object.defineProperty(Float64Array.prototype,"lowerBound",{value:Array.prototype.lowerBound});Object.defineProperty(Array.prototype,"binaryIndexOf",{value:function(e,t){const n=this.lowerBound(e,t);return n<this.length&&t(e,this[n])===0?n:-1}});Object.defineProperty(Array.prototype,"select",{value:function(e){const t=new Array(this.length);for(let n=0;n<this.length;++n)t[n]=this[n][e];return t}});Object.defineProperty(Array.prototype,"peekLast",{value:function(){return this[this.length-1]}});(function(){function e(e,t,n,s){const i=[];let o=0;let r=0;while(o<e.length&&r<t.length){const a=n(e[o],t[r]);if(s||!a)i.push(a<=0?e[o]:t[r]);if(a<=0)o++;if(a>=0)r++}if(s){while(o<e.length)i.push(e[o++]);while(r<t.length)i.push(t[r++])}return i}Object.defineProperty(Array.prototype,"intersectOrdered",{value:function(t,n){return e(this,t,n,false)}});Object.defineProperty(Array.prototype,"mergeOrdered",{value:function(t,n){return e(this,t,n,true)}})})();String.sprintf=function(e,t){return String.vsprintf(e,Array.prototype.slice.call(arguments,1))};String.tokenizeFormatString=function(e,t){const n=[];function s(e){if(!e)return;if(n.length&&n[n.length-1].type==="string")n[n.length-1].value+=e;else n.push({type:"string",value:e})}function i(e,t,s){n.push({type:"specifier",specifier:e,precision:t,substitutionIndex:s})}function o(e){const t={3:"color",9:"colorLight",4:"bgColor",10:"bgColorLight"};const s=["black","red","green","yellow","blue","magenta","cyan","lightGray","","default"];const i=["darkGray","lightRed","lightGreen","lightYellow","lightBlue","lightMagenta","lightCyan","white",""];const o={color:s,colorLight:i,bgColor:s,bgColorLight:i};const r=t[Math.floor(e/10)];if(!r)return;const a=o[r][e%10];if(!a)return;n.push({type:"specifier",specifier:"c",value:{description:(r.startsWith("bg")?"background : ":"color: ")+a}})}let r=0;let a=0;const l=new RegExp(`%%|%(?:(\\d+)\\$)?(?:\\.(\\d*))?([${Object.keys(t).join("")}])|\\u001b\\[(\\d+)m`,"g");for(let t=l.exec(e);!!t;t=l.exec(e)){const n=t.index;if(n>r)s(e.substring(r,n));if(t[0]==="%%"){s("%")}else if(t[0].startsWith("%")){const[e,n,s,o]=t;if(n&&Number(n)>0)a=Number(n)-1;const r=s?Number(s):-1;i(o,r,a);++a}else{const e=Number(t[4]);o(e)}r=n+t[0].length}s(e.substring(r));return n};String.standardFormatters={d:function(e){return!isNaN(e)?e:0},f:function(e,t){if(e&&t.precision>-1)e=e.toFixed(t.precision);return!isNaN(e)?e:t.precision>-1?Number(0).toFixed(t.precision):0},s:function(e){return e}};String.vsprintf=function(e,t){return String.format(e,t,String.standardFormatters,"",function(e,t){return e+t}).formattedResult};String.format=function(e,t,n,s,i,o){if(!e||(!t||!t.length)&&e.search(/\u001b\[(\d+)m/)===-1)return{formattedResult:i(s,e),unusedSubstitutions:t};function r(){return'String.format("'+e+'", "'+Array.prototype.join.call(t,'", "')+'")'}function a(e){console.warn(r()+": "+e)}function l(e){console.error(r()+": "+e)}let c=s;const d=o||String.tokenizeFormatString(e,n);const h={};for(let e=0;e<d.length;++e){const s=d[e];if(s.type==="string"){c=i(c,s.value);continue}if(s.type!=="specifier"){l('Unknown token type "'+s.type+'" found.');continue}if(!s.value&&s.substitutionIndex>=t.length){l("not enough substitution arguments. Had "+t.length+" but needed "+(s.substitutionIndex+1)+", so substitution was skipped.");c=i(c,"%"+(s.precision>-1?s.precision:"")+s.specifier);continue}if(!s.value)h[s.substitutionIndex]=true;if(!(s.specifier in n)){a("unsupported format character “"+s.specifier+"”. Treating as a string.");c=i(c,s.value?"":t[s.substitutionIndex]);continue}c=i(c,n[s.specifier](s.value||t[s.substitutionIndex],s))}const u=[];for(let e=0;e<t.length;++e){if(e in h)continue;u.push(t[e])}return{formattedResult:c,unusedSubstitutions:u}};function createSearchRegex(e,t,n){const s=t?"g":"gi";let i;if(n){try{i=new RegExp(e,s)}catch(e){}}if(!i)i=createPlainTextSearchRegex(e,s);return i}function createPlainTextSearchRegex(e,t){const n=String.regexSpecialCharacters();let s="";for(let t=0;t<e.length;++t){const i=e.charAt(t);if(n.indexOf(i)!==-1)s+="\\";s+=i}return new RegExp(s,t||"")}function countRegexMatches(e,t){let n=t;let s=0;let i;while(n&&(i=e.exec(n))){if(i[0].length>0)++s;n=n.substring(i.index+1)}return s}function spacesPadding(e){return" ".repeat(e)}function numberToStringWithSpacesPadding(e,t){const n=e.toString();const s=Math.max(0,t-n.length);return spacesPadding(s)+n}Set.prototype.valuesArray=function(){return Array.from(this.values())};Set.prototype.firstValue=function(){if(!this.size)return null;return this.values().next().value};Set.prototype.addAll=function(e){for(const t of e)this.add(t)};Set.prototype.containsAll=function(e){for(const t of e){if(!this.has(t))return false}return true};Map.prototype.remove=function(e){const t=this.get(e);this.delete(e);return t};Map.prototype.valuesArray=function(){return Array.from(this.values())};Map.prototype.keysArray=function(){return Array.from(this.keys())};Map.prototype.inverse=function(){const e=new Multimap;for(const t of this.keys()){const n=this.get(t);e.set(n,t)}return e};var Multimap=function(){this._map=new Map};Multimap.prototype={set:function(e,t){let n=this._map.get(e);if(!n){n=new Set;this._map.set(e,n)}n.add(t)},get:function(e){return this._map.get(e)||new Set},has:function(e){return this._map.has(e)},hasValue:function(e,t){const n=this._map.get(e);if(!n)return false;return n.has(t)},get size(){return this._map.size},delete:function(e,t){const n=this.get(e);if(!n)return false;const s=n.delete(t);if(!n.size)this._map.delete(e);return s},deleteAll:function(e){this._map.delete(e)},keysArray:function(){return this._map.keysArray()},valuesArray:function(){const e=[];const t=this.keysArray();for(let n=0;n<t.length;++n)e.pushAll(this.get(t[n]).valuesArray());return e},clear:function(){this._map.clear()}};function loadXHR(e){return new Promise(t);function t(t,n){function s(){if(i.readyState!==XMLHttpRequest.DONE)return;if(i.status!==200){i.onreadystatechange=null;n(new Error(i.status));return}i.onreadystatechange=null;t(i.responseText)}const i=new XMLHttpRequest;i.withCredentials=false;i.open("GET",e,true);i.onreadystatechange=s;i.send(null)}}function suppressUnused(e){}self.setImmediate=function(e){const t=[...arguments].slice(1);Promise.resolve().then(()=>e(...t));return 0};Promise.prototype.spread=function(e){return this.then(t);function t(t){return e.apply(null,t)}};Promise.prototype.catchException=function(e){return this.catch(function(t){console.error(t);return e})};Map.prototype.diff=function(e,t){const n=this.keysArray();const s=e.keysArray();n.sort((e,t)=>e-t);s.sort((e,t)=>e-t);const i=[];const o=[];const r=[];let a=0;let l=0;while(a<n.length&&l<s.length){const c=n[a];const d=s[l];if(c===d&&t(this.get(c),e.get(d))){r.push(this.get(c));++a;++l;continue}if(c<=d){i.push(this.get(c));++a;continue}o.push(e.get(d));++l}while(a<n.length){const e=n[a++];i.push(this.get(e))}while(l<s.length){const t=s[l++];o.push(e.get(t))}return{added:o,removed:i,equal:r}};function runOnWindowLoad(e){function t(){self.removeEventListener("DOMContentLoaded",t,false);e()}if(document.readyState==="complete"||document.readyState==="interactive")e();else self.addEventListener("DOMContentLoaded",t,false)}const _singletonSymbol=Symbol("singleton");function singleton(e){if(_singletonSymbol in e)return e[_singletonSymbol];const t=new e;e[_singletonSymbol]=t;return t}function base64ToSize(e){if(!e)return 0;let t=e.length*3/4;if(e[e.length-1]==="=")t--;if(e.length>1&&e[e.length-2]==="=")t--;return t}self["TextUtils"]=self["TextUtils"]||{};TextUtils.Text=class{constructor(e){this._value=e}lineEndings(){if(!this._lineEndings)this._lineEndings=this._value.computeLineEndings();return this._lineEndings}value(){return this._value}lineCount(){const e=this.lineEndings();return e.length}offsetFromPosition(e,t){return(e?this.lineEndings()[e-1]+1:0)+t}positionFromOffset(e){const t=this.lineEndings();const n=t.lowerBound(e);return{lineNumber:n,columnNumber:e-(n&&t[n-1]+1)}}lineAt(e){const t=this.lineEndings();const n=e>0?t[e-1]+1:0;const s=t[e];let i=this._value.substring(n,s);if(i.length>0&&i.charAt(i.length-1)==="\r")i=i.substring(0,i.length-1);return i}toSourceRange(e){const t=this.offsetFromPosition(e.startLine,e.startColumn);const n=this.offsetFromPosition(e.endLine,e.endColumn);return new TextUtils.SourceRange(t,n-t)}toTextRange(e){const t=new TextUtils.TextCursor(this.lineEndings());const n=TextUtils.TextRange.createFromLocation(0,0);t.resetTo(e.offset);n.startLine=t.lineNumber();n.startColumn=t.columnNumber();t.advance(e.offset+e.length);n.endLine=t.lineNumber();n.endColumn=t.columnNumber();return n}replaceRange(e,t){const n=this.toSourceRange(e);return this._value.substring(0,n.offset)+t+this._value.substring(n.offset+n.length)}extract(e){const t=this.toSourceRange(e);return this._value.substr(t.offset,t.length)}};TextUtils.Text.Position;TextUtils.TextCursor=class{constructor(e){this._lineEndings=e;this._offset=0;this._lineNumber=0;this._columnNumber=0}advance(e){this._offset=e;while(this._lineNumber<this._lineEndings.length&&this._lineEndings[this._lineNumber]<this._offset)++this._lineNumber;this._columnNumber=this._lineNumber?this._offset-this._lineEndings[this._lineNumber-1]-1:this._offset}offset(){return this._offset}resetTo(e){this._offset=e;this._lineNumber=this._lineEndings.lowerBound(e);this._columnNumber=this._lineNumber?this._offset-this._lineEndings[this._lineNumber-1]-1:this._offset}lineNumber(){return this._lineNumber}columnNumber(){return this._columnNumber}};TextUtils.TextUtils={isStopChar:function(e){return e>" "&&e<"0"||e>"9"&&e<"A"||e>"Z"&&e<"_"||e>"_"&&e<"a"||e>"z"&&e<="~"},isWordChar:function(e){return!TextUtils.TextUtils.isStopChar(e)&&!TextUtils.TextUtils.isSpaceChar(e)},isSpaceChar:function(e){return TextUtils.TextUtils._SpaceCharRegex.test(e)},isWord:function(e){for(let t=0;t<e.length;++t){if(!TextUtils.TextUtils.isWordChar(e.charAt(t)))return false}return true},isOpeningBraceChar:function(e){return e==="("||e==="{"},isClosingBraceChar:function(e){return e===")"||e==="}"},isBraceChar:function(e){return TextUtils.TextUtils.isOpeningBraceChar(e)||TextUtils.TextUtils.isClosingBraceChar(e)},textToWords:function(e,t,n){let s=-1;for(let i=0;i<e.length;++i){if(!t(e.charAt(i))){if(s!==-1)n(e.substring(s,i));s=-1}else if(s===-1){s=i}}if(s!==-1)n(e.substring(s))},lineIndent:function(e){let t=0;while(t<e.length&&TextUtils.TextUtils.isSpaceChar(e.charAt(t)))++t;return e.substr(0,t)},isUpperCase:function(e){return e===e.toUpperCase()},isLowerCase:function(e){return e===e.toLowerCase()},splitStringByRegexes(e,t){const n=[];const s=[];for(let e=0;e<t.length;e++){const n=t[e];if(!n.global)s.push(new RegExp(n.source,n.flags?n.flags+"g":"g"));else s.push(n)}i(e,0,0);return n;function i(e,t,o){if(t>=s.length){n.push({value:e,position:o,regexIndex:-1,captureGroups:[]});return}const r=s[t];let a=0;let l;r.lastIndex=0;while((l=r.exec(e))!==null){const s=e.substring(a,l.index);if(s)i(s,t+1,o+a);const r=l[0];n.push({value:r,position:o+l.index,regexIndex:t,captureGroups:l.slice(1)});a=l.index+r.length}const c=e.substring(a);if(c)i(c,t+1,o+a)}}};TextUtils.FilterParser=class{constructor(e){this._keys=e}static cloneFilter(e){return{key:e.key,text:e.text,regex:e.regex,negative:e.negative}}parse(e){const t=TextUtils.TextUtils.splitStringByRegexes(e,[TextUtils.TextUtils._keyValueFilterRegex,TextUtils.TextUtils._regexFilterRegex,TextUtils.TextUtils._textFilterRegex]);const n=[];for(let e=0;e<t.length;e++){const s=t[e].regexIndex;if(s===-1)continue;const i=t[e].captureGroups;if(s===0){if(this._keys.indexOf(i[1])!==-1)n.push({key:i[1],text:i[2],negative:!!i[0]});else n.push({text:i[1]+":"+i[2],negative:!!i[0]})}else if(s===1){try{n.push({regex:new RegExp(i[1],"i"),negative:!!i[0]})}catch(e){n.push({text:"/"+i[1]+"/",negative:!!i[0]})}}else if(s===2){n.push({text:i[1],negative:!!i[0]})}}return n}};TextUtils.FilterParser.ParsedFilter;TextUtils.TextUtils._keyValueFilterRegex=/(?:^|\s)(\-)?([\w\-]+):([^\s]+)/;TextUtils.TextUtils._regexFilterRegex=/(?:^|\s)(\-)?\/([^\s]+)\//;TextUtils.TextUtils._textFilterRegex=/(?:^|\s)(\-)?([^\s]+)/;TextUtils.TextUtils._SpaceCharRegex=/\s/;TextUtils.TextUtils.Indent={TwoSpaces:"  ",FourSpaces:"    ",EightSpaces:"        ",TabCharacter:"\t"};TextUtils.TextUtils.BalancedJSONTokenizer=class{constructor(e,t){this._callback=e;this._index=0;this._balance=0;this._buffer="";this._findMultiple=t||false;this._closingDoubleQuoteRegex=/[^\\](?:\\\\)*"/g}write(e){this._buffer+=e;const t=this._buffer.length;const n=this._buffer;let s;for(s=this._index;s<t;++s){const e=n[s];if(e==='"'){this._closingDoubleQuoteRegex.lastIndex=s;if(!this._closingDoubleQuoteRegex.test(n))break;s=this._closingDoubleQuoteRegex.lastIndex-1}else if(e==="{"){++this._balance}else if(e==="}"){--this._balance;if(this._balance<0){this._reportBalanced();return false}if(!this._balance){this._lastBalancedIndex=s+1;if(!this._findMultiple)break}}else if(e==="]"&&!this._balance){this._reportBalanced();return false}}this._index=s;this._reportBalanced();return true}_reportBalanced(){if(!this._lastBalancedIndex)return;this._callback(this._buffer.slice(0,this._lastBalancedIndex));this._buffer=this._buffer.slice(this._lastBalancedIndex);this._index-=this._lastBalancedIndex;this._lastBalancedIndex=0}remainder(){return this._buffer}};TextUtils.TokenizerFactory=function(){};TextUtils.TokenizerFactory.prototype={createTokenizer(e){}};TextUtils.isMinified=function(e){const t=500;let n=10;let s=0;do{let n=e.indexOf("\n",s);if(n<0)n=e.length;if(n-s>t&&e.substr(s,3)!=="//#")return true;s=n+1}while(--n>=0&&s<e.length);n=10;s=e.length;do{let n=e.lastIndexOf("\n",s);if(n<0)n=0;if(s-n>t&&e.substr(s,3)!=="//#")return true;s=n-1}while(--n>=0&&s>0);return false};TextUtils.TextRange=class{constructor(e,t,n,s){this.startLine=e;this.startColumn=t;this.endLine=n;this.endColumn=s}static createFromLocation(e,t){return new TextUtils.TextRange(e,t,e,t)}static fromObject(e){return new TextUtils.TextRange(e.startLine,e.startColumn,e.endLine,e.endColumn)}static comparator(e,t){return e.compareTo(t)}static fromEdit(e,t){let n=e.startLine;let s=e.startColumn+t.length;const i=t.computeLineEndings();if(i.length>1){n=e.startLine+i.length-1;const t=i.length;s=i[t-1]-i[t-2]-1}return new TextUtils.TextRange(e.startLine,e.startColumn,n,s)}isEmpty(){return this.startLine===this.endLine&&this.startColumn===this.endColumn}immediatelyPrecedes(e){if(!e)return false;return this.endLine===e.startLine&&this.endColumn===e.startColumn}immediatelyFollows(e){if(!e)return false;return e.immediatelyPrecedes(this)}follows(e){return e.endLine===this.startLine&&e.endColumn<=this.startColumn||e.endLine<this.startLine}get linesCount(){return this.endLine-this.startLine}collapseToEnd(){return new TextUtils.TextRange(this.endLine,this.endColumn,this.endLine,this.endColumn)}collapseToStart(){return new TextUtils.TextRange(this.startLine,this.startColumn,this.startLine,this.startColumn)}normalize(){if(this.startLine>this.endLine||this.startLine===this.endLine&&this.startColumn>this.endColumn)return new TextUtils.TextRange(this.endLine,this.endColumn,this.startLine,this.startColumn);else return this.clone()}clone(){return new TextUtils.TextRange(this.startLine,this.startColumn,this.endLine,this.endColumn)}serializeToObject(){const e={};e.startLine=this.startLine;e.startColumn=this.startColumn;e.endLine=this.endLine;e.endColumn=this.endColumn;return e}compareTo(e){if(this.startLine>e.startLine)return 1;if(this.startLine<e.startLine)return-1;if(this.startColumn>e.startColumn)return 1;if(this.startColumn<e.startColumn)return-1;return 0}compareToPosition(e,t){if(e<this.startLine||e===this.startLine&&t<this.startColumn)return-1;if(e>this.endLine||e===this.endLine&&t>this.endColumn)return 1;return 0}equal(e){return this.startLine===e.startLine&&this.endLine===e.endLine&&this.startColumn===e.startColumn&&this.endColumn===e.endColumn}relativeTo(e,t){const n=this.clone();if(this.startLine===e)n.startColumn-=t;if(this.endLine===e)n.endColumn-=t;n.startLine-=e;n.endLine-=e;return n}relativeFrom(e,t){const n=this.clone();if(this.startLine===0)n.startColumn+=t;if(this.endLine===0)n.endColumn+=t;n.startLine+=e;n.endLine+=e;return n}rebaseAfterTextEdit(e,t){console.assert(e.startLine===t.startLine);console.assert(e.startColumn===t.startColumn);const n=this.clone();if(!this.follows(e))return n;const s=t.endLine-e.endLine;const i=t.endColumn-e.endColumn;n.startLine+=s;n.endLine+=s;if(n.startLine===t.endLine)n.startColumn+=i;if(n.endLine===t.endLine)n.endColumn+=i;return n}toString(){return JSON.stringify(this)}containsLocation(e,t){if(this.startLine===this.endLine)return this.startLine===e&&this.startColumn<=t&&t<=this.endColumn;if(this.startLine===e)return this.startColumn<=t;if(this.endLine===e)return t<=this.endColumn;return this.startLine<e&&e<this.endLine}};TextUtils.SourceRange=class{constructor(e,t){this.offset=e;this.length=t}};TextUtils.SourceEdit=class{constructor(e,t,n){this.sourceURL=e;this.oldRange=t;this.newText=n}static comparator(e,t){return TextUtils.TextRange.comparator(e.oldRange,t.oldRange)}newRange(){return TextUtils.TextRange.fromEdit(this.oldRange,this.newText)}};self["Common"]=self["Common"]||{};Common.Worker=class{constructor(e){let t=e+".js";t+=Runtime.queryParamsString();this._workerPromise=new Promise(e=>{this._worker=new Worker(t);this._worker.onmessage=n.bind(this);function n(t){console.assert(t.data==="workerReady");this._worker.onmessage=null;e(this._worker);this._worker=null}})}postMessage(e){this._workerPromise.then(t=>{if(!this._disposed)t.postMessage(e)})}dispose(){this._disposed=true;this._workerPromise.then(e=>e.terminate())}terminate(){this.dispose()}set onmessage(e){this._workerPromise.then(t=>t.onmessage=e)}set onerror(e){this._workerPromise.then(t=>t.onerror=e)}};Common.TextDictionary=class{constructor(){this._words=new Map;this._index=new Common.Trie}addWord(e){let t=this._words.get(e)||0;++t;this._words.set(e,t);this._index.add(e)}removeWord(e){let t=this._words.get(e)||0;if(!t)return;if(t===1){this._words.delete(e);this._index.remove(e);return}--t;this._words.set(e,t)}wordsWithPrefix(e){return this._index.words(e)}hasWord(e){return this._words.has(e)}wordCount(e){return this._words.get(e)||0}reset(){this._words.clear();this._index.clear()}};Common.Object=class{constructor(){this._listeners}addEventListener(e,t,n){if(!t)console.assert(false);if(!this._listeners)this._listeners=new Map;if(!this._listeners.has(e))this._listeners.set(e,[]);this._listeners.get(e).push({thisObject:n,listener:t});return{eventTarget:this,eventType:e,thisObject:n,listener:t}}once(e){return new Promise(t=>{const n=this.addEventListener(e,s=>{this.removeEventListener(e,n.listener);t(s.data)})})}removeEventListener(e,t,n){console.assert(t);if(!this._listeners||!this._listeners.has(e))return;const s=this._listeners.get(e);for(let e=0;e<s.length;++e){if(s[e].listener===t&&s[e].thisObject===n){s[e].disposed=true;s.splice(e--,1)}}if(!s.length)this._listeners.delete(e)}hasEventListeners(e){return!!(this._listeners&&this._listeners.has(e))}dispatchEventToListeners(e,t){if(!this._listeners||!this._listeners.has(e))return;const n={data:t};const s=this._listeners.get(e).slice(0);for(let e=0;e<s.length;++e){if(!s[e].disposed)s[e].listener.call(s[e].thisObject,n)}}};Common.Event;Common.Object._listenerCallbackTuple;Common.EventTarget=function(){};Common.EventTarget.EventDescriptor;Common.EventTarget.removeEventListeners=function(e){for(const t of e)t.eventTarget.removeEventListener(t.eventType,t.listener,t.thisObject);e.splice(0)};Common.EventTarget.prototype={addEventListener(e,t,n){},once(e){},removeEventListener(e,t,n){},hasEventListeners(e){},dispatchEventToListeners(e,t){}};Common.Color=class{constructor(e,t,n){this._rgba=e;this._originalText=n||null;this._originalTextIsValid=!!this._originalText;this._format=t;if(typeof this._rgba[3]==="undefined")this._rgba[3]=1;for(let e=0;e<4;++e){if(this._rgba[e]<0){this._rgba[e]=0;this._originalTextIsValid=false}if(this._rgba[e]>1){this._rgba[e]=1;this._originalTextIsValid=false}}}static parse(e){const t=e.toLowerCase().replace(/\s+/g,"");const n=/^(?:#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})|(\w+))$/i;let s=t.match(n);if(s){if(s[1]){let t=s[1].toLowerCase();let n;if(t.length===3){n=Common.Color.Format.ShortHEX;t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)}else if(t.length===4){n=Common.Color.Format.ShortHEXA;t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)}else if(t.length===6){n=Common.Color.Format.HEX}else{n=Common.Color.Format.HEXA}const i=parseInt(t.substring(0,2),16);const o=parseInt(t.substring(2,4),16);const r=parseInt(t.substring(4,6),16);let a=1;if(t.length===8)a=parseInt(t.substring(6,8),16)/255;return new Common.Color([i/255,o/255,r/255,a],n,e)}if(s[2]){const t=s[2].toLowerCase();if(t in Common.Color.Nicknames){const n=Common.Color.Nicknames[t];const s=Common.Color.fromRGBA(n);s._format=Common.Color.Format.Nickname;s._originalText=e;return s}return null}return null}s=e.toLowerCase().match(/^\s*(?:(rgba?)|(hsla?))\((.*)\)\s*$/);if(s){const t=s[3].trim();let n=t.split(/\s*,\s*/);if(n.length===1){n=t.split(/\s+/);if(n[3]==="/"){n.splice(3,1);if(n.length!==4)return null}else if(n.length>2&&n[2].indexOf("/")!==-1||n.length>3&&n[3].indexOf("/")!==-1){const e=n.slice(2,4).join("");n=n.slice(0,2).concat(e.split(/\//)).concat(n.slice(4))}else if(n.length>=4){return null}}if(n.length!==3&&n.length!==4||n.indexOf("")>-1)return null;const i=n[3]!==undefined;if(s[1]){const t=[Common.Color._parseRgbNumeric(n[0]),Common.Color._parseRgbNumeric(n[1]),Common.Color._parseRgbNumeric(n[2]),i?Common.Color._parseAlphaNumeric(n[3]):1];if(t.indexOf(null)>-1)return null;return new Common.Color(t,i?Common.Color.Format.RGBA:Common.Color.Format.RGB,e)}if(s[2]){const t=[Common.Color._parseHueNumeric(n[0]),Common.Color._parseSatLightNumeric(n[1]),Common.Color._parseSatLightNumeric(n[2]),i?Common.Color._parseAlphaNumeric(n[3]):1];if(t.indexOf(null)>-1)return null;const s=[];Common.Color.hsl2rgb(t,s);return new Common.Color(s,i?Common.Color.Format.HSLA:Common.Color.Format.HSL,e)}}return null}static fromRGBA(e){return new Common.Color([e[0]/255,e[1]/255,e[2]/255,e[3]],Common.Color.Format.RGBA)}static fromHSVA(e){const t=[];Common.Color.hsva2rgba(e,t);return new Common.Color(t,Common.Color.Format.HSLA)}static _parsePercentOrNumber(e){if(isNaN(e.replace("%","")))return null;const t=parseFloat(e);if(e.indexOf("%")!==-1){if(e.indexOf("%")!==e.length-1)return null;return t/100}return t}static _parseRgbNumeric(e){const t=Common.Color._parsePercentOrNumber(e);if(t===null)return null;if(e.indexOf("%")!==-1)return t;return t/255}static _parseHueNumeric(e){const t=e.replace(/(deg|g?rad|turn)$/,"");if(isNaN(t)||e.match(/\s+(deg|g?rad|turn)/))return null;const n=parseFloat(t);if(e.indexOf("turn")!==-1)return n%1;else if(e.indexOf("grad")!==-1)return n/400%1;else if(e.indexOf("rad")!==-1)return n/(2*Math.PI)%1;return n/360%1}static _parseSatLightNumeric(e){if(e.indexOf("%")!==e.length-1||isNaN(e.replace("%","")))return null;const t=parseFloat(e);return Math.min(1,t/100)}static _parseAlphaNumeric(e){return Common.Color._parsePercentOrNumber(e)}static _hsva2hsla(e,t){const n=e[0];let s=e[1];const i=e[2];const o=(2-s)*i;if(i===0||s===0)s=0;else s*=i/(o<1?o:2-o);t[0]=n;t[1]=s;t[2]=o/2;t[3]=e[3]}static hsl2rgb(e,t){const n=e[0];let s=e[1];const i=e[2];function o(e,t,n){if(n<0)n+=1;else if(n>1)n-=1;if(n*6<1)return e+(t-e)*n*6;else if(n*2<1)return t;else if(n*3<2)return e+(t-e)*(2/3-n)*6;else return e}if(s<0)s=0;let r;if(i<=.5)r=i*(1+s);else r=i+s-i*s;const a=2*i-r;const l=n+1/3;const c=n;const d=n-1/3;t[0]=o(a,r,l);t[1]=o(a,r,c);t[2]=o(a,r,d);t[3]=e[3]}static hsva2rgba(e,t){Common.Color._hsva2hsla(e,Common.Color.hsva2rgba._tmpHSLA);Common.Color.hsl2rgb(Common.Color.hsva2rgba._tmpHSLA,t);for(let e=0;e<Common.Color.hsva2rgba._tmpHSLA.length;e++)Common.Color.hsva2rgba._tmpHSLA[e]=0}static luminance(e){const t=e[0];const n=e[1];const s=e[2];const i=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4);const o=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4);const r=s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4);return.2126*i+.7152*o+.0722*r}static blendColors(e,t,n){const s=e[3];n[0]=(1-s)*t[0]+s*e[0];n[1]=(1-s)*t[1]+s*e[1];n[2]=(1-s)*t[2]+s*e[2];n[3]=s+t[3]*(1-s)}static calculateContrastRatio(e,t){Common.Color.blendColors(e,t,Common.Color.calculateContrastRatio._blendedFg);const n=Common.Color.luminance(Common.Color.calculateContrastRatio._blendedFg);const s=Common.Color.luminance(t);const i=(Math.max(n,s)+.05)/(Math.min(n,s)+.05);for(let e=0;e<Common.Color.calculateContrastRatio._blendedFg.length;e++)Common.Color.calculateContrastRatio._blendedFg[e]=0;return i}static desiredLuminance(e,t,n){function s(){if(n)return(e+.05)*t-.05;else return(e+.05)/t-.05}let i=s();if(i<0||i>1){n=!n;i=s()}return i}static detectColorFormat(e){const t=Common.Color.Format;let n;const s=Common.moduleSetting("colorFormat").get();if(s===t.Original)n=t.Original;else if(s===t.RGB)n=e.hasAlpha()?t.RGBA:t.RGB;else if(s===t.HSL)n=e.hasAlpha()?t.HSLA:t.HSL;else if(s===t.HEX)n=e.detectHEXFormat();else n=t.RGBA;return n}format(){return this._format}hsla(){if(this._hsla)return this._hsla;const e=this._rgba[0];const t=this._rgba[1];const n=this._rgba[2];const s=Math.max(e,t,n);const i=Math.min(e,t,n);const o=s-i;const r=s+i;let a;if(i===s)a=0;else if(e===s)a=(1/6*(t-n)/o+1)%1;else if(t===s)a=1/6*(n-e)/o+1/3;else a=1/6*(e-t)/o+2/3;const l=.5*r;let c;if(l===0)c=0;else if(l===1)c=0;else if(l<=.5)c=o/r;else c=o/(2-r);this._hsla=[a,c,l,this._rgba[3]];return this._hsla}canonicalHSLA(){const e=this.hsla();return[Math.round(e[0]*360),Math.round(e[1]*100),Math.round(e[2]*100),e[3]]}hsva(){const e=this.hsla();const t=e[0];let n=e[1];const s=e[2];n*=s<.5?s:1-s;return[t,n!==0?2*n/(s+n):0,s+n,e[3]]}hasAlpha(){return this._rgba[3]!==1}detectHEXFormat(){let e=true;for(let t=0;t<4;++t){const n=Math.round(this._rgba[t]*255);if(n%17){e=false;break}}const t=this.hasAlpha();const n=Common.Color.Format;if(e)return t?n.ShortHEXA:n.ShortHEX;return t?n.HEXA:n.HEX}asString(e){if(e===this._format&&this._originalTextIsValid)return this._originalText;if(!e)e=this._format;function t(e){return Math.round(e*255)}function n(e){const t=Math.round(e*255).toString(16);return t.length===1?"0"+t:t}function s(e){return(Math.round(e*255)/17).toString(16)}switch(e){case Common.Color.Format.Original:return this._originalText;case Common.Color.Format.RGB:if(this.hasAlpha())return null;return String.sprintf("rgb(%d, %d, %d)",t(this._rgba[0]),t(this._rgba[1]),t(this._rgba[2]));case Common.Color.Format.RGBA:return String.sprintf("rgba(%d, %d, %d, %f)",t(this._rgba[0]),t(this._rgba[1]),t(this._rgba[2]),this._rgba[3]);case Common.Color.Format.HSL:if(this.hasAlpha())return null;const i=this.hsla();return String.sprintf("hsl(%d, %d%, %d%)",Math.round(i[0]*360),Math.round(i[1]*100),Math.round(i[2]*100));case Common.Color.Format.HSLA:const o=this.hsla();return String.sprintf("hsla(%d, %d%, %d%, %f)",Math.round(o[0]*360),Math.round(o[1]*100),Math.round(o[2]*100),o[3]);case Common.Color.Format.HEXA:return String.sprintf("#%s%s%s%s",n(this._rgba[0]),n(this._rgba[1]),n(this._rgba[2]),n(this._rgba[3])).toLowerCase();case Common.Color.Format.HEX:if(this.hasAlpha())return null;return String.sprintf("#%s%s%s",n(this._rgba[0]),n(this._rgba[1]),n(this._rgba[2])).toLowerCase();case Common.Color.Format.ShortHEXA:const r=this.detectHEXFormat();if(r!==Common.Color.Format.ShortHEXA&&r!==Common.Color.Format.ShortHEX)return null;return String.sprintf("#%s%s%s%s",s(this._rgba[0]),s(this._rgba[1]),s(this._rgba[2]),s(this._rgba[3])).toLowerCase();case Common.Color.Format.ShortHEX:if(this.hasAlpha())return null;if(this.detectHEXFormat()!==Common.Color.Format.ShortHEX)return null;return String.sprintf("#%s%s%s",s(this._rgba[0]),s(this._rgba[1]),s(this._rgba[2])).toLowerCase();case Common.Color.Format.Nickname:return this.nickname()}return this._originalText}rgba(){return this._rgba.slice()}canonicalRGBA(){const e=new Array(4);for(let t=0;t<3;++t)e[t]=Math.round(this._rgba[t]*255);e[3]=this._rgba[3];return e}nickname(){if(!Common.Color._rgbaToNickname){Common.Color._rgbaToNickname={};for(const e in Common.Color.Nicknames){let t=Common.Color.Nicknames[e];if(t.length!==4)t=t.concat(1);Common.Color._rgbaToNickname[t]=e}}return Common.Color._rgbaToNickname[this.canonicalRGBA()]||null}toProtocolRGBA(){const e=this.canonicalRGBA();const t={r:e[0],g:e[1],b:e[2]};if(e[3]!==1)t.a=e[3];return t}invert(){const e=[];e[0]=1-this._rgba[0];e[1]=1-this._rgba[1];e[2]=1-this._rgba[2];e[3]=this._rgba[3];return new Common.Color(e,Common.Color.Format.RGBA)}setAlpha(e){const t=this._rgba.slice();t[3]=e;return new Common.Color(t,Common.Color.Format.RGBA)}blendWith(e){const t=[];Common.Color.blendColors(e._rgba,this._rgba,t);return new Common.Color(t,Common.Color.Format.RGBA)}};Common.Color.Regex=/((?:rgb|hsl)a?\([^)]+\)|#[0-9a-fA-F]{8}|#[0-9a-fA-F]{6}|#[0-9a-fA-F]{3,4}|\b[a-zA-Z]+\b(?!-))/g;Common.Color.Format={Original:"original",Nickname:"nickname",HEX:"hex",ShortHEX:"shorthex",HEXA:"hexa",ShortHEXA:"shorthexa",RGB:"rgb",RGBA:"rgba",HSL:"hsl",HSLA:"hsla"};Common.Color.hsva2rgba._tmpHSLA=[0,0,0,0];Common.Color.calculateContrastRatio._blendedFg=[0,0,0,0];Common.Color.Nicknames={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[237,20,61],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgreen:[144,238,144],lightgray:[211,211,211],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50],transparent:[0,0,0,0]};Common.Color.PageHighlight={Content:Common.Color.fromRGBA([111,168,220,.66]),ContentLight:Common.Color.fromRGBA([111,168,220,.5]),ContentOutline:Common.Color.fromRGBA([9,83,148]),Padding:Common.Color.fromRGBA([147,196,125,.55]),PaddingLight:Common.Color.fromRGBA([147,196,125,.4]),Border:Common.Color.fromRGBA([255,229,153,.66]),BorderLight:Common.Color.fromRGBA([255,229,153,.5]),Margin:Common.Color.fromRGBA([246,178,107,.66]),MarginLight:Common.Color.fromRGBA([246,178,107,.5]),EventTarget:Common.Color.fromRGBA([255,196,196,.66]),Shape:Common.Color.fromRGBA([96,82,177,.8]),ShapeMargin:Common.Color.fromRGBA([96,82,127,.6]),CssGrid:Common.Color.fromRGBA([75,0,130,1])};Common.Color.Generator=class{constructor(e,t,n,s){this._hueSpace=e||{min:0,max:360};this._satSpace=t||67;this._lightnessSpace=n||80;this._alphaSpace=s||1;this._colors=new Map}setColorForID(e,t){this._colors.set(e,t)}colorForID(e){let t=this._colors.get(e);if(!t){t=this._generateColorForID(e);this._colors.set(e,t)}return t}_generateColorForID(e){const t=String.hashCode(e);const n=this._indexToValueInSpace(t,this._hueSpace);const s=this._indexToValueInSpace(t>>8,this._satSpace);const i=this._indexToValueInSpace(t>>16,this._lightnessSpace);const o=this._indexToValueInSpace(t>>24,this._alphaSpace);return`hsla(${n}, ${s}%, ${i}%, ${o})`}_indexToValueInSpace(e,t){if(typeof t==="number")return t;const n=t.count||t.max-t.min;e%=n;return t.min+Math.floor(e/(n-1)*(t.max-t.min))}};Common.Console=class extends Common.Object{constructor(){super();this._messages=[]}addMessage(e,t,n){const s=new Common.Console.Message(e,t||Common.Console.MessageLevel.Info,Date.now(),n||false);this._messages.push(s);this.dispatchEventToListeners(Common.Console.Events.MessageAdded,s)}log(e){this.addMessage(e,Common.Console.MessageLevel.Info)}warn(e){this.addMessage(e,Common.Console.MessageLevel.Warning)}error(e){this.addMessage(e,Common.Console.MessageLevel.Error,true)}messages(){return this._messages}show(){this.showPromise()}showPromise(){return Common.Revealer.reveal(this)}};Common.Console.Events={MessageAdded:Symbol("messageAdded")};Common.Console.MessageLevel={Info:"info",Warning:"warning",Error:"error"};Common.Console.Message=class{constructor(e,t,n,s){this.text=e;this.level=t;this.timestamp=typeof n==="number"?n:Date.now();this.show=s}};Common.console=new Common.Console;Common.ContentProvider=function(){};Common.ContentProvider.prototype={contentURL(){},contentType(){},contentEncoded(){},requestContent(){},searchInContent(e,t,n){}};Common.ContentProvider.SearchMatch=class{constructor(e,t){this.lineNumber=e;this.lineContent=t}};Common.ContentProvider.performSearchInContent=function(e,t,n,s){const i=createSearchRegex(t,n,s);const o=new TextUtils.Text(e);const r=[];for(let e=0;e<o.lineCount();++e){const t=o.lineAt(e);i.lastIndex=0;if(i.exec(t))r.push(new Common.ContentProvider.SearchMatch(e,t))}return r};Common.ContentProvider.contentAsDataURL=function(e,t,n,s){const i=1024*1024;if(e===null||e.length>i)return null;return"data:"+t+(s?";charset="+s:"")+(n?";base64":"")+","+e};Common.ParsedURL=class{constructor(e){this.isValid=false;this.url=e;this.scheme="";this.user="";this.host="";this.port="";this.path="";this.queryParams="";this.fragment="";this.folderPathComponents="";this.lastPathComponent="";const t=this.url.startsWith("blob:");const n=t?e.substring(5):e;const s=n.match(Common.ParsedURL._urlRegex());if(s){this.isValid=true;if(t){this._blobInnerScheme=s[2].toLowerCase();this.scheme="blob"}else{this.scheme=s[2].toLowerCase()}this.user=s[3];this.host=s[4];this.port=s[5];this.path=s[6]||"/";this.queryParams=s[7]||"";this.fragment=s[8]}else{if(this.url.startsWith("data:")){this.scheme="data";return}if(this.url.startsWith("blob:")){this.scheme="blob";return}if(this.url==="about:blank"){this.scheme="about";return}this.path=this.url}const i=this.path.lastIndexOf("/");if(i!==-1){this.folderPathComponents=this.path.substring(0,i);this.lastPathComponent=this.path.substring(i+1)}else{this.lastPathComponent=this.path}}static platformPathToURL(e){e=e.replace(/\\/g,"/");if(!e.startsWith("file://")){if(e.startsWith("/"))e="file://"+e;else e="file:///"+e}return e}static urlToPlatformPath(e,t){console.assert(e.startsWith("file://"),"This must be a file URL.");if(t)return e.substr("file:///".length).replace(/\//g,"\\");return e.substr("file://".length)}static urlWithoutHash(e){const t=e.indexOf("#");if(t!==-1)return e.substr(0,t);return e}static _urlRegex(){if(Common.ParsedURL._urlRegexInstance)return Common.ParsedURL._urlRegexInstance;const e=/([A-Za-z][A-Za-z0-9+.-]*):\/\//;const t=/(?:([A-Za-z0-9\-._~%!$&'()*+,;=:]*)@)?/;const n=/((?:\[::\d?\])|(?:[^\s\/:]*))/;const s=/(?::([\d]+))?/;const i=/(\/[^#?]*)?/;const o=/(?:\?([^#]*))?/;const r=/(?:#(.*))?/;Common.ParsedURL._urlRegexInstance=new RegExp("^("+e.source+t.source+n.source+s.source+")"+i.source+o.source+r.source+"$");return Common.ParsedURL._urlRegexInstance}static extractPath(e){const t=e.asParsedURL();return t?t.path:""}static extractOrigin(e){const t=e.asParsedURL();return t?t.securityOrigin():""}static extractExtension(e){e=Common.ParsedURL.urlWithoutHash(e);const t=e.indexOf("?");if(t!==-1)e=e.substr(0,t);const n=e.lastIndexOf("/");if(n!==-1)e=e.substr(n+1);const s=e.lastIndexOf(".");if(s!==-1){e=e.substr(s+1);const t=e.indexOf("%");if(t!==-1)return e.substr(0,t);return e}return""}static extractName(e){let t=e.lastIndexOf("/");const n=t!==-1?e.substr(t+1):e;t=n.indexOf("?");return t<0?n:n.substr(0,t)}static completeURL(e,t){const n=t.trim();if(n.startsWith("data:")||n.startsWith("blob:")||n.startsWith("javascript:")||n.startsWith("mailto:"))return t;const s=n.asParsedURL();if(s&&s.scheme)return n;const i=e.asParsedURL();if(!i)return null;if(i.isDataURL())return t;if(t.length>1&&t.charAt(0)==="/"&&t.charAt(1)==="/"){return i.scheme+":"+t}const o=i.securityOrigin();const r=i.path;const a=i.queryParams?"?"+i.queryParams:"";if(!t.length)return o+r+a;if(t.charAt(0)==="#")return o+r+a+t;if(t.charAt(0)==="?")return o+r+t;let l=t.match(/^[^#?]*/)[0];const c=t.substring(l.length);if(l.charAt(0)!=="/")l=i.folderPathComponents+"/"+l;return o+Runtime.normalizePath(l)+c}static splitLineAndColumn(e){const t=e.match(Common.ParsedURL._urlRegex());let n="";let s=e;if(t){n=t[1];s=e.substring(t[1].length)}const i=/(?::(\d+))?(?::(\d+))?$/;const o=i.exec(s);let r;let a;console.assert(o);if(typeof o[1]==="string"){r=parseInt(o[1],10);r=isNaN(r)?undefined:r-1}if(typeof o[2]==="string"){a=parseInt(o[2],10);a=isNaN(a)?undefined:a-1}return{url:n+s.substring(0,s.length-o[0].length),lineNumber:r,columnNumber:a}}static isRelativeURL(e){return!/^[A-Za-z][A-Za-z0-9+.-]*:/.test(e)}get displayName(){if(this._displayName)return this._displayName;if(this.isDataURL())return this.dataURLDisplayName();if(this.isBlobURL())return this.url;if(this.isAboutBlank())return this.url;this._displayName=this.lastPathComponent;if(!this._displayName)this._displayName=(this.host||"")+"/";if(this._displayName==="/")this._displayName=this.url;return this._displayName}dataURLDisplayName(){if(this._dataURLDisplayName)return this._dataURLDisplayName;if(!this.isDataURL())return"";this._dataURLDisplayName=this.url.trimEnd(20);return this._dataURLDisplayName}isAboutBlank(){return this.url==="about:blank"}isDataURL(){return this.scheme==="data"}isBlobURL(){return this.url.startsWith("blob:")}lastPathComponentWithFragment(){return this.lastPathComponent+(this.fragment?"#"+this.fragment:"")}domain(){if(this.isDataURL())return"data:";return this.host+(this.port?":"+this.port:"")}securityOrigin(){if(this.isDataURL())return"data:";const e=this.isBlobURL()?this._blobInnerScheme:this.scheme;return e+"://"+this.domain()}urlWithoutScheme(){if(this.scheme&&this.url.startsWith(this.scheme+"://"))return this.url.substring(this.scheme.length+3);return this.url}};String.prototype.asParsedURL=function(){const e=new Common.ParsedURL(this.toString());if(e.isValid)return e;return null};Common.Progress=function(){};Common.Progress.prototype={setTotalWork(e){},setTitle(e){},setWorked(e,t){},worked(e){},done(){},isCanceled(){return false}};Common.CompositeProgress=class{constructor(e){this._parent=e;this._children=[];this._childrenDone=0;this._parent.setTotalWork(1);this._parent.setWorked(0)}_childDone(){if(++this._childrenDone!==this._children.length)return;this._parent.done()}createSubProgress(e){const t=new Common.SubProgress(this,e);this._children.push(t);return t}_update(){let e=0;let t=0;for(let n=0;n<this._children.length;++n){const s=this._children[n];if(s._totalWork)t+=s._weight*s._worked/s._totalWork;e+=s._weight}this._parent.setWorked(t/e)}};Common.SubProgress=class{constructor(e,t){this._composite=e;this._weight=t||1;this._worked=0}isCanceled(){return this._composite._parent.isCanceled()}setTitle(e){this._composite._parent.setTitle(e)}done(){this.setWorked(this._totalWork);this._composite._childDone()}setTotalWork(e){this._totalWork=e;this._composite._update()}setWorked(e,t){this._worked=e;if(typeof t!=="undefined")this.setTitle(t);this._composite._update()}worked(e){this.setWorked(this._worked+(e||1))}};Common.ProgressProxy=class{constructor(e,t){this._delegate=e;this._doneCallback=t}isCanceled(){return this._delegate?this._delegate.isCanceled():false}setTitle(e){if(this._delegate)this._delegate.setTitle(e)}done(){if(this._delegate)this._delegate.done();if(this._doneCallback)this._doneCallback()}setTotalWork(e){if(this._delegate)this._delegate.setTotalWork(e)}setWorked(e,t){if(this._delegate)this._delegate.setWorked(e,t)}worked(e){if(this._delegate)this._delegate.worked(e)}};Common.ResourceType=class{constructor(e,t,n,s){this._name=e;this._title=t;this._category=n;this._isTextType=s}static fromMimeType(e){if(e.startsWith("text/html"))return Common.resourceTypes.Document;if(e.startsWith("text/css"))return Common.resourceTypes.Stylesheet;if(e.startsWith("image/"))return Common.resourceTypes.Image;if(e.startsWith("text/"))return Common.resourceTypes.Script;if(e.includes("font"))return Common.resourceTypes.Font;if(e.includes("script"))return Common.resourceTypes.Script;if(e.includes("octet"))return Common.resourceTypes.Other;if(e.includes("application"))return Common.resourceTypes.Script;return Common.resourceTypes.Other}static fromURL(e){return Common.ResourceType._resourceTypeByExtension.get(Common.ParsedURL.extractExtension(e))||null}static fromName(e){for(const t in Common.resourceTypes){const n=Common.resourceTypes[t];if(n.name()===e)return n}return null}static mimeFromURL(e){const t=Common.ParsedURL.extractName(e);if(Common.ResourceType._mimeTypeByName.has(t))return Common.ResourceType._mimeTypeByName.get(t);const n=Common.ParsedURL.extractExtension(e).toLowerCase();return Common.ResourceType._mimeTypeByExtension.get(n)}static mimeFromExtension(e){return Common.ResourceType._mimeTypeByExtension.get(e)}name(){return this._name}title(){return this._title}category(){return this._category}isTextType(){return this._isTextType}isScript(){return this._name==="script"||this._name==="sm-script"}hasScripts(){return this.isScript()||this.isDocument()}isStyleSheet(){return this._name==="stylesheet"||this._name==="sm-stylesheet"}isDocument(){return this._name==="document"}isDocumentOrScriptOrStyleSheet(){return this.isDocument()||this.isScript()||this.isStyleSheet()}isFromSourceMap(){return this._name.startsWith("sm-")}toString(){return this._name}canonicalMimeType(){if(this.isDocument())return"text/html";if(this.isScript())return"text/javascript";if(this.isStyleSheet())return"text/css";return""}};Common.ResourceCategory=class{constructor(e,t){this.title=e;this.shortTitle=t}};Common.resourceCategories={XHR:new Common.ResourceCategory("XHR and Fetch","XHR"),Script:new Common.ResourceCategory("Scripts","JS"),Stylesheet:new Common.ResourceCategory("Stylesheets","CSS"),Image:new Common.ResourceCategory("Images","Img"),Media:new Common.ResourceCategory("Media","Media"),Font:new Common.ResourceCategory("Fonts","Font"),Document:new Common.ResourceCategory("Documents","Doc"),WebSocket:new Common.ResourceCategory("WebSockets","WS"),Manifest:new Common.ResourceCategory("Manifest","Manifest"),Other:new Common.ResourceCategory("Other","Other")};Common.resourceTypes={XHR:new Common.ResourceType("xhr","XHR",Common.resourceCategories.XHR,true),Fetch:new Common.ResourceType("fetch","Fetch",Common.resourceCategories.XHR,true),EventSource:new Common.ResourceType("eventsource","EventSource",Common.resourceCategories.XHR,true),Script:new Common.ResourceType("script","Script",Common.resourceCategories.Script,true),Stylesheet:new Common.ResourceType("stylesheet","Stylesheet",Common.resourceCategories.Stylesheet,true),Image:new Common.ResourceType("image","Image",Common.resourceCategories.Image,false),Media:new Common.ResourceType("media","Media",Common.resourceCategories.Media,false),Font:new Common.ResourceType("font","Font",Common.resourceCategories.Font,false),Document:new Common.ResourceType("document","Document",Common.resourceCategories.Document,true),TextTrack:new Common.ResourceType("texttrack","TextTrack",Common.resourceCategories.Other,true),WebSocket:new Common.ResourceType("websocket","WebSocket",Common.resourceCategories.WebSocket,false),Other:new Common.ResourceType("other","Other",Common.resourceCategories.Other,false),SourceMapScript:new Common.ResourceType("sm-script","Script",Common.resourceCategories.Script,true),SourceMapStyleSheet:new Common.ResourceType("sm-stylesheet","Stylesheet",Common.resourceCategories.Stylesheet,true),Manifest:new Common.ResourceType("manifest","Manifest",Common.resourceCategories.Manifest,true),SignedExchange:new Common.ResourceType("signed-exchange","SignedExchange",Common.resourceCategories.Other,false)};Common.ResourceType._mimeTypeByName=new Map([["Cakefile","text/x-coffeescript"]]);Common.ResourceType._resourceTypeByExtension=new Map([["js",Common.resourceTypes.Script],["mjs",Common.resourceTypes.Script],["css",Common.resourceTypes.Stylesheet],["xsl",Common.resourceTypes.Stylesheet],["jpeg",Common.resourceTypes.Image],["jpg",Common.resourceTypes.Image],["svg",Common.resourceTypes.Image],["gif",Common.resourceTypes.Image],["png",Common.resourceTypes.Image],["ico",Common.resourceTypes.Image],["tiff",Common.resourceTypes.Image],["tif",Common.resourceTypes.Image],["bmp",Common.resourceTypes.Image],["webp",Common.resourceTypes.Media],["ttf",Common.resourceTypes.Font],["otf",Common.resourceTypes.Font],["ttc",Common.resourceTypes.Font],["woff",Common.resourceTypes.Font]]);Common.ResourceType._mimeTypeByExtension=new Map([["js","text/javascript"],["mjs","text/javascript"],["css","text/css"],["html","text/html"],["htm","text/html"],["xml","application/xml"],["xsl","application/xml"],["asp","application/x-aspx"],["aspx","application/x-aspx"],["jsp","application/x-jsp"],["c","text/x-c++src"],["cc","text/x-c++src"],["cpp","text/x-c++src"],["h","text/x-c++src"],["m","text/x-c++src"],["mm","text/x-c++src"],["coffee","text/x-coffeescript"],["dart","text/javascript"],["ts","text/typescript"],["tsx","text/typescript-jsx"],["json","application/json"],["gyp","application/json"],["gypi","application/json"],["cs","text/x-csharp"],["java","text/x-java"],["less","text/x-less"],["php","text/x-php"],["phtml","application/x-httpd-php"],["py","text/x-python"],["sh","text/x-sh"],["scss","text/x-scss"],["vtt","text/vtt"],["ls","text/x-livescript"],["md","text/markdown"],["cljs","text/x-clojure"],["cljc","text/x-clojure"],["cljx","text/x-clojure"],["styl","text/x-styl"],["jsx","text/jsx"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["svg","image/svg+xml"],["gif","image/gif"],["webp","image/webp"],["png","image/png"],["ico","image/ico"],["tiff","image/tiff"],["tif","image/tif"],["bmp","image/bmp"],["ttf","font/opentype"],["otf","font/opentype"],["ttc","font/opentype"],["woff","application/font-woff"]]);Common.Settings=class{constructor(e,t){this._globalStorage=e;this._localStorage=t;this._sessionStorage=new Common.SettingsStorage({});this._eventSupport=new Common.Object;this._registry=new Map;this._moduleSettings=new Map;self.runtime.extensions("setting").forEach(this._registerModuleSetting.bind(this))}_registerModuleSetting(e){const t=e.descriptor();const n=t["settingName"];const s=t["settingType"]==="regex";const i=t["defaultValue"];let o;switch(t["storageType"]){case"local":o=Common.SettingStorageType.Local;break;case"session":o=Common.SettingStorageType.Session;break;case"global":o=Common.SettingStorageType.Global;break;default:o=Common.SettingStorageType.Global}const r=s?this.createRegExpSetting(n,i,undefined,o):this.createSetting(n,i,o);if(t["title"])r.setTitle(t["title"]);if(t["userActionCondition"])r.setRequiresUserAction(!!Runtime.queryParam(t["userActionCondition"]));r._extension=e;this._moduleSettings.set(n,r)}moduleSetting(e){const t=this._moduleSettings.get(e);if(!t)throw new Error("No setting registered: "+e);return t}settingForTest(e){const t=this._registry.get(e);if(!t)throw new Error("No setting registered: "+e);return t}createSetting(e,t,n){const s=this._storageFromType(n);if(!this._registry.get(e))this._registry.set(e,new Common.Setting(this,e,t,this._eventSupport,s));return this._registry.get(e)}createLocalSetting(e,t){return this.createSetting(e,t,Common.SettingStorageType.Local)}createRegExpSetting(e,t,n,s){if(!this._registry.get(e)){this._registry.set(e,new Common.RegExpSetting(this,e,t,this._eventSupport,this._storageFromType(s),n))}return this._registry.get(e)}clearAll(){this._globalStorage.removeAll();this._localStorage.removeAll();const e=Common.settings.createSetting(Common.VersionController._currentVersionName,0);e.set(Common.VersionController.currentVersion)}_storageFromType(e){switch(e){case Common.SettingStorageType.Local:return this._localStorage;case Common.SettingStorageType.Session:return this._sessionStorage;case Common.SettingStorageType.Global:return this._globalStorage}return this._globalStorage}};Common.SettingsStorage=class{constructor(e,t,n,s,i){this._object=e;this._setCallback=t||function(){};this._removeCallback=n||function(){};this._removeAllCallback=s||function(){};this._storagePrefix=i||""}set(e,t){e=this._storagePrefix+e;this._object[e]=t;this._setCallback(e,t)}has(e){e=this._storagePrefix+e;return e in this._object}get(e){e=this._storagePrefix+e;return this._object[e]}remove(e){e=this._storagePrefix+e;delete this._object[e];this._removeCallback(e)}removeAll(){this._object={};this._removeAllCallback()}_dumpSizes(){Common.console.log("Ten largest settings: ");const e={__proto__:null};for(const t in this._object)e[t]=this._object[t].length;const t=Object.keys(e);function n(t,n){return e[n]-e[t]}t.sort(n);for(let n=0;n<10&&n<t.length;++n)Common.console.log("Setting: '"+t[n]+"', size: "+e[t[n]])}};Common.Setting=class{constructor(e,t,n,s,i){this._settings=e;this._name=t;this._defaultValue=n;this._eventSupport=s;this._storage=i;this._title="";this._extension=null}addChangeListener(e,t){return this._eventSupport.addEventListener(this._name,e,t)}removeChangeListener(e,t){this._eventSupport.removeEventListener(this._name,e,t)}get name(){return this._name}title(){return this._title}setTitle(e){this._title=e}setRequiresUserAction(e){this._requiresUserAction=e}get(){if(this._requiresUserAction&&!this._hadUserAction)return this._defaultValue;if(typeof this._value!=="undefined")return this._value;this._value=this._defaultValue;if(this._storage.has(this._name)){try{this._value=JSON.parse(this._storage.get(this._name))}catch(e){this._storage.remove(this._name)}}return this._value}set(e){this._hadUserAction=true;this._value=e;try{const t=JSON.stringify(e);try{this._storage.set(this._name,t)}catch(e){this._printSettingsSavingError(e.message,this._name,t)}}catch(e){Common.console.error("Cannot stringify setting with name: "+this._name+", error: "+e.message)}this._eventSupport.dispatchEventToListeners(this._name,e)}remove(){this._settings._registry.delete(this._name);this._settings._moduleSettings.delete(this._name);this._storage.remove(this._name)}extension(){return this._extension}_printSettingsSavingError(e,t,n){const s="Error saving setting with name: "+this._name+", value length: "+n.length+". Error: "+e;console.error(s);Common.console.error(s);this._storage._dumpSizes()}};Common.RegExpSetting=class extends Common.Setting{constructor(e,t,n,s,i,o){super(e,t,n?[{pattern:n}]:[],s,i);this._regexFlags=o}get(){const e=[];const t=this.getAsArray();for(let n=0;n<t.length;++n){const s=t[n];if(s.pattern&&!s.disabled)e.push(s.pattern)}return e.join("|")}getAsArray(){return super.get()}set(e){this.setAsArray([{pattern:e}])}setAsArray(e){delete this._regex;super.set(e)}asRegExp(){if(typeof this._regex!=="undefined")return this._regex;this._regex=null;try{const e=this.get();if(e)this._regex=new RegExp(e,this._regexFlags||"")}catch(e){}return this._regex}};Common.VersionController=class{updateVersion(){const e=window.localStorage?window.localStorage[Common.VersionController._currentVersionName]:0;const t=Common.settings.createSetting(Common.VersionController._currentVersionName,0);const n=Common.VersionController.currentVersion;const s=t.get()||parseInt(e||"0",10);if(s===0){t.set(n);return}const i=this._methodsToRunToUpdateVersion(s,n);for(let e=0;e<i.length;++e)this[i[e]].call(this);t.set(n)}_methodsToRunToUpdateVersion(e,t){const n=[];for(let s=e;s<t;++s)n.push("_updateVersionFrom"+s+"To"+(s+1));return n}_updateVersionFrom0To1(){this._clearBreakpointsWhenTooMany(Common.settings.createLocalSetting("breakpoints",[]),5e5)}_updateVersionFrom1To2(){Common.settings.createSetting("previouslyViewedFiles",[]).set([])}_updateVersionFrom2To3(){Common.settings.createSetting("fileSystemMapping",{}).set({});Common.settings.createSetting("fileMappingEntries",[]).remove()}_updateVersionFrom3To4(){const e=Common.settings.createSetting("showHeaSnapshotObjectsHiddenProperties",false);Common.moduleSetting("showAdvancedHeapSnapshotProperties").set(e.get());e.remove()}_updateVersionFrom4To5(){const e={FileSystemViewSidebarWidth:"fileSystemViewSplitViewState",elementsSidebarWidth:"elementsPanelSplitViewState",StylesPaneSplitRatio:"stylesPaneSplitViewState",heapSnapshotRetainersViewSize:"heapSnapshotSplitViewState","InspectorView.splitView":"InspectorView.splitViewState","InspectorView.screencastSplitView":"InspectorView.screencastSplitViewState","Inspector.drawerSplitView":"Inspector.drawerSplitViewState",layerDetailsSplitView:"layerDetailsSplitViewState",networkSidebarWidth:"networkPanelSplitViewState",sourcesSidebarWidth:"sourcesPanelSplitViewState",scriptsPanelNavigatorSidebarWidth:"sourcesPanelNavigatorSplitViewState",sourcesPanelSplitSidebarRatio:"sourcesPanelDebuggerSidebarSplitViewState","timeline-details":"timelinePanelDetailsSplitViewState","timeline-split":"timelinePanelRecorsSplitViewState","timeline-view":"timelinePanelTimelineStackSplitViewState",auditsSidebarWidth:"auditsPanelSplitViewState",layersSidebarWidth:"layersPanelSplitViewState",profilesSidebarWidth:"profilesPanelSplitViewState",resourcesSidebarWidth:"resourcesPanelSplitViewState"};const t={};for(const n in e){const s=e[n];const i=n+"H";let o=null;const r=Common.settings.createSetting(n,t);if(r.get()!==t){o=o||{};o.vertical={};o.vertical.size=r.get();r.remove()}const a=Common.settings.createSetting(i,t);if(a.get()!==t){o=o||{};o.horizontal={};o.horizontal.size=a.get();a.remove()}if(o)Common.settings.createSetting(s,{}).set(o)}}_updateVersionFrom5To6(){const e={debuggerSidebarHidden:"sourcesPanelSplitViewState",navigatorHidden:"sourcesPanelNavigatorSplitViewState","WebInspector.Drawer.showOnLoad":"Inspector.drawerSplitViewState"};for(const t in e){const n=Common.settings.createSetting(t,null);if(n.get()===null){n.remove();continue}const s=e[t];const i=t==="WebInspector.Drawer.showOnLoad";const o=n.get()!==i;n.remove();const r=o?"OnlyMain":"Both";const a=Common.settings.createSetting(s,{});const l=a.get()||{};l.vertical=l.vertical||{};l.vertical.showMode=r;l.horizontal=l.horizontal||{};l.horizontal.showMode=r;a.set(l)}}_updateVersionFrom6To7(){const e={sourcesPanelNavigatorSplitViewState:"sourcesPanelNavigatorSplitViewState",elementsPanelSplitViewState:"elementsPanelSplitViewState",stylesPaneSplitViewState:"stylesPaneSplitViewState",sourcesPanelDebuggerSidebarSplitViewState:"sourcesPanelDebuggerSidebarSplitViewState"};const t={};for(const n in e){const e=Common.settings.createSetting(n,t);const s=e.get();if(s===t)continue;if(s.vertical&&s.vertical.size&&s.vertical.size<1)s.vertical.size=0;if(s.horizontal&&s.horizontal.size&&s.horizontal.size<1)s.horizontal.size=0;e.set(s)}}_updateVersionFrom7To8(){}_updateVersionFrom8To9(){const e=["skipStackFramesPattern","workspaceFolderExcludePattern"];for(let t=0;t<e.length;++t){const n=Common.settings.createSetting(e[t],"");let s=n.get();if(!s)return;if(typeof s==="string")s=[s];for(let e=0;e<s.length;++e){if(typeof s[e]==="string")s[e]={pattern:s[e]}}n.set(s)}}_updateVersionFrom9To10(){if(!window.localStorage)return;for(const e in window.localStorage){if(e.startsWith("revision-history"))window.localStorage.removeItem(e)}}_updateVersionFrom10To11(){const e="customDevicePresets";const t="customEmulatedDeviceList";const n=Common.settings.createSetting(e,undefined);const s=n.get();if(!Array.isArray(s))return;const i=[];for(let e=0;e<s.length;++e){const t=s[e];const n={};n["title"]=t["title"];n["type"]="unknown";n["user-agent"]=t["userAgent"];n["capabilities"]=[];if(t["touch"])n["capabilities"].push("touch");if(t["mobile"])n["capabilities"].push("mobile");n["screen"]={};n["screen"]["vertical"]={width:t["width"],height:t["height"]};n["screen"]["horizontal"]={width:t["height"],height:t["width"]};n["screen"]["device-pixel-ratio"]=t["deviceScaleFactor"];n["modes"]=[];n["show-by-default"]=true;n["show"]="Default";i.push(n)}if(i.length)Common.settings.createSetting(t,[]).set(i);n.remove()}_updateVersionFrom11To12(){this._migrateSettingsFromLocalStorage()}_updateVersionFrom12To13(){this._migrateSettingsFromLocalStorage();Common.settings.createSetting("timelineOverviewMode","").remove()}_updateVersionFrom13To14(){const e={throughput:-1,latency:0};Common.settings.createSetting("networkConditions",e).set(e)}_updateVersionFrom14To15(){const e=Common.settings.createLocalSetting("workspaceExcludedFolders",{});const t=e.get();const n={};for(const e in t){n[e]=[];for(const s of t[e])n[e].push(s.path)}e.set(n)}_updateVersionFrom15To16(){const e=Common.settings.createSetting("InspectorView.panelOrder",{});const t=e.get();for(const e of Object.keys(t))t[e]=(t[e]+1)*10;e.set(t)}_updateVersionFrom16To17(){const e=Common.settings.createSetting("networkConditionsCustomProfiles",[]);const t=e.get();const n=[];if(Array.isArray(t)){for(const e of t){if(typeof e.title==="string"&&typeof e.value==="object"&&typeof e.value.throughput==="number"&&typeof e.value.latency==="number"){n.push({title:e.title,value:{download:e.value.throughput,upload:e.value.throughput,latency:e.value.latency}})}}}e.set(n)}_updateVersionFrom17To18(){const e=Common.settings.createLocalSetting("workspaceExcludedFolders",{});const t=e.get();const n={};for(const e in t){let s=e.replace(/\\/g,"/");if(!s.startsWith("file://")){if(s.startsWith("/"))s="file://"+s;else s="file:///"+s}n[s]=t[e]}e.set(n)}_updateVersionFrom18To19(){const e={status:true,type:true,initiator:true,size:true,time:true};const t=Common.settings.createSetting("networkLogColumnsVisibility",e);const n=t.get();n.name=true;n.timeline=true;const s={};for(const e in n){if(!n.hasOwnProperty(e))continue;s[e.toLowerCase()]={visible:n[e]}}const i=Common.settings.createSetting("networkLogColumns",{});i.set(s);t.remove()}_updateVersionFrom19To20(){const e=Common.settings.createSetting("InspectorView.panelOrder",{});const t=Common.settings.createSetting("panel-tabOrder",{});t.set(e.get());e.remove()}_updateVersionFrom20To21(){const e=Common.settings.createSetting("networkLogColumns",{});const t=e.get();delete t["timeline"];delete t["waterfall"];e.set(t)}_updateVersionFrom21To22(){const e=Common.settings.createLocalSetting("breakpoints",[]);const t=e.get();for(const e of t){e["url"]=e["sourceFileId"];delete e["sourceFileId"]}e.set(t)}_updateVersionFrom22To23(){}_updateVersionFrom23To24(){const e=Common.settings.createSetting("searchInContentScripts",false);const t=Common.settings.createSetting("searchInAnonymousAndContentScripts",false);t.set(e.get());e.remove()}_updateVersionFrom24To25(){const e={status:true,type:true,initiator:true,size:true,time:true};const t=Common.settings.createSetting("networkLogColumns",e);const n=t.get();delete n.product;t.set(n)}_updateVersionFrom25To26(){const e=Common.settings.createSetting("messageURLFilters",{});const t=Object.keys(e.get());const n=t.map(e=>`-url:${e}`).join(" ");if(n){const e=Common.settings.createSetting("console.textFilter","");const t=e.get()?` ${e.get()}`:"";e.set(`${n}${t}`)}e.remove()}_updateVersionFrom26To27(){function e(e,t,n){const s=Common.settings.createSetting(e,{});const i=s.get();if(t in i){i[n]=i[t];delete i[t];s.set(i)}}function t(e,t,n){const s=Common.settings.createSetting(e,"");const i=s.get();if(i===t)s.set(n)}e("panel-tabOrder","audits2","audits");e("panel-closeableTabs","audits2","audits");t("panel-selectedTab","audits2","audits")}_updateVersionFrom27To28(){const e=Common.settings.createSetting("uiTheme","systemPreferred");if(e.get()==="default")e.set("systemPreferred")}_migrateSettingsFromLocalStorage(){const e=new Set(["advancedSearchConfig","breakpoints","consoleHistory","domBreakpoints","eventListenerBreakpoints","fileSystemMapping","lastSelectedSourcesSidebarPaneTab","previouslyViewedFiles","savedURLs","watchExpressions","workspaceExcludedFolders","xhrBreakpoints"]);if(!window.localStorage)return;for(const t in window.localStorage){if(e.has(t))continue;const n=window.localStorage[t];window.localStorage.removeItem(t);Common.settings._globalStorage[t]=n}}_clearBreakpointsWhenTooMany(e,t){if(e.get().length>t)e.set([])}};Common.VersionController._currentVersionName="inspectorVersion";Common.VersionController.currentVersion=28;Common.settings;Common.SettingStorageType={Global:Symbol("Global"),Local:Symbol("Local"),Session:Symbol("Session")};Common.moduleSetting=function(e){return Common.settings.moduleSetting(e)};Common.settingForTest=function(e){return Common.settings.settingForTest(e)};Common.StaticContentProvider=class{constructor(e,t,n){this._contentURL=e;this._contentType=t;this._lazyContent=n}static fromString(e,t,n){const s=()=>Promise.resolve(n);return new Common.StaticContentProvider(e,t,s)}contentURL(){return this._contentURL}contentType(){return this._contentType}contentEncoded(){return Promise.resolve(false)}requestContent(){return this._lazyContent()}async searchInContent(e,t,n){const s=await this._lazyContent();return s?Common.ContentProvider.performSearchInContent(s,e,t,n):[]}};Common.OutputStream=function(){};Common.OutputStream.prototype={write(e){},close(){}};Common.StringOutputStream=class{constructor(){this._data=""}async write(e){this._data+=e}close(){}data(){return this._data}};Common.Segment=class{constructor(e,t,n){if(e>t)console.assert(false,"Invalid segment");this.begin=e;this.end=t;this.data=n}intersects(e){return this.begin<e.end&&e.begin<this.end}};Common.SegmentedRange=class{constructor(e){this._segments=[];this._mergeCallback=e}append(e){let t=this._segments.lowerBound(e,(e,t)=>e.begin-t.begin);let n=t;let s=null;if(t>0){const n=this._segments[t-1];s=this._tryMerge(n,e);if(s){--t;e=s}else if(this._segments[t-1].end>=e.begin){if(e.end<n.end){this._segments.splice(t,0,new Common.Segment(e.end,n.end,n.data))}n.end=e.begin}}while(n<this._segments.length&&this._segments[n].end<=e.end)++n;if(n<this._segments.length){s=this._tryMerge(e,this._segments[n]);if(s){n++;e=s}else if(e.intersects(this._segments[n])){this._segments[n].begin=e.end}}this._segments.splice(t,n-t,e)}appendRange(e){e.segments().forEach(e=>this.append(e))}segments(){return this._segments}_tryMerge(e,t){const n=this._mergeCallback&&this._mergeCallback(e,t);if(!n)return null;n.begin=e.begin;n.end=Math.max(e.end,t.end);return n}};Common.Throttler=class{constructor(e){this._timeout=e;this._isRunningProcess=false;this._asSoonAsPossible=false;this._process=null;this._lastCompleteTime=0;this._schedulePromise=new Promise(e=>{this._scheduleResolve=e})}_processCompleted(){this._lastCompleteTime=this._getTime();this._isRunningProcess=false;if(this._process)this._innerSchedule(false);this._processCompletedForTests()}_processCompletedForTests(){}_onTimeout(){delete this._processTimeout;this._asSoonAsPossible=false;this._isRunningProcess=true;Promise.resolve().then(this._process).catch(console.error.bind(console)).then(this._processCompleted.bind(this)).then(this._scheduleResolve);this._schedulePromise=new Promise(e=>{this._scheduleResolve=e});this._process=null}schedule(e,t){this._process=e;const n=!!this._processTimeout||this._isRunningProcess;const s=this._getTime()-this._lastCompleteTime>this._timeout;t=!!t||!n&&s;const i=t&&!this._asSoonAsPossible;this._asSoonAsPossible=this._asSoonAsPossible||t;this._innerSchedule(i);return this._schedulePromise}_innerSchedule(e){if(this._isRunningProcess)return;if(this._processTimeout&&!e)return;if(this._processTimeout)this._clearTimeout(this._processTimeout);const t=this._asSoonAsPossible?0:this._timeout;this._processTimeout=this._setTimeout(this._onTimeout.bind(this),t)}_clearTimeout(e){clearTimeout(e)}_setTimeout(e,t){return setTimeout(e,t)}_getTime(){return window.performance.now()}};Common.Throttler.FinishCallback;Common.Trie=class{constructor(){this.clear()}add(e){let t=this._root;++this._wordsInSubtree[this._root];for(let n=0;n<e.length;++n){const s=e[n];let i=this._edges[t][s];if(!i){if(this._freeNodes.length){i=this._freeNodes.pop()}else{i=this._size++;this._isWord.push(false);this._wordsInSubtree.push(0);this._edges.push({__proto__:null})}this._edges[t][s]=i}++this._wordsInSubtree[i];t=i}this._isWord[t]=true}remove(e){if(!this.has(e))return false;let t=this._root;--this._wordsInSubtree[this._root];for(let n=0;n<e.length;++n){const s=e[n];const i=this._edges[t][s];if(!--this._wordsInSubtree[i]){delete this._edges[t][s];this._freeNodes.push(i)}t=i}this._isWord[t]=false;return true}has(e){let t=this._root;for(let n=0;n<e.length;++n){t=this._edges[t][e[n]];if(!t)return false}return this._isWord[t]}words(e){e=e||"";let t=this._root;for(let n=0;n<e.length;++n){t=this._edges[t][e[n]];if(!t)return[]}const n=[];this._dfs(t,e,n);return n}_dfs(e,t,n){if(this._isWord[e])n.push(t);const s=this._edges[e];for(const e in s)this._dfs(s[e],t+e,n)}longestPrefix(e,t){let n=this._root;let s=0;for(let i=0;i<e.length;++i){n=this._edges[n][e[i]];if(!n)break;if(!t||this._isWord[n])s=i+1}return e.substring(0,s)}clear(){this._size=1;this._root=0;this._edges=[{__proto__:null}];this._isWord=[false];this._wordsInSubtree=[0];this._freeNodes=[]}};self["Common"]=self["Common"]||{};Common.UIString=function(e,t){return String.vsprintf(Common.localize(e),Array.prototype.slice.call(arguments,1))};Common.localize=function(e){return e};Common.UIStringFormat=class{constructor(e){this._localizedFormat=Common.localize(e);this._tokenizedFormat=String.tokenizeFormatString(this._localizedFormat,String.standardFormatters)}static _append(e,t){return e+t}format(e){return String.format(this._localizedFormat,arguments,String.standardFormatters,"",Common.UIStringFormat._append,this._tokenizedFormat).formattedResult}};Common._substitutionStrings=new WeakMap;self.ls=function(e,t){if(typeof e==="string")return e;let n=Common._substitutionStrings.get(e);if(!n){n=e.join("%s");Common._substitutionStrings.set(e,n)}return Common.UIString(n,...Array.prototype.slice.call(arguments,1))};Common.Revealer=function(){};Common.Revealer.reveal=function(e,t){if(!e)return Promise.reject(new Error("Can't reveal "+e));return self.runtime.allInstances(Common.Revealer,e).then(n);function n(n){const s=[];for(let i=0;i<n.length;++i)s.push(n[i].reveal(e,t));return Promise.race(s)}};Common.Revealer.revealDestination=function(e){const t=self.runtime.extension(Common.Revealer,e);if(!t)return null;return t.descriptor()["destination"]};Common.Revealer.prototype={reveal(e,t){}};Common.App=function(){};Common.App.prototype={presentUI(e){}};Common.AppProvider=function(){};Common.AppProvider.prototype={createApp(){}};Common.QueryParamHandler=function(){};Common.QueryParamHandler.prototype={handleQueryParam(e){}};Common.Runnable=function(){};Common.Runnable.prototype={run(){}};Common.Linkifier=function(){};Common.Linkifier.prototype={linkify(e,t){}};Common.Linkifier.linkify=function(e,t){if(!e)return Promise.reject(new Error("Can't linkify "+e));return self.runtime.extension(Common.Linkifier,e).instance().then(n=>n.linkify(e,t))};Common.Linkifier.Options;Common.JavaScriptMetadata=function(){};Common.JavaScriptMetadata.prototype={signaturesForNativeFunction(e){},signaturesForInstanceMethod(e,t){},signaturesForStaticMethod(e,t){}};Common.CharacterIdMap=class{constructor(){this._elementToCharacter=new Map;this._characterToElement=new Map;this._charCode=33}toChar(e){let t=this._elementToCharacter.get(e);if(!t){if(this._charCode>=65535)throw new Error("CharacterIdMap ran out of capacity!");t=String.fromCharCode(this._charCode++);this._elementToCharacter.set(e,t);this._characterToElement.set(t,e)}return t}fromChar(e){const t=this._characterToElement.get(e);if(t===undefined)return null;return t}};self["Host"]=self["Host"]||{};function InspectorFrontendHostAPI(){}window.InspectorFrontendHostAPI=InspectorFrontendHostAPI;InspectorFrontendHostAPI.ContextMenuDescriptor;InspectorFrontendHostAPI.LoadNetworkResourceResult;InspectorFrontendHostAPI.Events={AppendedToURL:Symbol("appendedToURL"),CanceledSaveURL:Symbol("canceledSaveURL"),ContextMenuCleared:Symbol("contextMenuCleared"),ContextMenuItemSelected:Symbol("contextMenuItemSelected"),DeviceCountUpdated:Symbol("deviceCountUpdated"),DevicesDiscoveryConfigChanged:Symbol("devicesDiscoveryConfigChanged"),DevicesPortForwardingStatusChanged:Symbol("devicesPortForwardingStatusChanged"),DevicesUpdated:Symbol("devicesUpdated"),DispatchMessage:Symbol("dispatchMessage"),DispatchMessageChunk:Symbol("dispatchMessageChunk"),EnterInspectElementMode:Symbol("enterInspectElementMode"),EyeDropperPickedColor:Symbol("eyeDropperPickedColor"),FileSystemsLoaded:Symbol("fileSystemsLoaded"),FileSystemRemoved:Symbol("fileSystemRemoved"),FileSystemAdded:Symbol("fileSystemAdded"),FileSystemFilesChangedAddedRemoved:Symbol("FileSystemFilesChangedAddedRemoved"),IndexingTotalWorkCalculated:Symbol("indexingTotalWorkCalculated"),IndexingWorked:Symbol("indexingWorked"),IndexingDone:Symbol("indexingDone"),KeyEventUnhandled:Symbol("keyEventUnhandled"),ReloadInspectedPage:Symbol("reloadInspectedPage"),RevealSourceLine:Symbol("revealSourceLine"),SavedURL:Symbol("savedURL"),SearchCompleted:Symbol("searchCompleted"),SetInspectedTabId:Symbol("setInspectedTabId"),SetUseSoftMenu:Symbol("setUseSoftMenu"),ShowPanel:Symbol("showPanel")};InspectorFrontendHostAPI.EventDescriptors=[[InspectorFrontendHostAPI.Events.AppendedToURL,"appendedToURL",["url"]],[InspectorFrontendHostAPI.Events.CanceledSaveURL,"canceledSaveURL",["url"]],[InspectorFrontendHostAPI.Events.ContextMenuCleared,"contextMenuCleared",[]],[InspectorFrontendHostAPI.Events.ContextMenuItemSelected,"contextMenuItemSelected",["id"]],[InspectorFrontendHostAPI.Events.DeviceCountUpdated,"deviceCountUpdated",["count"]],[InspectorFrontendHostAPI.Events.DevicesDiscoveryConfigChanged,"devicesDiscoveryConfigChanged",["config"]],[InspectorFrontendHostAPI.Events.DevicesPortForwardingStatusChanged,"devicesPortForwardingStatusChanged",["status"]],[InspectorFrontendHostAPI.Events.DevicesUpdated,"devicesUpdated",["devices"]],[InspectorFrontendHostAPI.Events.DispatchMessage,"dispatchMessage",["messageObject"]],[InspectorFrontendHostAPI.Events.DispatchMessageChunk,"dispatchMessageChunk",["messageChunk","messageSize"]],[InspectorFrontendHostAPI.Events.EnterInspectElementMode,"enterInspectElementMode",[]],[InspectorFrontendHostAPI.Events.EyeDropperPickedColor,"eyeDropperPickedColor",["color"]],[InspectorFrontendHostAPI.Events.FileSystemsLoaded,"fileSystemsLoaded",["fileSystems"]],[InspectorFrontendHostAPI.Events.FileSystemRemoved,"fileSystemRemoved",["fileSystemPath"]],[InspectorFrontendHostAPI.Events.FileSystemAdded,"fileSystemAdded",["errorMessage","fileSystem"]],[InspectorFrontendHostAPI.Events.FileSystemFilesChangedAddedRemoved,"fileSystemFilesChangedAddedRemoved",["changed","added","removed"]],[InspectorFrontendHostAPI.Events.IndexingTotalWorkCalculated,"indexingTotalWorkCalculated",["requestId","fileSystemPath","totalWork"]],[InspectorFrontendHostAPI.Events.IndexingWorked,"indexingWorked",["requestId","fileSystemPath","worked"]],[InspectorFrontendHostAPI.Events.IndexingDone,"indexingDone",["requestId","fileSystemPath"]],[InspectorFrontendHostAPI.Events.KeyEventUnhandled,"keyEventUnhandled",["event"]],[InspectorFrontendHostAPI.Events.ReloadInspectedPage,"reloadInspectedPage",["hard"]],[InspectorFrontendHostAPI.Events.RevealSourceLine,"revealSourceLine",["url","lineNumber","columnNumber"]],[InspectorFrontendHostAPI.Events.SavedURL,"savedURL",["url","fileSystemPath"]],[InspectorFrontendHostAPI.Events.SearchCompleted,"searchCompleted",["requestId","fileSystemPath","files"]],[InspectorFrontendHostAPI.Events.SetInspectedTabId,"setInspectedTabId",["tabId"]],[InspectorFrontendHostAPI.Events.SetUseSoftMenu,"setUseSoftMenu",["useSoftMenu"]],[InspectorFrontendHostAPI.Events.ShowPanel,"showPanel",["panelName"]]];InspectorFrontendHostAPI.prototype={addFileSystem(e){},loadCompleted(){},indexPath(e,t,n){},setInspectedPageBounds(e){},showCertificateViewer(e){},setWhitelistedShortcuts(e){},setEyeDropperActive(e){},inspectElementCompleted(){},openInNewTab(e){},showItemInFolder(e){},removeFileSystem(e){},requestFileSystems(){},save(e,t,n){},append(e,t){},close(e){},searchInPath(e,t,n){},stopIndexing(e){},bringToFront(){},closeWindow(){},copyText(e){},inspectedURLChanged(e){},isolatedFileSystem(e,t){},loadNetworkResource(e,t,n,s){},getPreferences(e){},setPreference(e,t){},removePreference(e){},clearPreferences(){},upgradeDraggedFileSystemPermissions(e){},platform(){},recordEnumeratedHistogram(e,t,n){},recordPerformanceHistogram(e,t){},recordUserMetricsAction(e){},sendMessageToBackend(e){},setDevicesDiscoveryConfig(e){},setDevicesUpdatesEnabled(e){},performActionOnRemotePage(e,t){},openRemotePage(e,t){},openNodeFrontend(){},setInjectedScriptForOrigin(e,t){},setIsDocked(e,t){},zoomFactor(){},zoomIn(){},zoomOut(){},resetZoom(){},showContextMenuAtPoint(e,t,n,s){},reattach(e){},readyForTest(){},connectionReady(){},setOpenNewWindowForPopups(e){},isHostedMode(){},setAddExtensionCallback(e){}};Host.InspectorFrontendHostStub=class{constructor(){function e(e){const t=Host.isMac()?e.metaKey:e.ctrlKey;if(t&&(e.keyCode===187||e.keyCode===189))e.stopPropagation()}document.addEventListener("keydown",e,true);this._urlsBeingSaved=new Map}platform(){let e=navigator.userAgent.match(/Windows NT/);if(e)return"windows";e=navigator.userAgent.match(/Mac OS X/);if(e)return"mac";return"linux"}loadCompleted(){}bringToFront(){this._windowVisible=true}closeWindow(){this._windowVisible=false}setIsDocked(e,t){setTimeout(t,0)}setInspectedPageBounds(e){}inspectElementCompleted(){}setInjectedScriptForOrigin(e,t){}inspectedURLChanged(e){document.title=Common.UIString("DevTools - %s",e.replace(/^https?:\/\//,""))}copyText(e){if(navigator.clipboard){navigator.clipboard.writeText(e)}else if(document.queryCommandSupported("copy")){const t=document.createElement("input");t.value=e;document.body.appendChild(t);t.select();document.execCommand("copy");document.body.removeChild(t)}else{Common.console.error("Clipboard is not enabled in hosted mode. Please inspect using chrome://inspect")}}openInNewTab(e){window.open(e,"_blank")}showItemInFolder(e){Common.console.error("Show item in folder is not enabled in hosted mode. Please inspect using chrome://inspect")}save(e,t,n){let s=this._urlsBeingSaved.get(e);if(!s){s=[];this._urlsBeingSaved.set(e,s)}s.push(t);this.events.dispatchEventToListeners(InspectorFrontendHostAPI.Events.SavedURL,{url:e,fileSystemPath:e})}append(e,t){const n=this._urlsBeingSaved.get(e);n.push(t);this.events.dispatchEventToListeners(InspectorFrontendHostAPI.Events.AppendedToURL,e)}close(e){const t=this._urlsBeingSaved.get(e);this._urlsBeingSaved.delete(e);const n=e?e.trimURL().removeURLFragment():"";const s=createElement("a");s.download=n;const i=new Blob([t.join("")],{type:"text/plain"});s.href=URL.createObjectURL(i);s.click()}sendMessageToBackend(e){}recordEnumeratedHistogram(e,t,n){}recordPerformanceHistogram(e,t){}recordUserMetricsAction(e){}requestFileSystems(){this.events.dispatchEventToListeners(InspectorFrontendHostAPI.Events.FileSystemsLoaded,[])}addFileSystem(e){}removeFileSystem(e){}isolatedFileSystem(e,t){return null}loadNetworkResource(e,t,n,s){Runtime.loadResourcePromise(e).then(function(e){Host.ResourceLoader.streamWrite(n,e);s({statusCode:200})}).catch(function(){s({statusCode:404})})}getPreferences(e){const t={};for(const e in window.localStorage)t[e]=window.localStorage[e];e(t)}setPreference(e,t){window.localStorage[e]=t}removePreference(e){delete window.localStorage[e]}clearPreferences(){window.localStorage.clear()}upgradeDraggedFileSystemPermissions(e){}indexPath(e,t,n){}stopIndexing(e){}searchInPath(e,t,n){}zoomFactor(){return 1}zoomIn(){}zoomOut(){}resetZoom(){}setWhitelistedShortcuts(e){}setEyeDropperActive(e){}showCertificateViewer(e){}reattach(e){}readyForTest(){}connectionReady(){}setOpenNewWindowForPopups(e){}setDevicesDiscoveryConfig(e){}setDevicesUpdatesEnabled(e){}performActionOnRemotePage(e,t){}openRemotePage(e,t){}openNodeFrontend(){}showContextMenuAtPoint(e,t,n,s){throw"Soft context menu should be used"}isHostedMode(){return true}setAddExtensionCallback(e){}};Host.InspectorFrontendAPIImpl=class{constructor(){this._debugFrontend=!!Runtime.queryParam("debugFrontend")||window["InspectorTest"]&&window["InspectorTest"]["debugTest"];const e=InspectorFrontendHostAPI.EventDescriptors;for(let t=0;t<e.length;++t)this[e[t][1]]=this._dispatch.bind(this,e[t][0],e[t][2],e[t][3])}_dispatch(e,t,n){const s=Array.prototype.slice.call(arguments,3);if(this._debugFrontend)setImmediate(i);else i();function i(){if(t.length<2){try{InspectorFrontendHost.events.dispatchEventToListeners(e,s[0])}catch(e){console.error(e+" "+e.stack)}return}const n={};for(let e=0;e<t.length;++e)n[t[e]]=s[e];try{InspectorFrontendHost.events.dispatchEventToListeners(e,n)}catch(e){console.error(e+" "+e.stack)}}}streamWrite(e,t){Host.ResourceLoader.streamWrite(e,t)}};let InspectorFrontendHost=window.InspectorFrontendHost;(function(){function e(){let e;if(!InspectorFrontendHost){window.InspectorFrontendHost=InspectorFrontendHost=new Host.InspectorFrontendHostStub}else{e=Host.InspectorFrontendHostStub.prototype;for(const t of Object.getOwnPropertyNames(e)){const n=e[t];if(typeof n!=="function"||InspectorFrontendHost[t])continue;console.error("Incompatible embedder: method InspectorFrontendHost."+t+" is missing. Using stub instead.");InspectorFrontendHost[t]=n}}InspectorFrontendHost.events=new Common.Object}e();window.InspectorFrontendAPI=new Host.InspectorFrontendAPIImpl})();InspectorFrontendHost.events;Host.isUnderTest=function(e){if(Runtime.queryParam("test"))return true;if(e)return e["isUnderTest"]==="true";return Common.settings&&Common.settings.createSetting("isUnderTest",false).get()};Host.platform=function(){if(!Host._platform)Host._platform=InspectorFrontendHost.platform();return Host._platform};Host.isMac=function(){if(typeof Host._isMac==="undefined")Host._isMac=Host.platform()==="mac";return Host._isMac};Host.isWin=function(){if(typeof Host._isWin==="undefined")Host._isWin=Host.platform()==="windows";return Host._isWin};Host.isCustomDevtoolsFrontend=function(){if(typeof Host._isCustomDevtoolsFronend==="undefined")Host._isCustomDevtoolsFronend=window.location.toString().startsWith("devtools://devtools/custom/");return Host._isCustomDevtoolsFronend};Host.fontFamily=function(){if(Host._fontFamily)return Host._fontFamily;switch(Host.platform()){case"linux":Host._fontFamily="Roboto, Ubuntu, Arial, sans-serif";break;case"mac":Host._fontFamily="'Lucida Grande', sans-serif";break;case"windows":Host._fontFamily="'Segoe UI', Tahoma, sans-serif";break}return Host._fontFamily};Host.ResourceLoader={};Host.ResourceLoader._lastStreamId=0;Host.ResourceLoader._boundStreams={};Host.ResourceLoader._bindOutputStream=function(e){Host.ResourceLoader._boundStreams[++Host.ResourceLoader._lastStreamId]=e;return Host.ResourceLoader._lastStreamId};Host.ResourceLoader._discardOutputStream=function(e){Host.ResourceLoader._boundStreams[e].close();delete Host.ResourceLoader._boundStreams[e]};Host.ResourceLoader.streamWrite=function(e,t){Host.ResourceLoader._boundStreams[e].write(t)};Host.ResourceLoader.load=function(e,t,n){const s=new Common.StringOutputStream;Host.ResourceLoader.loadAsStream(e,t,s,i);function i(e,t){n(e,t,s.data())}};Host.ResourceLoader.loadAsStream=function(e,t,n,s){const i=Host.ResourceLoader._bindOutputStream(n);const o=new Common.ParsedURL(e);if(o.isDataURL()){loadXHR(e).then(l).catch(c);return}const r=[];if(t){for(const e in t)r.push(e+": "+t[e])}InspectorFrontendHost.loadNetworkResource(e,r.join("\r\n"),i,a);function a(e){if(s)s(e.statusCode,e.headers||{});Host.ResourceLoader._discardOutputStream(i)}function l(e){Host.ResourceLoader.streamWrite(i,e);a({statusCode:200})}function c(){a({statusCode:404})}};Host.UserMetrics=class{panelShown(e){const t=Host.UserMetrics._PanelCodes[e]||0;const n=Object.keys(Host.UserMetrics._PanelCodes).length+1;InspectorFrontendHost.recordEnumeratedHistogram("DevTools.PanelShown",t,n);this._panelChangedSinceLaunch=true}drawerShown(e){this.panelShown("drawer-"+e)}actionTaken(e){const t=Object.keys(Host.UserMetrics.Action).length+1;InspectorFrontendHost.recordEnumeratedHistogram("DevTools.ActionTaken",e,t)}panelLoaded(e,t){if(this._firedLaunchHistogram||e!==this._launchPanelName)return;this._firedLaunchHistogram=true;requestAnimationFrame(()=>{setTimeout(()=>{performance.mark(t);if(this._panelChangedSinceLaunch)return;InspectorFrontendHost.recordPerformanceHistogram(t,performance.now())},0)})}setLaunchPanel(e){this._launchPanelName=e}};Host.UserMetrics.Action={WindowDocked:1,WindowUndocked:2,ScriptsBreakpointSet:3,TimelineStarted:4,ProfilesCPUProfileTaken:5,ProfilesHeapProfileTaken:6,"LegacyAuditsStarted-deprecated":7,ConsoleEvaluated:8,FileSavedInWorkspace:9,DeviceModeEnabled:10,AnimationsPlaybackRateChanged:11,RevisionApplied:12,FileSystemDirectoryContentReceived:13,StyleRuleEdited:14,CommandEvaluatedInConsolePanel:15,DOMPropertiesExpanded:16,ResizedViewInResponsiveMode:17,TimelinePageReloadStarted:18,ConnectToNodeJSFromFrontend:19,ConnectToNodeJSDirectly:20,CpuThrottlingEnabled:21,CpuProfileNodeFocused:22,CpuProfileNodeExcluded:23,SelectFileFromFilePicker:24,SelectCommandFromCommandMenu:25,ChangeInspectedNodeInElementsPanel:26,StyleRuleCopied:27,CoverageStarted:28,AuditsStarted:29,AuditsFinished:30,ShowedThirdPartyBadges:31,AuditsViewTrace:32,FilmStripStartedRecording:33};Host.UserMetrics._PanelCodes={elements:1,resources:2,network:3,sources:4,timeline:5,heap_profiler:6,"legacy-audits-deprecated":7,console:8,layers:9,"drawer-console-view":10,"drawer-animations":11,"drawer-network.config":12,"drawer-rendering":13,"drawer-sensors":14,"drawer-sources.search":15,security:16,js_profiler:17,audits:18};Host.userMetrics=new Host.UserMetrics;self["Protocol"]=self["Protocol"]||{};Protocol.NodeURL=class{static patch(e){t(e,"");function t(e,n){if(e.url&&Protocol.NodeURL._isPlatformPath(e.url,Host.isWin()))e.url=Common.ParsedURL.platformPathToURL(e.url);for(const s of Object.entries(e)){const e=s[0];const i=s[1];const o=n+"."+e;if(o!==".result.result.value"&&i!==null&&typeof i==="object")t(i,o)}}}static _isPlatformPath(e,t){if(t){const t=/^([a-z]:[\/\\]|\\\\)/i;return t.test(e)}else{return e.length?e[0]==="/":false}}};Protocol.Error=Symbol("Protocol.Error");Protocol.InspectorBackend=class{constructor(){this._agentPrototypes=new Map;this._dispatcherPrototypes=new Map;this._initialized=false}static reportProtocolError(e,t){console.error(e+": "+JSON.stringify(t))}isInitialized(){return this._initialized}_addAgentGetterMethodToProtocolTargetPrototype(e){let t=0;while(t<e.length&&e[t].toLowerCase()!==e[t])++t;const n=e.substr(0,t).toLowerCase()+e.slice(t)+"Agent";function s(){return this._agents[e]}Protocol.TargetBase.prototype[n]=s;function i(t){this.registerDispatcher(e,t)}Protocol.TargetBase.prototype["register"+e+"Dispatcher"]=i}_agentPrototype(e){if(!this._agentPrototypes.has(e)){this._agentPrototypes.set(e,new Protocol.InspectorBackend._AgentPrototype(e));this._addAgentGetterMethodToProtocolTargetPrototype(e)}return this._agentPrototypes.get(e)}_dispatcherPrototype(e){if(!this._dispatcherPrototypes.has(e))this._dispatcherPrototypes.set(e,new Protocol.InspectorBackend._DispatcherPrototype);return this._dispatcherPrototypes.get(e)}registerCommand(e,t,n,s){const i=e.split(".");this._agentPrototype(i[0]).registerCommand(i[1],t,n,s);this._initialized=true}registerEnum(e,t){const n=e.split(".");const s=n[0];if(!Protocol[s])Protocol[s]={};Protocol[s][n[1]]=t;this._initialized=true}registerEvent(e,t){const n=e.split(".")[0];this._dispatcherPrototype(n).registerEvent(e,t);this._initialized=true}wrapClientCallback(e,t,n,s){function i(i,o){if(i){console.error(t+i);e(s);return}if(n)e(new n(o));else e(o)}return i}};Protocol.DevToolsStubErrorCode=-32015;Protocol.inspectorBackend=new Protocol.InspectorBackend;Protocol.Connection=function(){};Protocol.Connection.prototype={setOnMessage(e){},setOnDisconnect(e){},sendRawMessage(e){},disconnect(){}};Protocol.test={dumpProtocol:null,deprecatedRunAfterPendingDispatches:null,sendRawMessage:null,suppressRequestErrors:false,onMessageSent:null,onMessageReceived:null};Protocol.Connection.setFactory=function(e){Protocol.Connection._factory=e};Protocol.Connection._factory;Protocol._Callback;Protocol._GenericError=-32e3;Protocol._ConnectionClosedErrorCode=-32001;Protocol.SessionRouter=class{constructor(e){this._connection=e;this._lastMessageId=1;this._pendingResponsesCount=0;this._domainToLogger=new Map;this._sessions=new Map;this._pendingScripts=[];Protocol.test.deprecatedRunAfterPendingDispatches=this._deprecatedRunAfterPendingDispatches.bind(this);Protocol.test.sendRawMessage=this._sendRawMessageForTesting.bind(this);this._connection.setOnMessage(this._onMessage.bind(this));this._connection.setOnDisconnect(e=>{const t=this._sessions.get("");if(t)t.target.dispose(e)})}registerSession(e,t){this._sessions.set(t,{target:e,callbacks:new Map})}unregisterSession(e){const t=this._sessions.get(e);for(const e of t.callbacks.values())Protocol.SessionRouter.dispatchConnectionError(e);this._sessions.delete(e)}_nextMessageId(){return this._lastMessageId++}sendMessage(e,t,n,s,i){const o={};const r=this._nextMessageId();o.id=r;o.method=n;if(s)o.params=s;if(e)o.sessionId=e;if(Protocol.test.dumpProtocol)Protocol.test.dumpProtocol("frontend: "+JSON.stringify(o));if(Protocol.test.onMessageSent){const e=JSON.parse(JSON.stringify(s||{}));Protocol.test.onMessageSent({domain:t,method:n,params:e,id:r})}++this._pendingResponsesCount;this._sessions.get(e).callbacks.set(r,i);this._connection.sendRawMessage(JSON.stringify(o))}_sendRawMessageForTesting(e,t,n){const s=e.split(".")[0];this.sendMessage("",s,e,t,n||(()=>{}))}_onMessage(e){if(Protocol.test.dumpProtocol)Protocol.test.dumpProtocol("backend: "+(typeof e==="string"?e:JSON.stringify(e)));if(Protocol.test.onMessageReceived){const t=JSON.parse(typeof e==="string"?e:JSON.stringify(e));Protocol.test.onMessageReceived(t)}const t=typeof e==="string"?JSON.parse(e):e;const n=t.sessionId||"";const s=this._sessions.get(n);if(!s){Protocol.InspectorBackend.reportProtocolError("Protocol Error: the message with wrong session id",t);return}if(s.target._needsNodeJSPatching)Protocol.NodeURL.patch(t);if("id"in t){const e=s.callbacks.get(t.id);s.callbacks.delete(t.id);if(!e){Protocol.InspectorBackend.reportProtocolError("Protocol Error: the message with wrong id",t);return}e(t.error,t.result);--this._pendingResponsesCount;if(this._pendingScripts.length&&!this._pendingResponsesCount)this._deprecatedRunAfterPendingDispatches()}else{if(!("method"in t)){Protocol.InspectorBackend.reportProtocolError("Protocol Error: the message without method",t);return}const e=t.method.split(".");const n=e[0];if(!(n in s.target._dispatchers)){Protocol.InspectorBackend.reportProtocolError(`Protocol Error: the message ${t.method} is for non-existing domain '${n}'`,t);return}s.target._dispatchers[n].dispatch(e[1],t)}}_deprecatedRunAfterPendingDispatches(e){if(e)this._pendingScripts.push(e);setTimeout(()=>{if(!this._pendingResponsesCount)this._executeAfterPendingDispatches();else this._deprecatedRunAfterPendingDispatches()},0)}_executeAfterPendingDispatches(){if(!this._pendingResponsesCount){const e=this._pendingScripts;this._pendingScripts=[];for(let t=0;t<e.length;++t)e[t]()}}static dispatchConnectionError(e){const t={message:"Connection is closed, can't dispatch pending call",code:Protocol._ConnectionClosedErrorCode,data:null};setTimeout(()=>e(t,null),0)}};Protocol.TargetBase=class{constructor(e,t,n,s){this._needsNodeJSPatching=e;this._sessionId=n;if(!t&&s||!t&&n||s&&n)throw new Error("Either connection or sessionId (but not both) must be supplied for a child target");if(n)this._router=t._router;else if(s)this._router=new Protocol.SessionRouter(s);else this._router=new Protocol.SessionRouter(Protocol.Connection._factory());this._router.registerSession(this,this._sessionId);this._agents={};for(const[e,t]of Protocol.inspectorBackend._agentPrototypes){this._agents[e]=Object.create(t);this._agents[e]._target=this}this._dispatchers={};for(const[e,t]of Protocol.inspectorBackend._dispatcherPrototypes){this._dispatchers[e]=Object.create(t);this._dispatchers[e]._dispatchers=[]}}registerDispatcher(e,t){if(!this._dispatchers[e])return;this._dispatchers[e].addDomainDispatcher(t)}dispose(e){this._router.unregisterSession(this._sessionId);this._router=null}isDisposed(){return!this._router}markAsNodeJSForTest(){this._needsNodeJSPatching=true}};Protocol.InspectorBackend._AgentPrototype=class{constructor(e){this._replyArgs={};this._hasErrorData={};this._domain=e}registerCommand(e,t,n,s){const i=this._domain+"."+e;function o(e){const n=Array.prototype.slice.call(arguments);return Protocol.InspectorBackend._AgentPrototype.prototype._sendMessageToBackendPromise.call(this,i,t,n)}this[e]=o;function r(e){return this._invoke(i,e)}this["invoke_"+e]=r;this._replyArgs[i]=n;if(s)this._hasErrorData[i]=true}_prepareParameters(e,t,n,s){const i={};let o=false;for(const r of t){const a=r["name"];const l=r["type"];const c=r["optional"];if(!n.length&&!c){s(`Protocol Error: Invalid number of arguments for method '${e}' call. `+`It must have the following arguments ${JSON.stringify(t)}'.`);return null}const d=n.shift();if(c&&typeof d==="undefined")continue;if(typeof d!==l){s(`Protocol Error: Invalid type of argument '${a}' for method '${e}' call. `+`It must be '${l}' but it is '${typeof d}'.`);return null}i[a]=d;o=true}if(n.length){s(`Protocol Error: Extra ${n.length} arguments in a call to method '${e}'.`);return null}return o?i:null}_sendMessageToBackendPromise(e,t,n){let s;function i(e){console.error(e);s=e}const o=this._prepareParameters(e,t,n,i);if(s)return Promise.resolve(null);return new Promise(t=>{const n=(n,s)=>{if(n&&!Protocol.test.suppressRequestErrors&&n.code!==Protocol.DevToolsStubErrorCode&&n.code!==Protocol._GenericError&&n.code!==Protocol._ConnectionClosedErrorCode)console.error("Request "+e+" failed. "+JSON.stringify(n));if(n){t(null);return}const i=this._replyArgs[e];t(s&&i.length?s[i[0]]:undefined)};if(!this._target._router)Protocol.SessionRouter.dispatchConnectionError(n);else this._target._router.sendMessage(this._target._sessionId,this._domain,e,o,n)})}_invoke(e,t){return new Promise(n=>{const s=(t,s)=>{if(t&&!Protocol.test.suppressRequestErrors&&t.code!==Protocol.DevToolsStubErrorCode&&t.code!==Protocol._GenericError&&t.code!==Protocol._ConnectionClosedErrorCode)console.error("Request "+e+" failed. "+JSON.stringify(t));if(!s)s={};if(t)s[Protocol.Error]=t.message;n(s)};if(!this._target._router)Protocol.SessionRouter.dispatchConnectionError(s);else this._target._router.sendMessage(this._target._sessionId,this._domain,e,t,s)})}};Protocol.InspectorBackend._DispatcherPrototype=class{constructor(){this._eventArgs={}}registerEvent(e,t){this._eventArgs[e]=t}addDomainDispatcher(e){this._dispatchers.push(e)}dispatch(e,t){if(!this._dispatchers.length)return;if(!this._eventArgs[t.method]){Protocol.InspectorBackend.reportProtocolError(`Protocol Error: Attempted to dispatch an unspecified method '${t.method}'`,t);return}const n=[];if(t.params){const e=this._eventArgs[t.method];for(let s=0;s<e.length;++s)n.push(t.params[e[s]])}for(let t=0;t<this._dispatchers.length;++t){const s=this._dispatchers[t];if(e in s)s[e].apply(s,n)}}};Protocol.inspectorBackend.registerEnum("Accessibility.AXValueType",{Boolean:"boolean",Tristate:"tristate",BooleanOrUndefined:"booleanOrUndefined",Idref:"idref",IdrefList:"idrefList",Integer:"integer",Node:"node",NodeList:"nodeList",Number:"number",String:"string",ComputedString:"computedString",Token:"token",TokenList:"tokenList",DomRelation:"domRelation",Role:"role",InternalRole:"internalRole",ValueUndefined:"valueUndefined"});Protocol.inspectorBackend.registerEnum("Accessibility.AXValueSourceType",{Attribute:"attribute",Implicit:"implicit",Style:"style",Contents:"contents",Placeholder:"placeholder",RelatedElement:"relatedElement"});Protocol.inspectorBackend.registerEnum("Accessibility.AXValueNativeSourceType",{Figcaption:"figcaption",Label:"label",Labelfor:"labelfor",Labelwrapped:"labelwrapped",Legend:"legend",Tablecaption:"tablecaption",Title:"title",Other:"other"});Protocol.inspectorBackend.registerEnum("Accessibility.AXPropertyName",{Busy:"busy",Disabled:"disabled",Editable:"editable",Focusable:"focusable",Focused:"focused",Hidden:"hidden",HiddenRoot:"hiddenRoot",Invalid:"invalid",Keyshortcuts:"keyshortcuts",Settable:"settable",Roledescription:"roledescription",Live:"live",Atomic:"atomic",Relevant:"relevant",Root:"root",Autocomplete:"autocomplete",HasPopup:"hasPopup",Level:"level",Multiselectable:"multiselectable",Orientation:"orientation",Multiline:"multiline",Readonly:"readonly",Required:"required",Valuemin:"valuemin",Valuemax:"valuemax",Valuetext:"valuetext",Checked:"checked",Expanded:"expanded",Modal:"modal",Pressed:"pressed",Selected:"selected",Activedescendant:"activedescendant",Controls:"controls",Describedby:"describedby",Details:"details",Errormessage:"errormessage",Flowto:"flowto",Labelledby:"labelledby",Owns:"owns"});Protocol.inspectorBackend.registerCommand("Accessibility.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Accessibility.enable",[],[],false);Protocol.inspectorBackend.registerCommand("Accessibility.getPartialAXTree",[{name:"nodeId",type:"number",optional:true},{name:"backendNodeId",type:"number",optional:true},{name:"objectId",type:"string",optional:true},{name:"fetchRelatives",type:"boolean",optional:true}],["nodes"],false);Protocol.inspectorBackend.registerCommand("Accessibility.getFullAXTree",[],["nodes"],false);Protocol.inspectorBackend.registerEnum("Animation.AnimationType",{CSSTransition:"CSSTransition",CSSAnimation:"CSSAnimation",WebAnimation:"WebAnimation"});Protocol.inspectorBackend.registerEvent("Animation.animationCanceled",["id"]);Protocol.inspectorBackend.registerEvent("Animation.animationCreated",["id"]);Protocol.inspectorBackend.registerEvent("Animation.animationStarted",["animation"]);Protocol.inspectorBackend.registerCommand("Animation.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Animation.enable",[],[],false);Protocol.inspectorBackend.registerCommand("Animation.getCurrentTime",[{name:"id",type:"string",optional:false}],["currentTime"],false);Protocol.inspectorBackend.registerCommand("Animation.getPlaybackRate",[],["playbackRate"],false);Protocol.inspectorBackend.registerCommand("Animation.releaseAnimations",[{name:"animations",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Animation.resolveAnimation",[{name:"animationId",type:"string",optional:false}],["remoteObject"],false);Protocol.inspectorBackend.registerCommand("Animation.seekAnimations",[{name:"animations",type:"object",optional:false},{name:"currentTime",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Animation.setPaused",[{name:"animations",type:"object",optional:false},{name:"paused",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Animation.setPlaybackRate",[{name:"playbackRate",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Animation.setTiming",[{name:"animationId",type:"string",optional:false},{name:"duration",type:"number",optional:false},{name:"delay",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerEvent("ApplicationCache.applicationCacheStatusUpdated",["frameId","manifestURL","status"]);Protocol.inspectorBackend.registerEvent("ApplicationCache.networkStateUpdated",["isNowOnline"]);Protocol.inspectorBackend.registerCommand("ApplicationCache.enable",[],[],false);Protocol.inspectorBackend.registerCommand("ApplicationCache.getApplicationCacheForFrame",[{name:"frameId",type:"string",optional:false}],["applicationCache"],false);Protocol.inspectorBackend.registerCommand("ApplicationCache.getFramesWithManifests",[],["frameIds"],false);Protocol.inspectorBackend.registerCommand("ApplicationCache.getManifestForFrame",[{name:"frameId",type:"string",optional:false}],["manifestURL"],false);Protocol.inspectorBackend.registerCommand("Audits.getEncodedResponse",[{name:"requestId",type:"string",optional:false},{name:"encoding",type:"string",optional:false},{name:"quality",type:"number",optional:true},{name:"sizeOnly",type:"boolean",optional:true}],["body","originalSize","encodedSize"],false);Protocol.inspectorBackend.registerEnum("BackgroundService.ServiceName",{BackgroundFetch:"backgroundFetch",BackgroundSync:"backgroundSync",PushMessaging:"pushMessaging",Notifications:"notifications"});Protocol.inspectorBackend.registerEvent("BackgroundService.recordingStateChanged",["isRecording","service"]);Protocol.inspectorBackend.registerEvent("BackgroundService.backgroundServiceEventReceived",["backgroundServiceEvent"]);Protocol.inspectorBackend.registerCommand("BackgroundService.startObserving",[{name:"service",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("BackgroundService.stopObserving",[{name:"service",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("BackgroundService.setRecording",[{name:"shouldRecord",type:"boolean",optional:false},{name:"service",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("BackgroundService.clearEvents",[{name:"service",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerEnum("Browser.WindowState",{Normal:"normal",Minimized:"minimized",Maximized:"maximized",Fullscreen:"fullscreen"});Protocol.inspectorBackend.registerEnum("Browser.PermissionType",{AccessibilityEvents:"accessibilityEvents",AudioCapture:"audioCapture",BackgroundSync:"backgroundSync",BackgroundFetch:"backgroundFetch",ClipboardRead:"clipboardRead",ClipboardWrite:"clipboardWrite",DurableStorage:"durableStorage",Flash:"flash",Geolocation:"geolocation",Midi:"midi",MidiSysex:"midiSysex",Notifications:"notifications",PaymentHandler:"paymentHandler",PeriodicBackgroundSync:"periodicBackgroundSync",ProtectedMediaIdentifier:"protectedMediaIdentifier",Sensors:"sensors",VideoCapture:"videoCapture",IdleDetection:"idleDetection",WakeLockScreen:"wakeLockScreen",WakeLockSystem:"wakeLockSystem"});Protocol.inspectorBackend.registerCommand("Browser.grantPermissions",[{name:"origin",type:"string",optional:false},{name:"permissions",type:"object",optional:false},{name:"browserContextId",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Browser.resetPermissions",[{name:"browserContextId",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Browser.close",[],[],false);Protocol.inspectorBackend.registerCommand("Browser.crash",[],[],false);Protocol.inspectorBackend.registerCommand("Browser.crashGpuProcess",[],[],false);Protocol.inspectorBackend.registerCommand("Browser.getVersion",[],["protocolVersion","product","revision","userAgent","jsVersion"],false);Protocol.inspectorBackend.registerCommand("Browser.getBrowserCommandLine",[],["arguments"],false);Protocol.inspectorBackend.registerCommand("Browser.getHistograms",[{name:"query",type:"string",optional:true},{name:"delta",type:"boolean",optional:true}],["histograms"],false);Protocol.inspectorBackend.registerCommand("Browser.getHistogram",[{name:"name",type:"string",optional:false},{name:"delta",type:"boolean",optional:true}],["histogram"],false);Protocol.inspectorBackend.registerCommand("Browser.getWindowBounds",[{name:"windowId",type:"number",optional:false}],["bounds"],false);Protocol.inspectorBackend.registerCommand("Browser.getWindowForTarget",[{name:"targetId",type:"string",optional:true}],["windowId","bounds"],false);Protocol.inspectorBackend.registerCommand("Browser.setWindowBounds",[{name:"windowId",type:"number",optional:false},{name:"bounds",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Browser.setDockTile",[{name:"badgeLabel",type:"string",optional:true},{name:"image",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerEnum("CSS.StyleSheetOrigin",{Injected:"injected",UserAgent:"user-agent",Inspector:"inspector",Regular:"regular"});Protocol.inspectorBackend.registerEnum("CSS.CSSMediaSource",{MediaRule:"mediaRule",ImportRule:"importRule",LinkedSheet:"linkedSheet",InlineSheet:"inlineSheet"});Protocol.inspectorBackend.registerEvent("CSS.fontsUpdated",["font"]);Protocol.inspectorBackend.registerEvent("CSS.mediaQueryResultChanged",[]);Protocol.inspectorBackend.registerEvent("CSS.styleSheetAdded",["header"]);Protocol.inspectorBackend.registerEvent("CSS.styleSheetChanged",["styleSheetId"]);Protocol.inspectorBackend.registerEvent("CSS.styleSheetRemoved",["styleSheetId"]);Protocol.inspectorBackend.registerCommand("CSS.addRule",[{name:"styleSheetId",type:"string",optional:false},{name:"ruleText",type:"string",optional:false},{name:"location",type:"object",optional:false}],["rule"],false);Protocol.inspectorBackend.registerCommand("CSS.collectClassNames",[{name:"styleSheetId",type:"string",optional:false}],["classNames"],false);Protocol.inspectorBackend.registerCommand("CSS.createStyleSheet",[{name:"frameId",type:"string",optional:false}],["styleSheetId"],false);Protocol.inspectorBackend.registerCommand("CSS.disable",[],[],false);Protocol.inspectorBackend.registerCommand("CSS.enable",[],[],false);Protocol.inspectorBackend.registerCommand("CSS.forcePseudoState",[{name:"nodeId",type:"number",optional:false},{name:"forcedPseudoClasses",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("CSS.getBackgroundColors",[{name:"nodeId",type:"number",optional:false}],["backgroundColors","computedFontSize","computedFontWeight"],false);Protocol.inspectorBackend.registerCommand("CSS.getComputedStyleForNode",[{name:"nodeId",type:"number",optional:false}],["computedStyle"],false);Protocol.inspectorBackend.registerCommand("CSS.getInlineStylesForNode",[{name:"nodeId",type:"number",optional:false}],["inlineStyle","attributesStyle"],false);Protocol.inspectorBackend.registerCommand("CSS.getMatchedStylesForNode",[{name:"nodeId",type:"number",optional:false}],["inlineStyle","attributesStyle","matchedCSSRules","pseudoElements","inherited","cssKeyframesRules"],false);Protocol.inspectorBackend.registerCommand("CSS.getMediaQueries",[],["medias"],false);Protocol.inspectorBackend.registerCommand("CSS.getPlatformFontsForNode",[{name:"nodeId",type:"number",optional:false}],["fonts"],false);Protocol.inspectorBackend.registerCommand("CSS.getStyleSheetText",[{name:"styleSheetId",type:"string",optional:false}],["text"],false);Protocol.inspectorBackend.registerCommand("CSS.setEffectivePropertyValueForNode",[{name:"nodeId",type:"number",optional:false},{name:"propertyName",type:"string",optional:false},{name:"value",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("CSS.setKeyframeKey",[{name:"styleSheetId",type:"string",optional:false},{name:"range",type:"object",optional:false},{name:"keyText",type:"string",optional:false}],["keyText"],false);Protocol.inspectorBackend.registerCommand("CSS.setMediaText",[{name:"styleSheetId",type:"string",optional:false},{name:"range",type:"object",optional:false},{name:"text",type:"string",optional:false}],["media"],false);Protocol.inspectorBackend.registerCommand("CSS.setRuleSelector",[{name:"styleSheetId",type:"string",optional:false},{name:"range",type:"object",optional:false},{name:"selector",type:"string",optional:false}],["selectorList"],false);Protocol.inspectorBackend.registerCommand("CSS.setStyleSheetText",[{name:"styleSheetId",type:"string",optional:false},{name:"text",type:"string",optional:false}],["sourceMapURL"],false);Protocol.inspectorBackend.registerCommand("CSS.setStyleTexts",[{name:"edits",type:"object",optional:false}],["styles"],false);Protocol.inspectorBackend.registerCommand("CSS.startRuleUsageTracking",[],[],false);Protocol.inspectorBackend.registerCommand("CSS.stopRuleUsageTracking",[],["ruleUsage"],false);Protocol.inspectorBackend.registerCommand("CSS.takeCoverageDelta",[],["coverage"],false);Protocol.inspectorBackend.registerEnum("CacheStorage.CachedResponseType",{Basic:"basic",Cors:"cors",Default:"default",Error:"error",OpaqueResponse:"opaqueResponse",OpaqueRedirect:"opaqueRedirect"});Protocol.inspectorBackend.registerCommand("CacheStorage.deleteCache",[{name:"cacheId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("CacheStorage.deleteEntry",[{name:"cacheId",type:"string",optional:false},{name:"request",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("CacheStorage.requestCacheNames",[{name:"securityOrigin",type:"string",optional:false}],["caches"],false);Protocol.inspectorBackend.registerCommand("CacheStorage.requestCachedResponse",[{name:"cacheId",type:"string",optional:false},{name:"requestURL",type:"string",optional:false},{name:"requestHeaders",type:"object",optional:false}],["response"],false);Protocol.inspectorBackend.registerCommand("CacheStorage.requestEntries",[{name:"cacheId",type:"string",optional:false},{name:"skipCount",type:"number",optional:false},{name:"pageSize",type:"number",optional:false},{name:"pathFilter",type:"string",optional:true}],["cacheDataEntries","returnCount"],false);Protocol.inspectorBackend.registerEvent("Cast.sinksUpdated",["sinks"]);Protocol.inspectorBackend.registerEvent("Cast.issueUpdated",["issueMessage"]);Protocol.inspectorBackend.registerCommand("Cast.enable",[{name:"presentationUrl",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Cast.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Cast.setSinkToUse",[{name:"sinkName",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Cast.startTabMirroring",[{name:"sinkName",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Cast.stopCasting",[{name:"sinkName",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerEnum("DOM.PseudoType",{FirstLine:"first-line",FirstLetter:"first-letter",Before:"before",After:"after",Backdrop:"backdrop",Selection:"selection",FirstLineInherited:"first-line-inherited",Scrollbar:"scrollbar",ScrollbarThumb:"scrollbar-thumb",ScrollbarButton:"scrollbar-button",ScrollbarTrack:"scrollbar-track",ScrollbarTrackPiece:"scrollbar-track-piece",ScrollbarCorner:"scrollbar-corner",Resizer:"resizer",InputListButton:"input-list-button"});Protocol.inspectorBackend.registerEnum("DOM.ShadowRootType",{UserAgent:"user-agent",Open:"open",Closed:"closed"});Protocol.inspectorBackend.registerEvent("DOM.attributeModified",["nodeId","name","value"]);Protocol.inspectorBackend.registerEvent("DOM.attributeRemoved",["nodeId","name"]);Protocol.inspectorBackend.registerEvent("DOM.characterDataModified",["nodeId","characterData"]);Protocol.inspectorBackend.registerEvent("DOM.childNodeCountUpdated",["nodeId","childNodeCount"]);Protocol.inspectorBackend.registerEvent("DOM.childNodeInserted",["parentNodeId","previousNodeId","node"]);Protocol.inspectorBackend.registerEvent("DOM.childNodeRemoved",["parentNodeId","nodeId"]);Protocol.inspectorBackend.registerEvent("DOM.distributedNodesUpdated",["insertionPointId","distributedNodes"]);Protocol.inspectorBackend.registerEvent("DOM.documentUpdated",[]);Protocol.inspectorBackend.registerEvent("DOM.inlineStyleInvalidated",["nodeIds"]);Protocol.inspectorBackend.registerEvent("DOM.pseudoElementAdded",["parentId","pseudoElement"]);Protocol.inspectorBackend.registerEvent("DOM.pseudoElementRemoved",["parentId","pseudoElementId"]);Protocol.inspectorBackend.registerEvent("DOM.setChildNodes",["parentId","nodes"]);Protocol.inspectorBackend.registerEvent("DOM.shadowRootPopped",["hostId","rootId"]);Protocol.inspectorBackend.registerEvent("DOM.shadowRootPushed",["hostId","root"]);Protocol.inspectorBackend.registerCommand("DOM.collectClassNamesFromSubtree",[{name:"nodeId",type:"number",optional:false}],["classNames"],false);Protocol.inspectorBackend.registerCommand("DOM.copyTo",[{name:"nodeId",type:"number",optional:false},{name:"targetNodeId",type:"number",optional:false},{name:"insertBeforeNodeId",type:"number",optional:true}],["nodeId"],false);Protocol.inspectorBackend.registerCommand("DOM.describeNode",[{name:"nodeId",type:"number",optional:true},{name:"backendNodeId",type:"number",optional:true},{name:"objectId",type:"string",optional:true},{name:"depth",type:"number",optional:true},{name:"pierce",type:"boolean",optional:true}],["node"],false);Protocol.inspectorBackend.registerCommand("DOM.disable",[],[],false);Protocol.inspectorBackend.registerCommand("DOM.discardSearchResults",[{name:"searchId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOM.enable",[],[],false);Protocol.inspectorBackend.registerCommand("DOM.focus",[{name:"nodeId",type:"number",optional:true},{name:"backendNodeId",type:"number",optional:true},{name:"objectId",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("DOM.getAttributes",[{name:"nodeId",type:"number",optional:false}],["attributes"],false);Protocol.inspectorBackend.registerCommand("DOM.getBoxModel",[{name:"nodeId",type:"number",optional:true},{name:"backendNodeId",type:"number",optional:true},{name:"objectId",type:"string",optional:true}],["model"],false);Protocol.inspectorBackend.registerCommand("DOM.getContentQuads",[{name:"nodeId",type:"number",optional:true},{name:"backendNodeId",type:"number",optional:true},{name:"objectId",type:"string",optional:true}],["quads"],false);Protocol.inspectorBackend.registerCommand("DOM.getDocument",[{name:"depth",type:"number",optional:true},{name:"pierce",type:"boolean",optional:true}],["root"],false);Protocol.inspectorBackend.registerCommand("DOM.getFlattenedDocument",[{name:"depth",type:"number",optional:true},{name:"pierce",type:"boolean",optional:true}],["nodes"],false);Protocol.inspectorBackend.registerCommand("DOM.getNodeForLocation",[{name:"x",type:"number",optional:false},{name:"y",type:"number",optional:false},{name:"includeUserAgentShadowDOM",type:"boolean",optional:true}],["backendNodeId","nodeId"],false);Protocol.inspectorBackend.registerCommand("DOM.getOuterHTML",[{name:"nodeId",type:"number",optional:true},{name:"backendNodeId",type:"number",optional:true},{name:"objectId",type:"string",optional:true}],["outerHTML"],false);Protocol.inspectorBackend.registerCommand("DOM.getRelayoutBoundary",[{name:"nodeId",type:"number",optional:false}],["nodeId"],false);Protocol.inspectorBackend.registerCommand("DOM.getSearchResults",[{name:"searchId",type:"string",optional:false},{name:"fromIndex",type:"number",optional:false},{name:"toIndex",type:"number",optional:false}],["nodeIds"],false);Protocol.inspectorBackend.registerCommand("DOM.hideHighlight",[],[],false);Protocol.inspectorBackend.registerCommand("DOM.highlightNode",[],[],false);Protocol.inspectorBackend.registerCommand("DOM.highlightRect",[],[],false);Protocol.inspectorBackend.registerCommand("DOM.markUndoableState",[],[],false);Protocol.inspectorBackend.registerCommand("DOM.moveTo",[{name:"nodeId",type:"number",optional:false},{name:"targetNodeId",type:"number",optional:false},{name:"insertBeforeNodeId",type:"number",optional:true}],["nodeId"],false);Protocol.inspectorBackend.registerCommand("DOM.performSearch",[{name:"query",type:"string",optional:false},{name:"includeUserAgentShadowDOM",type:"boolean",optional:true}],["searchId","resultCount"],false);Protocol.inspectorBackend.registerCommand("DOM.pushNodeByPathToFrontend",[{name:"path",type:"string",optional:false}],["nodeId"],false);Protocol.inspectorBackend.registerCommand("DOM.pushNodesByBackendIdsToFrontend",[{name:"backendNodeIds",type:"object",optional:false}],["nodeIds"],false);Protocol.inspectorBackend.registerCommand("DOM.querySelector",[{name:"nodeId",type:"number",optional:false},{name:"selector",type:"string",optional:false}],["nodeId"],false);Protocol.inspectorBackend.registerCommand("DOM.querySelectorAll",[{name:"nodeId",type:"number",optional:false},{name:"selector",type:"string",optional:false}],["nodeIds"],false);Protocol.inspectorBackend.registerCommand("DOM.redo",[],[],false);Protocol.inspectorBackend.registerCommand("DOM.removeAttribute",[{name:"nodeId",type:"number",optional:false},{name:"name",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOM.removeNode",[{name:"nodeId",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOM.requestChildNodes",[{name:"nodeId",type:"number",optional:false},{name:"depth",type:"number",optional:true},{name:"pierce",type:"boolean",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("DOM.requestNode",[{name:"objectId",type:"string",optional:false}],["nodeId"],false);Protocol.inspectorBackend.registerCommand("DOM.resolveNode",[{name:"nodeId",type:"number",optional:true},{name:"backendNodeId",type:"number",optional:true},{name:"objectGroup",type:"string",optional:true},{name:"executionContextId",type:"number",optional:true}],["object"],false);Protocol.inspectorBackend.registerCommand("DOM.setAttributeValue",[{name:"nodeId",type:"number",optional:false},{name:"name",type:"string",optional:false},{name:"value",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOM.setAttributesAsText",[{name:"nodeId",type:"number",optional:false},{name:"text",type:"string",optional:false},{name:"name",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("DOM.setFileInputFiles",[{name:"files",type:"object",optional:false},{name:"nodeId",type:"number",optional:true},{name:"backendNodeId",type:"number",optional:true},{name:"objectId",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("DOM.getFileInfo",[{name:"objectId",type:"string",optional:false}],["path"],false);Protocol.inspectorBackend.registerCommand("DOM.setInspectedNode",[{name:"nodeId",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOM.setNodeName",[{name:"nodeId",type:"number",optional:false},{name:"name",type:"string",optional:false}],["nodeId"],false);Protocol.inspectorBackend.registerCommand("DOM.setNodeValue",[{name:"nodeId",type:"number",optional:false},{name:"value",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOM.setOuterHTML",[{name:"nodeId",type:"number",optional:false},{name:"outerHTML",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOM.undo",[],[],false);Protocol.inspectorBackend.registerCommand("DOM.getFrameOwner",[{name:"frameId",type:"string",optional:false}],["backendNodeId","nodeId"],false);Protocol.inspectorBackend.registerEnum("DOMDebugger.DOMBreakpointType",{SubtreeModified:"subtree-modified",AttributeModified:"attribute-modified",NodeRemoved:"node-removed"});Protocol.inspectorBackend.registerCommand("DOMDebugger.getEventListeners",[{name:"objectId",type:"string",optional:false},{name:"depth",type:"number",optional:true},{name:"pierce",type:"boolean",optional:true}],["listeners"],false);Protocol.inspectorBackend.registerCommand("DOMDebugger.removeDOMBreakpoint",[{name:"nodeId",type:"number",optional:false},{name:"type",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOMDebugger.removeEventListenerBreakpoint",[{name:"eventName",type:"string",optional:false},{name:"targetName",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("DOMDebugger.removeInstrumentationBreakpoint",[{name:"eventName",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOMDebugger.removeXHRBreakpoint",[{name:"url",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOMDebugger.setDOMBreakpoint",[{name:"nodeId",type:"number",optional:false},{name:"type",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOMDebugger.setEventListenerBreakpoint",[{name:"eventName",type:"string",optional:false},{name:"targetName",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("DOMDebugger.setInstrumentationBreakpoint",[{name:"eventName",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOMDebugger.setXHRBreakpoint",[{name:"url",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOMSnapshot.disable",[],[],false);Protocol.inspectorBackend.registerCommand("DOMSnapshot.enable",[],[],false);Protocol.inspectorBackend.registerCommand("DOMSnapshot.getSnapshot",[{name:"computedStyleWhitelist",type:"object",optional:false},{name:"includeEventListeners",type:"boolean",optional:true},{name:"includePaintOrder",type:"boolean",optional:true},{name:"includeUserAgentShadowTree",type:"boolean",optional:true}],["domNodes","layoutTreeNodes","computedStyles"],false);Protocol.inspectorBackend.registerCommand("DOMSnapshot.captureSnapshot",[{name:"computedStyles",type:"object",optional:false},{name:"includeDOMRects",type:"boolean",optional:true}],["documents","strings"],false);Protocol.inspectorBackend.registerEvent("DOMStorage.domStorageItemAdded",["storageId","key","newValue"]);Protocol.inspectorBackend.registerEvent("DOMStorage.domStorageItemRemoved",["storageId","key"]);Protocol.inspectorBackend.registerEvent("DOMStorage.domStorageItemUpdated",["storageId","key","oldValue","newValue"]);Protocol.inspectorBackend.registerEvent("DOMStorage.domStorageItemsCleared",["storageId"]);Protocol.inspectorBackend.registerCommand("DOMStorage.clear",[{name:"storageId",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOMStorage.disable",[],[],false);Protocol.inspectorBackend.registerCommand("DOMStorage.enable",[],[],false);Protocol.inspectorBackend.registerCommand("DOMStorage.getDOMStorageItems",[{name:"storageId",type:"object",optional:false}],["entries"],false);Protocol.inspectorBackend.registerCommand("DOMStorage.removeDOMStorageItem",[{name:"storageId",type:"object",optional:false},{name:"key",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("DOMStorage.setDOMStorageItem",[{name:"storageId",type:"object",optional:false},{name:"key",type:"string",optional:false},{name:"value",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerEvent("Database.addDatabase",["database"]);Protocol.inspectorBackend.registerCommand("Database.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Database.enable",[],[],false);Protocol.inspectorBackend.registerCommand("Database.executeSQL",[{name:"databaseId",type:"string",optional:false},{name:"query",type:"string",optional:false}],["columnNames","values","sqlError"],false);Protocol.inspectorBackend.registerCommand("Database.getDatabaseTableNames",[{name:"databaseId",type:"string",optional:false}],["tableNames"],false);Protocol.inspectorBackend.registerCommand("DeviceOrientation.clearDeviceOrientationOverride",[],[],false);Protocol.inspectorBackend.registerCommand("DeviceOrientation.setDeviceOrientationOverride",[{name:"alpha",type:"number",optional:false},{name:"beta",type:"number",optional:false},{name:"gamma",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerEnum("Emulation.ScreenOrientationType",{PortraitPrimary:"portraitPrimary",PortraitSecondary:"portraitSecondary",LandscapePrimary:"landscapePrimary",LandscapeSecondary:"landscapeSecondary"});Protocol.inspectorBackend.registerEnum("Emulation.VirtualTimePolicy",{Advance:"advance",Pause:"pause",PauseIfNetworkFetchesPending:"pauseIfNetworkFetchesPending"});Protocol.inspectorBackend.registerEvent("Emulation.virtualTimeBudgetExpired",[]);Protocol.inspectorBackend.registerCommand("Emulation.canEmulate",[],["result"],false);Protocol.inspectorBackend.registerCommand("Emulation.clearDeviceMetricsOverride",[],[],false);Protocol.inspectorBackend.registerCommand("Emulation.clearGeolocationOverride",[],[],false);Protocol.inspectorBackend.registerCommand("Emulation.resetPageScaleFactor",[],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setFocusEmulationEnabled",[{name:"enabled",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setCPUThrottlingRate",[{name:"rate",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setDefaultBackgroundColorOverride",[{name:"color",type:"object",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setDeviceMetricsOverride",[{name:"width",type:"number",optional:false},{name:"height",type:"number",optional:false},{name:"deviceScaleFactor",type:"number",optional:false},{name:"mobile",type:"boolean",optional:false},{name:"scale",type:"number",optional:true},{name:"screenWidth",type:"number",optional:true},{name:"screenHeight",type:"number",optional:true},{name:"positionX",type:"number",optional:true},{name:"positionY",type:"number",optional:true},{name:"dontSetVisibleSize",type:"boolean",optional:true},{name:"screenOrientation",type:"object",optional:true},{name:"viewport",type:"object",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setScrollbarsHidden",[{name:"hidden",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setDocumentCookieDisabled",[{name:"disabled",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setEmitTouchEventsForMouse",[{name:"enabled",type:"boolean",optional:false},{name:"configuration",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setEmulatedMedia",[{name:"media",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setGeolocationOverride",[{name:"latitude",type:"number",optional:true},{name:"longitude",type:"number",optional:true},{name:"accuracy",type:"number",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setNavigatorOverrides",[{name:"platform",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setPageScaleFactor",[{name:"pageScaleFactor",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setScriptExecutionDisabled",[{name:"value",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setTouchEmulationEnabled",[{name:"enabled",type:"boolean",optional:false},{name:"maxTouchPoints",type:"number",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setVirtualTimePolicy",[{name:"policy",type:"string",optional:false},{name:"budget",type:"number",optional:true},{name:"maxVirtualTimeTaskStarvationCount",type:"number",optional:true},{name:"waitForNavigation",type:"boolean",optional:true},{name:"initialVirtualTime",type:"number",optional:true}],["virtualTimeTicksBase"],false);Protocol.inspectorBackend.registerCommand("Emulation.setTimezoneOverride",[{name:"timezoneId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setVisibleSize",[{name:"width",type:"number",optional:false},{name:"height",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Emulation.setUserAgentOverride",[{name:"userAgent",type:"string",optional:false},{name:"acceptLanguage",type:"string",optional:true},{name:"platform",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerEnum("HeadlessExperimental.ScreenshotParamsFormat",{Jpeg:"jpeg",Png:"png"});Protocol.inspectorBackend.registerEvent("HeadlessExperimental.needsBeginFramesChanged",["needsBeginFrames"]);Protocol.inspectorBackend.registerCommand("HeadlessExperimental.beginFrame",[{name:"frameTimeTicks",type:"number",optional:true},{name:"interval",type:"number",optional:true},{name:"noDisplayUpdates",type:"boolean",optional:true},{name:"screenshot",type:"object",optional:true}],["hasDamage","screenshotData"],false);Protocol.inspectorBackend.registerCommand("HeadlessExperimental.disable",[],[],false);Protocol.inspectorBackend.registerCommand("HeadlessExperimental.enable",[],[],false);Protocol.inspectorBackend.registerCommand("IO.close",[{name:"handle",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("IO.read",[{name:"handle",type:"string",optional:false},{name:"offset",type:"number",optional:true},{name:"size",type:"number",optional:true}],["base64Encoded","data","eof"],false);Protocol.inspectorBackend.registerCommand("IO.resolveBlob",[{name:"objectId",type:"string",optional:false}],["uuid"],false);Protocol.inspectorBackend.registerEnum("IndexedDB.KeyType",{Number:"number",String:"string",Date:"date",Array:"array"});Protocol.inspectorBackend.registerEnum("IndexedDB.KeyPathType",{Null:"null",String:"string",Array:"array"});Protocol.inspectorBackend.registerCommand("IndexedDB.clearObjectStore",[{name:"securityOrigin",type:"string",optional:false},{name:"databaseName",type:"string",optional:false},{name:"objectStoreName",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("IndexedDB.deleteDatabase",[{name:"securityOrigin",type:"string",optional:false},{name:"databaseName",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("IndexedDB.deleteObjectStoreEntries",[{name:"securityOrigin",type:"string",optional:false},{name:"databaseName",type:"string",optional:false},{name:"objectStoreName",type:"string",optional:false},{name:"keyRange",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("IndexedDB.disable",[],[],false);Protocol.inspectorBackend.registerCommand("IndexedDB.enable",[],[],false);Protocol.inspectorBackend.registerCommand("IndexedDB.requestData",[{name:"securityOrigin",type:"string",optional:false},{name:"databaseName",type:"string",optional:false},{name:"objectStoreName",type:"string",optional:false},{name:"indexName",type:"string",optional:false},{name:"skipCount",type:"number",optional:false},{name:"pageSize",type:"number",optional:false},{name:"keyRange",type:"object",optional:true}],["objectStoreDataEntries","hasMore"],false);Protocol.inspectorBackend.registerCommand("IndexedDB.getMetadata",[{name:"securityOrigin",type:"string",optional:false},{name:"databaseName",type:"string",optional:false},{name:"objectStoreName",type:"string",optional:false}],["entriesCount","keyGeneratorValue"],false);Protocol.inspectorBackend.registerCommand("IndexedDB.requestDatabase",[{name:"securityOrigin",type:"string",optional:false},{name:"databaseName",type:"string",optional:false}],["databaseWithObjectStores"],false);Protocol.inspectorBackend.registerCommand("IndexedDB.requestDatabaseNames",[{name:"securityOrigin",type:"string",optional:false}],["databaseNames"],false);Protocol.inspectorBackend.registerEnum("Input.GestureSourceType",{Default:"default",Touch:"touch",Mouse:"mouse"});Protocol.inspectorBackend.registerCommand("Input.dispatchKeyEvent",[{name:"type",type:"string",optional:false},{name:"modifiers",type:"number",optional:true},{name:"timestamp",type:"number",optional:true},{name:"text",type:"string",optional:true},{name:"unmodifiedText",type:"string",optional:true},{name:"keyIdentifier",type:"string",optional:true},{name:"code",type:"string",optional:true},{name:"key",type:"string",optional:true},{name:"windowsVirtualKeyCode",type:"number",optional:true},{name:"nativeVirtualKeyCode",type:"number",optional:true},{name:"autoRepeat",type:"boolean",optional:true},{name:"isKeypad",type:"boolean",optional:true},{name:"isSystemKey",type:"boolean",optional:true},{name:"location",type:"number",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Input.insertText",[{name:"text",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Input.dispatchMouseEvent",[{name:"type",type:"string",optional:false},{name:"x",type:"number",optional:false},{name:"y",type:"number",optional:false},{name:"modifiers",type:"number",optional:true},{name:"timestamp",type:"number",optional:true},{name:"button",type:"string",optional:true},{name:"buttons",type:"number",optional:true},{name:"clickCount",type:"number",optional:true},{name:"deltaX",type:"number",optional:true},{name:"deltaY",type:"number",optional:true},{name:"pointerType",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Input.dispatchTouchEvent",[{name:"type",type:"string",optional:false},{name:"touchPoints",type:"object",optional:false},{name:"modifiers",type:"number",optional:true},{name:"timestamp",type:"number",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Input.emulateTouchFromMouseEvent",[{name:"type",type:"string",optional:false},{name:"x",type:"number",optional:false},{name:"y",type:"number",optional:false},{name:"button",type:"string",optional:false},{name:"timestamp",type:"number",optional:true},{name:"deltaX",type:"number",optional:true},{name:"deltaY",type:"number",optional:true},{name:"modifiers",type:"number",optional:true},{name:"clickCount",type:"number",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Input.setIgnoreInputEvents",[{name:"ignore",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Input.synthesizePinchGesture",[{name:"x",type:"number",optional:false},{name:"y",type:"number",optional:false},{name:"scaleFactor",type:"number",optional:false},{name:"relativeSpeed",type:"number",optional:true},{name:"gestureSourceType",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Input.synthesizeScrollGesture",[{name:"x",type:"number",optional:false},{name:"y",type:"number",optional:false},{name:"xDistance",type:"number",optional:true},{name:"yDistance",type:"number",optional:true},{name:"xOverscroll",type:"number",optional:true},{name:"yOverscroll",type:"number",optional:true},{name:"preventFling",type:"boolean",optional:true},{name:"speed",type:"number",optional:true},{name:"gestureSourceType",type:"string",optional:true},{name:"repeatCount",type:"number",optional:true},{name:"repeatDelayMs",type:"number",optional:true},{name:"interactionMarkerName",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Input.synthesizeTapGesture",[{name:"x",type:"number",optional:false},{name:"y",type:"number",optional:false},{name:"duration",type:"number",optional:true},{name:"tapCount",type:"number",optional:true},{name:"gestureSourceType",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerEvent("Inspector.detached",["reason"]);Protocol.inspectorBackend.registerEvent("Inspector.targetCrashed",[]);Protocol.inspectorBackend.registerEvent("Inspector.targetReloadedAfterCrash",[]);Protocol.inspectorBackend.registerCommand("Inspector.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Inspector.enable",[],[],false);Protocol.inspectorBackend.registerEnum("LayerTree.ScrollRectType",{RepaintsOnScroll:"RepaintsOnScroll",TouchEventHandler:"TouchEventHandler",WheelEventHandler:"WheelEventHandler"});Protocol.inspectorBackend.registerEvent("LayerTree.layerPainted",["layerId","clip"]);Protocol.inspectorBackend.registerEvent("LayerTree.layerTreeDidChange",["layers"]);Protocol.inspectorBackend.registerCommand("LayerTree.compositingReasons",[{name:"layerId",type:"string",optional:false}],["compositingReasons"],false);Protocol.inspectorBackend.registerCommand("LayerTree.disable",[],[],false);Protocol.inspectorBackend.registerCommand("LayerTree.enable",[],[],false);Protocol.inspectorBackend.registerCommand("LayerTree.loadSnapshot",[{name:"tiles",type:"object",optional:false}],["snapshotId"],false);Protocol.inspectorBackend.registerCommand("LayerTree.makeSnapshot",[{name:"layerId",type:"string",optional:false}],["snapshotId"],false);Protocol.inspectorBackend.registerCommand("LayerTree.profileSnapshot",[{name:"snapshotId",type:"string",optional:false},{name:"minRepeatCount",type:"number",optional:true},{name:"minDuration",type:"number",optional:true},{name:"clipRect",type:"object",optional:true}],["timings"],false);Protocol.inspectorBackend.registerCommand("LayerTree.releaseSnapshot",[{name:"snapshotId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("LayerTree.replaySnapshot",[{name:"snapshotId",type:"string",optional:false},{name:"fromStep",type:"number",optional:true},{name:"toStep",type:"number",optional:true},{name:"scale",type:"number",optional:true}],["dataURL"],false);Protocol.inspectorBackend.registerCommand("LayerTree.snapshotCommandLog",[{name:"snapshotId",type:"string",optional:false}],["commandLog"],false);Protocol.inspectorBackend.registerEnum("Log.LogEntrySource",{XML:"xml",Javascript:"javascript",Network:"network",Storage:"storage",Appcache:"appcache",Rendering:"rendering",Security:"security",Deprecation:"deprecation",Worker:"worker",Violation:"violation",Intervention:"intervention",Recommendation:"recommendation",Other:"other"});Protocol.inspectorBackend.registerEnum("Log.LogEntryLevel",{Verbose:"verbose",Info:"info",Warning:"warning",Error:"error"});Protocol.inspectorBackend.registerEnum("Log.ViolationSettingName",{LongTask:"longTask",LongLayout:"longLayout",BlockedEvent:"blockedEvent",BlockedParser:"blockedParser",DiscouragedAPIUse:"discouragedAPIUse",Handler:"handler",RecurringHandler:"recurringHandler"});Protocol.inspectorBackend.registerEvent("Log.entryAdded",["entry"]);Protocol.inspectorBackend.registerCommand("Log.clear",[],[],false);Protocol.inspectorBackend.registerCommand("Log.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Log.enable",[],[],false);Protocol.inspectorBackend.registerCommand("Log.startViolationsReport",[{name:"config",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Log.stopViolationsReport",[],[],false);Protocol.inspectorBackend.registerEnum("Memory.PressureLevel",{Moderate:"moderate",Critical:"critical"});Protocol.inspectorBackend.registerCommand("Memory.getDOMCounters",[],["documents","nodes","jsEventListeners"],false);Protocol.inspectorBackend.registerCommand("Memory.prepareForLeakDetection",[],[],false);Protocol.inspectorBackend.registerCommand("Memory.forciblyPurgeJavaScriptMemory",[],[],false);Protocol.inspectorBackend.registerCommand("Memory.setPressureNotificationsSuppressed",[{name:"suppressed",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Memory.simulatePressureNotification",[{name:"level",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Memory.startSampling",[{name:"samplingInterval",type:"number",optional:true},{name:"suppressRandomness",type:"boolean",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Memory.stopSampling",[],[],false);Protocol.inspectorBackend.registerCommand("Memory.getAllTimeSamplingProfile",[],["profile"],false);Protocol.inspectorBackend.registerCommand("Memory.getBrowserSamplingProfile",[],["profile"],false);Protocol.inspectorBackend.registerCommand("Memory.getSamplingProfile",[],["profile"],false);Protocol.inspectorBackend.registerEnum("Network.ResourceType",{Document:"Document",Stylesheet:"Stylesheet",Image:"Image",Media:"Media",Font:"Font",Script:"Script",TextTrack:"TextTrack",XHR:"XHR",Fetch:"Fetch",EventSource:"EventSource",WebSocket:"WebSocket",Manifest:"Manifest",SignedExchange:"SignedExchange",Ping:"Ping",CSPViolationReport:"CSPViolationReport",Other:"Other"});Protocol.inspectorBackend.registerEnum("Network.ErrorReason",{Failed:"Failed",Aborted:"Aborted",TimedOut:"TimedOut",AccessDenied:"AccessDenied",ConnectionClosed:"ConnectionClosed",ConnectionReset:"ConnectionReset",ConnectionRefused:"ConnectionRefused",ConnectionAborted:"ConnectionAborted",ConnectionFailed:"ConnectionFailed",NameNotResolved:"NameNotResolved",InternetDisconnected:"InternetDisconnected",AddressUnreachable:"AddressUnreachable",BlockedByClient:"BlockedByClient",BlockedByResponse:"BlockedByResponse"});Protocol.inspectorBackend.registerEnum("Network.ConnectionType",{None:"none",Cellular2g:"cellular2g",Cellular3g:"cellular3g",Cellular4g:"cellular4g",Bluetooth:"bluetooth",Ethernet:"ethernet",Wifi:"wifi",Wimax:"wimax",Other:"other"});Protocol.inspectorBackend.registerEnum("Network.CookieSameSite",{Strict:"Strict",Lax:"Lax",Extended:"Extended",None:"None"});Protocol.inspectorBackend.registerEnum("Network.ResourcePriority",{VeryLow:"VeryLow",Low:"Low",Medium:"Medium",High:"High",VeryHigh:"VeryHigh"});Protocol.inspectorBackend.registerEnum("Network.RequestReferrerPolicy",{UnsafeUrl:"unsafe-url",NoReferrerWhenDowngrade:"no-referrer-when-downgrade",NoReferrer:"no-referrer",Origin:"origin",OriginWhenCrossOrigin:"origin-when-cross-origin",SameOrigin:"same-origin",StrictOrigin:"strict-origin",StrictOriginWhenCrossOrigin:"strict-origin-when-cross-origin"});Protocol.inspectorBackend.registerEnum("Network.CertificateTransparencyCompliance",{Unknown:"unknown",NotCompliant:"not-compliant",Compliant:"compliant"});Protocol.inspectorBackend.registerEnum("Network.BlockedReason",{Other:"other",Csp:"csp",MixedContent:"mixed-content",Origin:"origin",Inspector:"inspector",SubresourceFilter:"subresource-filter",ContentType:"content-type",CollapsedByClient:"collapsed-by-client"});Protocol.inspectorBackend.registerEnum("Network.InitiatorType",{Parser:"parser",Script:"script",Preload:"preload",SignedExchange:"SignedExchange",Other:"other"});Protocol.inspectorBackend.registerEnum("Network.AuthChallengeSource",{Server:"Server",Proxy:"Proxy"});Protocol.inspectorBackend.registerEnum("Network.AuthChallengeResponseResponse",{Default:"Default",CancelAuth:"CancelAuth",ProvideCredentials:"ProvideCredentials"});Protocol.inspectorBackend.registerEnum("Network.InterceptionStage",{Request:"Request",HeadersReceived:"HeadersReceived"});Protocol.inspectorBackend.registerEnum("Network.SignedExchangeErrorField",{SignatureSig:"signatureSig",SignatureIntegrity:"signatureIntegrity",SignatureCertUrl:"signatureCertUrl",SignatureCertSha256:"signatureCertSha256",SignatureValidityUrl:"signatureValidityUrl",SignatureTimestamps:"signatureTimestamps"});Protocol.inspectorBackend.registerEvent("Network.dataReceived",["requestId","timestamp","dataLength","encodedDataLength"]);Protocol.inspectorBackend.registerEvent("Network.eventSourceMessageReceived",["requestId","timestamp","eventName","eventId","data"]);Protocol.inspectorBackend.registerEvent("Network.loadingFailed",["requestId","timestamp","type","errorText","canceled","blockedReason"]);Protocol.inspectorBackend.registerEvent("Network.loadingFinished",["requestId","timestamp","encodedDataLength","shouldReportCorbBlocking"]);Protocol.inspectorBackend.registerEvent("Network.requestIntercepted",["interceptionId","request","frameId","resourceType","isNavigationRequest","isDownload","redirectUrl","authChallenge","responseErrorReason","responseStatusCode","responseHeaders","requestId"]);Protocol.inspectorBackend.registerEvent("Network.requestServedFromCache",["requestId"]);Protocol.inspectorBackend.registerEvent("Network.requestWillBeSent",["requestId","loaderId","documentURL","request","timestamp","wallTime","initiator","redirectResponse","type","frameId","hasUserGesture"]);Protocol.inspectorBackend.registerEvent("Network.resourceChangedPriority",["requestId","newPriority","timestamp"]);Protocol.inspectorBackend.registerEvent("Network.signedExchangeReceived",["requestId","info"]);Protocol.inspectorBackend.registerEvent("Network.responseReceived",["requestId","loaderId","timestamp","type","response","frameId"]);Protocol.inspectorBackend.registerEvent("Network.webSocketClosed",["requestId","timestamp"]);Protocol.inspectorBackend.registerEvent("Network.webSocketCreated",["requestId","url","initiator"]);Protocol.inspectorBackend.registerEvent("Network.webSocketFrameError",["requestId","timestamp","errorMessage"]);Protocol.inspectorBackend.registerEvent("Network.webSocketFrameReceived",["requestId","timestamp","response"]);Protocol.inspectorBackend.registerEvent("Network.webSocketFrameSent",["requestId","timestamp","response"]);Protocol.inspectorBackend.registerEvent("Network.webSocketHandshakeResponseReceived",["requestId","timestamp","response"]);Protocol.inspectorBackend.registerEvent("Network.webSocketWillSendHandshakeRequest",["requestId","timestamp","wallTime","request"]);Protocol.inspectorBackend.registerCommand("Network.canClearBrowserCache",[],["result"],false);Protocol.inspectorBackend.registerCommand("Network.canClearBrowserCookies",[],["result"],false);Protocol.inspectorBackend.registerCommand("Network.canEmulateNetworkConditions",[],["result"],false);Protocol.inspectorBackend.registerCommand("Network.clearBrowserCache",[],[],false);Protocol.inspectorBackend.registerCommand("Network.clearBrowserCookies",[],[],false);Protocol.inspectorBackend.registerCommand("Network.continueInterceptedRequest",[{name:"interceptionId",type:"string",optional:false},{name:"errorReason",type:"string",optional:true},{name:"rawResponse",type:"string",optional:true},{name:"url",type:"string",optional:true},{name:"method",type:"string",optional:true},{name:"postData",type:"string",optional:true},{name:"headers",type:"object",optional:true},{name:"authChallengeResponse",type:"object",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Network.deleteCookies",[{name:"name",type:"string",optional:false},{name:"url",type:"string",optional:true},{name:"domain",type:"string",optional:true},{name:"path",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Network.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Network.emulateNetworkConditions",[{name:"offline",type:"boolean",optional:false},{name:"latency",type:"number",optional:false},{name:"downloadThroughput",type:"number",optional:false},{name:"uploadThroughput",type:"number",optional:false},{name:"connectionType",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Network.enable",[{name:"maxTotalBufferSize",type:"number",optional:true},{name:"maxResourceBufferSize",type:"number",optional:true},{name:"maxPostDataSize",type:"number",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Network.getAllCookies",[],["cookies"],false);Protocol.inspectorBackend.registerCommand("Network.getCertificate",[{name:"origin",type:"string",optional:false}],["tableNames"],false);Protocol.inspectorBackend.registerCommand("Network.getCookies",[{name:"urls",type:"object",optional:true}],["cookies"],false);Protocol.inspectorBackend.registerCommand("Network.getResponseBody",[{name:"requestId",type:"string",optional:false}],["body","base64Encoded"],false);Protocol.inspectorBackend.registerCommand("Network.getRequestPostData",[{name:"requestId",type:"string",optional:false}],["postData"],false);Protocol.inspectorBackend.registerCommand("Network.getResponseBodyForInterception",[{name:"interceptionId",type:"string",optional:false}],["body","base64Encoded"],false);Protocol.inspectorBackend.registerCommand("Network.takeResponseBodyForInterceptionAsStream",[{name:"interceptionId",type:"string",optional:false}],["stream"],false);Protocol.inspectorBackend.registerCommand("Network.replayXHR",[{name:"requestId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Network.searchInResponseBody",[{name:"requestId",type:"string",optional:false},{name:"query",type:"string",optional:false},{name:"caseSensitive",type:"boolean",optional:true},{name:"isRegex",type:"boolean",optional:true}],["result"],false);Protocol.inspectorBackend.registerCommand("Network.setBlockedURLs",[{name:"urls",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Network.setBypassServiceWorker",[{name:"bypass",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Network.setCacheDisabled",[{name:"cacheDisabled",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Network.setCookie",[{name:"name",type:"string",optional:false},{name:"value",type:"string",optional:false},{name:"url",type:"string",optional:true},{name:"domain",type:"string",optional:true},{name:"path",type:"string",optional:true},{name:"secure",type:"boolean",optional:true},{name:"httpOnly",type:"boolean",optional:true},{name:"sameSite",type:"string",optional:true},{name:"expires",type:"number",optional:true}],["success"],false);Protocol.inspectorBackend.registerCommand("Network.setCookies",[{name:"cookies",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Network.setDataSizeLimitsForTest",[{name:"maxTotalSize",type:"number",optional:false},{name:"maxResourceSize",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Network.setExtraHTTPHeaders",[{name:"headers",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Network.setRequestInterception",[{name:"patterns",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Network.setUserAgentOverride",[{name:"userAgent",type:"string",optional:false},{name:"acceptLanguage",type:"string",optional:true},{name:"platform",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerEnum("Overlay.InspectMode",{SearchForNode:"searchForNode",SearchForUAShadowDOM:"searchForUAShadowDOM",CaptureAreaScreenshot:"captureAreaScreenshot",ShowDistances:"showDistances",None:"none"});Protocol.inspectorBackend.registerEvent("Overlay.inspectNodeRequested",["backendNodeId"]);Protocol.inspectorBackend.registerEvent("Overlay.nodeHighlightRequested",["nodeId"]);Protocol.inspectorBackend.registerEvent("Overlay.screenshotRequested",["viewport"]);Protocol.inspectorBackend.registerEvent("Overlay.inspectModeCanceled",[]);Protocol.inspectorBackend.registerCommand("Overlay.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Overlay.enable",[],[],false);Protocol.inspectorBackend.registerCommand("Overlay.getHighlightObjectForTest",[{name:"nodeId",type:"number",optional:false},{name:"includeDistance",type:"boolean",optional:true}],["highlight"],false);Protocol.inspectorBackend.registerCommand("Overlay.hideHighlight",[],[],false);Protocol.inspectorBackend.registerCommand("Overlay.highlightFrame",[{name:"frameId",type:"string",optional:false},{name:"contentColor",type:"object",optional:true},{name:"contentOutlineColor",type:"object",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.highlightNode",[{name:"highlightConfig",type:"object",optional:false},{name:"nodeId",type:"number",optional:true},{name:"backendNodeId",type:"number",optional:true},{name:"objectId",type:"string",optional:true},{name:"selector",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.highlightQuad",[{name:"quad",type:"object",optional:false},{name:"color",type:"object",optional:true},{name:"outlineColor",type:"object",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.highlightRect",[{name:"x",type:"number",optional:false},{name:"y",type:"number",optional:false},{name:"width",type:"number",optional:false},{name:"height",type:"number",optional:false},{name:"color",type:"object",optional:true},{name:"outlineColor",type:"object",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.setInspectMode",[{name:"mode",type:"string",optional:false},{name:"highlightConfig",type:"object",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.setShowAdHighlights",[{name:"show",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.setPausedInDebuggerMessage",[{name:"message",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.setShowDebugBorders",[{name:"show",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.setShowFPSCounter",[{name:"show",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.setShowPaintRects",[{name:"result",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.setShowLayoutShiftRegions",[{name:"result",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.setShowScrollBottleneckRects",[{name:"show",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.setShowHitTestBorders",[{name:"show",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Overlay.setShowViewportSizeOnResize",[{name:"show",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerEnum("Page.TransitionType",{Link:"link",Typed:"typed",Address_bar:"address_bar",Auto_bookmark:"auto_bookmark",Auto_subframe:"auto_subframe",Manual_subframe:"manual_subframe",Generated:"generated",Auto_toplevel:"auto_toplevel",Form_submit:"form_submit",Reload:"reload",Keyword:"keyword",Keyword_generated:"keyword_generated",Other:"other"});Protocol.inspectorBackend.registerEnum("Page.DialogType",{Alert:"alert",Confirm:"confirm",Prompt:"prompt",Beforeunload:"beforeunload"});Protocol.inspectorBackend.registerEnum("Page.ClientNavigationReason",{FormSubmissionGet:"formSubmissionGet",FormSubmissionPost:"formSubmissionPost",HttpHeaderRefresh:"httpHeaderRefresh",ScriptInitiated:"scriptInitiated",MetaTagRefresh:"metaTagRefresh",PageBlockInterstitial:"pageBlockInterstitial",Reload:"reload"});Protocol.inspectorBackend.registerEvent("Page.domContentEventFired",["timestamp"]);Protocol.inspectorBackend.registerEvent("Page.frameAttached",["frameId","parentFrameId","stack"]);Protocol.inspectorBackend.registerEvent("Page.frameClearedScheduledNavigation",["frameId"]);Protocol.inspectorBackend.registerEvent("Page.frameDetached",["frameId"]);Protocol.inspectorBackend.registerEvent("Page.frameNavigated",["frame"]);Protocol.inspectorBackend.registerEvent("Page.frameResized",[]);Protocol.inspectorBackend.registerEvent("Page.frameRequestedNavigation",["frameId","reason","url"]);Protocol.inspectorBackend.registerEvent("Page.frameScheduledNavigation",["frameId","delay","reason","url"]);Protocol.inspectorBackend.registerEvent("Page.frameStartedLoading",["frameId"]);Protocol.inspectorBackend.registerEvent("Page.frameStoppedLoading",["frameId"]);Protocol.inspectorBackend.registerEvent("Page.downloadWillBegin",["frameId","url"]);Protocol.inspectorBackend.registerEvent("Page.interstitialHidden",[]);Protocol.inspectorBackend.registerEvent("Page.interstitialShown",[]);Protocol.inspectorBackend.registerEvent("Page.javascriptDialogClosed",["result","userInput"]);Protocol.inspectorBackend.registerEvent("Page.javascriptDialogOpening",["url","message","type","hasBrowserHandler","defaultPrompt"]);Protocol.inspectorBackend.registerEvent("Page.lifecycleEvent",["frameId","loaderId","name","timestamp"]);Protocol.inspectorBackend.registerEvent("Page.loadEventFired",["timestamp"]);Protocol.inspectorBackend.registerEvent("Page.navigatedWithinDocument",["frameId","url"]);Protocol.inspectorBackend.registerEvent("Page.screencastFrame",["data","metadata","sessionId"]);Protocol.inspectorBackend.registerEvent("Page.screencastVisibilityChanged",["visible"]);Protocol.inspectorBackend.registerEvent("Page.windowOpen",["url","windowName","windowFeatures","userGesture"]);Protocol.inspectorBackend.registerEvent("Page.compilationCacheProduced",["url","data"]);Protocol.inspectorBackend.registerCommand("Page.addScriptToEvaluateOnLoad",[{name:"scriptSource",type:"string",optional:false}],["identifier"],false);Protocol.inspectorBackend.registerCommand("Page.addScriptToEvaluateOnNewDocument",[{name:"source",type:"string",optional:false},{name:"worldName",type:"string",optional:true}],["identifier"],false);Protocol.inspectorBackend.registerCommand("Page.bringToFront",[],[],false);Protocol.inspectorBackend.registerCommand("Page.captureScreenshot",[{name:"format",type:"string",optional:true},{name:"quality",type:"number",optional:true},{name:"clip",type:"object",optional:true},{name:"fromSurface",type:"boolean",optional:true}],["data"],false);Protocol.inspectorBackend.registerCommand("Page.captureSnapshot",[{name:"format",type:"string",optional:true}],["data"],false);Protocol.inspectorBackend.registerCommand("Page.clearDeviceMetricsOverride",[],[],false);Protocol.inspectorBackend.registerCommand("Page.clearDeviceOrientationOverride",[],[],false);Protocol.inspectorBackend.registerCommand("Page.clearGeolocationOverride",[],[],false);Protocol.inspectorBackend.registerCommand("Page.createIsolatedWorld",[{name:"frameId",type:"string",optional:false},{name:"worldName",type:"string",optional:true},{name:"grantUniveralAccess",type:"boolean",optional:true}],["executionContextId"],false);Protocol.inspectorBackend.registerCommand("Page.deleteCookie",[{name:"cookieName",type:"string",optional:false},{name:"url",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Page.enable",[],[],false);Protocol.inspectorBackend.registerCommand("Page.getAppManifest",[],["url","errors","data"],false);Protocol.inspectorBackend.registerCommand("Page.getInstallabilityErrors",[],["errors"],false);Protocol.inspectorBackend.registerCommand("Page.getCookies",[],["cookies"],false);Protocol.inspectorBackend.registerCommand("Page.getFrameTree",[],["frameTree"],false);Protocol.inspectorBackend.registerCommand("Page.getLayoutMetrics",[],["layoutViewport","visualViewport","contentSize"],false);Protocol.inspectorBackend.registerCommand("Page.getNavigationHistory",[],["currentIndex","entries"],false);Protocol.inspectorBackend.registerCommand("Page.resetNavigationHistory",[],[],false);Protocol.inspectorBackend.registerCommand("Page.getResourceContent",[{name:"frameId",type:"string",optional:false},{name:"url",type:"string",optional:false}],["content","base64Encoded"],false);Protocol.inspectorBackend.registerCommand("Page.getResourceTree",[],["frameTree"],false);Protocol.inspectorBackend.registerCommand("Page.handleJavaScriptDialog",[{name:"accept",type:"boolean",optional:false},{name:"promptText",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Page.navigate",[{name:"url",type:"string",optional:false},{name:"referrer",type:"string",optional:true},{name:"transitionType",type:"string",optional:true},{name:"frameId",type:"string",optional:true}],["frameId","loaderId","errorText"],false);Protocol.inspectorBackend.registerCommand("Page.navigateToHistoryEntry",[{name:"entryId",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.printToPDF",[{name:"landscape",type:"boolean",optional:true},{name:"displayHeaderFooter",type:"boolean",optional:true},{name:"printBackground",type:"boolean",optional:true},{name:"scale",type:"number",optional:true},{name:"paperWidth",type:"number",optional:true},{name:"paperHeight",type:"number",optional:true},{name:"marginTop",type:"number",optional:true},{name:"marginBottom",type:"number",optional:true},{name:"marginLeft",type:"number",optional:true},{name:"marginRight",type:"number",optional:true},{name:"pageRanges",type:"string",optional:true},{name:"ignoreInvalidPageRanges",type:"boolean",optional:true},{name:"headerTemplate",type:"string",optional:true},{name:"footerTemplate",type:"string",optional:true},{name:"preferCSSPageSize",type:"boolean",optional:true},{name:"transferMode",type:"string",optional:true}],["data","stream"],false);Protocol.inspectorBackend.registerCommand("Page.reload",[{name:"ignoreCache",type:"boolean",optional:true},{name:"scriptToEvaluateOnLoad",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Page.removeScriptToEvaluateOnLoad",[{name:"identifier",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.removeScriptToEvaluateOnNewDocument",[{name:"identifier",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.screencastFrameAck",[{name:"sessionId",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.searchInResource",[{name:"frameId",type:"string",optional:false},{name:"url",type:"string",optional:false},{name:"query",type:"string",optional:false},{name:"caseSensitive",type:"boolean",optional:true},{name:"isRegex",type:"boolean",optional:true}],["result"],false);Protocol.inspectorBackend.registerCommand("Page.setAdBlockingEnabled",[{name:"enabled",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.setBypassCSP",[{name:"enabled",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.setDeviceMetricsOverride",[{name:"width",type:"number",optional:false},{name:"height",type:"number",optional:false},{name:"deviceScaleFactor",type:"number",optional:false},{name:"mobile",type:"boolean",optional:false},{name:"scale",type:"number",optional:true},{name:"screenWidth",type:"number",optional:true},{name:"screenHeight",type:"number",optional:true},{name:"positionX",type:"number",optional:true},{name:"positionY",type:"number",optional:true},{name:"dontSetVisibleSize",type:"boolean",optional:true},{name:"screenOrientation",type:"object",optional:true},{name:"viewport",type:"object",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Page.setDeviceOrientationOverride",[{name:"alpha",type:"number",optional:false},{name:"beta",type:"number",optional:false},{name:"gamma",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.setFontFamilies",[{name:"fontFamilies",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.setFontSizes",[{name:"fontSizes",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.setDocumentContent",[{name:"frameId",type:"string",optional:false},{name:"html",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.setDownloadBehavior",[{name:"behavior",type:"string",optional:false},{name:"downloadPath",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Page.setGeolocationOverride",[{name:"latitude",type:"number",optional:true},{name:"longitude",type:"number",optional:true},{name:"accuracy",type:"number",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Page.setLifecycleEventsEnabled",[{name:"enabled",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.setTouchEmulationEnabled",[{name:"enabled",type:"boolean",optional:false},{name:"configuration",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Page.startScreencast",[{name:"format",type:"string",optional:true},{name:"quality",type:"number",optional:true},{name:"maxWidth",type:"number",optional:true},{name:"maxHeight",type:"number",optional:true},{name:"everyNthFrame",type:"number",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Page.stopLoading",[],[],false);Protocol.inspectorBackend.registerCommand("Page.crash",[],[],false);Protocol.inspectorBackend.registerCommand("Page.close",[],[],false);Protocol.inspectorBackend.registerCommand("Page.setWebLifecycleState",[{name:"state",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.stopScreencast",[],[],false);Protocol.inspectorBackend.registerCommand("Page.setProduceCompilationCache",[{name:"enabled",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.addCompilationCache",[{name:"url",type:"string",optional:false},{name:"data",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Page.clearCompilationCache",[],[],false);Protocol.inspectorBackend.registerCommand("Page.generateTestReport",[{name:"message",type:"string",optional:false},{name:"group",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Page.waitForDebugger",[],[],false);Protocol.inspectorBackend.registerEvent("Performance.metrics",["metrics","title"]);Protocol.inspectorBackend.registerCommand("Performance.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Performance.enable",[],[],false);Protocol.inspectorBackend.registerCommand("Performance.setTimeDomain",[{name:"timeDomain",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Performance.getMetrics",[],["metrics"],false);Protocol.inspectorBackend.registerEnum("Security.MixedContentType",{Blockable:"blockable",OptionallyBlockable:"optionally-blockable",None:"none"});Protocol.inspectorBackend.registerEnum("Security.SecurityState",{Unknown:"unknown",Neutral:"neutral",Insecure:"insecure",Secure:"secure",Info:"info"});Protocol.inspectorBackend.registerEnum("Security.CertificateErrorAction",{Continue:"continue",Cancel:"cancel"});Protocol.inspectorBackend.registerEvent("Security.certificateError",["eventId","errorType","requestURL"]);Protocol.inspectorBackend.registerEvent("Security.securityStateChanged",["securityState","schemeIsCryptographic","explanations","insecureContentStatus","summary"]);Protocol.inspectorBackend.registerCommand("Security.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Security.enable",[],[],false);Protocol.inspectorBackend.registerCommand("Security.setIgnoreCertificateErrors",[{name:"ignore",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Security.handleCertificateError",[{name:"eventId",type:"number",optional:false},{name:"action",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Security.setOverrideCertificateErrors",[{name:"override",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerEnum("ServiceWorker.ServiceWorkerVersionRunningStatus",{Stopped:"stopped",Starting:"starting",Running:"running",Stopping:"stopping"});Protocol.inspectorBackend.registerEnum("ServiceWorker.ServiceWorkerVersionStatus",{New:"new",Installing:"installing",Installed:"installed",Activating:"activating",Activated:"activated",Redundant:"redundant"});Protocol.inspectorBackend.registerEvent("ServiceWorker.workerErrorReported",["errorMessage"]);Protocol.inspectorBackend.registerEvent("ServiceWorker.workerRegistrationUpdated",["registrations"]);Protocol.inspectorBackend.registerEvent("ServiceWorker.workerVersionUpdated",["versions"]);Protocol.inspectorBackend.registerCommand("ServiceWorker.deliverPushMessage",[{name:"origin",type:"string",optional:false},{name:"registrationId",type:"string",optional:false},{name:"data",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("ServiceWorker.disable",[],[],false);Protocol.inspectorBackend.registerCommand("ServiceWorker.dispatchSyncEvent",[{name:"origin",type:"string",optional:false},{name:"registrationId",type:"string",optional:false},{name:"tag",type:"string",optional:false},{name:"lastChance",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("ServiceWorker.enable",[],[],false);Protocol.inspectorBackend.registerCommand("ServiceWorker.inspectWorker",[{name:"versionId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("ServiceWorker.setForceUpdateOnPageLoad",[{name:"forceUpdateOnPageLoad",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("ServiceWorker.skipWaiting",[{name:"scopeURL",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("ServiceWorker.startWorker",[{name:"scopeURL",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("ServiceWorker.stopAllWorkers",[],[],false);Protocol.inspectorBackend.registerCommand("ServiceWorker.stopWorker",[{name:"versionId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("ServiceWorker.unregister",[{name:"scopeURL",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("ServiceWorker.updateRegistration",[{name:"scopeURL",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerEnum("Storage.StorageType",{Appcache:"appcache",Cookies:"cookies",File_systems:"file_systems",Indexeddb:"indexeddb",Local_storage:"local_storage",Shader_cache:"shader_cache",Websql:"websql",Service_workers:"service_workers",Cache_storage:"cache_storage",All:"all",Other:"other"});Protocol.inspectorBackend.registerEvent("Storage.cacheStorageContentUpdated",["origin","cacheName"]);Protocol.inspectorBackend.registerEvent("Storage.cacheStorageListUpdated",["origin"]);Protocol.inspectorBackend.registerEvent("Storage.indexedDBContentUpdated",["origin","databaseName","objectStoreName"]);Protocol.inspectorBackend.registerEvent("Storage.indexedDBListUpdated",["origin"]);Protocol.inspectorBackend.registerCommand("Storage.clearDataForOrigin",[{name:"origin",type:"string",optional:false},{name:"storageTypes",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Storage.getUsageAndQuota",[{name:"origin",type:"string",optional:false}],["usage","quota","usageBreakdown"],false);Protocol.inspectorBackend.registerCommand("Storage.trackCacheStorageForOrigin",[{name:"origin",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Storage.trackIndexedDBForOrigin",[{name:"origin",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Storage.untrackCacheStorageForOrigin",[{name:"origin",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Storage.untrackIndexedDBForOrigin",[{name:"origin",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerEnum("SystemInfo.SubsamplingFormat",{Yuv420:"yuv420",Yuv422:"yuv422",Yuv444:"yuv444"});Protocol.inspectorBackend.registerCommand("SystemInfo.getInfo",[],["gpu","modelName","modelVersion","commandLine"],false);Protocol.inspectorBackend.registerCommand("SystemInfo.getProcessInfo",[],["processInfo"],false);Protocol.inspectorBackend.registerEvent("Target.attachedToTarget",["sessionId","targetInfo","waitingForDebugger"]);Protocol.inspectorBackend.registerEvent("Target.detachedFromTarget",["sessionId","targetId"]);Protocol.inspectorBackend.registerEvent("Target.receivedMessageFromTarget",["sessionId","message","targetId"]);Protocol.inspectorBackend.registerEvent("Target.targetCreated",["targetInfo"]);Protocol.inspectorBackend.registerEvent("Target.targetDestroyed",["targetId"]);Protocol.inspectorBackend.registerEvent("Target.targetCrashed",["targetId","status","errorCode"]);Protocol.inspectorBackend.registerEvent("Target.targetInfoChanged",["targetInfo"]);Protocol.inspectorBackend.registerCommand("Target.activateTarget",[{name:"targetId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Target.attachToTarget",[{name:"targetId",type:"string",optional:false},{name:"flatten",type:"boolean",optional:true}],["sessionId"],false);Protocol.inspectorBackend.registerCommand("Target.attachToBrowserTarget",[],["sessionId"],false);Protocol.inspectorBackend.registerCommand("Target.closeTarget",[{name:"targetId",type:"string",optional:false}],["success"],false);Protocol.inspectorBackend.registerCommand("Target.exposeDevToolsProtocol",[{name:"targetId",type:"string",optional:false},{name:"bindingName",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Target.createBrowserContext",[],["browserContextId"],false);Protocol.inspectorBackend.registerCommand("Target.getBrowserContexts",[],["browserContextIds"],false);Protocol.inspectorBackend.registerCommand("Target.createTarget",[{name:"url",type:"string",optional:false},{name:"width",type:"number",optional:true},{name:"height",type:"number",optional:true},{name:"browserContextId",type:"string",optional:true},{name:"enableBeginFrameControl",type:"boolean",optional:true},{name:"newWindow",type:"boolean",optional:true},{name:"background",type:"boolean",optional:true}],["targetId"],false);Protocol.inspectorBackend.registerCommand("Target.detachFromTarget",[{name:"sessionId",type:"string",optional:true},{name:"targetId",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Target.disposeBrowserContext",[{name:"browserContextId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Target.getTargetInfo",[{name:"targetId",type:"string",optional:true}],["targetInfo"],false);Protocol.inspectorBackend.registerCommand("Target.getTargets",[],["targetInfos"],false);Protocol.inspectorBackend.registerCommand("Target.sendMessageToTarget",[{name:"message",type:"string",optional:false},{name:"sessionId",type:"string",optional:true},{name:"targetId",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Target.setAutoAttach",[{name:"autoAttach",type:"boolean",optional:false},{name:"waitForDebuggerOnStart",type:"boolean",optional:false},{name:"flatten",type:"boolean",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Target.setDiscoverTargets",[{name:"discover",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Target.setRemoteLocations",[{name:"locations",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerEvent("Tethering.accepted",["port","connectionId"]);Protocol.inspectorBackend.registerCommand("Tethering.bind",[{name:"port",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Tethering.unbind",[{name:"port",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerEnum("Tracing.TraceConfigRecordMode",{RecordUntilFull:"recordUntilFull",RecordContinuously:"recordContinuously",RecordAsMuchAsPossible:"recordAsMuchAsPossible",EchoToConsole:"echoToConsole"});Protocol.inspectorBackend.registerEnum("Tracing.StreamFormat",{Json:"json",Proto:"proto"});Protocol.inspectorBackend.registerEnum("Tracing.StreamCompression",{None:"none",Gzip:"gzip"});Protocol.inspectorBackend.registerEvent("Tracing.bufferUsage",["percentFull","eventCount","value"]);Protocol.inspectorBackend.registerEvent("Tracing.dataCollected",["value"]);Protocol.inspectorBackend.registerEvent("Tracing.tracingComplete",["dataLossOccurred","stream","traceFormat","streamCompression"]);Protocol.inspectorBackend.registerCommand("Tracing.end",[],[],false);Protocol.inspectorBackend.registerCommand("Tracing.getCategories",[],["categories"],false);Protocol.inspectorBackend.registerCommand("Tracing.recordClockSyncMarker",[{name:"syncId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Tracing.requestMemoryDump",[],["dumpGuid","success"],false);Protocol.inspectorBackend.registerCommand("Tracing.start",[{name:"categories",type:"string",optional:true},{name:"options",type:"string",optional:true},{name:"bufferUsageReportingInterval",type:"number",optional:true},{name:"transferMode",type:"string",optional:true},{name:"streamFormat",type:"string",optional:true},{name:"streamCompression",type:"string",optional:true},{name:"traceConfig",type:"object",optional:true}],[],false);Protocol.inspectorBackend.registerEnum("Fetch.RequestStage",{Request:"Request",Response:"Response"});Protocol.inspectorBackend.registerEnum("Fetch.AuthChallengeSource",{Server:"Server",Proxy:"Proxy"});Protocol.inspectorBackend.registerEnum("Fetch.AuthChallengeResponseResponse",{Default:"Default",CancelAuth:"CancelAuth",ProvideCredentials:"ProvideCredentials"});Protocol.inspectorBackend.registerEvent("Fetch.requestPaused",["requestId","request","frameId","resourceType","responseErrorReason","responseStatusCode","responseHeaders","networkId"]);Protocol.inspectorBackend.registerEvent("Fetch.authRequired",["requestId","request","frameId","resourceType","authChallenge"]);Protocol.inspectorBackend.registerCommand("Fetch.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Fetch.enable",[{name:"patterns",type:"object",optional:true},{name:"handleAuthRequests",type:"boolean",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Fetch.failRequest",[{name:"requestId",type:"string",optional:false},{name:"errorReason",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Fetch.fulfillRequest",[{name:"requestId",type:"string",optional:false},{name:"responseCode",type:"number",optional:false},{name:"responseHeaders",type:"object",optional:false},{name:"body",type:"string",optional:true},{name:"responsePhrase",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Fetch.continueRequest",[{name:"requestId",type:"string",optional:false},{name:"url",type:"string",optional:true},{name:"method",type:"string",optional:true},{name:"postData",type:"string",optional:true},{name:"headers",type:"object",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Fetch.continueWithAuth",[{name:"requestId",type:"string",optional:false},{name:"authChallengeResponse",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Fetch.getResponseBody",[{name:"requestId",type:"string",optional:false}],["body","base64Encoded"],false);Protocol.inspectorBackend.registerCommand("Fetch.takeResponseBodyAsStream",[{name:"requestId",type:"string",optional:false}],["stream"],false);Protocol.inspectorBackend.registerEnum("WebAudio.ContextType",{Realtime:"realtime",Offline:"offline"});Protocol.inspectorBackend.registerEnum("WebAudio.ContextState",{Suspended:"suspended",Running:"running",Closed:"closed"});Protocol.inspectorBackend.registerEvent("WebAudio.contextCreated",["context"]);Protocol.inspectorBackend.registerEvent("WebAudio.contextDestroyed",["contextId"]);Protocol.inspectorBackend.registerEvent("WebAudio.contextChanged",["context"]);Protocol.inspectorBackend.registerCommand("WebAudio.enable",[],[],false);Protocol.inspectorBackend.registerCommand("WebAudio.disable",[],[],false);Protocol.inspectorBackend.registerCommand("WebAudio.getRealtimeData",[{name:"contextId",type:"string",optional:false}],["realtimeData"],false);Protocol.inspectorBackend.registerEnum("WebAuthn.AuthenticatorProtocol",{U2f:"u2f",Ctap2:"ctap2"});Protocol.inspectorBackend.registerEnum("WebAuthn.AuthenticatorTransport",{Usb:"usb",Nfc:"nfc",Ble:"ble",Cable:"cable",Internal:"internal"});Protocol.inspectorBackend.registerCommand("WebAuthn.enable",[],[],false);Protocol.inspectorBackend.registerCommand("WebAuthn.disable",[],[],false);Protocol.inspectorBackend.registerCommand("WebAuthn.addVirtualAuthenticator",[{name:"options",type:"object",optional:false}],["authenticatorId"],false);Protocol.inspectorBackend.registerCommand("WebAuthn.removeVirtualAuthenticator",[{name:"authenticatorId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("WebAuthn.addCredential",[{name:"authenticatorId",type:"string",optional:false},{name:"credential",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("WebAuthn.getCredentials",[{name:"authenticatorId",type:"string",optional:false}],["credentials"],false);Protocol.inspectorBackend.registerCommand("WebAuthn.clearCredentials",[{name:"authenticatorId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("WebAuthn.setUserVerified",[{name:"authenticatorId",type:"string",optional:false},{name:"isUserVerified",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerEnum("Debugger.ScopeType",{Global:"global",Local:"local",With:"with",Closure:"closure",Catch:"catch",Block:"block",Script:"script",Eval:"eval",Module:"module"});Protocol.inspectorBackend.registerEnum("Debugger.BreakLocationType",{DebuggerStatement:"debuggerStatement",Call:"call",Return:"return"});Protocol.inspectorBackend.registerEvent("Debugger.breakpointResolved",["breakpointId","location"]);Protocol.inspectorBackend.registerEvent("Debugger.paused",["callFrames","reason","data","hitBreakpoints","asyncStackTrace","asyncStackTraceId","asyncCallStackTraceId"]);Protocol.inspectorBackend.registerEvent("Debugger.resumed",[]);Protocol.inspectorBackend.registerEvent("Debugger.scriptFailedToParse",["scriptId","url","startLine","startColumn","endLine","endColumn","executionContextId","hash","executionContextAuxData","sourceMapURL","hasSourceURL","isModule","length","stackTrace"]);Protocol.inspectorBackend.registerEvent("Debugger.scriptParsed",["scriptId","url","startLine","startColumn","endLine","endColumn","executionContextId","hash","executionContextAuxData","isLiveEdit","sourceMapURL","hasSourceURL","isModule","length","stackTrace"]);Protocol.inspectorBackend.registerCommand("Debugger.continueToLocation",[{name:"location",type:"object",optional:false},{name:"targetCallFrames",type:"string",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Debugger.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Debugger.enable",[{name:"maxScriptsCacheSize",type:"number",optional:true}],["debuggerId"],false);Protocol.inspectorBackend.registerCommand("Debugger.evaluateOnCallFrame",[{name:"callFrameId",type:"string",optional:false},{name:"expression",type:"string",optional:false},{name:"objectGroup",type:"string",optional:true},{name:"includeCommandLineAPI",type:"boolean",optional:true},{name:"silent",type:"boolean",optional:true},{name:"returnByValue",type:"boolean",optional:true},{name:"generatePreview",type:"boolean",optional:true},{name:"throwOnSideEffect",type:"boolean",optional:true},{name:"timeout",type:"number",optional:true}],["result","exceptionDetails"],false);Protocol.inspectorBackend.registerCommand("Debugger.getPossibleBreakpoints",[{name:"start",type:"object",optional:false},{name:"end",type:"object",optional:true},{name:"restrictToFunction",type:"boolean",optional:true}],["locations"],false);Protocol.inspectorBackend.registerCommand("Debugger.getScriptSource",[{name:"scriptId",type:"string",optional:false}],["scriptSource"],false);Protocol.inspectorBackend.registerCommand("Debugger.getStackTrace",[{name:"stackTraceId",type:"object",optional:false}],["stackTrace"],false);Protocol.inspectorBackend.registerCommand("Debugger.pause",[],[],false);Protocol.inspectorBackend.registerCommand("Debugger.pauseOnAsyncCall",[{name:"parentStackTraceId",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Debugger.removeBreakpoint",[{name:"breakpointId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Debugger.restartFrame",[{name:"callFrameId",type:"string",optional:false}],["callFrames","asyncStackTrace","asyncStackTraceId"],false);Protocol.inspectorBackend.registerCommand("Debugger.resume",[],[],false);Protocol.inspectorBackend.registerCommand("Debugger.searchInContent",[{name:"scriptId",type:"string",optional:false},{name:"query",type:"string",optional:false},{name:"caseSensitive",type:"boolean",optional:true},{name:"isRegex",type:"boolean",optional:true}],["result"],false);Protocol.inspectorBackend.registerCommand("Debugger.setAsyncCallStackDepth",[{name:"maxDepth",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Debugger.setBlackboxPatterns",[{name:"patterns",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Debugger.setBlackboxedRanges",[{name:"scriptId",type:"string",optional:false},{name:"positions",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Debugger.setBreakpoint",[{name:"location",type:"object",optional:false},{name:"condition",type:"string",optional:true}],["breakpointId","actualLocation"],false);Protocol.inspectorBackend.registerCommand("Debugger.setInstrumentationBreakpoint",[{name:"instrumentation",type:"string",optional:false}],["breakpointId"],false);Protocol.inspectorBackend.registerCommand("Debugger.setBreakpointByUrl",[{name:"lineNumber",type:"number",optional:false},{name:"url",type:"string",optional:true},{name:"urlRegex",type:"string",optional:true},{name:"scriptHash",type:"string",optional:true},{name:"columnNumber",type:"number",optional:true},{name:"condition",type:"string",optional:true}],["breakpointId","locations"],false);Protocol.inspectorBackend.registerCommand("Debugger.setBreakpointOnFunctionCall",[{name:"objectId",type:"string",optional:false},{name:"condition",type:"string",optional:true}],["breakpointId"],false);Protocol.inspectorBackend.registerCommand("Debugger.setBreakpointsActive",[{name:"active",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Debugger.setPauseOnExceptions",[{name:"state",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Debugger.setReturnValue",[{name:"newValue",type:"object",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Debugger.setScriptSource",[{name:"scriptId",type:"string",optional:false},{name:"scriptSource",type:"string",optional:false},{name:"dryRun",type:"boolean",optional:true}],["callFrames","stackChanged","asyncStackTrace","asyncStackTraceId","exceptionDetails"],false);Protocol.inspectorBackend.registerCommand("Debugger.setSkipAllPauses",[{name:"skip",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Debugger.setVariableValue",[{name:"scopeNumber",type:"number",optional:false},{name:"variableName",type:"string",optional:false},{name:"newValue",type:"object",optional:false},{name:"callFrameId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Debugger.stepInto",[{name:"breakOnAsyncCall",type:"boolean",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Debugger.stepOut",[],[],false);Protocol.inspectorBackend.registerCommand("Debugger.stepOver",[],[],false);Protocol.inspectorBackend.registerEvent("HeapProfiler.addHeapSnapshotChunk",["chunk"]);Protocol.inspectorBackend.registerEvent("HeapProfiler.heapStatsUpdate",["statsUpdate"]);Protocol.inspectorBackend.registerEvent("HeapProfiler.lastSeenObjectId",["lastSeenObjectId","timestamp"]);Protocol.inspectorBackend.registerEvent("HeapProfiler.reportHeapSnapshotProgress",["done","total","finished"]);Protocol.inspectorBackend.registerEvent("HeapProfiler.resetProfiles",[]);Protocol.inspectorBackend.registerCommand("HeapProfiler.addInspectedHeapObject",[{name:"heapObjectId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("HeapProfiler.collectGarbage",[],[],false);Protocol.inspectorBackend.registerCommand("HeapProfiler.disable",[],[],false);Protocol.inspectorBackend.registerCommand("HeapProfiler.enable",[],[],false);Protocol.inspectorBackend.registerCommand("HeapProfiler.getHeapObjectId",[{name:"objectId",type:"string",optional:false}],["heapSnapshotObjectId"],false);Protocol.inspectorBackend.registerCommand("HeapProfiler.getObjectByHeapObjectId",[{name:"objectId",type:"string",optional:false},{name:"objectGroup",type:"string",optional:true}],["result"],false);Protocol.inspectorBackend.registerCommand("HeapProfiler.getSamplingProfile",[],["profile"],false);Protocol.inspectorBackend.registerCommand("HeapProfiler.startSampling",[{name:"samplingInterval",type:"number",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("HeapProfiler.startTrackingHeapObjects",[{name:"trackAllocations",type:"boolean",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("HeapProfiler.stopSampling",[],["profile"],false);Protocol.inspectorBackend.registerCommand("HeapProfiler.stopTrackingHeapObjects",[{name:"reportProgress",type:"boolean",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("HeapProfiler.takeHeapSnapshot",[{name:"reportProgress",type:"boolean",optional:true}],[],false);Protocol.inspectorBackend.registerEvent("Profiler.consoleProfileFinished",["id","location","profile","title"]);Protocol.inspectorBackend.registerEvent("Profiler.consoleProfileStarted",["id","location","title"]);Protocol.inspectorBackend.registerCommand("Profiler.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Profiler.enable",[],[],false);Protocol.inspectorBackend.registerCommand("Profiler.getBestEffortCoverage",[],["result"],false);Protocol.inspectorBackend.registerCommand("Profiler.setSamplingInterval",[{name:"interval",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Profiler.start",[],[],false);Protocol.inspectorBackend.registerCommand("Profiler.startPreciseCoverage",[{name:"callCount",type:"boolean",optional:true},{name:"detailed",type:"boolean",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Profiler.startTypeProfile",[],[],false);Protocol.inspectorBackend.registerCommand("Profiler.stop",[],["profile"],false);Protocol.inspectorBackend.registerCommand("Profiler.stopPreciseCoverage",[],[],false);Protocol.inspectorBackend.registerCommand("Profiler.stopTypeProfile",[],[],false);Protocol.inspectorBackend.registerCommand("Profiler.takePreciseCoverage",[],["result"],false);Protocol.inspectorBackend.registerCommand("Profiler.takeTypeProfile",[],["result"],false);Protocol.inspectorBackend.registerEnum("Runtime.RemoteObjectType",{Object:"object",Function:"function",Undefined:"undefined",String:"string",Number:"number",Boolean:"boolean",Symbol:"symbol",Bigint:"bigint"});Protocol.inspectorBackend.registerEnum("Runtime.RemoteObjectSubtype",{Array:"array",Null:"null",Node:"node",Regexp:"regexp",Date:"date",Map:"map",Set:"set",Weakmap:"weakmap",Weakset:"weakset",Iterator:"iterator",Generator:"generator",Error:"error",Proxy:"proxy",Promise:"promise",Typedarray:"typedarray",Arraybuffer:"arraybuffer",Dataview:"dataview"});Protocol.inspectorBackend.registerEnum("Runtime.ObjectPreviewType",{Object:"object",Function:"function",Undefined:"undefined",String:"string",Number:"number",Boolean:"boolean",Symbol:"symbol",Bigint:"bigint"});Protocol.inspectorBackend.registerEnum("Runtime.ObjectPreviewSubtype",{Array:"array",Null:"null",Node:"node",Regexp:"regexp",Date:"date",Map:"map",Set:"set",Weakmap:"weakmap",Weakset:"weakset",Iterator:"iterator",Generator:"generator",Error:"error"});Protocol.inspectorBackend.registerEnum("Runtime.PropertyPreviewType",{Object:"object",Function:"function",Undefined:"undefined",String:"string",Number:"number",Boolean:"boolean",Symbol:"symbol",Accessor:"accessor",Bigint:"bigint"});Protocol.inspectorBackend.registerEnum("Runtime.PropertyPreviewSubtype",{Array:"array",Null:"null",Node:"node",Regexp:"regexp",Date:"date",Map:"map",Set:"set",Weakmap:"weakmap",Weakset:"weakset",Iterator:"iterator",Generator:"generator",Error:"error"});Protocol.inspectorBackend.registerEvent("Runtime.bindingCalled",["name","payload","executionContextId"]);Protocol.inspectorBackend.registerEvent("Runtime.consoleAPICalled",["type","args","executionContextId","timestamp","stackTrace","context"]);Protocol.inspectorBackend.registerEvent("Runtime.exceptionRevoked",["reason","exceptionId"]);Protocol.inspectorBackend.registerEvent("Runtime.exceptionThrown",["timestamp","exceptionDetails"]);Protocol.inspectorBackend.registerEvent("Runtime.executionContextCreated",["context"]);Protocol.inspectorBackend.registerEvent("Runtime.executionContextDestroyed",["executionContextId"]);Protocol.inspectorBackend.registerEvent("Runtime.executionContextsCleared",[]);Protocol.inspectorBackend.registerEvent("Runtime.inspectRequested",["object","hints"]);Protocol.inspectorBackend.registerCommand("Runtime.awaitPromise",[{name:"promiseObjectId",type:"string",optional:false},{name:"returnByValue",type:"boolean",optional:true},{name:"generatePreview",type:"boolean",optional:true}],["result","exceptionDetails"],false);Protocol.inspectorBackend.registerCommand("Runtime.callFunctionOn",[{name:"functionDeclaration",type:"string",optional:false},{name:"objectId",type:"string",optional:true},{name:"arguments",type:"object",optional:true},{name:"silent",type:"boolean",optional:true},{name:"returnByValue",type:"boolean",optional:true},{name:"generatePreview",type:"boolean",optional:true},{name:"userGesture",type:"boolean",optional:true},{name:"awaitPromise",type:"boolean",optional:true},{name:"executionContextId",type:"number",optional:true},{name:"objectGroup",type:"string",optional:true}],["result","exceptionDetails"],false);Protocol.inspectorBackend.registerCommand("Runtime.compileScript",[{name:"expression",type:"string",optional:false},{name:"sourceURL",type:"string",optional:false},{name:"persistScript",type:"boolean",optional:false},{name:"executionContextId",type:"number",optional:true}],["scriptId","exceptionDetails"],false);Protocol.inspectorBackend.registerCommand("Runtime.disable",[],[],false);Protocol.inspectorBackend.registerCommand("Runtime.discardConsoleEntries",[],[],false);Protocol.inspectorBackend.registerCommand("Runtime.enable",[],[],false);Protocol.inspectorBackend.registerCommand("Runtime.evaluate",[{name:"expression",type:"string",optional:false},{name:"objectGroup",type:"string",optional:true},{name:"includeCommandLineAPI",type:"boolean",optional:true},{name:"silent",type:"boolean",optional:true},{name:"contextId",type:"number",optional:true},{name:"returnByValue",type:"boolean",optional:true},{name:"generatePreview",type:"boolean",optional:true},{name:"userGesture",type:"boolean",optional:true},{name:"awaitPromise",type:"boolean",optional:true},{name:"throwOnSideEffect",type:"boolean",optional:true},{name:"timeout",type:"number",optional:true}],["result","exceptionDetails"],false);Protocol.inspectorBackend.registerCommand("Runtime.getIsolateId",[],["id"],false);Protocol.inspectorBackend.registerCommand("Runtime.getHeapUsage",[],["usedSize","totalSize"],false);Protocol.inspectorBackend.registerCommand("Runtime.getProperties",[{name:"objectId",type:"string",optional:false},{name:"ownProperties",type:"boolean",optional:true},{name:"accessorPropertiesOnly",type:"boolean",optional:true},{name:"generatePreview",type:"boolean",optional:true}],["result","internalProperties","privateProperties","exceptionDetails"],false);Protocol.inspectorBackend.registerCommand("Runtime.globalLexicalScopeNames",[{name:"executionContextId",type:"number",optional:true}],["names"],false);Protocol.inspectorBackend.registerCommand("Runtime.queryObjects",[{name:"prototypeObjectId",type:"string",optional:false},{name:"objectGroup",type:"string",optional:true}],["objects"],false);Protocol.inspectorBackend.registerCommand("Runtime.releaseObject",[{name:"objectId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Runtime.releaseObjectGroup",[{name:"objectGroup",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Runtime.runIfWaitingForDebugger",[],[],false);Protocol.inspectorBackend.registerCommand("Runtime.runScript",[{name:"scriptId",type:"string",optional:false},{name:"executionContextId",type:"number",optional:true},{name:"objectGroup",type:"string",optional:true},{name:"silent",type:"boolean",optional:true},{name:"includeCommandLineAPI",type:"boolean",optional:true},{name:"returnByValue",type:"boolean",optional:true},{name:"generatePreview",type:"boolean",optional:true},{name:"awaitPromise",type:"boolean",optional:true}],["result","exceptionDetails"],false);Protocol.inspectorBackend.registerCommand("Runtime.setAsyncCallStackDepth",[{name:"maxDepth",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Runtime.setCustomObjectFormatterEnabled",[{name:"enabled",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Runtime.setMaxCallStackSizeToCapture",[{name:"size",type:"number",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Runtime.terminateExecution",[],[],false);Protocol.inspectorBackend.registerCommand("Runtime.addBinding",[{name:"name",type:"string",optional:false},{name:"executionContextId",type:"number",optional:true}],[],false);Protocol.inspectorBackend.registerCommand("Runtime.removeBinding",[{name:"name",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("Schema.getDomains",[],["domains"],false);self["SDK"]=self["SDK"]||{};SDK.Target=class extends Protocol.TargetBase{constructor(e,t,n,s,i,o,r,a){const l=s===SDK.Target.Type.Node;super(l,i,o,a);this._targetManager=e;this._name=n;this._inspectedURL="";this._capabilitiesMask=0;switch(s){case SDK.Target.Type.Frame:this._capabilitiesMask=SDK.Target.Capability.Browser|SDK.Target.Capability.DOM|SDK.Target.Capability.JS|SDK.Target.Capability.Log|SDK.Target.Capability.Network|SDK.Target.Capability.Target|SDK.Target.Capability.Tracing|SDK.Target.Capability.Emulation|SDK.Target.Capability.Input;if(!i){this._capabilitiesMask|=SDK.Target.Capability.DeviceEmulation|SDK.Target.Capability.ScreenCapture|SDK.Target.Capability.Security|SDK.Target.Capability.Inspector}break;case SDK.Target.Type.ServiceWorker:this._capabilitiesMask=SDK.Target.Capability.Log|SDK.Target.Capability.Network|SDK.Target.Capability.Target;if(!i)this._capabilitiesMask|=SDK.Target.Capability.Browser|SDK.Target.Capability.Inspector;break;case SDK.Target.Type.Worker:this._capabilitiesMask=SDK.Target.Capability.JS|SDK.Target.Capability.Log|SDK.Target.Capability.Network|SDK.Target.Capability.Target;break;case SDK.Target.Type.Node:this._capabilitiesMask=SDK.Target.Capability.JS|SDK.Target.Capability.Network;break;case SDK.Target.Type.Browser:this._capabilitiesMask=SDK.Target.Capability.Target;break}this._type=s;this._parentTarget=i;this._id=t;this._modelByConstructor=new Map;this._isSuspended=r}createModels(e){this._creatingModels=true;this.model(SDK.ResourceTreeModel);const t=Array.from(SDK.SDKModel._registeredModels.keys());for(const n of t){const t=SDK.SDKModel._registeredModels.get(n);if(t.autostart||e.has(n))this.model(n)}this._creatingModels=false}id(){return this._id}name(){return this._name||this._inspectedURLName}type(){return this._type}markAsNodeJSForTest(){super.markAsNodeJSForTest();this._type=SDK.Target.Type.Node}targetManager(){return this._targetManager}hasAllCapabilities(e){return(this._capabilitiesMask&e)===e}decorateLabel(e){return this._type===SDK.Target.Type.Worker||this._type===SDK.Target.Type.ServiceWorker?"⚙ "+e:e}parentTarget(){return this._parentTarget}dispose(e){super.dispose(e);this._targetManager.removeTarget(this);for(const e of this._modelByConstructor.valuesArray())e.dispose()}model(e){if(!this._modelByConstructor.get(e)){const t=SDK.SDKModel._registeredModels.get(e);if(t===undefined)throw"Model class is not registered @"+(new Error).stack;if((this._capabilitiesMask&t.capabilities)===t.capabilities){const t=new e(this);this._modelByConstructor.set(e,t);if(!this._creatingModels)this._targetManager.modelAdded(this,e,t)}}return this._modelByConstructor.get(e)||null}models(){return this._modelByConstructor}inspectedURL(){return this._inspectedURL}setInspectedURL(e){this._inspectedURL=e;const t=e.asParsedURL();this._inspectedURLName=t?t.lastPathComponentWithFragment():"#"+this._id;if(!this.parentTarget())InspectorFrontendHost.inspectedURLChanged(e||"");this._targetManager.dispatchEventToListeners(SDK.TargetManager.Events.InspectedURLChanged,this);if(!this._name)this._targetManager.dispatchEventToListeners(SDK.TargetManager.Events.NameChanged,this)}suspend(){if(this._isSuspended)return Promise.resolve();this._isSuspended=true;const e=[];for(const t of this.models().values())e.push(t.suspendModel());return Promise.all(e)}resume(){if(!this._isSuspended)return Promise.resolve();this._isSuspended=false;const e=[];for(const t of this.models().values())e.push(t.resumeModel());return Promise.all(e)}suspended(){return this._isSuspended}};SDK.Target.Capability={Browser:1<<0,DOM:1<<1,JS:1<<2,Log:1<<3,Network:1<<4,Target:1<<5,ScreenCapture:1<<6,Tracing:1<<7,Emulation:1<<8,Security:1<<9,Input:1<<10,Inspector:1<<11,DeviceEmulation:1<<12,None:0};SDK.Target.Type={Frame:"frame",ServiceWorker:"service-worker",Worker:"worker",Node:"node",Browser:"browser"};SDK.SDKModel=class extends Common.Object{constructor(e){super();this._target=e}target(){return this._target}suspendModel(){return Promise.resolve()}resumeModel(){return Promise.resolve()}dispose(){}};SDK.SDKModel.register=function(e,t,n){if(!SDK.SDKModel._registeredModels)SDK.SDKModel._registeredModels=new Map;SDK.SDKModel._registeredModels.set(e,{capabilities:t,autostart:n})};SDK.SDKModel._registeredModels;SDK.TargetManager=class extends Common.Object{constructor(){super();this._targets=[];this._observers=[];this._modelListeners=new Multimap;this._modelObservers=new Multimap;this._isSuspended=false}suspendAllTargets(){if(this._isSuspended)return Promise.resolve();this._isSuspended=true;this.dispatchEventToListeners(SDK.TargetManager.Events.SuspendStateChanged);return Promise.all(this._targets.map(e=>e.suspend()))}resumeAllTargets(){if(!this._isSuspended)return Promise.resolve();this._isSuspended=false;this.dispatchEventToListeners(SDK.TargetManager.Events.SuspendStateChanged);return Promise.all(this._targets.map(e=>e.resume()))}allTargetsSuspended(){return this._isSuspended}models(e){const t=[];for(let n=0;n<this._targets.length;++n){const s=this._targets[n].model(e);if(s)t.push(s)}return t}inspectedURL(){return this._targets[0]?this._targets[0].inspectedURL():""}observeModels(e,t){const n=this.models(e);this._modelObservers.set(e,t);for(const e of n)t.modelAdded(e)}unobserveModels(e,t){this._modelObservers.delete(e,t)}modelAdded(e,t,n){for(const e of this._modelObservers.get(t).valuesArray())e.modelAdded(n)}_modelRemoved(e,t,n){for(const e of this._modelObservers.get(t).valuesArray())e.modelRemoved(n)}addModelListener(e,t,n,s){for(let i=0;i<this._targets.length;++i){const o=this._targets[i].model(e);if(o)o.addEventListener(t,n,s)}this._modelListeners.set(t,{modelClass:e,thisObject:s,listener:n})}removeModelListener(e,t,n,s){if(!this._modelListeners.has(t))return;for(let i=0;i<this._targets.length;++i){const o=this._targets[i].model(e);if(o)o.removeEventListener(t,n,s)}for(const i of this._modelListeners.get(t)){if(i.modelClass===e&&i.listener===n&&i.thisObject===s)this._modelListeners.delete(t,i)}}observeTargets(e){if(this._observers.indexOf(e)!==-1)throw new Error("Observer can only be registered once");for(const t of this._targets)e.targetAdded(t);this._observers.push(e)}unobserveTargets(e){this._observers.remove(e)}createTarget(e,t,n,s,i,o,r){const a=new SDK.Target(this,e,t,n,s,i||"",this._isSuspended,r||null);if(o)a.pageAgent().waitForDebugger();a.createModels(new Set(this._modelObservers.keysArray()));this._targets.push(a);const l=this._observers.slice(0);for(const e of l)e.targetAdded(a);for(const e of a.models().keys())this.modelAdded(a,e,a.models().get(e));for(const e of this._modelListeners.keysArray()){for(const t of this._modelListeners.get(e)){const n=a.model(t.modelClass);if(n)n.addEventListener(e,t.listener,t.thisObject)}}return a}removeTarget(e){if(!this._targets.includes(e))return;this._targets.remove(e);for(const t of e.models().keys())this._modelRemoved(e,t,e.models().get(t));const t=this._observers.slice(0);for(const n of t)n.targetRemoved(e);for(const t of this._modelListeners.keysArray()){for(const n of this._modelListeners.get(t)){const s=e.model(n.modelClass);if(s)s.removeEventListener(t,n.listener,n.thisObject)}}}targets(){return this._targets.slice()}targetById(e){for(let t=0;t<this._targets.length;++t){if(this._targets[t].id()===e)return this._targets[t]}return null}mainTarget(){return this._targets[0]||null}};SDK.TargetManager.Events={AvailableTargetsChanged:Symbol("AvailableTargetsChanged"),InspectedURLChanged:Symbol("InspectedURLChanged"),NameChanged:Symbol("NameChanged"),SuspendStateChanged:Symbol("SuspendStateChanged")};SDK.TargetManager.Observer=function(){};SDK.TargetManager.Observer.prototype={targetAdded(e){},targetRemoved(e){}};SDK.SDKModelObserver=function(){};SDK.SDKModelObserver.prototype={modelAdded(e){},modelRemoved(e){}};SDK.targetManager=new SDK.TargetManager;SDK.MainConnection=class{constructor(){this._onMessage=null;this._onDisconnect=null;this._messageBuffer="";this._messageSize=0;this._eventListeners=[InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.DispatchMessage,this._dispatchMessage,this),InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.DispatchMessageChunk,this._dispatchMessageChunk,this)]}setOnMessage(e){this._onMessage=e}setOnDisconnect(e){this._onDisconnect=e}sendRawMessage(e){if(this._onMessage)InspectorFrontendHost.sendMessageToBackend(e)}_dispatchMessage(e){if(this._onMessage)this._onMessage.call(null,e.data)}_dispatchMessageChunk(e){const t=e.data["messageChunk"];const n=e.data["messageSize"];if(n){this._messageBuffer="";this._messageSize=n}this._messageBuffer+=t;if(this._messageBuffer.length===this._messageSize){this._onMessage.call(null,this._messageBuffer);this._messageBuffer="";this._messageSize=0}}disconnect(){const e=this._onDisconnect;Common.EventTarget.removeEventListeners(this._eventListeners);this._onDisconnect=null;this._onMessage=null;let t;const n=new Promise(e=>t=e);InspectorFrontendHost.reattach(()=>{if(e)e.call(null,"force disconnect");t()});return n}};SDK.WebSocketConnection=class{constructor(e,t){this._socket=new WebSocket(e);this._socket.onerror=this._onError.bind(this);this._socket.onopen=this._onOpen.bind(this);this._socket.onmessage=(e=>{if(this._onMessage)this._onMessage.call(null,e.data)});this._socket.onclose=this._onClose.bind(this);this._onMessage=null;this._onDisconnect=null;this._onWebSocketDisconnect=t;this._connected=false;this._messages=[]}setOnMessage(e){this._onMessage=e}setOnDisconnect(e){this._onDisconnect=e}_onError(){this._onWebSocketDisconnect.call(null);this._onDisconnect.call(null,"connection failed");this._close()}_onOpen(){this._socket.onerror=console.error;this._connected=true;for(const e of this._messages)this._socket.send(e);this._messages=[]}_onClose(){this._onWebSocketDisconnect.call(null);this._onDisconnect.call(null,"websocket closed");this._close()}_close(e){this._socket.onerror=null;this._socket.onopen=null;this._socket.onclose=e||null;this._socket.onmessage=null;this._socket.close();this._socket=null;this._onWebSocketDisconnect=null}sendRawMessage(e){if(this._connected)this._socket.send(e);else this._messages.push(e)}disconnect(){let e;const t=new Promise(t=>e=t);this._close(()=>{if(this._onDisconnect)this._onDisconnect.call(null,"force disconnect");e()});return t}};SDK.StubConnection=class{constructor(){this._onMessage=null;this._onDisconnect=null}setOnMessage(e){this._onMessage=e}setOnDisconnect(e){this._onDisconnect=e}sendRawMessage(e){setTimeout(this._respondWithError.bind(this,e),0)}_respondWithError(e){const t=JSON.parse(e);const n={message:"This is a stub connection, can't dispatch message.",code:Protocol.DevToolsStubErrorCode,data:t};if(this._onMessage)this._onMessage.call(null,{id:t.id,error:n})}disconnect(){if(this._onDisconnect)this._onDisconnect.call(null,"force disconnect");this._onDisconnect=null;this._onMessage=null;return Promise.resolve()}};SDK.initMainConnection=async function(e,t){SDK._websocketConnectionLost=t;SDK._createMainTarget=e;Protocol.Connection.setFactory(SDK._createMainConnection);await SDK._createMainTarget();InspectorFrontendHost.connectionReady();return Promise.resolve()};SDK._createMainConnection=function(){const e=Runtime.queryParam("ws");const t=Runtime.queryParam("wss");if(e||t){const n=e?`ws://${e}`:`wss://${t}`;SDK._mainConnection=new SDK.WebSocketConnection(n,SDK._websocketConnectionLost)}else if(InspectorFrontendHost.isHostedMode()){SDK._mainConnection=new SDK.StubConnection}else{SDK._mainConnection=new SDK.MainConnection}return SDK._mainConnection};SDK._mainConnection;SDK._createMainTarget;SDK._websocketConnectionLost;SDK.interceptMainConnection=async function(e){await SDK._mainConnection.disconnect();const t=SDK._createMainConnection();t.setOnMessage(e);t.setOnDisconnect(SDK._createMainTarget);return t};SDK.CompilerSourceMappingContentProvider=class{constructor(e,t){this._sourceURL=e;this._contentType=t}contentURL(){return this._sourceURL}contentType(){return this._contentType}contentEncoded(){return Promise.resolve(false)}requestContent(){let e;const t=new Promise(t=>e=t);SDK.multitargetNetworkManager.loadResource(this._sourceURL,n.bind(this));return t;function n(t,n,s){if(t>=400){console.error("Could not load content for "+this._sourceURL+" : "+"HTTP status code: "+t);e(null);return}e(s)}}async searchInContent(e,t,n){const s=await this.requestContent();if(typeof s!=="string")return[];return Common.ContentProvider.performSearchInContent(s,e,t,n)}};SDK.CookieModel=class extends SDK.SDKModel{constructor(e){super(e)}static _parseProtocolCookie(e){const t=new SDK.Cookie(e.name,e.value,null);t.addAttribute("domain",e["domain"]);t.addAttribute("path",e["path"]);t.addAttribute("port",e["port"]);if(e["expires"])t.addAttribute("expires",e["expires"]*1e3);if(e["httpOnly"])t.addAttribute("httpOnly");if(e["secure"])t.addAttribute("secure");if(e["sameSite"])t.addAttribute("sameSite",e["sameSite"]);t.setSize(e["size"]);return t}static cookieMatchesResourceURL(e,t){const n=t.asParsedURL();if(!n||!SDK.CookieModel.cookieDomainMatchesResourceDomain(e.domain(),n.host))return false;return n.path.startsWith(e.path())&&(!e.port()||n.port===e.port())&&(!e.secure()||n.scheme==="https")}static cookieDomainMatchesResourceDomain(e,t){if(e.charAt(0)!==".")return t===e;return!!t.match(new RegExp("^([^\\.]+\\.)*"+e.substring(1).escapeForRegExp()+"$","i"))}getCookies(e){return this.target().networkAgent().getCookies(e).then(e=>(e||[]).map(e=>SDK.CookieModel._parseProtocolCookie(e)))}deleteCookie(e,t){this._deleteAll([e],t)}clear(e,t){this.getCookiesForDomain(e||null).then(e=>this._deleteAll(e,t))}saveCookie(e){let t=e.domain();if(!t.startsWith("."))t="";let n=undefined;if(e.expires())n=Math.floor(Date.parse(e.expires())/1e3);return this.target().networkAgent().setCookie(e.name(),e.value(),e.url(),t,e.path(),e.secure(),e.httpOnly(),e.sameSite(),n).then(e=>!!e)}getCookiesForDomain(e){const t=[];function n(n){const s=n.documentURL.asParsedURL();if(s&&(!e||s.securityOrigin()===e))t.push(n.url)}const s=this.target().model(SDK.ResourceTreeModel);if(s)s.forAllResources(n);return this.getCookies(t)}_deleteAll(e,t){const n=this.target().networkAgent();Promise.all(e.map(e=>n.deleteCookies(e.name(),undefined,e.domain(),e.path()))).then(t||function(){})}};SDK.SDKModel.register(SDK.CookieModel,SDK.Target.Capability.Network,false);SDK.CookieParser=class{constructor(){}static parseCookie(e){return(new SDK.CookieParser).parseCookie(e)}static parseSetCookie(e){return(new SDK.CookieParser).parseSetCookie(e)}cookies(){return this._cookies}parseCookie(e){if(!this._initialize(e))return null;for(let e=this._extractKeyValue();e;e=this._extractKeyValue()){if(e.key.charAt(0)==="$"&&this._lastCookie)this._lastCookie.addAttribute(e.key.slice(1),e.value);else if(e.key.toLowerCase()!=="$version"&&typeof e.value==="string")this._addCookie(e,SDK.Cookie.Type.Request);this._advanceAndCheckCookieDelimiter()}this._flushCookie();return this._cookies}parseSetCookie(e){if(!this._initialize(e))return null;for(let e=this._extractKeyValue();e;e=this._extractKeyValue()){if(this._lastCookie)this._lastCookie.addAttribute(e.key,e.value);else this._addCookie(e,SDK.Cookie.Type.Response);if(this._advanceAndCheckCookieDelimiter())this._flushCookie()}this._flushCookie();return this._cookies}_initialize(e){this._input=e;if(typeof e!=="string")return false;this._cookies=[];this._lastCookie=null;this._originalInputLength=this._input.length;return true}_flushCookie(){if(this._lastCookie)this._lastCookie.setSize(this._originalInputLength-this._input.length-this._lastCookiePosition);this._lastCookie=null}_extractKeyValue(){if(!this._input||!this._input.length)return null;const e=/^[ \t]*([^\s=;]+)[ \t]*(?:=[ \t]*([^;\n]*))?/.exec(this._input);if(!e){console.error("Failed parsing cookie header before: "+this._input);return null}const t=new SDK.CookieParser.KeyValue(e[1],e[2]&&e[2].trim(),this._originalInputLength-this._input.length);this._input=this._input.slice(e[0].length);return t}_advanceAndCheckCookieDelimiter(){const e=/^\s*[\n;]\s*/.exec(this._input);if(!e)return false;this._input=this._input.slice(e[0].length);return e[0].match("\n")!==null}_addCookie(e,t){if(this._lastCookie)this._lastCookie.setSize(e.position-this._lastCookiePosition);this._lastCookie=typeof e.value==="string"?new SDK.Cookie(e.key,e.value,t):new SDK.Cookie("",e.key,t);this._lastCookiePosition=e.position;this._cookies.push(this._lastCookie)}};SDK.CookieParser.KeyValue=class{constructor(e,t,n){this.key=e;this.value=t;this.position=n}};SDK.Cookie=class{constructor(e,t,n){this._name=e;this._value=t;this._type=n;this._attributes={};this._size=0}name(){return this._name}value(){return this._value}type(){return this._type}httpOnly(){return"httponly"in this._attributes}secure(){return"secure"in this._attributes}sameSite(){return this._attributes["samesite"]}session(){return!("expires"in this._attributes||"max-age"in this._attributes)}path(){return this._attributes["path"]}port(){return this._attributes["port"]}domain(){return this._attributes["domain"]}expires(){return this._attributes["expires"]}maxAge(){return this._attributes["max-age"]}size(){return this._size}url(){return(this.secure()?"https://":"http://")+this.domain()+this.path()}setSize(e){this._size=e}expiresDate(e){if(this.maxAge()){const t=e===null?new Date:e;return new Date(t.getTime()+1e3*this.maxAge())}if(this.expires())return new Date(this.expires());return null}attributes(){return this._attributes}addAttribute(e,t){this._attributes[e.toLowerCase()]=t}};SDK.Cookie.Type={Request:0,Response:1};SDK.ProfileNode=class{constructor(e){this.callFrame=e;this.callUID=`${e.functionName}@${e.scriptId}:${e.lineNumber}:${e.columnNumber}`;this.self=0;this.total=0;this.id=0;this.parent=null;this.children=[]}get functionName(){return this.callFrame.functionName}get scriptId(){return this.callFrame.scriptId}get url(){return this.callFrame.url}get lineNumber(){return this.callFrame.lineNumber}get columnNumber(){return this.callFrame.columnNumber}};SDK.ProfileTreeModel=class{constructor(e){this._target=e||null}initialize(e){this.root=e;this._assignDepthsAndParents();this.total=this._calculateTotals(this.root)}_assignDepthsAndParents(){const e=this.root;e.depth=-1;e.parent=null;this.maxDepth=0;const t=[e];while(t.length){const e=t.pop();const n=e.depth+1;if(n>this.maxDepth)this.maxDepth=n;const s=e.children;const i=s.length;for(let o=0;o<i;++o){const i=s[o];i.depth=n;i.parent=e;if(i.children.length)t.push(i)}}}_calculateTotals(e){const t=[e];const n=[];while(t.length){const e=t.pop();e.total=e.self;n.push(e);t.push(...e.children)}while(n.length>1){const e=n.pop();e.parent.total+=e.total}return e.total}target(){return this._target}};SDK.ServerTiming=class{constructor(e,t,n){this.metric=e;this.value=t;this.description=n}static parseHeaders(e){const t=e.filter(e=>e.name.toLowerCase()==="server-timing");if(!t.length)return null;const n=t.reduce((e,t)=>{const n=this.createFromHeaderValue(t.value);e.pushAll(n.map(function(e){return new SDK.ServerTiming(e.name,e.hasOwnProperty("dur")?e.dur:null,e.hasOwnProperty("desc")?e.desc:"")}));return e},[]);n.sort((e,t)=>e.metric.toLowerCase().compareTo(t.metric.toLowerCase()));return n}static createFromHeaderValue(e){function t(){e=e.replace(/^\s*/,"")}function n(n){console.assert(n.length===1);t();if(e.charAt(0)!==n)return false;e=e.substring(1);return true}function s(){const t=/^(?:\s*)([\w!#$%&'*+\-.^`|~]+)(?:\s*)(.*)/.exec(e);if(!t)return null;e=t[2];return t[1]}function i(){t();if(e.charAt(0)==='"')return o();return s()}function o(){console.assert(e.charAt(0)==='"');e=e.substring(1);let t="";while(e.length){const n=/^([^"\\]*)(.*)/.exec(e);t+=n[1];if(n[2].charAt(0)==='"'){e=n[2].substring(1);return t}console.assert(n[2].charAt(0)==="\\");t+=n[2].charAt(1);e=n[2].substring(2)}return null}function r(){const t=/([,;].*)/.exec(e);if(t)e=t[1]}const a=[];let l;while((l=s())!==null){const t={name:l};if(e.charAt(0)==="=")this.showWarning(ls`Deprecated syntax found. Please use: <name>;dur=<duration>;desc=<description>`);while(n(";")){let e;if((e=s())===null)continue;e=e.toLowerCase();const o=this.getParserForParameter(e);let a=null;if(n("=")){a=i();r()}if(o){if(t.hasOwnProperty(e)){this.showWarning(ls`Duplicate parameter \"${e}\" ignored.`);continue}if(a===null)this.showWarning(ls`No value found for parameter \"${e}\".`);o.call(this,t,a)}else{this.showWarning(ls`Unrecognized parameter \"${e}\".`)}}a.push(t);if(!n(","))break}if(e.length)this.showWarning(ls`Extraneous trailing characters.`);return a}static getParserForParameter(e){switch(e){case"dur":return function(t,n){t.dur=0;if(n!==null){const s=parseFloat(n);if(isNaN(s)){this.showWarning(ls`Unable to parse \"${e}\" value \"${n}\".`);return}t.dur=s}};case"desc":return function(e,t){e.desc=t||""};default:return null}}static showWarning(e){Common.console.warn(Common.UIString(`ServerTiming: ${e}`))}};SDK.CPUProfileNode=class extends SDK.ProfileNode{constructor(e,t){const n=e.callFrame||{functionName:e["functionName"],scriptId:e["scriptId"],url:e["url"],lineNumber:e["lineNumber"]-1,columnNumber:e["columnNumber"]-1};super(n);this.id=e.id;this.self=e.hitCount*t;this.positionTicks=e.positionTicks;this.deoptReason=e.deoptReason&&e.deoptReason!=="no reason"?e.deoptReason:null}};SDK.CPUProfileDataModel=class extends SDK.ProfileTreeModel{constructor(e,t){super(t);const n=!!e["head"];if(n){this.profileStartTime=e.startTime*1e3;this.profileEndTime=e.endTime*1e3;this.timestamps=e.timestamps;this._compatibilityConversionHeadToNodes(e)}else{this.profileStartTime=e.startTime/1e3;this.profileEndTime=e.endTime/1e3;this.timestamps=this._convertTimeDeltas(e)}this.samples=e.samples;this.lines=e.lines;this.totalHitCount=0;this.profileHead=this._translateProfileTree(e.nodes);this.initialize(this.profileHead);this._extractMetaNodes();if(this.samples){this._buildIdToNodeMap();this._sortSamples();this._normalizeTimestamps();this._fixMissingSamples()}}_compatibilityConversionHeadToNodes(e){if(!e.head||e.nodes)return;const t=[];n(e.head);e.nodes=t;delete e.head;function n(e){t.push(e);e.children=e.children.map(n);return e.id}}_convertTimeDeltas(e){if(!e.timeDeltas)return null;let t=e.startTime;const n=new Array(e.timeDeltas.length);for(let s=0;s<e.timeDeltas.length;++s){t+=e.timeDeltas[s];n[s]=t}return n}_translateProfileTree(e){function t(e){if(e.callFrame)return!!e.callFrame.url&&e.callFrame.url.startsWith("native ");return!!e["url"]&&e["url"].startsWith("native ")}function n(e){if(e[0].children)return;e[0].children=[];for(let t=1;t<e.length;++t){const n=e[t];const s=i.get(n.parent);if(s.children)s.children.push(n.id);else s.children=[n.id]}}function s(e,t){if(typeof e[0].hitCount==="number")return;console.assert(t,"Error: Neither hitCount nor samples are present in profile.");for(let t=0;t<e.length;++t)e[t].hitCount=0;for(let e=0;e<t.length;++e)++i.get(t[e]).hitCount}const i=new Map;for(let t=0;t<e.length;++t){const n=e[t];i.set(n.id,n)}s(e,this.samples);n(e);this.totalHitCount=e.reduce((e,t)=>e+t.hitCount,0);const o=(this.profileEndTime-this.profileStartTime)/this.totalHitCount;const r=!!Common.moduleSetting("showNativeFunctionsInJSProfile").get();const a=e[0];const l=new Map([[a.id,a.id]]);const c=new SDK.CPUProfileNode(a,o);const d=a.children.map(()=>c);const h=a.children.map(e=>i.get(e));while(h.length){let e=d.pop();const n=h.pop();if(!n.children)n.children=[];const s=new SDK.CPUProfileNode(n,o);if(r||!t(n)){e.children.push(s);e=s}else{e.self+=s.self}l.set(n.id,e.id);d.push.apply(d,n.children.map(()=>e));h.push.apply(h,n.children.map(e=>i.get(e)))}if(this.samples)this.samples=this.samples.map(e=>l.get(e));return c}_sortSamples(){const e=this.timestamps;if(!e)return;const t=this.samples;const n=e.map((e,t)=>t);n.stableSort((t,n)=>e[t]-e[n]);for(let s=0;s<e.length;++s){let i=n[s];if(i===s)continue;const o=e[s];const r=t[s];let a=s;while(i!==s){t[a]=t[i];e[a]=e[i];a=i;i=n[i];n[a]=a}t[a]=r;e[a]=o}}_normalizeTimestamps(){let e=this.timestamps;if(!e){const t=this.profileStartTime;const n=(this.profileEndTime-t)/this.samples.length;e=new Float64Array(this.samples.length+1);for(let s=0;s<e.length;++s)e[s]=t+s*n;this.timestamps=e;return}for(let t=0;t<e.length;++t)e[t]/=1e3;if(this.samples.length===e.length){const t=(e.peekLast()-e[0])/(e.length-1);this.timestamps.push(e.peekLast()+t)}this.profileStartTime=e[0];this.profileEndTime=e.peekLast()}_buildIdToNodeMap(){this._idToNode=new Map;const e=this._idToNode;const t=[this.profileHead];while(t.length){const n=t.pop();e.set(n.id,n);t.push.apply(t,n.children)}}_extractMetaNodes(){const e=this.profileHead.children;for(let t=0;t<e.length&&!(this.gcNode&&this.programNode&&this.idleNode);t++){const n=e[t];if(n.functionName==="(garbage collector)")this.gcNode=n;else if(n.functionName==="(program)")this.programNode=n;else if(n.functionName==="(idle)")this.idleNode=n}}_fixMissingSamples(){const e=this.samples;const t=e.length;if(!this.programNode||t<3)return;const n=this._idToNode;const s=this.programNode.id;const i=this.gcNode?this.gcNode.id:-1;const o=this.idleNode?this.idleNode.id:-1;let r=e[0];let a=e[1];let l=0;for(let i=1;i<t-1;i++){const t=e[i+1];if(a===s&&!d(r)&&!d(t)&&c(n.get(r))===c(n.get(t))){++l;e[i]=r}r=a;a=t}if(l)Common.console.warn(ls`DevTools: CPU profile parser is fixing ${l} missing samples.`);function c(e){while(e.parent&&e.parent.parent)e=e.parent;return e}function d(e){return e===s||e===i||e===o}}forEachFrame(e,t,n,s){if(!this.profileHead||!this.samples)return;n=n||0;s=s||Infinity;const i=this.samples;const o=this.timestamps;const r=this._idToNode;const a=this.gcNode;const l=i.length;const c=o.lowerBound(n);let d=0;const h=[];let u=this.profileHead.id;let m;let p=null;const g=this.maxDepth+3;if(!this._stackStartTimes)this._stackStartTimes=new Float64Array(g);const f=this._stackStartTimes;if(!this._stackChildrenDuration)this._stackChildrenDuration=new Float64Array(g);const _=this._stackChildrenDuration;let b;let S;for(S=c;S<l;S++){m=o[S];if(m>=s)break;const n=i[S];if(n===u)continue;b=r.get(n);let l=r.get(u);if(b===a){p=l;e(p.depth+1,a,m);f[++d]=m;_[d]=0;u=n;continue}if(l===a){const e=f[d];const n=m-e;_[d-1]+=n;t(p.depth+1,a,e,n,n-_[d]);--d;l=p;u=l.id;p=null}while(b.depth>l.depth){h.push(b);b=b.parent}while(l!==b){const e=f[d];const n=m-e;_[d-1]+=n;t(l.depth,l,e,n,n-_[d]);--d;if(b.depth===l.depth){h.push(b);b=b.parent}l=l.parent}while(h.length){b=h.pop();e(b.depth,b,m);f[++d]=m;_[d]=0}u=n}m=o[S]||this.profileEndTime;if(r.get(u)===a){const e=f[d];const n=m-e;_[d-1]+=n;t(p.depth+1,b,e,n,n-_[d]);--d;u=p.id}for(let e=r.get(u);e.parent;e=e.parent){const n=f[d];const s=m-n;_[d-1]+=s;t(e.depth,e,n,s,s-_[d]);--d}}nodeByIndex(e){return this._idToNode.get(this.samples[e])||null}};SDK.CPUProfilerModel=class extends SDK.SDKModel{constructor(e){super(e);this._isRecording=false;this._nextAnonymousConsoleProfileNumber=1;this._anonymousConsoleProfileIdToTitle=new Map;this._profilerAgent=e.profilerAgent();e.registerProfilerDispatcher(this);this._profilerAgent.enable();this._debuggerModel=e.model(SDK.DebuggerModel)}runtimeModel(){return this._debuggerModel.runtimeModel()}debuggerModel(){return this._debuggerModel}consoleProfileStarted(e,t,n){if(!n){n=Common.UIString("Profile %d",this._nextAnonymousConsoleProfileNumber++);this._anonymousConsoleProfileIdToTitle.set(e,n)}this._dispatchProfileEvent(SDK.CPUProfilerModel.Events.ConsoleProfileStarted,e,t,n)}consoleProfileFinished(e,t,n,s){if(!s){s=this._anonymousConsoleProfileIdToTitle.get(e);this._anonymousConsoleProfileIdToTitle.delete(e)}self.runtime.loadModulePromise("profiler").then(()=>{this._dispatchProfileEvent(SDK.CPUProfilerModel.Events.ConsoleProfileFinished,e,t,s,n)})}_dispatchProfileEvent(e,t,n,s,i){const o=SDK.DebuggerModel.Location.fromPayload(this._debuggerModel,n);const r=this.target().id()+"."+t;const a={id:r,scriptLocation:o,cpuProfile:i,title:s,cpuProfilerModel:this};this.dispatchEventToListeners(e,a)}isRecordingProfile(){return this._isRecording}startRecording(){this._isRecording=true;const e=Common.moduleSetting("highResolutionCpuProfiling").get()?100:1e3;this._profilerAgent.setSamplingInterval(e);return this._profilerAgent.start()}stopRecording(){this._isRecording=false;return this._profilerAgent.stop()}startPreciseCoverage(){const e=false;const t=true;return this._profilerAgent.startPreciseCoverage(e,t)}takePreciseCoverage(){return this._profilerAgent.takePreciseCoverage().then(e=>e||[])}stopPreciseCoverage(){return this._profilerAgent.stopPreciseCoverage()}bestEffortCoverage(){return this._profilerAgent.getBestEffortCoverage().then(e=>e||[])}};SDK.SDKModel.register(SDK.CPUProfilerModel,SDK.Target.Capability.JS,true);SDK.CPUProfilerModel.Events={ConsoleProfileStarted:Symbol("ConsoleProfileStarted"),ConsoleProfileFinished:Symbol("ConsoleProfileFinished")};SDK.CPUProfilerModel.EventData;SDK.CSSMatchedStyles=class{constructor(e,t,n,s,i,o,r,a){this._cssModel=e;this._node=t;this._addedStyles=new Map;this._matchingSelectors=new Map;this._keyframes=[];if(a)this._keyframes=a.map(t=>new SDK.CSSKeyframesRule(e,t));this._nodeForStyle=new Map;this._inheritedStyles=new Set;i=l(i);for(const e of r)e.matchedCSSRules=l(e.matchedCSSRules);this._mainDOMCascade=this._buildMainCascade(n,s,i,r);this._pseudoDOMCascades=this._buildPseudoCascades(o);this._styleToDOMCascade=new Map;for(const e of Array.from(this._pseudoDOMCascades.values()).concat(this._mainDOMCascade)){for(const t of e.styles())this._styleToDOMCascade.set(t,e)}function l(e){for(const t of e)i(t);const t=[];for(const i of e){const e=t.peekLast();if(!e||i.rule.origin!=="user-agent"||e.rule.origin!=="user-agent"||i.rule.selectorList.text!==e.rule.selectorList.text||s(i)!==s(e)){t.push(i);continue}n(i,e)}return t;function n(e,t){const n=new Map;const s=new Map;for(const e of t.rule.style.shorthandEntries)n.set(e.name,e.value);for(const e of t.rule.style.cssProperties)s.set(e.name,e.value);for(const t of e.rule.style.shorthandEntries)n.set(t.name,t.value);for(const t of e.rule.style.cssProperties)s.set(t.name,t.value);t.rule.style.shorthandEntries=n.keysArray().map(e=>({name:e,value:n.get(e)}));t.rule.style.cssProperties=s.keysArray().map(e=>({name:e,value:s.get(e)}))}function s(e){if(!e.rule.media)return null;return e.rule.media.map(e=>e.text).join(", ")}function i(e){const{matchingSelectors:t,rule:n}=e;if(n.origin!=="user-agent"||!t.length)return;n.selectorList.selectors=n.selectorList.selectors.filter((e,n)=>t.includes(n));n.selectorList.text=n.selectorList.selectors.map(e=>e.text).join(", ");e.matchingSelectors=t.map((e,t)=>t)}}}_buildMainCascade(e,t,n,s){const i=[];const o=[];function r(){if(!t)return;const e=new SDK.CSSStyleDeclaration(this._cssModel,null,t,SDK.CSSStyleDeclaration.Type.Attributes);this._nodeForStyle.set(e,this._node);o.push(e)}if(e&&this._node.nodeType()===Node.ELEMENT_NODE){const t=new SDK.CSSStyleDeclaration(this._cssModel,null,e,SDK.CSSStyleDeclaration.Type.Inline);this._nodeForStyle.set(t,this._node);o.push(t)}let a;for(let e=n.length-1;e>=0;--e){const t=new SDK.CSSStyleRule(this._cssModel,n[e].rule);if((t.isInjected()||t.isUserAgent())&&!a){a=true;r.call(this)}this._nodeForStyle.set(t.style,this._node);o.push(t.style);this._addMatchingSelectors(this._node,t,n[e].matchingSelectors)}if(!a)r.call(this);i.push(new SDK.CSSMatchedStyles.NodeCascade(this,o,false));let l=this._node.parentNode;for(let e=0;l&&s&&e<s.length;++e){const t=[];const n=s[e];const r=n.inlineStyle?new SDK.CSSStyleDeclaration(this._cssModel,null,n.inlineStyle,SDK.CSSStyleDeclaration.Type.Inline):null;if(r&&this._containsInherited(r)){this._nodeForStyle.set(r,l);t.push(r);this._inheritedStyles.add(r)}const a=n.matchedCSSRules||[];for(let e=a.length-1;e>=0;--e){const n=new SDK.CSSStyleRule(this._cssModel,a[e].rule);this._addMatchingSelectors(l,n,a[e].matchingSelectors);if(!this._containsInherited(n.style))continue;if(c(o,n.style)||c(this._inheritedStyles,n.style))continue;this._nodeForStyle.set(n.style,l);t.push(n.style);this._inheritedStyles.add(n.style)}l=l.parentNode;i.push(new SDK.CSSMatchedStyles.NodeCascade(this,t,true))}return new SDK.CSSMatchedStyles.DOMInheritanceCascade(i);function c(e,t){if(!t.styleSheetId||!t.range)return false;for(const n of e){if(t.styleSheetId===n.styleSheetId&&n.range&&t.range.equal(n.range))return true}return false}}_buildPseudoCascades(e){const t=new Map;if(!e)return t;for(let n=0;n<e.length;++n){const s=e[n];const i=this._node.pseudoElements().get(s.pseudoType)||null;const o=[];const r=s.matches||[];for(let e=r.length-1;e>=0;--e){const t=new SDK.CSSStyleRule(this._cssModel,r[e].rule);o.push(t.style);this._nodeForStyle.set(t.style,i);if(i)this._addMatchingSelectors(i,t,r[e].matchingSelectors)}const a=new SDK.CSSMatchedStyles.NodeCascade(this,o,false);t.set(s.pseudoType,new SDK.CSSMatchedStyles.DOMInheritanceCascade([a]))}return t}_addMatchingSelectors(e,t,n){for(const s of n){const n=t.selectors[s];this._setSelectorMatches(e,n.text,true)}}node(){return this._node}cssModel(){return this._cssModel}hasMatchingSelectors(e){const t=this.matchingSelectors(e);return t.length>0&&this.mediaMatches(e.style)}matchingSelectors(e){const t=this.nodeForStyle(e.style);if(!t)return[];const n=this._matchingSelectors.get(t.id);if(!n)return[];const s=[];for(let t=0;t<e.selectors.length;++t){if(n.get(e.selectors[t].text))s.push(t)}return s}recomputeMatchingSelectors(e){const t=this.nodeForStyle(e.style);if(!t)return Promise.resolve();const n=[];for(const i of e.selectors)n.push(s.call(this,t,i.text));return Promise.all(n);async function s(e,t){const n=e.ownerDocument||null;const s=this._matchingSelectors.get(e.id);if(s&&s.has(t)||!n)return;const i=await this._node.domModel().querySelectorAll(n.id,t);if(i)this._setSelectorMatches(e,t,i.indexOf(e.id)!==-1)}}addNewRule(e,t){this._addedStyles.set(e.style,t);return this.recomputeMatchingSelectors(e)}_setSelectorMatches(e,t,n){let s=this._matchingSelectors.get(e.id);if(!s){s=new Map;this._matchingSelectors.set(e.id,s)}s.set(t,n)}mediaMatches(e){const t=e.parentRule?e.parentRule.media:[];for(let e=0;t&&e<t.length;++e){if(!t[e].active())return false}return true}nodeStyles(){return this._mainDOMCascade.styles()}keyframes(){return this._keyframes}pseudoStyles(e){const t=this._pseudoDOMCascades.get(e);return t?t.styles():[]}pseudoTypes(){return new Set(this._pseudoDOMCascades.keys())}_containsInherited(e){const t=e.allProperties();for(let e=0;e<t.length;++e){const n=t[e];if(n.activeInStyle()&&SDK.cssMetadata().isPropertyInherited(n.name))return true}return false}nodeForStyle(e){return this._addedStyles.get(e)||this._nodeForStyle.get(e)||null}availableCSSVariables(e){const t=this._styleToDOMCascade.get(e)||null;return t?t.availableCSSVariables(e):[]}computeCSSVariable(e,t){const n=this._styleToDOMCascade.get(e)||null;return n?n.computeCSSVariable(e,t):null}computeValue(e,t){const n=this._styleToDOMCascade.get(e)||null;return n?n.computeValue(e,t):null}isInherited(e){return this._inheritedStyles.has(e)}propertyState(e){const t=this._styleToDOMCascade.get(e.ownerStyle);return t?t.propertyState(e):null}resetActiveProperties(){this._mainDOMCascade.reset();for(const e of this._pseudoDOMCascades.values())e.reset()}};SDK.CSSMatchedStyles.NodeCascade=class{constructor(e,t,n){this._matchedStyles=e;this._styles=t;this._isInherited=n;this._propertiesState=new Map;this._activeProperties=new Map}_computeActiveProperties(){this._propertiesState.clear();this._activeProperties.clear();for(const e of this._styles){const t=e.parentRule;if(t&&!(t instanceof SDK.CSSStyleRule))continue;if(t&&!this._matchedStyles.hasMatchingSelectors(t))continue;for(const t of e.allProperties()){if(this._isInherited&&!SDK.cssMetadata().isPropertyInherited(t.name))continue;if(!t.activeInStyle()){this._propertiesState.set(t,SDK.CSSMatchedStyles.PropertyState.Overloaded);continue}const e=SDK.cssMetadata().canonicalPropertyName(t.name);const n=this._activeProperties.get(e);if(n&&(n.important||!t.important)){this._propertiesState.set(t,SDK.CSSMatchedStyles.PropertyState.Overloaded);continue}if(n)this._propertiesState.set(n,SDK.CSSMatchedStyles.PropertyState.Overloaded);this._propertiesState.set(t,SDK.CSSMatchedStyles.PropertyState.Active);this._activeProperties.set(e,t)}}}};SDK.CSSMatchedStyles.DOMInheritanceCascade=class{constructor(e){this._nodeCascades=e;this._propertiesState=new Map;this._availableCSSVariables=new Map;this._computedCSSVariables=new Map;this._initialized=false;this._styleToNodeCascade=new Map;for(const t of e){for(const e of t._styles)this._styleToNodeCascade.set(e,t)}}availableCSSVariables(e){const t=this._styleToNodeCascade.get(e);if(!t)return[];this._ensureInitialized();return Array.from(this._availableCSSVariables.get(t).keys())}computeCSSVariable(e,t){const n=this._styleToNodeCascade.get(e);if(!n)return null;this._ensureInitialized();const s=this._availableCSSVariables.get(n);const i=this._computedCSSVariables.get(n);return this._innerComputeCSSVariable(s,i,t)}computeValue(e,t){const n=this._styleToNodeCascade.get(e);if(!n)return null;this._ensureInitialized();const s=this._availableCSSVariables.get(n);const i=this._computedCSSVariables.get(n);return this._innerComputeValue(s,i,t)}_innerComputeCSSVariable(e,t,n){if(!e.has(n))return null;if(t.has(n))return t.get(n);t.set(n,null);const s=e.get(n);const i=this._innerComputeValue(e,t,s);t.set(n,i);return i}_innerComputeValue(e,t,n){const s=TextUtils.TextUtils.splitStringByRegexes(n,[SDK.CSSMetadata.VariableRegex]);const i=[];for(const n of s){if(n.regexIndex===-1){i.push(n.value);continue}const s=n.value.match(/^var\((--[a-zA-Z0-9-_]+)[,]?\s*(.*)\)$/);if(!s)return null;const o=s[1];const r=this._innerComputeCSSVariable(e,t,o);if(r===null&&!s[2])return null;if(r===null)i.push(s[2]);else i.push(r)}return i.map(e=>e.trim()).join(" ")}styles(){return Array.from(this._styleToNodeCascade.keys())}propertyState(e){this._ensureInitialized();return this._propertiesState.get(e)||null}reset(){this._initialized=false;this._propertiesState.clear();this._availableCSSVariables.clear();this._computedCSSVariables.clear()}_ensureInitialized(){if(this._initialized)return;this._initialized=true;const e=new Map;for(const t of this._nodeCascades){t._computeActiveProperties();for(const n of t._propertiesState.entries()){const t=n[0];const s=n[1];if(s===SDK.CSSMatchedStyles.PropertyState.Overloaded){this._propertiesState.set(t,SDK.CSSMatchedStyles.PropertyState.Overloaded);continue}const i=SDK.cssMetadata().canonicalPropertyName(t.name);if(e.has(i)){this._propertiesState.set(t,SDK.CSSMatchedStyles.PropertyState.Overloaded);continue}e.set(i,t);this._propertiesState.set(t,SDK.CSSMatchedStyles.PropertyState.Active)}}for(const t of e.entries()){const n=t[0];const s=t[1];const i=s.ownerStyle;const o=i.longhandProperties(s.name);if(!o.length)continue;let r=false;for(const t of o){const n=SDK.cssMetadata().canonicalPropertyName(t.name);const s=e.get(n);if(!s)continue;if(s.ownerStyle===i){r=true;break}}if(r)continue;e.delete(n);this._propertiesState.set(s,SDK.CSSMatchedStyles.PropertyState.Overloaded)}const t=new Map;for(let e=this._nodeCascades.length-1;e>=0;--e){const n=this._nodeCascades[e];for(const e of n._activeProperties.entries()){const n=e[0];const s=e[1];if(n.startsWith("--"))t.set(n,s.value)}this._availableCSSVariables.set(n,new Map(t));this._computedCSSVariables.set(n,new Map)}}};SDK.CSSMatchedStyles.PropertyState={Active:"Active",Overloaded:"Overloaded"};SDK.CSSMediaQuery=class{constructor(e){this._active=e.active;this._expressions=[];for(let t=0;t<e.expressions.length;++t)this._expressions.push(SDK.CSSMediaQueryExpression.parsePayload(e.expressions[t]))}static parsePayload(e){return new SDK.CSSMediaQuery(e)}active(){return this._active}expressions(){return this._expressions}};SDK.CSSMediaQueryExpression=class{constructor(e){this._value=e.value;this._unit=e.unit;this._feature=e.feature;this._valueRange=e.valueRange?TextUtils.TextRange.fromObject(e.valueRange):null;this._computedLength=e.computedLength||null}static parsePayload(e){return new SDK.CSSMediaQueryExpression(e)}value(){return this._value}unit(){return this._unit}feature(){return this._feature}valueRange(){return this._valueRange}computedLength(){return this._computedLength}};SDK.CSSMedia=class{constructor(e,t){this._cssModel=e;this._reinitialize(t)}static parsePayload(e,t){return new SDK.CSSMedia(e,t)}static parseMediaArrayPayload(e,t){const n=[];for(let s=0;s<t.length;++s)n.push(SDK.CSSMedia.parsePayload(e,t[s]));return n}_reinitialize(e){this.text=e.text;this.source=e.source;this.sourceURL=e.sourceURL||"";this.range=e.range?TextUtils.TextRange.fromObject(e.range):null;this.styleSheetId=e.styleSheetId;this.mediaList=null;if(e.mediaList){this.mediaList=[];for(let t=0;t<e.mediaList.length;++t)this.mediaList.push(SDK.CSSMediaQuery.parsePayload(e.mediaList[t]))}}rebase(e){if(this.styleSheetId!==e.styleSheetId||!this.range)return;if(e.oldRange.equal(this.range))this._reinitialize(e.payload);else this.range=this.range.rebaseAfterTextEdit(e.oldRange,e.newRange)}equal(e){if(!this.styleSheetId||!this.range||!e.range)return false;return this.styleSheetId===e.styleSheetId&&this.range.equal(e.range)}active(){if(!this.mediaList)return true;for(let e=0;e<this.mediaList.length;++e){if(this.mediaList[e].active())return true}return false}lineNumberInSource(){if(!this.range)return undefined;const e=this.header();if(!e)return undefined;return e.lineNumberInSource(this.range.startLine)}columnNumberInSource(){if(!this.range)return undefined;const e=this.header();if(!e)return undefined;return e.columnNumberInSource(this.range.startLine,this.range.startColumn)}header(){return this.styleSheetId?this._cssModel.styleSheetHeaderForId(this.styleSheetId):null}rawLocation(){const e=this.header();if(!e||this.lineNumberInSource()===undefined)return null;const t=Number(this.lineNumberInSource());return new SDK.CSSLocation(e,t,this.columnNumberInSource())}};SDK.CSSMedia.Source={LINKED_SHEET:"linkedSheet",INLINE_SHEET:"inlineSheet",MEDIA_RULE:"mediaRule",IMPORT_RULE:"importRule"};SDK.CSSMetadata=class{constructor(e){this._values=[];this._longhands=new Map;this._shorthands=new Map;this._inherited=new Set;this._svgProperties=new Set;for(let t=0;t<e.length;++t){const n=e[t];const s=n.name;if(!CSS.supports(s,"initial"))continue;this._values.push(s);if(n.inherited)this._inherited.add(s);if(n.svg)this._svgProperties.add(s);const i=e[t].longhands;if(i){this._longhands.set(s,i);for(let e=0;e<i.length;++e){const t=i[e];let n=this._shorthands.get(t);if(!n){n=[];this._shorthands.set(t,n)}n.push(s)}}}this._values.sort(SDK.CSSMetadata._sortPrefixesToEnd);this._valuesSet=new Set(this._values);this._nameValuePresets=[];this._nameValuePresetsIncludingSVG=[];for(const e of this._valuesSet){const t=this._specificPropertyValues(e).filter(t=>CSS.supports(e,t)).sort(SDK.CSSMetadata._sortPrefixesToEnd);const n=t.map(t=>`${e}: ${t}`);if(!this.isSVGProperty(e))this._nameValuePresets.pushAll(n);this._nameValuePresetsIncludingSVG.pushAll(n)}}static _sortPrefixesToEnd(e,t){const n=e.startsWith("-webkit-");const s=t.startsWith("-webkit-");if(n&&!s)return 1;if(!n&&s)return-1;return e<t?-1:e>t?1:0}allProperties(){return this._values}nameValuePresets(e){return e?this._nameValuePresetsIncludingSVG:this._nameValuePresets}isSVGProperty(e){e=e.toLowerCase();return this._svgProperties.has(e)}longhands(e){return this._longhands.get(e)||null}shorthands(e){return this._shorthands.get(e)||null}isColorAwareProperty(e){return!!SDK.CSSMetadata._colorAwareProperties.has(e.toLowerCase())||this.isCustomProperty(e.toLowerCase())}isGridAreaDefiningProperty(e){e=e.toLowerCase();return e==="grid"||e==="grid-template"||e==="grid-template-areas"}isLengthProperty(e){e=e.toLowerCase();if(e==="line-height")return false;return SDK.CSSMetadata._distanceProperties.has(e)||e.startsWith("margin")||e.startsWith("padding")||e.indexOf("width")!==-1||e.indexOf("height")!==-1}isBezierAwareProperty(e){e=e.toLowerCase();return!!SDK.CSSMetadata._bezierAwareProperties.has(e)||this.isCustomProperty(e)}isCustomProperty(e){return e.startsWith("--")}canonicalPropertyName(e){e=e.toLowerCase();if(!e||e.length<9||e.charAt(0)!=="-")return e;const t=e.match(/(?:-webkit-)(.+)/);if(!t||!this._valuesSet.has(t[1]))return e;return t[1]}isCSSPropertyName(e){e=e.toLowerCase();if(e.startsWith("-moz-")||e.startsWith("-o-")||e.startsWith("-webkit-")||e.startsWith("-ms-"))return true;return this._valuesSet.has(e)}isPropertyInherited(e){e=e.toLowerCase();return e.startsWith("--")||this._inherited.has(this.canonicalPropertyName(e))||this._inherited.has(e)}_specificPropertyValues(e){const t=e.replace(/^-webkit-/,"");const n=SDK.CSSMetadata._propertyDataMap[e]||SDK.CSSMetadata._propertyDataMap[t];const s=n&&n.values?n.values.slice():[];for(const t of["auto","none"]){if(CSS.supports(e,t))s.push(t)}return s}propertyValues(e){const t=["inherit","initial","unset"];e=e.toLowerCase();t.pushAll(this._specificPropertyValues(e));if(this.isColorAwareProperty(e)){t.push("currentColor");for(const e in Common.Color.Nicknames)t.push(e)}return t.sort(SDK.CSSMetadata._sortPrefixesToEnd)}propertyUsageWeight(e){return SDK.CSSMetadata.Weight[e]||SDK.CSSMetadata.Weight[this.canonicalPropertyName(e)]||0}getValuePreset(e,t){const n=SDK.CSSMetadata._valuePresets.get(e);let s=n?n.get(t):null;if(!s)return null;let i=s.length;let o=s.length;if(s){i=s.indexOf("|");o=s.lastIndexOf("|");o=i===o?o:o-1;s=s.replace(/\|/g,"")}return{text:s,startColumn:i,endColumn:o}}};SDK.CSSMetadata.VariableRegex=/(var\(--.*?\))/g;SDK.CSSMetadata.URLRegex=/url\(\s*('.+?'|".+?"|[^)]+)\s*\)/g;SDK.CSSMetadata.GridAreaRowRegex=/((?:\[[\w\- ]+\]\s*)*(?:"[^"]+"|'[^']+'))[^'"\[]*\[?[^'"\[]*/;SDK.cssMetadata=function(){if(!SDK.CSSMetadata._instance)SDK.CSSMetadata._instance=new SDK.CSSMetadata(SDK.CSSMetadata._generatedProperties||[]);return SDK.CSSMetadata._instance};SDK.CSSMetadata._imageValuePresetMap=new Map([["linear-gradient","linear-gradient(|45deg, black, transparent|)"],["radial-gradient","radial-gradient(|black, transparent|)"],["repeating-linear-gradient","repeating-linear-gradient(|45deg, black, transparent 100px|)"],["repeating-radial-gradient","repeating-radial-gradient(|black, transparent 100px|)"],["url","url(||)"]]);SDK.CSSMetadata._valuePresets=new Map([["filter",new Map([["blur","blur(|1px|)"],["brightness","brightness(|0.5|)"],["contrast","contrast(|0.5|)"],["drop-shadow","drop-shadow(|2px 4px 6px black|)"],["grayscale","grayscale(|1|)"],["hue-rotate","hue-rotate(|45deg|)"],["invert","invert(|1|)"],["opacity","opacity(|0.5|)"],["saturate","saturate(|0.5|)"],["sepia","sepia(|1|)"],["url","url(||)"]])],["background",SDK.CSSMetadata._imageValuePresetMap],["background-image",SDK.CSSMetadata._imageValuePresetMap],["-webkit-mask-image",SDK.CSSMetadata._imageValuePresetMap],["transform",new Map([["scale","scale(|1.5|)"],["scaleX","scaleX(|1.5|)"],["scaleY","scaleY(|1.5|)"],["scale3d","scale3d(|1.5, 1.5, 1.5|)"],["rotate","rotate(|45deg|)"],["rotateX","rotateX(|45deg|)"],["rotateY","rotateY(|45deg|)"],["rotateZ","rotateZ(|45deg|)"],["rotate3d","rotate3d(|1, 1, 1, 45deg|)"],["skew","skew(|10deg, 10deg|)"],["skewX","skewX(|10deg|)"],["skewY","skewY(|10deg|)"],["translate","translate(|10px, 10px|)"],["translateX","translateX(|10px|)"],["translateY","translateY(|10px|)"],["translateZ","translateZ(|10px|)"],["translate3d","translate3d(|10px, 10px, 10px|)"],["matrix","matrix(|1, 0, 0, 1, 0, 0|)"],["matrix3d","matrix3d(|1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1|)"],["perspective","perspective(|10px|)"]])]]);SDK.CSSMetadata._distanceProperties=new Set(["background-position","border-spacing","bottom","font-size","height","left","letter-spacing","max-height","max-width","min-height","min-width","right","text-indent","top","width","word-spacing","grid-row-gap","grid-column-gap","row-gap"]);SDK.CSSMetadata._bezierAwareProperties=new Set(["animation","animation-timing-function","transition","transition-timing-function","-webkit-animation","-webkit-animation-timing-function","-webkit-transition","-webkit-transition-timing-function"]);SDK.CSSMetadata._colorAwareProperties=new Set(["backdrop-filter","background","background-color","background-image","border","border-color","border-image","border-image-source","border-bottom","border-bottom-color","border-left","border-left-color","border-right","border-right-color","border-top","border-top-color","box-shadow","caret-color","color","column-rule","column-rule-color","fill","list-style","list-style-image","outline","outline-color","stroke","text-decoration-color","text-shadow","-webkit-border-after","-webkit-border-after-color","-webkit-border-before","-webkit-border-before-color","-webkit-border-end","-webkit-border-end-color","-webkit-border-start","-webkit-border-start-color","-webkit-box-reflect","-webkit-box-shadow","-webkit-column-rule-color","-webkit-filter","-webkit-mask","-webkit-mask-box-image","-webkit-mask-box-image-source","-webkit-mask-image","-webkit-tap-highlight-color","-webkit-text-decoration-color","-webkit-text-emphasis","-webkit-text-emphasis-color","-webkit-text-fill-color","-webkit-text-stroke","-webkit-text-stroke-color"]);SDK.CSSMetadata._propertyDataMap={"table-layout":{values:["fixed"]},visibility:{values:["hidden","visible","collapse"]},"background-repeat":{values:["repeat","repeat-x","repeat-y","no-repeat","space","round"]},content:{values:["normal","close-quote","no-close-quote","no-open-quote","open-quote"]},clear:{values:["left","right","both"]},"overflow-x":{values:["hidden","visible","overlay","scroll"]},"stroke-linejoin":{values:["round","miter","bevel"]},"baseline-shift":{values:["baseline","sub","super"]},"border-bottom-width":{values:["medium","thick","thin"]},"margin-top-collapse":{values:["collapse","separate","discard"]},"max-height":{values:["min-content","max-content","-webkit-fill-available","fit-content"]},"box-orient":{values:["horizontal","vertical","inline-axis","block-axis"]},"font-stretch":{values:["normal","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded"]},"border-left-width":{values:["medium","thick","thin"]},"box-shadow":{values:["inset"]},"-webkit-writing-mode":{values:["horizontal-tb","vertical-rl","vertical-lr"]},"writing-mode":{values:["lr","rl","tb","lr-tb","rl-tb","tb-rl","horizontal-tb","vertical-rl","vertical-lr"]},"border-collapse":{values:["collapse","separate"]},"page-break-inside":{values:["avoid"]},"border-top-width":{values:["medium","thick","thin"]},"outline-style":{values:["inset","groove","ridge","outset","dotted","dashed","solid","double","hidden"]},cursor:{values:["copy","crosshair","default","grab","grabbing","pointer","move","vertical-text","cell","context-menu","alias","progress","no-drop","not-allowed","-webkit-zoom-in","-webkit-zoom-out","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","text","wait","help","all-scroll","zoom-in","zoom-out","-webkit-grab","-webkit-grabbing"]},"border-width":{values:["medium","thick","thin"]},"border-style":{values:["hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},size:{values:["a3","a4","a5","b4","b5","landscape","ledger","legal","letter","portrait"]},"background-size":{values:["contain","cover"]},direction:{values:["ltr","rtl"]},"enable-background":{values:["accumulate","new"]},float:{values:["left","right"]},"overflow-y":{values:["hidden","visible","overlay","scroll"]},"margin-bottom-collapse":{values:["collapse","separate","discard"]},"box-reflect":{values:["left","right","above","below"]},overflow:{values:["hidden","visible","overlay","scroll"]},"overscroll-behavior":{values:["contain"]},"overscroll-behavior-x":{values:["contain"]},"overscroll-behavior-y":{values:["contain"]},contain:{values:["strict","content","size","layout","style","paint"]},"text-rendering":{values:["optimizeSpeed","optimizeLegibility","geometricPrecision"]},"text-align":{values:["-webkit-auto","start","end","left","right","center","justify","-webkit-left","-webkit-right","-webkit-center","-webkit-match-parent"]},"list-style-position":{values:["outside","inside"]},"color-interpolation":{values:["sRGB","linearRGB"]},"background-origin":{values:["border-box","content-box","padding-box"]},"word-wrap":{values:["normal","break-word"]},"font-weight":{values:["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]},"margin-before-collapse":{values:["collapse","separate","discard"]},"text-transform":{values:["capitalize","uppercase","lowercase"]},"border-right-style":{values:["hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"border-left-style":{values:["hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"-webkit-text-emphasis":{values:["circle","filled","open","dot","double-circle","triangle","sesame"]},"font-style":{values:["italic","oblique","normal"]},speak:{values:["normal","spell-out","digits","literal-punctuation","no-punctuation"]},"color-rendering":{values:["optimizeSpeed","optimizeQuality"]},"list-style-type":{values:["disc","circle","square","decimal","decimal-leading-zero","arabic-indic","bengali","cambodian","khmer","devanagari","gujarati","gurmukhi","kannada","lao","malayalam","mongolian","myanmar","oriya","persian","urdu","telugu","tibetan","thai","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","ethiopic-halehame","ethiopic-halehame-am","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","cjk-earthly-branch","cjk-heavenly-stem","hangul-consonant","hangul","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","simp-chinese-formal","simp-chinese-informal","trad-chinese-formal","trad-chinese-informal","hebrew","armenian","lower-armenian","upper-armenian","georgian","cjk-ideographic","hiragana","katakana","hiragana-iroha","katakana-iroha"]},"text-combine-upright":{values:["all"]},"-webkit-text-combine":{values:["horizontal"]},"text-orientation":{values:["mixed","upright","sideways","sideways-right"]},outline:{values:["inset","groove","ridge","outset","dotted","dashed","solid","double","medium","thick","thin"]},font:{values:["caption","icon","menu","message-box","small-caption","-webkit-mini-control","-webkit-small-control","-webkit-control","status-bar","italic","oblique","small-caps","normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900","xx-small","x-small","small","medium","large","x-large","xx-large","-webkit-xxx-large","smaller","larger","serif","sans-serif","cursive","fantasy","monospace","-webkit-body","-webkit-pictograph"]},"dominant-baseline":{values:["middle","central","text-before-edge","text-after-edge","ideographic","alphabetic","hanging","mathematical","use-script","no-change","reset-size"]},display:{values:["inline","block","flow-root","list-item","inline-block","table","inline-table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption","-webkit-box","-webkit-inline-box","flex","inline-flex","grid","inline-grid","contents"]},"-webkit-text-emphasis-position":{values:["over","under"]},"image-rendering":{values:["pixelated","-webkit-optimize-contrast","optimizeSpeed","optimizeQuality"]},"alignment-baseline":{values:["baseline","middle","before-edge","after-edge","central","text-before-edge","text-after-edge","ideographic","alphabetic","hanging","mathematical"]},"outline-width":{values:["medium","thick","thin"]},"box-align":{values:["baseline","center","stretch","start","end"]},"border-right-width":{values:["medium","thick","thin"]},"border-top-style":{values:["hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"line-height":{values:["normal"]},"text-overflow":{values:["clip","ellipsis"]},"overflow-wrap":{values:["normal","break-word"]},"box-direction":{values:["normal","reverse"]},"margin-after-collapse":{values:["collapse","separate","discard"]},"page-break-before":{values:["left","right","always","avoid"]},"border-image":{values:["repeat","stretch","space","round"]},"text-decoration":{values:["blink","line-through","overline","underline","wavy","double","solid","dashed","dotted"]},position:{values:["absolute","fixed","relative","static","sticky"]},"font-family":{values:["serif","sans-serif","cursive","fantasy","monospace","-webkit-body","-webkit-pictograph"]},"border-bottom-style":{values:["hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},"unicode-bidi":{values:["normal","bidi-override","embed","isolate","isolate-override","plaintext"]},"clip-rule":{values:["nonzero","evenodd"]},zoom:{values:["normal"]},"max-width":{values:["min-content","max-content","-webkit-fill-available","fit-content"]},"caption-side":{values:["top","bottom"]},"empty-cells":{values:["hide","show"]},"pointer-events":{values:["all","visible","visiblepainted","visiblefill","visiblestroke","painted","fill","stroke","bounding-box"]},"letter-spacing":{values:["normal"]},"background-clip":{values:["border-box","content-box","padding-box"]},"-webkit-font-smoothing":{values:["antialiased","subpixel-antialiased"]},border:{values:["hidden","inset","groove","ridge","outset","dotted","dashed","solid","double","medium","thick","thin"]},"font-size":{values:["xx-small","x-small","small","medium","large","x-large","xx-large","-webkit-xxx-large","smaller","larger"]},"font-variant":{values:["small-caps","normal","common-ligatures","no-common-ligatures","discretionary-ligatures","no-discretionary-ligatures","historical-ligatures","no-historical-ligatures","contextual","no-contextual","all-small-caps","petite-caps","all-petite-caps","unicase","titling-caps","lining-nums","oldstyle-nums","proportional-nums","tabular-nums","diagonal-fractions","stacked-fractions","ordinal","slashed-zero","jis78","jis83","jis90","jis04","simplified","traditional","full-width","proportional-width","ruby"]},"vertical-align":{values:["baseline","middle","sub","super","text-top","text-bottom","top","bottom","-webkit-baseline-middle"]},"white-space":{values:["normal","nowrap","pre","pre-line","pre-wrap"]},"page-break-after":{values:["left","right","always","avoid"]},"word-break":{values:["normal","break-all","break-word","keep-all"]},"word-spacing":{values:["normal"]},"-webkit-text-emphasis-style":{values:["circle","filled","open","dot","double-circle","triangle","sesame"]},transform:{values:["scale","scaleX","scaleY","scale3d","rotate","rotateX","rotateY","rotateZ","rotate3d","skew","skewX","skewY","translate","translateX","translateY","translateZ","translate3d","matrix","matrix3d","perspective"]},"box-sizing":{values:["content-box","border-box"]},resize:{values:["both","horizontal","vertical"]},"align-content":{values:["normal","baseline","space-between","space-around","space-evenly","stretch","unsafe","safe","center","start","end","flex-start","flex-end","left","right"]},"justify-content":{values:["normal","space-between","space-around","space-evenly","stretch","unsafe","safe","center","start","end","flex-start","flex-end","left","right","baseline"]},"place-content":{values:["normal","space-between","space-around","space-evenly","stretch","unsafe","safe","center","start","end","flex-start","flex-end","left","right","baseline"]},"align-items":{values:["normal","stretch","baseline","unsafe","safe","center","start","end","self-start","self-end","flex-start","flex-end","left","right"]},"justify-items":{values:["normal","stretch","baseline","unsafe","safe","center","start","end","self-start","self-end","flex-start","flex-end","left","right","legacy"]},"place-items":{values:["normal","stretch","baseline","unsafe","safe","center","start","end","self-start","self-end","flex-start","flex-end","left","right"]},"align-self":{values:["normal","stretch","baseline","unsafe","safe","center","start","end","self-start","self-end","flex-start","flex-end","left","right"]},"justify-self":{values:["normal","stretch","baseline","unsafe","safe","center","start","end","self-start","self-end","flex-start","flex-end","left","right"]},"place-self":{values:["normal","stretch","baseline","unsafe","safe","center","start","end","self-start","self-end","flex-start","flex-end","left","right"]},"flex-direction":{values:["row","row-reverse","column","column-reverse"]},"flex-wrap":{values:["nowrap","wrap","wrap-reverse"]},"perspective-origin":{values:["left","center","right","top","bottom"]},"transform-origin":{values:["left","center","right","top","bottom"]},"transform-style":{values:["flat","preserve-3d"]},"transition-timing-function":{values:["ease","linear","ease-in","ease-out","ease-in-out","step-start","step-end","steps","frames","cubic-bezier","step-middle"]},"animation-timing-function":{values:["ease","linear","ease-in","ease-out","ease-in-out","step-start","step-end","steps","frames","cubic-bezier","step-middle"]},"animation-direction":{values:["normal","reverse","alternate","alternate-reverse"]},"animation-play-state":{values:["running","paused"]},"animation-fill-mode":{values:["forwards","backwards","both"]},"-webkit-backface-visibility":{values:["visible","hidden"]},"-webkit-box-decoration-break":{values:["slice","clone"]},"-webkit-column-break-after":{values:["always","avoid","left","right","page","column","avoid-page","avoid-column"]},"-webkit-column-break-before":{values:["always","avoid","left","right","page","column","avoid-page","avoid-column"]},"-webkit-column-break-inside":{values:["avoid","avoid-page","avoid-column"]},"-webkit-column-span":{values:["all"]},"-webkit-column-gap":{values:["normal"]},filter:{values:["url","blur","brightness","contrast","drop-shadow","grayscale","hue-rotate","invert","opacity","saturate","sepia"]},"line-break":{values:["loose","normal","strict","after-white-space"]},"user-select":{values:["text","all"]},"-webkit-user-modify":{values:["read-only","read-write","read-write-plaintext-only"]},"text-align-last":{values:["start","end","left","right","center","justify"]},"-webkit-text-decoration-line":{values:["underline","overline","line-through","blink"]},"-webkit-text-decoration-style":{values:["solid","double","dotted","dashed","wavy"]},"mix-blend-mode":{values:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","unset"]},"background-blend-mode":{values:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","unset"]},"grid-template-columns":{values:["min-content","max-content"]},"grid-template-rows":{values:["min-content","max-content"]},"grid-auto-columns":{values:["min-content","max-content"]},"grid-auto-rows":{values:["min-content","max-content"]},"grid-auto-flow":{values:["row","column","dense"]},"row-gap":{values:["normal"]},"animation-iteration-count":{values:["infinite"]},"font-feature-settings":{values:["normal"]},"font-kerning":{values:["normal"]},"font-variant-caps":{values:["small-caps","all-small-caps","petite-caps","all-petite-caps","unicase","titling-caps","normal"]},"font-variant-east-asian":{values:["jis78","jis83","jis90","jis04","simplified","traditional","full-width","proportional-width","ruby","normal"]},"font-variant-ligatures":{values:["common-ligatures","no-common-ligatures","discretionary-ligatures","no-discretionary-ligatures","historical-ligatures","no-historical-ligatures","contextual","no-contextual","normal"]},"font-variant-numeric":{values:["lining-nums","oldstyle-nums","proportional-nums","tabular-nums","diagonal-fractions","stacked-fractions","ordinal","slashed-zero","normal"]},"font-variation-settings":{values:["normal"]},"backface-visibility":{values:["hidden","visible"]},background:{values:["repeat","repeat-x","repeat-y","no-repeat","top","bottom","left","right","center","fixed","local","scroll","space","round","border-box","content-box","padding-box","linear-gradient","radial-gradient","repeating-linear-gradient","repeating-radial-gradient","url"]},"background-attachment":{values:["fixed","local","scroll"]},"background-image":{values:["linear-gradient","radial-gradient","repeating-linear-gradient","repeating-radial-gradient","url"]},"background-position":{values:["top","bottom","left","right","center"]},"background-position-x":{values:["left","right","center"]},"background-position-y":{values:["top","bottom","center"]},"background-repeat-x":{values:["repeat","no-repeat"]},"background-repeat-y":{values:["repeat","no-repeat"]},"border-bottom":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"border-image-repeat":{values:["repeat","stretch","space","round"]},"border-left":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"border-right":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"border-top":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"break-after":{values:["left","right","avoid","column","avoid-page","page","recto","verso","avoid-column"]},"break-before":{values:["left","right","avoid","column","avoid-page","page","recto","verso","avoid-column"]},"break-inside":{values:["avoid","avoid-page","avoid-column"]},"buffered-rendering":{values:["static","dynamic"]},"color-interpolation-filters":{values:["srgb","linearrgb"]},"column-fill":{values:["balance"]},"column-gap":{values:["normal"]},"column-rule":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"column-rule-style":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"column-rule-width":{values:["medium","thick","thin"]},"column-span":{values:["all"]},"fill-rule":{values:["nonzero","evenodd"]},"flex-flow":{values:["nowrap","row","row-reverse","column","column-reverse","wrap","wrap-reverse"]},height:{values:["-webkit-fill-available","min-content","max-content","fit-content"]},hyphens:{values:["manual"]},"inline-size":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},isolation:{values:["isolate"]},"list-style":{values:["outside","inside","disc","circle","square","decimal","decimal-leading-zero","arabic-indic","bengali","cambodian","khmer","devanagari","gujarati","gurmukhi","kannada","lao","malayalam","mongolian","myanmar","oriya","persian","urdu","telugu","tibetan","thai","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","cjk-earthly-branch","cjk-heavenly-stem","ethiopic-halehame","ethiopic-halehame-am","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","hangul","hangul-consonant","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","hebrew","armenian","lower-armenian","upper-armenian","georgian","cjk-ideographic","simp-chinese-formal","simp-chinese-informal","trad-chinese-formal","trad-chinese-informal","hiragana","katakana","hiragana-iroha","katakana-iroha"]},"mask-source-type":{values:["alpha","luminance"]},"mask-type":{values:["alpha","luminance"]},"max-block-size":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"max-inline-size":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"min-block-size":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"min-height":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"min-inline-size":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"min-width":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"object-fit":{values:["contain","cover","fill","scale-down"]},"object-position":{values:["top","bottom","left","right","center"]},"offset-anchor":{values:["top","bottom","left","right","center"]},"offset-position":{values:["top","bottom","left","right","center"]},"offset-rotate":{values:["reverse"]},"overflow-anchor":{values:["visible"]},"paint-order":{values:["normal","fill","stroke","markers"]},"scroll-behavior":{values:["smooth"]},"scroll-customization":{values:["pan-x","pan-y","pan-left","pan-right","pan-up","pan-down"]},"scroll-snap-align":{values:["start","end","center"]},"scroll-snap-stop":{values:["normal","always"]},"scroll-snap-type":{values:["x","y","block","inline","both","mandatory","proximity"]},"shape-outside":{values:["border-box","content-box","padding-box","margin-box"]},"shape-rendering":{values:["optimizespeed","geometricprecision","crispedges"]},"stroke-linecap":{values:["square","round","butt"]},"text-anchor":{values:["middle","start","end"]},"text-decoration-line":{values:["blink","line-through","overline","underline"]},"text-decoration-style":{values:["dotted","dashed","solid","double","wavy"]},"text-justify":{values:["inter-word","distribute"]},"text-underline-position":{values:["under"]},"touch-action":{values:["pan-x","pan-y","pan-left","pan-right","pan-up","pan-down","manipulation","pinch-zoom"]},"transform-box":{values:["border-box","fill-box","view-box"]},"vector-effect":{values:["non-scaling-stroke"]},"-webkit-app-region":{values:["drag","no-drag"]},"-webkit-appearance":{values:["checkbox","radio","push-button","square-button","button","button-bevel","inner-spin-button","listbox","listitem","media-enter-fullscreen-button","media-exit-fullscreen-button","media-mute-button","media-play-button","media-overlay-play-button","media-toggle-closed-captions-button","media-slider","media-sliderthumb","media-volume-slider-container","media-volume-slider","media-volume-sliderthumb","media-controls-background","media-controls-fullscreen-background","media-current-time-display","media-time-remaining-display","menulist","menulist-button","menulist-text","menulist-textfield","meter","progress-bar","progress-bar-value","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","caret","searchfield","searchfield-cancel-button","textfield","textarea"]},"-webkit-border-after":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"-webkit-border-after-style":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"-webkit-border-after-width":{values:["medium","thick","thin"]},"-webkit-border-before":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"-webkit-border-before-style":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"-webkit-border-before-width":{values:["medium","thick","thin"]},"-webkit-border-end":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"-webkit-border-end-style":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"-webkit-border-end-width":{values:["medium","thick","thin"]},"-webkit-border-start":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"-webkit-border-start-style":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"-webkit-border-start-width":{values:["medium","thick","thin"]},"-webkit-box-pack":{values:["center","justify","start","end"]},"-webkit-logical-height":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"-webkit-logical-width":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"-webkit-margin-collapse":{values:["collapse","separate","discard"]},"-webkit-mask-box-image":{values:["repeat","stretch","space","round"]},"-webkit-mask-box-image-repeat":{values:["repeat","stretch","space","round"]},"-webkit-mask-clip":{values:["text","border","border-box","content","content-box","padding","padding-box"]},"-webkit-mask-composite":{values:["clear","copy","source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","xor","plus-lighter"]},"-webkit-mask-image":{values:["linear-gradient","radial-gradient","repeating-linear-gradient","repeating-radial-gradient","url"]},"-webkit-mask-origin":{values:["border","border-box","content","content-box","padding","padding-box"]},"-webkit-mask-position":{values:["top","bottom","left","right","center"]},"-webkit-mask-position-x":{values:["left","right","center"]},"-webkit-mask-position-y":{values:["top","bottom","center"]},"-webkit-mask-repeat":{values:["repeat","repeat-x","repeat-y","no-repeat","space","round"]},"-webkit-mask-size":{values:["contain","cover"]},"-webkit-max-logical-height":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"-webkit-max-logical-width":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"-webkit-min-logical-height":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"-webkit-min-logical-width":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"-webkit-perspective-origin-x":{values:["left","right","center"]},"-webkit-perspective-origin-y":{values:["top","bottom","center"]},"-webkit-print-color-adjust":{values:["economy","exact"]},"-webkit-rtl-ordering":{values:["logical","visual"]},"-webkit-ruby-position":{values:["after","before"]},"-webkit-text-decorations-in-effect":{values:["blink","line-through","overline","underline"]},"-webkit-text-security":{values:["disc","circle","square"]},"-webkit-text-stroke":{values:["medium","thick","thin"]},"-webkit-text-stroke-width":{values:["medium","thick","thin"]},"-webkit-transform-origin-x":{values:["left","right","center"]},"-webkit-transform-origin-y":{values:["top","bottom","center"]},"-webkit-user-drag":{values:["element"]},width:{values:["-webkit-fill-available","min-content","max-content","fit-content"]}};SDK.CSSMetadata.Weight={"align-content":57,"align-items":129,"align-self":55,animation:175,"animation-delay":114,"animation-direction":113,"animation-duration":137,"animation-fill-mode":132,"animation-iteration-count":124,"animation-name":139,"animation-play-state":104,"animation-timing-function":141,"backface-visibility":123,background:260,"background-attachment":119,"background-clip":165,"background-color":259,"background-image":246,"background-origin":107,"background-position":237,"background-position-x":108,"background-position-y":93,"background-repeat":234,"background-size":203,border:263,"border-bottom":233,"border-bottom-color":190,"border-bottom-left-radius":186,"border-bottom-right-radius":185,"border-bottom-style":150,"border-bottom-width":179,"border-collapse":209,"border-color":226,"border-image":89,"border-image-outset":50,"border-image-repeat":49,"border-image-slice":58,"border-image-source":32,"border-image-width":52,"border-left":221,"border-left-color":174,"border-left-style":142,"border-left-width":172,"border-radius":224,"border-right":223,"border-right-color":182,"border-right-style":130,"border-right-width":178,"border-spacing":198,"border-style":206,"border-top":231,"border-top-color":192,"border-top-left-radius":187,"border-top-right-radius":189,"border-top-style":152,"border-top-width":180,"border-width":214,bottom:227,"box-shadow":213,"box-sizing":216,"caption-side":96,clear:229,clip:173,"clip-rule":5,color:256,content:219,"counter-increment":111,"counter-reset":110,cursor:250,direction:176,display:262,"empty-cells":99,fill:140,"fill-opacity":82,"fill-rule":22,filter:160,flex:133,"flex-basis":66,"flex-direction":85,"flex-flow":94,"flex-grow":112,"flex-shrink":61,"flex-wrap":68,float:252,font:211,"font-family":254,"font-kerning":18,"font-size":264,"font-stretch":77,"font-style":220,"font-variant":161,"font-weight":257,height:266,"image-rendering":90,"justify-content":127,left:248,"letter-spacing":188,"line-height":244,"list-style":215,"list-style-image":145,"list-style-position":149,"list-style-type":199,margin:267,"margin-bottom":241,"margin-left":243,"margin-right":238,"margin-top":253,mask:20,"max-height":205,"max-width":225,"min-height":217,"min-width":218,"object-fit":33,opacity:251,order:117,orphans:146,outline:222,"outline-color":153,"outline-offset":147,"outline-style":151,"outline-width":148,overflow:255,"overflow-wrap":105,"overflow-x":184,"overflow-y":196,padding:265,"padding-bottom":230,"padding-left":235,"padding-right":232,"padding-top":240,page:8,"page-break-after":120,"page-break-before":69,"page-break-inside":121,perspective:92,"perspective-origin":103,"pointer-events":183,position:261,quotes:158,resize:168,right:245,"shape-rendering":38,size:64,speak:118,src:170,"stop-color":42,"stop-opacity":31,stroke:98,"stroke-dasharray":36,"stroke-dashoffset":3,"stroke-linecap":30,"stroke-linejoin":21,"stroke-miterlimit":12,"stroke-opacity":34,"stroke-width":87,"table-layout":171,"tab-size":46,"text-align":260,"text-anchor":35,"text-decoration":247,"text-indent":207,"text-overflow":204,"text-rendering":155,"text-shadow":208,"text-transform":202,top:258,"touch-action":80,transform:181,"transform-origin":162,"transform-style":86,transition:193,"transition-delay":134,"transition-duration":135,"transition-property":131,"transition-timing-function":122,"unicode-bidi":156,"unicode-range":136,"vertical-align":236,visibility:242,"-webkit-appearance":191,"-webkit-backface-visibility":154,"-webkit-background-clip":164,"-webkit-background-origin":40,"-webkit-background-size":163,"-webkit-border-end":9,"-webkit-border-horizontal-spacing":81,"-webkit-border-image":75,"-webkit-border-radius":212,"-webkit-border-start":10,"-webkit-border-start-color":16,"-webkit-border-start-width":13,"-webkit-border-vertical-spacing":43,"-webkit-box-align":101,"-webkit-box-direction":51,"-webkit-box-flex":128,"-webkit-box-ordinal-group":91,"-webkit-box-orient":144,"-webkit-box-pack":106,"-webkit-box-reflect":39,"-webkit-box-shadow":210,"-webkit-column-break-inside":60,"-webkit-column-count":84,"-webkit-column-gap":76,"-webkit-column-rule":25,"-webkit-column-rule-color":23,"-webkit-columns":44,"-webkit-column-span":29,"-webkit-column-width":47,"-webkit-filter":159,"-webkit-font-feature-settings":59,"-webkit-font-smoothing":177,"-webkit-highlight":1,"-webkit-line-break":45,"-webkit-line-clamp":126,"-webkit-margin-after":67,"-webkit-margin-before":70,"-webkit-margin-collapse":14,"-webkit-margin-end":65,"-webkit-margin-start":100,"-webkit-margin-top-collapse":78,"-webkit-mask":19,"-webkit-mask-box-image":72,"-webkit-mask-image":88,"-webkit-mask-position":54,"-webkit-mask-repeat":63,"-webkit-mask-size":79,"-webkit-padding-after":15,"-webkit-padding-before":28,"-webkit-padding-end":48,"-webkit-padding-start":73,"-webkit-print-color-adjust":83,"-webkit-rtl-ordering":7,"-webkit-tap-highlight-color":169,"-webkit-text-emphasis-color":11,"-webkit-text-fill-color":71,"-webkit-text-security":17,"-webkit-text-stroke":56,"-webkit-text-stroke-color":37,"-webkit-text-stroke-width":53,"-webkit-user-drag":95,"-webkit-user-modify":62,"-webkit-user-select":194,"-webkit-writing-mode":4,"white-space":228,widows:115,width:268,"will-change":74,"word-break":166,"word-spacing":157,"word-wrap":197,"writing-mode":41,"z-index":239,zoom:200};SDK.CSSModel=class extends SDK.SDKModel{constructor(e){super(e);this._domModel=e.model(SDK.DOMModel);this._sourceMapManager=new SDK.SourceMapManager(e);this._agent=e.cssAgent();this._styleLoader=new SDK.CSSModel.ComputedStyleLoader(this);this._resourceTreeModel=e.model(SDK.ResourceTreeModel);if(this._resourceTreeModel){this._resourceTreeModel.addEventListener(SDK.ResourceTreeModel.Events.MainFrameNavigated,this._resetStyleSheets,this)}e.registerCSSDispatcher(new SDK.CSSDispatcher(this));if(!e.suspended())this._enable();this._styleSheetIdToHeader=new Map;this._styleSheetIdsForURL=new Map;this._originalStyleSheetText=new Map;this._sourceMapManager.setEnabled(Common.moduleSetting("cssSourceMapsEnabled").get());Common.moduleSetting("cssSourceMapsEnabled").addChangeListener(e=>this._sourceMapManager.setEnabled(e.data))}sourceMapManager(){return this._sourceMapManager}static trimSourceURL(e){let t=e.lastIndexOf("/*# sourceURL=");if(t===-1){t=e.lastIndexOf("/*@ sourceURL=");if(t===-1)return e}const n=e.lastIndexOf("\n",t);if(n===-1)return e;const s=e.substr(n+1).split("\n",1)[0];const i=/[\040\t]*\/\*[#@] sourceURL=[\040\t]*([^\s]*)[\040\t]*\*\/[\040\t]*$/;if(s.search(i)===-1)return e;return e.substr(0,n)+e.substr(n+s.length+1)}domModel(){return this._domModel}async setStyleText(e,t,n,s){try{await this._ensureOriginalStyleSheetText(e);const i=await this._agent.setStyleTexts([{styleSheetId:e,range:t.serializeToObject(),text:n}]);if(!i||i.length!==1)return false;this._domModel.markUndoableState(!s);const o=new SDK.CSSModel.Edit(e,t,n,i[0]);this._fireStyleSheetChanged(e,o);return true}catch(e){return false}}async setSelectorText(e,t,n){Host.userMetrics.actionTaken(Host.UserMetrics.Action.StyleRuleEdited);try{await this._ensureOriginalStyleSheetText(e);const s=await this._agent.setRuleSelector(e,t,n);if(!s)return false;this._domModel.markUndoableState();const i=new SDK.CSSModel.Edit(e,t,n,s);this._fireStyleSheetChanged(e,i);return true}catch(e){return false}}async setKeyframeKey(e,t,n){Host.userMetrics.actionTaken(Host.UserMetrics.Action.StyleRuleEdited);try{await this._ensureOriginalStyleSheetText(e);const s=await this._agent.setKeyframeKey(e,t,n);if(!s)return false;this._domModel.markUndoableState();const i=new SDK.CSSModel.Edit(e,t,n,s);this._fireStyleSheetChanged(e,i);return true}catch(e){return false}}startCoverage(){this._agent.startRuleUsageTracking()}takeCoverageDelta(){return this._agent.takeCoverageDelta().then(e=>e||[])}stopCoverage(){return this._agent.stopRuleUsageTracking()}async mediaQueriesPromise(){const e=await this._agent.getMediaQueries();return e?SDK.CSSMedia.parseMediaArrayPayload(this,e):[]}isEnabled(){return this._isEnabled}async _enable(){await this._agent.enable();this._isEnabled=true;this.dispatchEventToListeners(SDK.CSSModel.Events.ModelWasEnabled)}async matchedStylesPromise(e){const t=await this._agent.invoke_getMatchedStylesForNode({nodeId:e});if(t[Protocol.Error])return null;const n=this._domModel.nodeForId(e);if(!n)return null;return new SDK.CSSMatchedStyles(this,n,t.inlineStyle||null,t.attributesStyle||null,t.matchedCSSRules||[],t.pseudoElements||[],t.inherited||[],t.cssKeyframesRules||[])}classNamesPromise(e){return this._agent.collectClassNames(e).then(e=>e||[])}computedStylePromise(e){return this._styleLoader.computedStylePromise(e)}async backgroundColorsPromise(e){const t=this._agent.invoke_getBackgroundColors({nodeId:e});if(t[Protocol.Error])return null;return t}platformFontsPromise(e){return this._agent.getPlatformFontsForNode(e)}allStyleSheets(){const e=this._styleSheetIdToHeader.valuesArray();function t(e,t){if(e.sourceURL<t.sourceURL)return-1;else if(e.sourceURL>t.sourceURL)return 1;return e.startLine-t.startLine||e.startColumn-t.startColumn}e.sort(t);return e}async inlineStylesPromise(e){const t=await this._agent.invoke_getInlineStylesForNode({nodeId:e});if(t[Protocol.Error]||!t.inlineStyle)return null;const n=new SDK.CSSStyleDeclaration(this,null,t.inlineStyle,SDK.CSSStyleDeclaration.Type.Inline);const s=t.attributesStyle?new SDK.CSSStyleDeclaration(this,null,t.attributesStyle,SDK.CSSStyleDeclaration.Type.Attributes):null;return new SDK.CSSModel.InlineStyleResult(n,s)}forcePseudoState(e,t,n){const s=e.marker(SDK.CSSModel.PseudoStateMarker)||[];if(n){if(s.indexOf(t)>=0)return false;s.push(t);e.setMarker(SDK.CSSModel.PseudoStateMarker,s)}else{if(s.indexOf(t)<0)return false;s.remove(t);if(s.length)e.setMarker(SDK.CSSModel.PseudoStateMarker,s);else e.setMarker(SDK.CSSModel.PseudoStateMarker,null)}this._agent.forcePseudoState(e.id,s);this.dispatchEventToListeners(SDK.CSSModel.Events.PseudoStateForced,{node:e,pseudoClass:t,enable:n});return true}pseudoState(e){return e.marker(SDK.CSSModel.PseudoStateMarker)||[]}async setMediaText(e,t,n){Host.userMetrics.actionTaken(Host.UserMetrics.Action.StyleRuleEdited);try{await this._ensureOriginalStyleSheetText(e);const s=await this._agent.setMediaText(e,t,n);if(!s)return false;this._domModel.markUndoableState();const i=new SDK.CSSModel.Edit(e,t,n,s);this._fireStyleSheetChanged(e,i);return true}catch(e){return false}}async addRule(e,t,n){try{await this._ensureOriginalStyleSheetText(e);const s=await this._agent.addRule(e,t,n);if(!s)return null;this._domModel.markUndoableState();const i=new SDK.CSSModel.Edit(e,n,t,s);this._fireStyleSheetChanged(e,i);return new SDK.CSSStyleRule(this,s)}catch(e){return null}}async requestViaInspectorStylesheet(e){const t=e.frameId()||(this._resourceTreeModel?this._resourceTreeModel.mainFrame.id:"");const n=this._styleSheetIdToHeader.valuesArray();const s=n.find(e=>e.frameId===t&&e.isViaInspector());if(s)return s;try{const e=await this._agent.createStyleSheet(t);return e&&this._styleSheetIdToHeader.get(e)||null}catch(e){return null}}mediaQueryResultChanged(){this.dispatchEventToListeners(SDK.CSSModel.Events.MediaQueryResultChanged)}fontsUpdated(){this.dispatchEventToListeners(SDK.CSSModel.Events.FontsUpdated)}styleSheetHeaderForId(e){return this._styleSheetIdToHeader.get(e)||null}styleSheetHeaders(){return this._styleSheetIdToHeader.valuesArray()}_fireStyleSheetChanged(e,t){this.dispatchEventToListeners(SDK.CSSModel.Events.StyleSheetChanged,{styleSheetId:e,edit:t})}_ensureOriginalStyleSheetText(e){const t=this.styleSheetHeaderForId(e);if(!t)return Promise.resolve(null);let n=this._originalStyleSheetText.get(t);if(!n){n=this.getStyleSheetText(t.id);this._originalStyleSheetText.set(t,n);this._originalContentRequestedForTest(t)}return n}_originalContentRequestedForTest(e){}originalStyleSheetText(e){return this._ensureOriginalStyleSheetText(e.id)}_styleSheetAdded(e){console.assert(!this._styleSheetIdToHeader.get(e.styleSheetId));const t=new SDK.CSSStyleSheetHeader(this,e);this._styleSheetIdToHeader.set(e.styleSheetId,t);const n=t.resourceURL();if(!this._styleSheetIdsForURL.get(n))this._styleSheetIdsForURL.set(n,{});const s=this._styleSheetIdsForURL.get(n);let i=s[t.frameId];if(!i){i=[];s[t.frameId]=i}i.push(t.id);this._sourceMapManager.attachSourceMap(t,t.sourceURL,t.sourceMapURL);this.dispatchEventToListeners(SDK.CSSModel.Events.StyleSheetAdded,t)}_styleSheetRemoved(e){const t=this._styleSheetIdToHeader.get(e);console.assert(t);if(!t)return;this._styleSheetIdToHeader.remove(e);const n=t.resourceURL();const s=this._styleSheetIdsForURL.get(n);console.assert(s,"No frameId to styleSheetId map is available for given style sheet URL.");s[t.frameId].remove(e);if(!s[t.frameId].length){delete s[t.frameId];if(!Object.keys(s).length)this._styleSheetIdsForURL.remove(n)}this._originalStyleSheetText.remove(t);this._sourceMapManager.detachSourceMap(t);this.dispatchEventToListeners(SDK.CSSModel.Events.StyleSheetRemoved,t)}styleSheetIdsForURL(e){const t=this._styleSheetIdsForURL.get(e);if(!t)return[];let n=[];for(const e in t)n=n.concat(t[e]);return n}async setStyleSheetText(e,t,n){const s=this._styleSheetIdToHeader.get(e);console.assert(s);t=SDK.CSSModel.trimSourceURL(t);if(s.hasSourceURL)t+="\n/*# sourceURL="+s.sourceURL+" */";await this._ensureOriginalStyleSheetText(e);const i=await this._agent.invoke_setStyleSheetText({styleSheetId:s.id,text:t});const o=i.sourceMapURL;this._sourceMapManager.detachSourceMap(s);s.setSourceMapURL(o);this._sourceMapManager.attachSourceMap(s,s.sourceURL,s.sourceMapURL);if(o===null)return"Error in CSS.setStyleSheetText";this._domModel.markUndoableState(!n);this._fireStyleSheetChanged(e);return null}async getStyleSheetText(e){try{const t=await this._agent.getStyleSheetText(e);return t&&SDK.CSSModel.trimSourceURL(t)}catch(e){return null}}_resetStyleSheets(){const e=this._styleSheetIdToHeader.valuesArray();this._styleSheetIdsForURL.clear();this._styleSheetIdToHeader.clear();for(let t=0;t<e.length;++t){this._sourceMapManager.detachSourceMap(e[t]);this.dispatchEventToListeners(SDK.CSSModel.Events.StyleSheetRemoved,e[t])}}suspendModel(){this._isEnabled=false;return this._agent.disable().then(this._resetStyleSheets.bind(this))}async resumeModel(){return this._enable()}setEffectivePropertyValueForNode(e,t,n){this._agent.setEffectivePropertyValueForNode(e,t,n)}cachedMatchedCascadeForNode(e){if(this._cachedMatchedCascadeNode!==e)this.discardCachedMatchedCascade();this._cachedMatchedCascadeNode=e;if(!this._cachedMatchedCascadePromise)this._cachedMatchedCascadePromise=this.matchedStylesPromise(e.id);return this._cachedMatchedCascadePromise}discardCachedMatchedCascade(){delete this._cachedMatchedCascadeNode;delete this._cachedMatchedCascadePromise}dispose(){super.dispose();this._sourceMapManager.dispose()}};SDK.SDKModel.register(SDK.CSSModel,SDK.Target.Capability.DOM,true);SDK.CSSModel.RuleUsage;SDK.CSSModel.ContrastInfo;SDK.CSSModel.Events={FontsUpdated:Symbol("FontsUpdated"),MediaQueryResultChanged:Symbol("MediaQueryResultChanged"),ModelWasEnabled:Symbol("ModelWasEnabled"),PseudoStateForced:Symbol("PseudoStateForced"),StyleSheetAdded:Symbol("StyleSheetAdded"),StyleSheetChanged:Symbol("StyleSheetChanged"),StyleSheetRemoved:Symbol("StyleSheetRemoved")};SDK.CSSModel.MediaTypes=["all","braille","embossed","handheld","print","projection","screen","speech","tty","tv"];SDK.CSSModel.PseudoStateMarker="pseudo-state-marker";SDK.CSSModel.Edit=class{constructor(e,t,n,s){this.styleSheetId=e;this.oldRange=t;this.newRange=TextUtils.TextRange.fromEdit(t,n);this.newText=n;this.payload=s}};SDK.CSSLocation=class{constructor(e,t,n){this._cssModel=e.cssModel();this.styleSheetId=e.id;this.url=e.resourceURL();this.lineNumber=t;this.columnNumber=n||0}cssModel(){return this._cssModel}header(){return this._cssModel.styleSheetHeaderForId(this.styleSheetId)}};SDK.CSSDispatcher=class{constructor(e){this._cssModel=e}mediaQueryResultChanged(){this._cssModel.mediaQueryResultChanged()}fontsUpdated(){this._cssModel.fontsUpdated()}styleSheetChanged(e){this._cssModel._fireStyleSheetChanged(e)}styleSheetAdded(e){this._cssModel._styleSheetAdded(e)}styleSheetRemoved(e){this._cssModel._styleSheetRemoved(e)}};SDK.CSSModel.ComputedStyleLoader=class{constructor(e){this._cssModel=e;this._nodeIdToPromise=new Map}computedStylePromise(e){let t=this._nodeIdToPromise.get(e);if(t)return t;t=this._cssModel._agent.getComputedStyleForNode(e).then(n.bind(this));this._nodeIdToPromise.set(e,t);return t;function n(t){this._nodeIdToPromise.delete(e);if(!t||!t.length)return null;const n=new Map;for(const e of t)n.set(e.name,e.value);return n}}};SDK.CSSModel.InlineStyleResult=class{constructor(e,t){this.inlineStyle=e;this.attributesStyle=t}};SDK.CSSProperty=class{constructor(e,t,n,s,i,o,r,a,l,c){this.ownerStyle=e;this.index=t;this.name=n;this.value=s;this.important=i;this.disabled=o;this.parsedOk=r;this.implicit=a;this.text=l;this.range=c?TextUtils.TextRange.fromObject(c):null;this._active=true;this._nameRange=null;this._valueRange=null}static parsePayload(e,t,n){const s=new SDK.CSSProperty(e,t,n.name,n.value,n.important||false,n.disabled||false,"parsedOk"in n?!!n.parsedOk:true,!!n.implicit,n.text,n.range);return s}_ensureRanges(){if(this._nameRange&&this._valueRange)return;const e=this.range;const t=this.text?new TextUtils.Text(this.text):null;if(!e||!t)return;const n=t.value().indexOf(this.name);const s=t.value().lastIndexOf(this.value);if(n===-1||s===-1||n>s)return;const i=new TextUtils.SourceRange(n,this.name.length);const o=new TextUtils.SourceRange(s,this.value.length);this._nameRange=r(t.toTextRange(i),e.startLine,e.startColumn);this._valueRange=r(t.toTextRange(o),e.startLine,e.startColumn);function r(e,t,n){if(e.startLine===0){e.startColumn+=n;e.endColumn+=n}e.startLine+=t;e.endLine+=t;return e}}nameRange(){this._ensureRanges();return this._nameRange}valueRange(){this._ensureRanges();return this._valueRange}rebase(e){if(this.ownerStyle.styleSheetId!==e.styleSheetId)return;if(this.range)this.range=this.range.rebaseAfterTextEdit(e.oldRange,e.newRange)}setActive(e){this._active=e}get propertyText(){if(this.text!==undefined)return this.text;if(this.name==="")return"";return this.name+": "+this.value+(this.important?" !important":"")+";"}activeInStyle(){return this._active}async setText(e,t,n){if(!this.ownerStyle)return Promise.reject(new Error("No ownerStyle for property"));if(!this.ownerStyle.styleSheetId)return Promise.reject(new Error("No owner style id"));if(!this.range||!this.ownerStyle.range)return Promise.reject(new Error("Style not editable"));if(t)Host.userMetrics.actionTaken(Host.UserMetrics.Action.StyleRuleEdited);if(n&&e===this.propertyText){this.ownerStyle.cssModel().domModel().markUndoableState(!t);return Promise.resolve(true)}const s=this.range.relativeTo(this.ownerStyle.range.startLine,this.ownerStyle.range.startColumn);const i=this.ownerStyle.cssText?this._detectIndentation(this.ownerStyle.cssText):Common.moduleSetting("textEditorIndent").get();const o=this.ownerStyle.cssText?i.substring(0,this.ownerStyle.range.endColumn):"";const r=new TextUtils.Text(this.ownerStyle.cssText||"");const a=r.replaceRange(s,String.sprintf(";%s;",e));const l=await self.runtime.extension(TextUtils.TokenizerFactory).instance();const c=SDK.CSSProperty._formatStyle(a,i,o,l);return this.ownerStyle.setText(c,t)}static _formatStyle(e,t,n,s){const i=t.substring(n.length)+t;if(t)t="\n"+t;let o="";let r="";let a;let l=false;let c=false;const d=s.createTokenizer("text/css");d("*{"+e+"}",h);if(l)o+=a;o=o.substring(2,o.length-1).trimRight();return o+(t?"\n"+n:"");function h(e,n,s,d){if(!l){const s=n&&n.includes("css-comment")&&u(e);const i=n&&(n.includes("css-string")||n.includes("css-meta")||n.includes("css-property")||n.includes("css-variable-2"));if(s){o=o.trimRight()+t+e}else if(i){l=true;a=e}else if(e!==";"||c){o+=e;if(e.trim()&&!(n&&n.includes("css-comment")))c=e!==";"}if(e==="{"&&!n)c=false;return}if(e==="}"||e===";"){o=o.trimRight()+t+a.trim()+";";c=false;l=false;r="";if(e==="}")o+="}"}else{if(SDK.cssMetadata().isGridAreaDefiningProperty(r)){const t=SDK.CSSMetadata.GridAreaRowRegex.exec(e);if(t&&t.index===0&&!a.trimRight().endsWith("]"))a=a.trimRight()+"\n"+i}if(!r&&e===":")r=a;a+=e}}function u(e){const t=e.indexOf(":");if(t===-1)return false;const n=e.substring(2,t).trim();return SDK.cssMetadata().isCSSPropertyName(n)}}_detectIndentation(e){const t=e.split("\n");if(t.length<2)return"";return TextUtils.TextUtils.lineIndent(t[1])}setValue(e,t,n,s){const i=this.name+": "+e+(this.important?" !important":"")+";";this.setText(i,t,n).then(s)}setDisabled(e){if(!this.ownerStyle)return Promise.resolve(false);if(e===this.disabled)return Promise.resolve(true);const t=this.text.trim();const n=e?"/* "+t+" */":this.text.substring(2,t.length-2).trim();return this.setText(n,true,true)}};SDK.CSSValue=class{constructor(e){this.text=e.text;if(e.range)this.range=TextUtils.TextRange.fromObject(e.range)}rebase(e){if(!this.range)return;this.range=this.range.rebaseAfterTextEdit(e.oldRange,e.newRange)}};SDK.CSSRule=class{constructor(e,t){this._cssModel=e;this.styleSheetId=t.styleSheetId;if(this.styleSheetId){const t=e.styleSheetHeaderForId(this.styleSheetId);this.sourceURL=t.sourceURL}this.origin=t.origin;this.style=new SDK.CSSStyleDeclaration(this._cssModel,this,t.style,SDK.CSSStyleDeclaration.Type.Regular)}rebase(e){if(this.styleSheetId!==e.styleSheetId)return;this.style.rebase(e)}resourceURL(){if(!this.styleSheetId)return"";const e=this._cssModel.styleSheetHeaderForId(this.styleSheetId);return e.resourceURL()}isUserAgent(){return this.origin===Protocol.CSS.StyleSheetOrigin.UserAgent}isInjected(){return this.origin===Protocol.CSS.StyleSheetOrigin.Injected}isViaInspector(){return this.origin===Protocol.CSS.StyleSheetOrigin.Inspector}isRegular(){return this.origin===Protocol.CSS.StyleSheetOrigin.Regular}cssModel(){return this._cssModel}};SDK.CSSStyleRule=class extends SDK.CSSRule{constructor(e,t,n){super(e,t);this._reinitializeSelectors(t.selectorList);this.media=t.media?SDK.CSSMedia.parseMediaArrayPayload(e,t.media):[];this.wasUsed=n||false}static createDummyRule(e,t){const n={selectorList:{selectors:[{text:t}]},style:{styleSheetId:"0",range:new TextUtils.TextRange(0,0,0,0),shorthandEntries:[],cssProperties:[]}};return new SDK.CSSStyleRule(e,n)}_reinitializeSelectors(e){this.selectors=[];for(let t=0;t<e.selectors.length;++t)this.selectors.push(new SDK.CSSValue(e.selectors[t]))}setSelectorText(e){const t=this.styleSheetId;if(!t)throw"No rule stylesheet id";const n=this.selectorRange();if(!n)throw"Rule selector is not editable";return this._cssModel.setSelectorText(t,n,e)}selectorText(){return this.selectors.select("text").join(", ")}selectorRange(){const e=this.selectors[0].range;if(!e)return null;const t=this.selectors.peekLast().range;return new TextUtils.TextRange(e.startLine,e.startColumn,t.endLine,t.endColumn)}lineNumberInSource(e){const t=this.selectors[e];if(!t||!t.range||!this.styleSheetId)return 0;const n=this._cssModel.styleSheetHeaderForId(this.styleSheetId);return n.lineNumberInSource(t.range.startLine)}columnNumberInSource(e){const t=this.selectors[e];if(!t||!t.range||!this.styleSheetId)return undefined;const n=this._cssModel.styleSheetHeaderForId(this.styleSheetId);console.assert(n);return n.columnNumberInSource(t.range.startLine,t.range.startColumn)}rebase(e){if(this.styleSheetId!==e.styleSheetId)return;if(this.selectorRange().equal(e.oldRange)){this._reinitializeSelectors(e.payload)}else{for(let t=0;t<this.selectors.length;++t)this.selectors[t].rebase(e)}for(const t of this.media)t.rebase(e);super.rebase(e)}};SDK.CSSKeyframesRule=class{constructor(e,t){this._cssModel=e;this._animationName=new SDK.CSSValue(t.animationName);this._keyframes=t.keyframes.map(t=>new SDK.CSSKeyframeRule(e,t))}name(){return this._animationName}keyframes(){return this._keyframes}};SDK.CSSKeyframeRule=class extends SDK.CSSRule{constructor(e,t){super(e,t);this._reinitializeKey(t.keyText)}key(){return this._keyText}_reinitializeKey(e){this._keyText=new SDK.CSSValue(e)}rebase(e){if(this.styleSheetId!==e.styleSheetId||!this._keyText.range)return;if(e.oldRange.equal(this._keyText.range))this._reinitializeKey(e.payload);else this._keyText.rebase(e);super.rebase(e)}setKeyText(e){const t=this.styleSheetId;if(!t)throw"No rule stylesheet id";const n=this._keyText.range;if(!n)throw"Keyframe key is not editable";return this._cssModel.setKeyframeKey(t,n,e)}};SDK.CSSStyleDeclaration=class{constructor(e,t,n,s){this._cssModel=e;this.parentRule=t;this._allProperties;this.styleSheetId;this.range;this.cssText;this._shorthandValues;this._shorthandIsImportant;this._activePropertyMap;this._leadingProperties;this._reinitialize(n);this.type=s}rebase(e){if(this.styleSheetId!==e.styleSheetId||!this.range)return;if(e.oldRange.equal(this.range)){this._reinitialize(e.payload)}else{this.range=this.range.rebaseAfterTextEdit(e.oldRange,e.newRange);for(let t=0;t<this._allProperties.length;++t)this._allProperties[t].rebase(e)}}_reinitialize(e){this.styleSheetId=e.styleSheetId;this.range=e.range?TextUtils.TextRange.fromObject(e.range):null;const t=e.shorthandEntries;this._shorthandValues=new Map;this._shorthandIsImportant=new Set;for(let e=0;e<t.length;++e){this._shorthandValues.set(t[e].name,t[e].value);if(t[e].important)this._shorthandIsImportant.add(t[e].name)}this._allProperties=[];if(e.cssText&&this.range){const t=new TextUtils.Text(e.cssText);let s={line:this.range.startLine,column:this.range.startColumn};for(const i of e.cssProperties){const e=i.range;if(e){n.call(this,t,s.line,s.column,e.startLine,e.startColumn);s={line:e.endLine,column:e.endColumn}}this._allProperties.push(SDK.CSSProperty.parsePayload(this,this._allProperties.length,i))}n.call(this,t,s.line,s.column,this.range.endLine,this.range.endColumn)}else{for(const t of e.cssProperties)this._allProperties.push(SDK.CSSProperty.parsePayload(this,this._allProperties.length,t))}this._generateSyntheticPropertiesIfNeeded();this._computeInactiveProperties();this._activePropertyMap=new Map;for(const e of this._allProperties){if(!e.activeInStyle())continue;this._activePropertyMap.set(e.name,e)}this.cssText=e.cssText;this._leadingProperties=null;function n(e,t,n,i,o){const r=new TextUtils.TextRange(t,n,i,o);const a=e.extract(r.relativeTo(this.range.startLine,this.range.startColumn));const l=a.split("\n");let c=0;let d=false;for(const e of l){let i=0;for(const o of e.split(";")){const e=s(o,d);const r=e.text.trim();d=e.inComment;if(r){let e;let s;const a=r.indexOf(":");if(a===-1){e=r;s=""}else{e=r.substring(0,a).trim();s=r.substring(a+1).trim()}const l=new TextUtils.TextRange(c,i,c,i+o.length);this._allProperties.push(new SDK.CSSProperty(this,this._allProperties.length,e,s,false,false,false,false,o,l.relativeFrom(t,n)))}i+=o.length+1}c++}}function s(e,t){let n="";for(let s=0;s<e.length;s++){if(!t&&e.substring(s,s+2)==="/*"){t=true;s++}else if(t&&e.substring(s,s+2)==="*/"){t=false;s++}else if(!t){n+=e[s]}}return{text:n,inComment:t}}}_generateSyntheticPropertiesIfNeeded(){if(this.range)return;if(!this._shorthandValues.size)return;const e=new Set;for(const t of this._allProperties)e.add(t.name);const t=[];for(const n of this._allProperties){const s=SDK.cssMetadata().shorthands(n.name)||[];for(const n of s){if(e.has(n))continue;const s=this._shorthandValues.get(n);if(!s)continue;const i=!!this._shorthandIsImportant.has(n);const o=new SDK.CSSProperty(this,this.allProperties().length,n,s,i,false,true,false);t.push(o);e.add(n)}}this._allProperties=this._allProperties.concat(t)}_computeLeadingProperties(){function e(e){return!!e.range}if(this.range)return this._allProperties.filter(e);const t=[];for(const e of this._allProperties){const n=SDK.cssMetadata().shorthands(e.name)||[];let s=false;for(const e of n){if(this._shorthandValues.get(e)){s=true;break}}if(!s)t.push(e)}return t}leadingProperties(){if(!this._leadingProperties)this._leadingProperties=this._computeLeadingProperties();return this._leadingProperties}target(){return this._cssModel.target()}cssModel(){return this._cssModel}_computeInactiveProperties(){const e={};for(let t=0;t<this._allProperties.length;++t){const n=this._allProperties[t];if(n.disabled||!n.parsedOk){n.setActive(false);continue}const s=SDK.cssMetadata().canonicalPropertyName(n.name);const i=e[s];if(!i){e[s]=n}else if(!i.important||n.important){i.setActive(false);e[s]=n}else{n.setActive(false)}}}allProperties(){return this._allProperties}getPropertyValue(e){const t=this._activePropertyMap.get(e);return t?t.value:""}isPropertyImplicit(e){const t=this._activePropertyMap.get(e);return t?t.implicit:false}longhandProperties(e){const t=SDK.cssMetadata().longhands(e);const n=[];for(let e=0;t&&e<t.length;++e){const s=this._activePropertyMap.get(t[e]);if(s)n.push(s)}return n}propertyAt(e){return e<this.allProperties().length?this.allProperties()[e]:null}pastLastSourcePropertyIndex(){for(let e=this.allProperties().length-1;e>=0;--e){if(this.allProperties()[e].range)return e+1}return 0}_insertionRange(e){const t=this.propertyAt(e);return t&&t.range?t.range.collapseToStart():this.range.collapseToEnd()}newBlankProperty(e){e=typeof e==="undefined"?this.pastLastSourcePropertyIndex():e;const t=new SDK.CSSProperty(this,e,"","",false,false,true,false,"",this._insertionRange(e));return t}setText(e,t){if(!this.range||!this.styleSheetId)return Promise.resolve(false);return this._cssModel.setStyleText(this.styleSheetId,this.range,e,t)}insertPropertyAt(e,t,n,s){this.newBlankProperty(e).setText(t+": "+n+";",false,true).then(s)}appendProperty(e,t,n){this.insertPropertyAt(this.allProperties().length,e,t,n)}};SDK.CSSStyleDeclaration.Type={Regular:"Regular",Inline:"Inline",Attributes:"Attributes"};SDK.CSSStyleSheetHeader=class{constructor(e,t){this._cssModel=e;this.id=t.styleSheetId;this.frameId=t.frameId;this.sourceURL=t.sourceURL;this.hasSourceURL=!!t.hasSourceURL;this.origin=t.origin;this.title=t.title;this.disabled=t.disabled;this.isInline=t.isInline;this.startLine=t.startLine;this.startColumn=t.startColumn;this.contentLength=t.length;if(t.ownerNode)this.ownerNode=new SDK.DeferredDOMNode(e.target(),t.ownerNode);this.setSourceMapURL(t.sourceMapURL)}originalContentProvider(){if(!this._originalContentProvider){const e=this._cssModel.originalStyleSheetText.bind(this._cssModel,this);this._originalContentProvider=new Common.StaticContentProvider(this.contentURL(),this.contentType(),e)}return this._originalContentProvider}setSourceMapURL(e){this.sourceMapURL=e}cssModel(){return this._cssModel}isAnonymousInlineStyleSheet(){return!this.resourceURL()&&!this._cssModel.sourceMapManager().sourceMapForClient(this)}resourceURL(){return this.isViaInspector()?this._viaInspectorResourceURL():this.sourceURL}_viaInspectorResourceURL(){const e=this._cssModel.target().model(SDK.ResourceTreeModel).frameForId(this.frameId);console.assert(e);const t=new Common.ParsedURL(e.url);let n="inspector://"+t.host+t.folderPathComponents;if(!n.endsWith("/"))n+="/";n+="inspector-stylesheet";return n}lineNumberInSource(e){return this.startLine+e}columnNumberInSource(e,t){return(e?0:this.startColumn)+t}contentURL(){return this.resourceURL()}contentType(){return Common.resourceTypes.Stylesheet}contentEncoded(){return Promise.resolve(false)}requestContent(){return this._cssModel.getStyleSheetText(this.id)}async searchInContent(e,t,n){const s=await this.requestContent();return Common.ContentProvider.performSearchInContent(s,e,t,n)}isViaInspector(){return this.origin==="inspector"}};SDK.ChildTargetManager=class extends SDK.SDKModel{constructor(e){super(e);this._targetManager=e.targetManager();this._parentTarget=e;this._targetAgent=e.targetAgent();this._targetInfos=new Map;this._childTargets=new Map;e.registerTargetDispatcher(this);this._targetAgent.invoke_setAutoAttach({autoAttach:true,waitForDebuggerOnStart:true,flatten:true});if(!e.parentTarget()&&!Host.isUnderTest()){this._targetAgent.setDiscoverTargets(true);this._targetAgent.setRemoteLocations([{host:"localhost",port:9229}])}}static install(e){SDK.ChildTargetManager._attachCallback=e;SDK.SDKModel.register(SDK.ChildTargetManager,SDK.Target.Capability.Target,true)}suspendModel(){return this._targetAgent.invoke_setAutoAttach({autoAttach:true,waitForDebuggerOnStart:false,flatten:true})}resumeModel(){return this._targetAgent.invoke_setAutoAttach({autoAttach:true,waitForDebuggerOnStart:true,flatten:true})}dispose(){for(const e of this._childTargets.keys())this.detachedFromTarget(e,undefined)}targetCreated(e){this._targetInfos.set(e.targetId,e);this._fireAvailableTargetsChanged()}targetInfoChanged(e){this._targetInfos.set(e.targetId,e);this._fireAvailableTargetsChanged()}targetDestroyed(e){this._targetInfos.delete(e);this._fireAvailableTargetsChanged()}targetCrashed(e,t,n){}_fireAvailableTargetsChanged(){SDK.targetManager.dispatchEventToListeners(SDK.TargetManager.Events.AvailableTargetsChanged,this._targetInfos.valuesArray())}attachedToTarget(e,t,n){let s="";if(t.type==="worker"&&t.title&&t.title!==t.url){s=t.title}else if(t.type!=="iframe"){const e=t.url.asParsedURL();s=e?e.lastPathComponentWithFragment():"#"+ ++SDK.ChildTargetManager._lastAnonymousTargetId}let i=SDK.Target.Type.Browser;if(t.type==="iframe")i=SDK.Target.Type.Frame;else if(t.type==="page")i=SDK.Target.Type.Frame;else if(t.type==="worker")i=SDK.Target.Type.Worker;else if(t.type==="service_worker")i=SDK.Target.Type.ServiceWorker;const o=this._targetManager.createTarget(t.targetId,s,i,this._parentTarget,e);this._childTargets.set(e,o);if(SDK.ChildTargetManager._attachCallback){SDK.ChildTargetManager._attachCallback({target:o,waitingForDebugger:n}).then(()=>{o.runtimeAgent().runIfWaitingForDebugger()})}else{o.runtimeAgent().runIfWaitingForDebugger()}}detachedFromTarget(e,t){this._childTargets.get(e).dispose("target terminated");this._childTargets.delete(e)}receivedMessageFromTarget(e,t,n){}};SDK.ChildTargetManager._lastAnonymousTargetId=0;SDK.ChildTargetManager._attachCallback;SDK.DOMDebuggerModel=class extends SDK.SDKModel{constructor(e){super(e);this._agent=e.domdebuggerAgent();this._runtimeModel=e.model(SDK.RuntimeModel);this._domModel=e.model(SDK.DOMModel);this._domModel.addEventListener(SDK.DOMModel.Events.DocumentUpdated,this._documentUpdated,this);this._domModel.addEventListener(SDK.DOMModel.Events.NodeRemoved,this._nodeRemoved,this);this._domBreakpoints=[];this._domBreakpointsSetting=Common.settings.createLocalSetting("domBreakpoints",[]);if(this._domModel.existingDocument())this._documentUpdated()}runtimeModel(){return this._runtimeModel}async eventListeners(e){console.assert(e.runtimeModel()===this._runtimeModel);if(!e.objectId)return[];const t=await this._agent.getEventListeners(e.objectId);const n=[];for(const s of t||[]){const t=this._runtimeModel.debuggerModel().createRawLocationByScriptId(s.scriptId,s.lineNumber,s.columnNumber);if(!t)continue;n.push(new SDK.EventListener(this,e,s.type,s.useCapture,s.passive,s.once,s.handler?this._runtimeModel.createRemoteObject(s.handler):null,s.originalHandler?this._runtimeModel.createRemoteObject(s.originalHandler):null,t,null))}return n}retrieveDOMBreakpoints(){this._domModel.requestDocument()}domBreakpoints(){return this._domBreakpoints.slice()}hasDOMBreakpoint(e,t){return this._domBreakpoints.some(n=>n.node===e&&n.type===t)}setDOMBreakpoint(e,t){for(const n of this._domBreakpoints){if(n.node===e&&n.type===t){this.toggleDOMBreakpoint(n,true);return n}}const n=new SDK.DOMDebuggerModel.DOMBreakpoint(this,e,t,true);this._domBreakpoints.push(n);this._saveDOMBreakpoints();this._enableDOMBreakpoint(n);this.dispatchEventToListeners(SDK.DOMDebuggerModel.Events.DOMBreakpointAdded,n);return n}removeDOMBreakpoint(e,t){this._removeDOMBreakpoints(n=>n.node===e&&n.type===t)}removeAllDOMBreakpoints(){this._removeDOMBreakpoints(e=>true)}toggleDOMBreakpoint(e,t){if(t===e.enabled)return;e.enabled=t;if(t)this._enableDOMBreakpoint(e);else this._disableDOMBreakpoint(e);this.dispatchEventToListeners(SDK.DOMDebuggerModel.Events.DOMBreakpointToggled,e)}_enableDOMBreakpoint(e){this._agent.setDOMBreakpoint(e.node.id,e.type);e.node.setMarker(SDK.DOMDebuggerModel.DOMBreakpoint.Marker,true)}_disableDOMBreakpoint(e){this._agent.removeDOMBreakpoint(e.node.id,e.type);e.node.setMarker(SDK.DOMDebuggerModel.DOMBreakpoint.Marker,this._nodeHasBreakpoints(e.node)?true:null)}_nodeHasBreakpoints(e){for(const t of this._domBreakpoints){if(t.node===e&&t.enabled)return true}return false}resolveDOMBreakpointData(e){const t=e["type"];const n=this._domModel.nodeForId(e["nodeId"]);if(!t||!n)return null;let s=null;let i=false;if(t===SDK.DOMDebuggerModel.DOMBreakpoint.Type.SubtreeModified){i=e["insertion"]||false;s=this._domModel.nodeForId(e["targetNodeId"])}return{type:t,node:n,targetNode:s,insertion:i}}_currentURL(){const e=this._domModel.existingDocument();return e?e.documentURL:""}_documentUpdated(){const e=this._domBreakpoints;this._domBreakpoints=[];this.dispatchEventToListeners(SDK.DOMDebuggerModel.Events.DOMBreakpointsRemoved,e);const t=this._currentURL();for(const e of this._domBreakpointsSetting.get()){if(e.url===t)this._domModel.pushNodeByPathToFrontend(e.path).then(n.bind(this,e))}function n(e,t){const n=t?this._domModel.nodeForId(t):null;if(!n)return;const s=new SDK.DOMDebuggerModel.DOMBreakpoint(this,n,e.type,e.enabled);this._domBreakpoints.push(s);if(e.enabled)this._enableDOMBreakpoint(s);this.dispatchEventToListeners(SDK.DOMDebuggerModel.Events.DOMBreakpointAdded,s)}}_removeDOMBreakpoints(e){const t=[];const n=[];for(const s of this._domBreakpoints){if(e(s)){t.push(s);if(s.enabled){s.enabled=false;this._disableDOMBreakpoint(s)}}else{n.push(s)}}if(!t.length)return;this._domBreakpoints=n;this._saveDOMBreakpoints();this.dispatchEventToListeners(SDK.DOMDebuggerModel.Events.DOMBreakpointsRemoved,t)}_nodeRemoved(e){const t=e.data.node;const n=t.children()||[];this._removeDOMBreakpoints(e=>e.node===t||n.indexOf(e.node)!==-1)}_saveDOMBreakpoints(){const e=this._currentURL();const t=this._domBreakpointsSetting.get().filter(t=>t.url!==e);for(const n of this._domBreakpoints){t.push({url:e,path:n.node.path(),type:n.type,enabled:n.enabled})}this._domBreakpointsSetting.set(t)}};SDK.SDKModel.register(SDK.DOMDebuggerModel,SDK.Target.Capability.DOM,false);SDK.DOMDebuggerModel.Events={DOMBreakpointAdded:Symbol("DOMBreakpointAdded"),DOMBreakpointToggled:Symbol("DOMBreakpointToggled"),DOMBreakpointsRemoved:Symbol("DOMBreakpointsRemoved")};SDK.DOMDebuggerModel.DOMBreakpoint=class{constructor(e,t,n,s){this.domDebuggerModel=e;this.node=t;this.type=n;this.enabled=s}};SDK.DOMDebuggerModel.DOMBreakpoint.Type=Protocol.DOMDebugger.DOMBreakpointType;SDK.DOMDebuggerModel.DOMBreakpoint.Marker="breakpoint-marker";SDK.EventListener=class{constructor(e,t,n,s,i,o,r,a,l,c,d){this._domDebuggerModel=e;this._eventTarget=t;this._type=n;this._useCapture=s;this._passive=i;this._once=o;this._handler=r;this._originalHandler=a||r;this._location=l;const h=l.script();this._sourceURL=h?h.contentURL():"";this._customRemoveFunction=c;this._origin=d||SDK.EventListener.Origin.Raw}domDebuggerModel(){return this._domDebuggerModel}type(){return this._type}useCapture(){return this._useCapture}passive(){return this._passive}once(){return this._once}handler(){return this._handler}location(){return this._location}sourceURL(){return this._sourceURL}originalHandler(){return this._originalHandler}canRemove(){return!!this._customRemoveFunction||this._origin!==SDK.EventListener.Origin.FrameworkUser}remove(){if(!this.canRemove())return Promise.resolve();if(this._origin!==SDK.EventListener.Origin.FrameworkUser){function e(e,t,n){this.removeEventListener(e,t,n);if(this["on"+e])this["on"+e]=undefined}return this._eventTarget.callFunction(e,[SDK.RemoteObject.toCallArgument(this._type),SDK.RemoteObject.toCallArgument(this._originalHandler),SDK.RemoteObject.toCallArgument(this._useCapture)])}return this._customRemoveFunction.callFunction(t,[SDK.RemoteObject.toCallArgument(this._type),SDK.RemoteObject.toCallArgument(this._originalHandler),SDK.RemoteObject.toCallArgument(this._useCapture),SDK.RemoteObject.toCallArgument(this._passive)]).then(()=>undefined);function t(e,t,n,s){this.call(null,e,t,n,s)}}canTogglePassive(){return this._origin!==SDK.EventListener.Origin.FrameworkUser}togglePassive(){return this._eventTarget.callFunction(e,[SDK.RemoteObject.toCallArgument(this._type),SDK.RemoteObject.toCallArgument(this._originalHandler),SDK.RemoteObject.toCallArgument(this._useCapture),SDK.RemoteObject.toCallArgument(this._passive)]);function e(e,t,n,s){this.removeEventListener(e,t,{capture:n});this.addEventListener(e,t,{capture:n,passive:!s})}}origin(){return this._origin}markAsFramework(){this._origin=SDK.EventListener.Origin.Framework}isScrollBlockingType(){return this._type==="touchstart"||this._type==="touchmove"||this._type==="mousewheel"||this._type==="wheel"}};SDK.EventListener.Origin={Raw:"Raw",Framework:"Framework",FrameworkUser:"FrameworkUser"};SDK.DOMDebuggerModel.EventListenerBreakpoint=class{constructor(e,t,n,s,i){this._instrumentationName=e;this._eventName=t;this._eventTargetNames=n;this._category=s;this._title=i;this._enabled=false}category(){return this._category}enabled(){return this._enabled}setEnabled(e){if(this._enabled===e)return;this._enabled=e;for(const e of SDK.targetManager.models(SDK.DOMDebuggerModel))this._updateOnModel(e)}_updateOnModel(e){if(this._instrumentationName){if(this._enabled)e._agent.setInstrumentationBreakpoint(this._instrumentationName);else e._agent.removeInstrumentationBreakpoint(this._instrumentationName)}else{for(const t of this._eventTargetNames){if(this._enabled)e._agent.setEventListenerBreakpoint(this._eventName,t);else e._agent.removeEventListenerBreakpoint(this._eventName,t)}}}title(){return this._title}};SDK.DOMDebuggerModel.EventListenerBreakpoint._listener="listener:";SDK.DOMDebuggerModel.EventListenerBreakpoint._instrumentation="instrumentation:";SDK.DOMDebuggerManager=class{constructor(){this._xhrBreakpointsSetting=Common.settings.createLocalSetting("xhrBreakpoints",[]);this._xhrBreakpoints=new Map;for(const e of this._xhrBreakpointsSetting.get())this._xhrBreakpoints.set(e.url,e.enabled);this._eventListenerBreakpoints=[];this._createInstrumentationBreakpoints(Common.UIString("Animation"),["requestAnimationFrame","cancelAnimationFrame","requestAnimationFrame.callback"]);this._createInstrumentationBreakpoints(Common.UIString("Canvas"),["canvasContextCreated","webglErrorFired","webglWarningFired"]);this._createInstrumentationBreakpoints(Common.UIString("Geolocation"),["Geolocation.getCurrentPosition","Geolocation.watchPosition"]);this._createInstrumentationBreakpoints(Common.UIString("Notification"),["Notification.requestPermission"]);this._createInstrumentationBreakpoints(Common.UIString("Parse"),["Element.setInnerHTML","Document.write"]);this._createInstrumentationBreakpoints(Common.UIString("Script"),["scriptFirstStatement","scriptBlockedByCSP"]);this._createInstrumentationBreakpoints(Common.UIString("Timer"),["setTimeout","clearTimeout","setInterval","clearInterval","setTimeout.callback","setInterval.callback"]);this._createInstrumentationBreakpoints(Common.UIString("Window"),["DOMWindow.close"]);this._createInstrumentationBreakpoints(Common.UIString("WebAudio"),["audioContextCreated","audioContextClosed","audioContextResumed","audioContextSuspended"]);this._createEventListenerBreakpoints(Common.UIString("Media"),["play","pause","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange","loadstart","progress","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","waiting"],["audio","video"]);this._createEventListenerBreakpoints(Common.UIString("Picture-in-Picture"),["enterpictureinpicture","leavepictureinpicture"],["video"]);this._createEventListenerBreakpoints(Common.UIString("Picture-in-Picture"),["resize"],["PictureInPictureWindow"]);this._createEventListenerBreakpoints(Common.UIString("Clipboard"),["copy","cut","paste","beforecopy","beforecut","beforepaste"],["*"]);this._createEventListenerBreakpoints(Common.UIString("Control"),["resize","scroll","zoom","focus","blur","select","change","submit","reset"],["*"]);this._createEventListenerBreakpoints(Common.UIString("Device"),["deviceorientation","devicemotion"],["*"]);this._createEventListenerBreakpoints(Common.UIString("DOM Mutation"),["DOMActivate","DOMFocusIn","DOMFocusOut","DOMAttrModified","DOMCharacterDataModified","DOMNodeInserted","DOMNodeInsertedIntoDocument","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMSubtreeModified","DOMContentLoaded"],["*"]);this._createEventListenerBreakpoints(Common.UIString("Drag / drop"),["drag","dragstart","dragend","dragenter","dragover","dragleave","drop"],["*"]);this._createEventListenerBreakpoints(Common.UIString("Keyboard"),["keydown","keyup","keypress","input"],["*"]);this._createEventListenerBreakpoints(Common.UIString("Load"),["load","beforeunload","unload","abort","error","hashchange","popstate"],["*"]);this._createEventListenerBreakpoints(Common.UIString("Mouse"),["auxclick","click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout","mouseenter","mouseleave","mousewheel","wheel","contextmenu"],["*"]);this._createEventListenerBreakpoints(Common.UIString("Pointer"),["pointerover","pointerout","pointerenter","pointerleave","pointerdown","pointerup","pointermove","pointercancel","gotpointercapture","lostpointercapture"],["*"]);this._createEventListenerBreakpoints(Common.UIString("Touch"),["touchstart","touchmove","touchend","touchcancel"],["*"]);this._createEventListenerBreakpoints(Common.UIString("Worker"),["message","messageerror"],["*"]);this._createEventListenerBreakpoints(Common.UIString("XHR"),["readystatechange","load","loadstart","loadend","abort","error","progress","timeout"],["xmlhttprequest","xmlhttprequestupload"]);this._resolveEventListenerBreakpoint("instrumentation:setTimeout.callback")._title=Common.UIString("setTimeout fired");this._resolveEventListenerBreakpoint("instrumentation:setInterval.callback")._title=Common.UIString("setInterval fired");this._resolveEventListenerBreakpoint("instrumentation:scriptFirstStatement")._title=Common.UIString("Script First Statement");this._resolveEventListenerBreakpoint("instrumentation:scriptBlockedByCSP")._title=Common.UIString("Script Blocked by Content Security Policy");this._resolveEventListenerBreakpoint("instrumentation:requestAnimationFrame")._title=Common.UIString("Request Animation Frame");this._resolveEventListenerBreakpoint("instrumentation:cancelAnimationFrame")._title=Common.UIString("Cancel Animation Frame");this._resolveEventListenerBreakpoint("instrumentation:requestAnimationFrame.callback")._title=Common.UIString("Animation Frame Fired");this._resolveEventListenerBreakpoint("instrumentation:webglErrorFired")._title=Common.UIString("WebGL Error Fired");this._resolveEventListenerBreakpoint("instrumentation:webglWarningFired")._title=Common.UIString("WebGL Warning Fired");this._resolveEventListenerBreakpoint("instrumentation:Element.setInnerHTML")._title=Common.UIString("Set innerHTML");this._resolveEventListenerBreakpoint("instrumentation:canvasContextCreated")._title=Common.UIString("Create canvas context");this._resolveEventListenerBreakpoint("instrumentation:Geolocation.getCurrentPosition")._title="getCurrentPosition";this._resolveEventListenerBreakpoint("instrumentation:Geolocation.watchPosition")._title="watchPosition";this._resolveEventListenerBreakpoint("instrumentation:Notification.requestPermission")._title="requestPermission";this._resolveEventListenerBreakpoint("instrumentation:DOMWindow.close")._title="window.close";this._resolveEventListenerBreakpoint("instrumentation:Document.write")._title="document.write";this._resolveEventListenerBreakpoint("instrumentation:audioContextCreated")._title=Common.UIString("Create AudioContext");this._resolveEventListenerBreakpoint("instrumentation:audioContextClosed")._title=Common.UIString("Close AudioContext");this._resolveEventListenerBreakpoint("instrumentation:audioContextResumed")._title=Common.UIString("Resume AudioContext");this._resolveEventListenerBreakpoint("instrumentation:audioContextSuspended")._title=Common.UIString("Suspend AudioContext");SDK.targetManager.observeModels(SDK.DOMDebuggerModel,this)}_createInstrumentationBreakpoints(e,t){for(const n of t){this._eventListenerBreakpoints.push(new SDK.DOMDebuggerModel.EventListenerBreakpoint(n,"",[],e,n))}}_createEventListenerBreakpoints(e,t,n){for(const s of t){this._eventListenerBreakpoints.push(new SDK.DOMDebuggerModel.EventListenerBreakpoint("",s,n,e,s))}}_resolveEventListenerBreakpoint(e,t){const n="instrumentation:";const s="listener:";let i="";if(e.startsWith(n)){i=e.substring(n.length);e=""}else if(e.startsWith(s)){e=e.substring(s.length)}else{return null}t=(t||"*").toLowerCase();let o=null;for(const n of this._eventListenerBreakpoints){if(i&&n._instrumentationName===i)o=n;if(e&&n._eventName===e&&n._eventTargetNames.indexOf(t)!==-1)o=n;if(!o&&e&&n._eventName===e&&n._eventTargetNames.indexOf("*")!==-1)o=n}return o}eventListenerBreakpoints(){return this._eventListenerBreakpoints.slice()}resolveEventListenerBreakpointTitle(e){const t=e["eventName"];if(t==="instrumentation:webglErrorFired"&&e["webglErrorName"]){let t=e["webglErrorName"];t=t.replace(/^.*(0x[0-9a-f]+).*$/i,"$1");return Common.UIString("WebGL Error Fired (%s)",t)}if(t==="instrumentation:scriptBlockedByCSP"&&e["directiveText"])return Common.UIString("Script blocked due to Content Security Policy directive: %s",e["directiveText"]);const n=this._resolveEventListenerBreakpoint(t,e["targetName"]);if(!n)return"";if(e["targetName"])return e["targetName"]+"."+n._title;return n._title}resolveEventListenerBreakpoint(e){return this._resolveEventListenerBreakpoint(e["eventName"],e["targetName"])}xhrBreakpoints(){return this._xhrBreakpoints}_saveXHRBreakpoints(){const e=[];for(const t of this._xhrBreakpoints.keys())e.push({url:t,enabled:this._xhrBreakpoints.get(t)});this._xhrBreakpointsSetting.set(e)}addXHRBreakpoint(e,t){this._xhrBreakpoints.set(e,t);if(t){for(const t of SDK.targetManager.models(SDK.DOMDebuggerModel))t._agent.setXHRBreakpoint(e)}this._saveXHRBreakpoints()}removeXHRBreakpoint(e){const t=this._xhrBreakpoints.get(e);this._xhrBreakpoints.delete(e);if(t){for(const t of SDK.targetManager.models(SDK.DOMDebuggerModel))t._agent.removeXHRBreakpoint(e)}this._saveXHRBreakpoints()}toggleXHRBreakpoint(e,t){this._xhrBreakpoints.set(e,t);for(const n of SDK.targetManager.models(SDK.DOMDebuggerModel)){if(t)n._agent.setXHRBreakpoint(e);else n._agent.removeXHRBreakpoint(e)}this._saveXHRBreakpoints()}modelAdded(e){for(const t of this._xhrBreakpoints.keys()){if(this._xhrBreakpoints.get(t))e._agent.setXHRBreakpoint(t)}for(const t of this._eventListenerBreakpoints){if(t._enabled)t._updateOnModel(e)}}modelRemoved(e){}};SDK.domDebuggerManager;SDK.DOMNode=class{constructor(e){this._domModel=e}static create(e,t,n,s){const i=new SDK.DOMNode(e);i._init(t,n,s);return i}_init(e,t,n){this._agent=this._domModel._agent;this.ownerDocument=e;this._isInShadowTree=t;this.id=n.nodeId;this._backendNodeId=n.backendNodeId;this._domModel._idToDOMNode[this.id]=this;this._nodeType=n.nodeType;this._nodeName=n.nodeName;this._localName=n.localName;this._nodeValue=n.nodeValue;this._pseudoType=n.pseudoType;this._shadowRootType=n.shadowRootType;this._frameOwnerFrameId=n.frameId||null;this._xmlVersion=n.xmlVersion;this._isSVGNode=!!n.isSVG;this._shadowRoots=[];this._attributes=[];this._attributesMap={};if(n.attributes)this._setAttributesPayload(n.attributes);this._markers=new Map;this._subtreeMarkerCount=0;this._childNodeCount=n.childNodeCount||0;this._children=null;this.nextSibling=null;this.previousSibling=null;this.firstChild=null;this.lastChild=null;this.parentNode=null;if(n.shadowRoots){for(let e=0;e<n.shadowRoots.length;++e){const t=n.shadowRoots[e];const s=SDK.DOMNode.create(this._domModel,this.ownerDocument,true,t);this._shadowRoots.push(s);s.parentNode=this}}if(n.templateContent){this._templateContent=SDK.DOMNode.create(this._domModel,this.ownerDocument,true,n.templateContent);this._templateContent.parentNode=this;this._children=[]}if(n.contentDocument){this._contentDocument=new SDK.DOMDocument(this._domModel,n.contentDocument);this._contentDocument.parentNode=this;this._children=[]}else if((n.nodeName==="IFRAME"||n.nodeName==="PORTAL")&&n.frameId){const e=SDK.targetManager.targetById(n.frameId);const t=e?e.model(SDK.DOMModel):null;if(t)this._childDocumentPromiseForTesting=t.requestDocument();this._children=[]}if(n.importedDocument){this._importedDocument=SDK.DOMNode.create(this._domModel,this.ownerDocument,true,n.importedDocument);this._importedDocument.parentNode=this;this._children=[]}if(n.distributedNodes)this._setDistributedNodePayloads(n.distributedNodes);if(n.children)this._setChildrenPayload(n.children);this._setPseudoElements(n.pseudoElements);if(this._nodeType===Node.ELEMENT_NODE){if(this.ownerDocument&&!this.ownerDocument.documentElement&&this._nodeName==="HTML")this.ownerDocument.documentElement=this;if(this.ownerDocument&&!this.ownerDocument.body&&this._nodeName==="BODY")this.ownerDocument.body=this}else if(this._nodeType===Node.DOCUMENT_TYPE_NODE){this.publicId=n.publicId;this.systemId=n.systemId;this.internalSubset=n.internalSubset}else if(this._nodeType===Node.ATTRIBUTE_NODE){this.name=n.name;this.value=n.value}}isSVGNode(){return this._isSVGNode}domModel(){return this._domModel}backendNodeId(){return this._backendNodeId}children(){return this._children?this._children.slice():null}hasAttributes(){return this._attributes.length>0}childNodeCount(){return this._childNodeCount}hasShadowRoots(){return!!this._shadowRoots.length}shadowRoots(){return this._shadowRoots.slice()}templateContent(){return this._templateContent||null}contentDocument(){return this._contentDocument||null}isIframe(){return this._nodeName==="IFRAME"}isPortal(){return this._nodeName==="PORTAL"}importedDocument(){return this._importedDocument||null}nodeType(){return this._nodeType}nodeName(){return this._nodeName}pseudoType(){return this._pseudoType}hasPseudoElements(){return this._pseudoElements.size>0}pseudoElements(){return this._pseudoElements}beforePseudoElement(){if(!this._pseudoElements)return null;return this._pseudoElements.get(SDK.DOMNode.PseudoElementNames.Before)}afterPseudoElement(){if(!this._pseudoElements)return null;return this._pseudoElements.get(SDK.DOMNode.PseudoElementNames.After)}isInsertionPoint(){return!this.isXMLNode()&&(this._nodeName==="SHADOW"||this._nodeName==="CONTENT"||this._nodeName==="SLOT")}distributedNodes(){return this._distributedNodes||[]}isInShadowTree(){return this._isInShadowTree}ancestorShadowHost(){const e=this.ancestorShadowRoot();return e?e.parentNode:null}ancestorShadowRoot(){if(!this._isInShadowTree)return null;let e=this;while(e&&!e.isShadowRoot())e=e.parentNode;return e}ancestorUserAgentShadowRoot(){const e=this.ancestorShadowRoot();if(!e)return null;return e.shadowRootType()===SDK.DOMNode.ShadowRootTypes.UserAgent?e:null}isShadowRoot(){return!!this._shadowRootType}shadowRootType(){return this._shadowRootType||null}nodeNameInCorrectCase(){const e=this.shadowRootType();if(e)return"#shadow-root ("+e+")";if(!this.localName())return this.nodeName();if(this.localName().length!==this.nodeName().length)return this.nodeName();return this.localName()}setNodeName(e,t){this._agent.invoke_setNodeName({nodeId:this.id,name:e}).then(e=>{if(!e[Protocol.Error])this._domModel.markUndoableState();if(t)t(e[Protocol.Error]||null,this._domModel.nodeForId(e.nodeId))})}localName(){return this._localName}nodeValue(){return this._nodeValue}setNodeValue(e,t){this._agent.invoke_setNodeValue({nodeId:this.id,value:e}).then(e=>{if(!e[Protocol.Error])this._domModel.markUndoableState();if(t)t(e[Protocol.Error]||null)})}getAttribute(e){const t=this._attributesMap[e];return t?t.value:undefined}setAttribute(e,t,n){this._agent.invoke_setAttributesAsText({nodeId:this.id,text:t,name:e}).then(e=>{if(!e[Protocol.Error])this._domModel.markUndoableState();if(n)n(e[Protocol.Error]||null)})}setAttributeValue(e,t,n){this._agent.invoke_setAttributeValue({nodeId:this.id,name:e,value:t}).then(e=>{if(!e[Protocol.Error])this._domModel.markUndoableState();if(n)n(e[Protocol.Error]||null)})}setAttributeValuePromise(e,t){return new Promise(n=>this.setAttributeValue(e,t,n))}attributes(){return this._attributes}async removeAttribute(e){const t=await this._agent.invoke_removeAttribute({nodeId:this.id,name:e});if(t[Protocol.Error])return;delete this._attributesMap[e];const n=this._attributes.findIndex(t=>t.name===e);if(n!==-1)this._attributes.splice(n,1);this._domModel.markUndoableState()}getChildNodes(e){if(this._children){e(this.children());return}this._agent.invoke_requestChildNodes({nodeId:this.id}).then(t=>{e(t[Protocol.Error]?null:this.children())})}async getSubtree(e,t){const n=await this._agent.invoke_requestChildNodes({nodeId:this.id,depth:e,pierce:t});return n[Protocol.Error]?null:this._children}getOuterHTML(){return this._agent.getOuterHTML(this.id)}setOuterHTML(e,t){this._agent.invoke_setOuterHTML({nodeId:this.id,outerHTML:e}).then(e=>{if(!e[Protocol.Error])this._domModel.markUndoableState();if(t)t(e[Protocol.Error]||null)})}removeNode(e){this._agent.invoke_removeNode({nodeId:this.id}).then(t=>{if(!t[Protocol.Error])this._domModel.markUndoableState();if(e)e(t[Protocol.Error]||null)})}async copyNode(){const e=await this._agent.getOuterHTML(this.id);if(e!==null)InspectorFrontendHost.copyText(e);return e}path(){function e(e){return e&&("index"in e||e.isShadowRoot()&&e.parentNode)&&e._nodeName.length}const t=[];let n=this;while(e(n)){const e=typeof n.index==="number"?n.index:n.shadowRootType()===SDK.DOMNode.ShadowRootTypes.UserAgent?"u":"a";t.push([e,n._nodeName]);n=n.parentNode}t.reverse();return t.join(",")}isAncestor(e){if(!e)return false;let t=e.parentNode;while(t){if(this===t)return true;t=t.parentNode}return false}isDescendant(e){return e!==null&&e.isAncestor(this)}frameId(){let e=this.parentNode||this;while(!e._frameOwnerFrameId&&e.parentNode)e=e.parentNode;return e._frameOwnerFrameId}_setAttributesPayload(e){let t=!this._attributes||e.length!==this._attributes.length*2;const n=this._attributesMap||{};this._attributes=[];this._attributesMap={};for(let s=0;s<e.length;s+=2){const i=e[s];const o=e[s+1];this._addAttribute(i,o);if(t)continue;if(!n[i]||n[i].value!==o)t=true}return t}_insertChild(e,t){const n=SDK.DOMNode.create(this._domModel,this.ownerDocument,this._isInShadowTree,t);this._children.splice(this._children.indexOf(e)+1,0,n);this._renumber();return n}_removeChild(e){if(e.pseudoType()){this._pseudoElements.delete(e.pseudoType())}else{const t=this._shadowRoots.indexOf(e);if(t!==-1){this._shadowRoots.splice(t,1)}else{console.assert(this._children.indexOf(e)!==-1);this._children.splice(this._children.indexOf(e),1)}}e.parentNode=null;this._subtreeMarkerCount-=e._subtreeMarkerCount;if(e._subtreeMarkerCount)this._domModel.dispatchEventToListeners(SDK.DOMModel.Events.MarkersChanged,this);this._renumber()}_setChildrenPayload(e){this._children=[];for(let t=0;t<e.length;++t){const n=e[t];const s=SDK.DOMNode.create(this._domModel,this.ownerDocument,this._isInShadowTree,n);this._children.push(s)}this._renumber()}_setPseudoElements(e){this._pseudoElements=new Map;if(!e)return;for(let t=0;t<e.length;++t){const n=SDK.DOMNode.create(this._domModel,this.ownerDocument,this._isInShadowTree,e[t]);n.parentNode=this;this._pseudoElements.set(n.pseudoType(),n)}}_setDistributedNodePayloads(e){this._distributedNodes=[];for(const t of e){this._distributedNodes.push(new SDK.DOMNodeShortcut(this._domModel.target(),t.backendNodeId,t.nodeType,t.nodeName))}}_renumber(){this._childNodeCount=this._children.length;if(this._childNodeCount===0){this.firstChild=null;this.lastChild=null;return}this.firstChild=this._children[0];this.lastChild=this._children[this._childNodeCount-1];for(let e=0;e<this._childNodeCount;++e){const t=this._children[e];t.index=e;t.nextSibling=e+1<this._childNodeCount?this._children[e+1]:null;t.previousSibling=e-1>=0?this._children[e-1]:null;t.parentNode=this}}_addAttribute(e,t){const n={name:e,value:t,_node:this};this._attributesMap[e]=n;this._attributes.push(n)}_setAttribute(e,t){const n=this._attributesMap[e];if(n)n.value=t;else this._addAttribute(e,t)}_removeAttribute(e){const t=this._attributesMap[e];if(t){this._attributes.remove(t);delete this._attributesMap[e]}}copyTo(e,t,n){this._agent.invoke_copyTo({nodeId:this.id,targetNodeId:e.id,insertBeforeNodeId:t?t.id:undefined}).then(e=>{if(!e[Protocol.Error])this._domModel.markUndoableState();if(n)n(e[Protocol.Error]||null,e.nodeId)})}moveTo(e,t,n){this._agent.invoke_moveTo({nodeId:this.id,targetNodeId:e.id,insertBeforeNodeId:t?t.id:undefined}).then(e=>{if(!e[Protocol.Error])this._domModel.markUndoableState();if(n)n(e[Protocol.Error]||null,this._domModel.nodeForId(e.nodeId))})}isXMLNode(){return!!this._xmlVersion}setMarker(e,t){if(t===null){if(!this._markers.has(e))return;this._markers.delete(e);for(let e=this;e;e=e.parentNode)--e._subtreeMarkerCount;for(let e=this;e;e=e.parentNode)this._domModel.dispatchEventToListeners(SDK.DOMModel.Events.MarkersChanged,e);return}if(this.parentNode&&!this._markers.has(e)){for(let e=this;e;e=e.parentNode)++e._subtreeMarkerCount}this._markers.set(e,t);for(let e=this;e;e=e.parentNode)this._domModel.dispatchEventToListeners(SDK.DOMModel.Events.MarkersChanged,e)}marker(e){return this._markers.get(e)||null}traverseMarkers(e){function t(n){if(!n._subtreeMarkerCount)return;for(const t of n._markers.keys())e(n,t);if(!n._children)return;for(const e of n._children)t(e)}t(this)}resolveURL(e){if(!e)return e;for(let t=this;t;t=t.parentNode){if(t.baseURL)return Common.ParsedURL.completeURL(t.baseURL,e)}return null}highlight(e){this._domModel.overlayModel().highlightInOverlay({node:this},e)}highlightForTwoSeconds(){this._domModel.overlayModel().highlightInOverlayForTwoSeconds({node:this})}async resolveToObject(e){const t=await this._agent.resolveNode(this.id,undefined,e);return t&&this._domModel._runtimeModel.createRemoteObject(t)}boxModel(){return this._agent.getBoxModel(this.id)}setAsInspectedNode(){let e=this;while(true){let t=e.ancestorUserAgentShadowRoot();if(!t)break;t=e.ancestorShadowHost();if(!t)break;e=t}this._agent.setInspectedNode(e.id)}enclosingElementOrSelf(){let e=this;if(e&&e.nodeType()===Node.TEXT_NODE&&e.parentNode)e=e.parentNode;if(e&&e.nodeType()!==Node.ELEMENT_NODE)e=null;return e}async scrollIntoView(){const e=this.enclosingElementOrSelf();const t=await e.resolveToObject();if(!t)return;t.callFunction(n);t.release();e.highlightForTwoSeconds();function n(){this.scrollIntoViewIfNeeded(true)}}async focus(){const e=this.enclosingElementOrSelf();const t=await e.resolveToObject();if(!t)return;await t.callFunction(n);t.release();e.highlightForTwoSeconds();this._domModel.target().pageAgent().bringToFront();function n(){this.focus()}}simpleSelector(){const e=this.localName()||this.nodeName().toLowerCase();if(this.nodeType()!==Node.ELEMENT_NODE)return e;if(e==="input"&&this.getAttribute("type")&&!this.getAttribute("id")&&!this.getAttribute("class"))return e+'[type="'+this.getAttribute("type")+'"]';if(this.getAttribute("id"))return e+"#"+this.getAttribute("id");if(this.getAttribute("class")){return(e==="div"?"":e)+"."+this.getAttribute("class").trim().replace(/\s+/g,".")}return e}};SDK.DOMNode.PseudoElementNames={Before:"before",After:"after"};SDK.DOMNode.ShadowRootTypes={UserAgent:"user-agent",Open:"open",Closed:"closed"};SDK.DOMNode.Attribute;SDK.DeferredDOMNode=class{constructor(e,t){this._domModel=e.model(SDK.DOMModel);this._backendNodeId=t}resolve(e){this.resolvePromise().then(e)}async resolvePromise(){const e=await this._domModel.pushNodesByBackendIdsToFrontend(new Set([this._backendNodeId]));return e&&e.get(this._backendNodeId)||null}backendNodeId(){return this._backendNodeId}domModel(){return this._domModel}highlight(){this._domModel.overlayModel().highlightInOverlay({deferredNode:this})}};SDK.DOMNodeShortcut=class{constructor(e,t,n,s){this.nodeType=n;this.nodeName=s;this.deferredNode=new SDK.DeferredDOMNode(e,t)}};SDK.DOMDocument=class extends SDK.DOMNode{constructor(e,t){super(e);this._init(this,false,t);this.documentURL=t.documentURL||"";this.baseURL=t.baseURL||""}};SDK.DOMModel=class extends SDK.SDKModel{constructor(e){super(e);this._agent=e.domAgent();this._idToDOMNode={};this._document=null;this._attributeLoadNodeIds=new Set;e.registerDOMDispatcher(new SDK.DOMDispatcher(this));this._runtimeModel=e.model(SDK.RuntimeModel);if(!e.suspended())this._agent.enable()}runtimeModel(){return this._runtimeModel}cssModel(){return this.target().model(SDK.CSSModel)}overlayModel(){return this.target().model(SDK.OverlayModel)}static cancelSearch(){for(const e of SDK.targetManager.models(SDK.DOMModel))e._cancelSearch()}_scheduleMutationEvent(e){if(!this.hasEventListeners(SDK.DOMModel.Events.DOMMutated))return;this._lastMutationId=(this._lastMutationId||0)+1;Promise.resolve().then(t.bind(this,e,this._lastMutationId));function t(e,t){if(!this.hasEventListeners(SDK.DOMModel.Events.DOMMutated)||this._lastMutationId!==t)return;this.dispatchEventToListeners(SDK.DOMModel.Events.DOMMutated,e)}}requestDocument(){if(this._document)return Promise.resolve(this._document);if(!this._pendingDocumentRequestPromise)this._pendingDocumentRequestPromise=this._requestDocument();return this._pendingDocumentRequestPromise}async _requestDocument(){const e=await this._agent.getDocument();delete this._pendingDocumentRequestPromise;if(e)this._setDocument(e);if(!this._document){console.error("No document");return null}const t=this.parentModel();if(t&&!this._frameOwnerNode){await t.requestDocument();const e=await t._agent.invoke_getFrameOwner({frameId:this.target().id()});if(!e[Protocol.Error])this._frameOwnerNode=t.nodeForId(e.nodeId)}if(this._frameOwnerNode){const e=this._frameOwnerNode._contentDocument;this._frameOwnerNode._contentDocument=this._document;this._frameOwnerNode._children=[];if(this._document){this._document.parentNode=this._frameOwnerNode;this.dispatchEventToListeners(SDK.DOMModel.Events.NodeInserted,this._document)}else if(e){this.dispatchEventToListeners(SDK.DOMModel.Events.NodeRemoved,{node:e,parent:this._frameOwnerNode})}}return this._document}existingDocument(){return this._document}async pushNodeToFrontend(e){await this.requestDocument();const t=await this._agent.requestNode(e);return t?this.nodeForId(t):null}pushNodeByPathToFrontend(e){return this.requestDocument().then(()=>this._agent.pushNodeByPathToFrontend(e))}async pushNodesByBackendIdsToFrontend(e){await this.requestDocument();const t=e.valuesArray();const n=await this._agent.pushNodesByBackendIdsToFrontend(t);if(!n)return null;const s=new Map;for(let e=0;e<n.length;++e){if(n[e])s.set(t[e],this.nodeForId(n[e]))}return s}_wrapClientCallback(e){function t(t,n){e(t?null:n||null)}return t}_attributeModified(e,t,n){const s=this._idToDOMNode[e];if(!s)return;s._setAttribute(t,n);this.dispatchEventToListeners(SDK.DOMModel.Events.AttrModified,{node:s,name:t});this._scheduleMutationEvent(s)}_attributeRemoved(e,t){const n=this._idToDOMNode[e];if(!n)return;n._removeAttribute(t);this.dispatchEventToListeners(SDK.DOMModel.Events.AttrRemoved,{node:n,name:t});this._scheduleMutationEvent(n)}_inlineStyleInvalidated(e){this._attributeLoadNodeIds.addAll(e);if(!this._loadNodeAttributesTimeout)this._loadNodeAttributesTimeout=setTimeout(this._loadNodeAttributes.bind(this),20)}_loadNodeAttributes(){delete this._loadNodeAttributesTimeout;for(const e of this._attributeLoadNodeIds){this._agent.getAttributes(e).then(t=>{if(!t){return}const n=this._idToDOMNode[e];if(!n)return;if(n._setAttributesPayload(t)){this.dispatchEventToListeners(SDK.DOMModel.Events.AttrModified,{node:n,name:"style"});this._scheduleMutationEvent(n)}})}this._attributeLoadNodeIds.clear()}_characterDataModified(e,t){const n=this._idToDOMNode[e];n._nodeValue=t;this.dispatchEventToListeners(SDK.DOMModel.Events.CharacterDataModified,n);this._scheduleMutationEvent(n)}nodeForId(e){return this._idToDOMNode[e]||null}_documentUpdated(){const e=this._document||this._pendingDocumentRequestPromise;this._setDocument(null);if(this.parentModel()&&e)this.requestDocument()}_setDocument(e){this._idToDOMNode={};if(e&&"nodeId"in e)this._document=new SDK.DOMDocument(this,e);else this._document=null;SDK.domModelUndoStack._dispose(this);if(!this.parentModel())this.dispatchEventToListeners(SDK.DOMModel.Events.DocumentUpdated,this)}_setDetachedRoot(e){if(e.nodeName==="#document")new SDK.DOMDocument(this,e);else SDK.DOMNode.create(this,null,false,e)}_setChildNodes(e,t){if(!e&&t.length){this._setDetachedRoot(t[0]);return}const n=this._idToDOMNode[e];n._setChildrenPayload(t)}_childNodeCountUpdated(e,t){const n=this._idToDOMNode[e];n._childNodeCount=t;this.dispatchEventToListeners(SDK.DOMModel.Events.ChildNodeCountUpdated,n);this._scheduleMutationEvent(n)}_childNodeInserted(e,t,n){const s=this._idToDOMNode[e];const i=this._idToDOMNode[t];const o=s._insertChild(i,n);this._idToDOMNode[o.id]=o;this.dispatchEventToListeners(SDK.DOMModel.Events.NodeInserted,o);this._scheduleMutationEvent(o)}_childNodeRemoved(e,t){const n=this._idToDOMNode[e];const s=this._idToDOMNode[t];n._removeChild(s);this._unbind(s);this.dispatchEventToListeners(SDK.DOMModel.Events.NodeRemoved,{node:s,parent:n});this._scheduleMutationEvent(s)}_shadowRootPushed(e,t){const n=this._idToDOMNode[e];if(!n)return;const s=SDK.DOMNode.create(this,n.ownerDocument,true,t);s.parentNode=n;this._idToDOMNode[s.id]=s;n._shadowRoots.unshift(s);this.dispatchEventToListeners(SDK.DOMModel.Events.NodeInserted,s);this._scheduleMutationEvent(s)}_shadowRootPopped(e,t){const n=this._idToDOMNode[e];if(!n)return;const s=this._idToDOMNode[t];if(!s)return;n._removeChild(s);this._unbind(s);this.dispatchEventToListeners(SDK.DOMModel.Events.NodeRemoved,{node:s,parent:n});this._scheduleMutationEvent(s)}_pseudoElementAdded(e,t){const n=this._idToDOMNode[e];if(!n)return;const s=SDK.DOMNode.create(this,n.ownerDocument,false,t);s.parentNode=n;this._idToDOMNode[s.id]=s;console.assert(!n._pseudoElements.get(s.pseudoType()));n._pseudoElements.set(s.pseudoType(),s);this.dispatchEventToListeners(SDK.DOMModel.Events.NodeInserted,s);this._scheduleMutationEvent(s)}_pseudoElementRemoved(e,t){const n=this._idToDOMNode[e];if(!n)return;const s=this._idToDOMNode[t];if(!s)return;n._removeChild(s);this._unbind(s);this.dispatchEventToListeners(SDK.DOMModel.Events.NodeRemoved,{node:s,parent:n});this._scheduleMutationEvent(s)}_distributedNodesUpdated(e,t){const n=this._idToDOMNode[e];if(!n)return;n._setDistributedNodePayloads(t);this.dispatchEventToListeners(SDK.DOMModel.Events.DistributedNodesChanged,n);this._scheduleMutationEvent(n)}_unbind(e){delete this._idToDOMNode[e.id];for(let t=0;e._children&&t<e._children.length;++t)this._unbind(e._children[t]);for(let t=0;t<e._shadowRoots.length;++t)this._unbind(e._shadowRoots[t]);const t=e.pseudoElements();for(const e of t.values())this._unbind(e);if(e._templateContent)this._unbind(e._templateContent)}async performSearch(e,t){const n=await this._agent.invoke_performSearch({query:e,includeUserAgentShadowDOM:t});if(!n[Protocol.Error])this._searchId=n.searchId;return n[Protocol.Error]?0:n.resultCount}async searchResult(e){if(!this._searchId)return null;const t=await this._agent.getSearchResults(this._searchId,e,e+1);return t&&t.length===1?this.nodeForId(t[0]):null}_cancelSearch(){if(!this._searchId)return;this._agent.discardSearchResults(this._searchId);delete this._searchId}classNamesPromise(e){return this._agent.collectClassNamesFromSubtree(e).then(e=>e||[])}querySelector(e,t){return this._agent.querySelector(e,t)}querySelectorAll(e,t){return this._agent.querySelectorAll(e,t)}markUndoableState(e){SDK.domModelUndoStack._markUndoableState(this,e||false)}async nodeForLocation(e,t,n){const s=await this._agent.invoke_getNodeForLocation({x:e,y:t,includeUserAgentShadowDOM:n});if(s[Protocol.Error]||!s.nodeId)return null;return this.nodeForId(s.nodeId)}pushObjectAsNodeToFrontend(e){return e.isNode()?this.pushNodeToFrontend(e.objectId):Promise.resolve(null)}suspendModel(){return this._agent.disable().then(()=>this._setDocument(null))}resumeModel(){return this._agent.enable()}dispose(){SDK.domModelUndoStack._dispose(this)}parentModel(){const e=this.target().parentTarget();return e?e.model(SDK.DOMModel):null}};SDK.SDKModel.register(SDK.DOMModel,SDK.Target.Capability.DOM,true);SDK.DOMModel.Events={AttrModified:Symbol("AttrModified"),AttrRemoved:Symbol("AttrRemoved"),CharacterDataModified:Symbol("CharacterDataModified"),DOMMutated:Symbol("DOMMutated"),NodeInserted:Symbol("NodeInserted"),NodeRemoved:Symbol("NodeRemoved"),DocumentUpdated:Symbol("DocumentUpdated"),ChildNodeCountUpdated:Symbol("ChildNodeCountUpdated"),DistributedNodesChanged:Symbol("DistributedNodesChanged"),MarkersChanged:Symbol("MarkersChanged")};SDK.DOMDispatcher=class{constructor(e){this._domModel=e}documentUpdated(){this._domModel._documentUpdated()}attributeModified(e,t,n){this._domModel._attributeModified(e,t,n)}attributeRemoved(e,t){this._domModel._attributeRemoved(e,t)}inlineStyleInvalidated(e){this._domModel._inlineStyleInvalidated(e)}characterDataModified(e,t){this._domModel._characterDataModified(e,t)}setChildNodes(e,t){this._domModel._setChildNodes(e,t)}childNodeCountUpdated(e,t){this._domModel._childNodeCountUpdated(e,t)}childNodeInserted(e,t,n){this._domModel._childNodeInserted(e,t,n)}childNodeRemoved(e,t){this._domModel._childNodeRemoved(e,t)}shadowRootPushed(e,t){this._domModel._shadowRootPushed(e,t)}shadowRootPopped(e,t){this._domModel._shadowRootPopped(e,t)}pseudoElementAdded(e,t){this._domModel._pseudoElementAdded(e,t)}pseudoElementRemoved(e,t){this._domModel._pseudoElementRemoved(e,t)}distributedNodesUpdated(e,t){this._domModel._distributedNodesUpdated(e,t)}};SDK.DOMModelUndoStack=class{constructor(){this._stack=[];this._index=0;this._lastModelWithMinorChange=null}_markUndoableState(e,t){if(this._lastModelWithMinorChange&&e!==this._lastModelWithMinorChange){this._lastModelWithMinorChange.markUndoableState();this._lastModelWithMinorChange=null}if(t&&this._lastModelWithMinorChange===e)return;this._stack=this._stack.slice(0,this._index);this._stack.push(e);this._index=this._stack.length;if(t){this._lastModelWithMinorChange=e}else{e._agent.markUndoableState();this._lastModelWithMinorChange=null}}undo(){if(this._index===0)return Promise.resolve();--this._index;this._lastModelWithMinorChange=null;return this._stack[this._index]._agent.undo()}redo(){if(this._index>=this._stack.length)return Promise.resolve();++this._index;this._lastModelWithMinorChange=null;return this._stack[this._index-1]._agent.redo()}_dispose(e){let t=0;for(let n=0;n<this._index;++n){if(this._stack[n]===e)++t}this._stack.remove(e);this._index-=t;if(this._lastModelWithMinorChange===e)this._lastModelWithMinorChange=null}};SDK.domModelUndoStack=new SDK.DOMModelUndoStack;SDK.DebuggerModel=class extends SDK.SDKModel{constructor(e){super(e);e.registerDebuggerDispatcher(new SDK.DebuggerDispatcher(this));this._agent=e.debuggerAgent();this._runtimeModel=e.model(SDK.RuntimeModel);this._sourceMapManager=new SDK.SourceMapManager(e);this._sourceMapIdToScript=new Map;this._debuggerPausedDetails=null;this._scripts=new Map;this._scriptsBySourceURL=new Map;this._discardableScripts=[];this._breakpointResolvedEventTarget=new Common.Object;this._isPausing=false;Common.moduleSetting("pauseOnExceptionEnabled").addChangeListener(this._pauseOnExceptionStateChanged,this);Common.moduleSetting("pauseOnCaughtException").addChangeListener(this._pauseOnExceptionStateChanged,this);Common.moduleSetting("disableAsyncStackTraces").addChangeListener(this._asyncStackTracesStateChanged,this);Common.moduleSetting("breakpointsActive").addChangeListener(this._breakpointsActiveChanged,this);if(!e.suspended())this._enableDebugger();this._stringMap=new Map;this._sourceMapManager.setEnabled(Common.moduleSetting("jsSourceMapsEnabled").get());Common.moduleSetting("jsSourceMapsEnabled").addChangeListener(e=>this._sourceMapManager.setEnabled(e.data))}static _sourceMapId(e,t,n){if(!n)return null;return e+":"+t+":"+n}sourceMapManager(){return this._sourceMapManager}runtimeModel(){return this._runtimeModel}debuggerEnabled(){return!!this._debuggerEnabled}_enableDebugger(){if(this._debuggerEnabled)return Promise.resolve();this._debuggerEnabled=true;const e=Runtime.queryParam("remoteFrontend")||Runtime.queryParam("ws");const t=e?1e7:1e8;const n=this._agent.enable(t);n.then(this._registerDebugger.bind(this));this._pauseOnExceptionStateChanged();this._asyncStackTracesStateChanged();if(!Common.moduleSetting("breakpointsActive").get())this._breakpointsActiveChanged();if(SDK.DebuggerModel._scheduledPauseOnAsyncCall)this._pauseOnAsyncCall(SDK.DebuggerModel._scheduledPauseOnAsyncCall);this.dispatchEventToListeners(SDK.DebuggerModel.Events.DebuggerWasEnabled,this);return n}_registerDebugger(e){if(!e)return;SDK.DebuggerModel._debuggerIdToModel.set(e,this);this._debuggerId=e;this.dispatchEventToListeners(SDK.DebuggerModel.Events.DebuggerIsReadyToPause,this)}isReadyToPause(){return!!this._debuggerId}static modelForDebuggerId(e){return SDK.DebuggerModel._debuggerIdToModel.get(e)||null}_disableDebugger(){if(!this._debuggerEnabled)return Promise.resolve();this._debuggerEnabled=false;const e=this._agent.disable();this._isPausing=false;this._asyncStackTracesStateChanged();this.globalObjectCleared();this.dispatchEventToListeners(SDK.DebuggerModel.Events.DebuggerWasDisabled);SDK.DebuggerModel._debuggerIdToModel.delete(this._debuggerId);return e}_skipAllPauses(e){if(this._skipAllPausesTimeout){clearTimeout(this._skipAllPausesTimeout);delete this._skipAllPausesTimeout}this._agent.setSkipAllPauses(e)}skipAllPausesUntilReloadOrTimeout(e){if(this._skipAllPausesTimeout)clearTimeout(this._skipAllPausesTimeout);this._agent.setSkipAllPauses(true);this._skipAllPausesTimeout=setTimeout(this._skipAllPauses.bind(this,false),e)}_pauseOnExceptionStateChanged(){let e;if(!Common.moduleSetting("pauseOnExceptionEnabled").get())e=SDK.DebuggerModel.PauseOnExceptionsState.DontPauseOnExceptions;else if(Common.moduleSetting("pauseOnCaughtException").get())e=SDK.DebuggerModel.PauseOnExceptionsState.PauseOnAllExceptions;else e=SDK.DebuggerModel.PauseOnExceptionsState.PauseOnUncaughtExceptions;this._agent.setPauseOnExceptions(e)}_asyncStackTracesStateChanged(){const e=32;const t=!Common.moduleSetting("disableAsyncStackTraces").get()&&this._debuggerEnabled;this._agent.setAsyncCallStackDepth(t?e:0)}_breakpointsActiveChanged(){this._agent.setBreakpointsActive(Common.moduleSetting("breakpointsActive").get())}stepInto(){this._agent.stepInto()}stepOver(){this._agent.stepOver()}stepOut(){this._agent.stepOut()}scheduleStepIntoAsync(){this._agent.invoke_stepInto({breakOnAsyncCall:true})}resume(){this._agent.resume();this._isPausing=false}pause(){this._isPausing=true;this._skipAllPauses(false);this._agent.pause()}_pauseOnAsyncCall(e){return this._agent.invoke_pauseOnAsyncCall({parentStackTraceId:e})}async setBreakpointByURL(e,t,n,s){let i;if(this.target().type()===SDK.Target.Type.Node){const t=Common.ParsedURL.urlToPlatformPath(e,Host.isWin());i=`${t.escapeForRegExp()}|${e.escapeForRegExp()}`}let o=0;const r=this._scriptsBySourceURL.get(e)||[];for(let e=0,n=r.length;e<n;++e){const n=r[e];if(t===n.lineOffset)o=o?Math.min(o,n.columnOffset):n.columnOffset}n=Math.max(n,o);const a=await this._agent.invoke_setBreakpointByUrl({lineNumber:t,url:i?undefined:e,urlRegex:i,columnNumber:n,condition:s});if(a[Protocol.Error])return{locations:[],breakpointId:null};let l;if(a.locations)l=a.locations.map(e=>SDK.DebuggerModel.Location.fromPayload(this,e));return{locations:l,breakpointId:a.breakpointId}}async setBreakpointInAnonymousScript(e,t,n,s,i){const o=await this._agent.invoke_setBreakpointByUrl({lineNumber:n,scriptHash:t,columnNumber:s,condition:i});const r=o[Protocol.Error];if(r){if(r!=="Either url or urlRegex must be specified.")return{locations:[],breakpointId:null};return this._setBreakpointBySourceId(e,n,s,i)}let a;if(o.locations)a=o.locations.map(e=>SDK.DebuggerModel.Location.fromPayload(this,e));return{locations:a,breakpointId:o.breakpointId}}async _setBreakpointBySourceId(e,t,n,s){const i=await this._agent.invoke_setBreakpoint({location:{scriptId:e,lineNumber:t,columnNumber:n},condition:s});if(i[Protocol.Error])return{breakpointId:null,locations:[]};let o=[];if(i.actualLocation)o=[SDK.DebuggerModel.Location.fromPayload(this,i.actualLocation)];return{locations:o,breakpointId:i.breakpointId}}async removeBreakpoint(e){const t=await this._agent.invoke_removeBreakpoint({breakpointId:e});if(t[Protocol.Error])console.error("Failed to remove breakpoint: "+t[Protocol.Error])}async getPossibleBreakpoints(e,t,n){const s=await this._agent.invoke_getPossibleBreakpoints({start:e.payload(),end:t?t.payload():undefined,restrictToFunction:n});if(s[Protocol.Error]||!s.locations)return[];return s.locations.map(e=>SDK.DebuggerModel.BreakLocation.fromPayload(this,e))}async fetchAsyncStackTrace(e){const t=await this._agent.invoke_getStackTrace({stackTraceId:e});return t[Protocol.Error]?null:t.stackTrace}_breakpointResolved(e,t){this._breakpointResolvedEventTarget.dispatchEventToListeners(e,SDK.DebuggerModel.Location.fromPayload(this,t))}globalObjectCleared(){this._setDebuggerPausedDetails(null);this._reset();this.dispatchEventToListeners(SDK.DebuggerModel.Events.GlobalObjectCleared,this)}_reset(){for(const e of this._sourceMapIdToScript.values())this._sourceMapManager.detachSourceMap(e);this._sourceMapIdToScript.clear();this._scripts.clear();this._scriptsBySourceURL.clear();this._stringMap.clear();this._discardableScripts=[]}scripts(){return Array.from(this._scripts.values())}scriptForId(e){return this._scripts.get(e)||null}scriptsForSourceURL(e){if(!e)return[];return this._scriptsBySourceURL.get(e)||[]}scriptsForExecutionContext(e){const t=[];for(const n of this._scripts.values()){if(n.executionContextId===e.id)t.push(n)}return t}setScriptSource(e,t,n){this._scripts.get(e).editSource(t,this._didEditScriptSource.bind(this,e,t,n))}_didEditScriptSource(e,t,n,s,i,o,r,a,l){n(s,i);if(l){this.stepInto();return}if(!s&&o&&o.length){this._pausedScript(o,this._debuggerPausedDetails.reason,this._debuggerPausedDetails.auxData,this._debuggerPausedDetails.breakpointIds,r,a)}}get callFrames(){return this._debuggerPausedDetails?this._debuggerPausedDetails.callFrames:null}debuggerPausedDetails(){return this._debuggerPausedDetails}_setDebuggerPausedDetails(e){this._isPausing=false;this._debuggerPausedDetails=e;if(this._debuggerPausedDetails){if(Runtime.experiments.isEnabled("emptySourceMapAutoStepping")&&this._beforePausedCallback){if(!this._beforePausedCallback.call(null,this._debuggerPausedDetails))return false}this.dispatchEventToListeners(SDK.DebuggerModel.Events.DebuggerPaused,this)}if(e)this.setSelectedCallFrame(e.callFrames[0]);else this.setSelectedCallFrame(null);return true}setBeforePausedCallback(e){this._beforePausedCallback=e}async _pausedScript(e,t,n,s,i,o,r){if(r){SDK.DebuggerModel._scheduledPauseOnAsyncCall=r;const e=[];for(const t of SDK.DebuggerModel._debuggerIdToModel.values())e.push(t._pauseOnAsyncCall(r));await Promise.all(e);this.resume();return}const a=new SDK.DebuggerPausedDetails(this,e,t,n,s,i,o);if(a&&this._continueToLocationCallback){const e=this._continueToLocationCallback;delete this._continueToLocationCallback;if(e(a))return}if(!this._setDebuggerPausedDetails(a))this._agent.stepInto();SDK.DebuggerModel._scheduledPauseOnAsyncCall=null}_resumedScript(){this._setDebuggerPausedDetails(null);this.dispatchEventToListeners(SDK.DebuggerModel.Events.DebuggerResumed,this)}_parsedScriptSource(e,t,n,s,i,o,r,a,l,c,d,h,u,m,p){if(this._scripts.has(e))return this._scripts.get(e);let g=false;if(l&&"isDefault"in l)g=!l["isDefault"];t=this._internString(t);const f=new SDK.Script(this,e,t,n,s,i,o,r,this._internString(a),g,c,d,h,m,p);this._registerScript(f);this.dispatchEventToListeners(SDK.DebuggerModel.Events.ParsedScriptSource,f);const _=SDK.DebuggerModel._sourceMapId(f.executionContextId,f.sourceURL,f.sourceMapURL);if(_&&!u){const e=this._sourceMapIdToScript.get(_);if(e)this._sourceMapManager.detachSourceMap(e);this._sourceMapIdToScript.set(_,f);this._sourceMapManager.attachSourceMap(f,f.sourceURL,f.sourceMapURL)}const b=u&&f.isAnonymousScript();if(b){this._discardableScripts.push(f);this._collectDiscardedScripts()}return f}setSourceMapURL(e,t){let n=SDK.DebuggerModel._sourceMapId(e.executionContextId,e.sourceURL,e.sourceMapURL);if(n&&this._sourceMapIdToScript.get(n)===e)this._sourceMapIdToScript.delete(n);this._sourceMapManager.detachSourceMap(e);e.sourceMapURL=t;n=SDK.DebuggerModel._sourceMapId(e.executionContextId,e.sourceURL,e.sourceMapURL);if(!n)return;this._sourceMapIdToScript.set(n,e);this._sourceMapManager.attachSourceMap(e,e.sourceURL,e.sourceMapURL)}executionContextDestroyed(e){const t=Array.from(this._sourceMapIdToScript.keys());for(const n of t){const t=this._sourceMapIdToScript.get(n);if(t.executionContextId===e.id){this._sourceMapIdToScript.delete(n);this._sourceMapManager.detachSourceMap(t)}}}_registerScript(e){this._scripts.set(e.scriptId,e);if(e.isAnonymousScript())return;let t=this._scriptsBySourceURL.get(e.sourceURL);if(!t){t=[];this._scriptsBySourceURL.set(e.sourceURL,t)}t.push(e)}_unregisterScript(e){console.assert(e.isAnonymousScript());this._scripts.delete(e.scriptId)}_collectDiscardedScripts(){if(this._discardableScripts.length<1e3)return;const e=this._discardableScripts.splice(0,100);for(const t of e){this._unregisterScript(t);this.dispatchEventToListeners(SDK.DebuggerModel.Events.DiscardedAnonymousScriptSource,t)}}createRawLocation(e,t,n){return new SDK.DebuggerModel.Location(this,e.scriptId,t,n)}createRawLocationByURL(e,t,n){let s=null;const i=this._scriptsBySourceURL.get(e)||[];for(let e=0,o=i.length;e<o;++e){const o=i[e];if(!s)s=o;if(o.lineOffset>t||o.lineOffset===t&&o.columnOffset>n)continue;if(o.endLine<t||o.endLine===t&&o.endColumn<=n)continue;s=o;break}return s?new SDK.DebuggerModel.Location(this,s.scriptId,t,n):null}createRawLocationByScriptId(e,t,n){const s=this.scriptForId(e);return s?this.createRawLocation(s,t,n):null}createRawLocationsByStackTrace(e){const t=[];while(e){for(const n of e.callFrames)t.push(n);e=e.parent}const n=[];for(const e of t){const t=this.createRawLocationByScriptId(e.scriptId,e.lineNumber,e.columnNumber);if(t)n.push(t)}return n}isPaused(){return!!this.debuggerPausedDetails()}isPausing(){return this._isPausing}setSelectedCallFrame(e){if(this._selectedCallFrame===e)return;this._selectedCallFrame=e;this.dispatchEventToListeners(SDK.DebuggerModel.Events.CallFrameSelected,this)}selectedCallFrame(){return this._selectedCallFrame}evaluateOnSelectedCallFrame(e){return this.selectedCallFrame().evaluate(e)}functionDetailsPromise(e){return e.getAllProperties(false,false).then(t.bind(this));function t(e){if(!e)return null;let t=null;if(e.internalProperties){for(const n of e.internalProperties){if(n.name==="[[FunctionLocation]]")t=n.value}}let n=null;if(e.properties){for(const t of e.properties){if(t.name==="name"&&t.value&&t.value.type==="string")n=t.value;if(t.name==="displayName"&&t.value&&t.value.type==="string"){n=t.value;break}}}let s=null;if(t){s=this.createRawLocationByScriptId(t.value.scriptId,t.value.lineNumber,t.value.columnNumber)}return{location:s,functionName:n?n.value:""}}}async setVariableValue(e,t,n,s){const i=await this._agent.invoke_setVariableValue({scopeNumber:e,variableName:t,newValue:n,callFrameId:s});const o=i[Protocol.Error];if(o)console.error(o);return o}addBreakpointListener(e,t,n){this._breakpointResolvedEventTarget.addEventListener(e,t,n)}removeBreakpointListener(e,t,n){this._breakpointResolvedEventTarget.removeEventListener(e,t,n)}async setBlackboxPatterns(e){const t=await this._agent.invoke_setBlackboxPatterns({patterns:e});const n=t[Protocol.Error];if(n)console.error(n);return!n}dispose(){this._sourceMapManager.dispose();SDK.DebuggerModel._debuggerIdToModel.delete(this._debuggerId);Common.moduleSetting("pauseOnExceptionEnabled").removeChangeListener(this._pauseOnExceptionStateChanged,this);Common.moduleSetting("pauseOnCaughtException").removeChangeListener(this._pauseOnExceptionStateChanged,this);Common.moduleSetting("disableAsyncStackTraces").removeChangeListener(this._asyncStackTracesStateChanged,this)}async suspendModel(){await this._disableDebugger()}async resumeModel(){await this._enableDebugger()}_internString(e){if(!this._stringMap.has(e))this._stringMap.set(e,e);return this._stringMap.get(e)}};SDK.DebuggerModel._debuggerIdToModel=new Map;SDK.DebuggerModel._scheduledPauseOnAsyncCall=null;SDK.SDKModel.register(SDK.DebuggerModel,SDK.Target.Capability.JS,true);SDK.DebuggerModel.FunctionDetails;SDK.DebuggerModel.PauseOnExceptionsState={DontPauseOnExceptions:"none",PauseOnAllExceptions:"all",PauseOnUncaughtExceptions:"uncaught"};SDK.DebuggerModel.Events={DebuggerWasEnabled:Symbol("DebuggerWasEnabled"),DebuggerWasDisabled:Symbol("DebuggerWasDisabled"),DebuggerPaused:Symbol("DebuggerPaused"),DebuggerResumed:Symbol("DebuggerResumed"),ParsedScriptSource:Symbol("ParsedScriptSource"),FailedToParseScriptSource:Symbol("FailedToParseScriptSource"),DiscardedAnonymousScriptSource:Symbol("DiscardedAnonymousScriptSource"),GlobalObjectCleared:Symbol("GlobalObjectCleared"),CallFrameSelected:Symbol("CallFrameSelected"),ConsoleCommandEvaluatedInSelectedCallFrame:Symbol("ConsoleCommandEvaluatedInSelectedCallFrame"),DebuggerIsReadyToPause:Symbol("DebuggerIsReadyToPause")};SDK.DebuggerModel.BreakReason={DOM:"DOM",EventListener:"EventListener",XHR:"XHR",Exception:"exception",PromiseRejection:"promiseRejection",Assert:"assert",DebugCommand:"debugCommand",OOM:"OOM",Other:"other"};SDK.DebuggerModel.BreakLocationType={Return:"return",Call:"call",DebuggerStatement:"debuggerStatement"};SDK.DebuggerEventTypes={JavaScriptPause:0,JavaScriptBreakpoint:1,NativeBreakpoint:2};SDK.DebuggerModel.ContinueToLocationTargetCallFrames={Any:"any",Current:"current"};SDK.DebuggerModel.SetBreakpointResult;SDK.DebuggerDispatcher=class{constructor(e){this._debuggerModel=e}paused(e,t,n,s,i,o,r){this._debuggerModel._pausedScript(e,t,n,s||[],i,o,r)}resumed(){this._debuggerModel._resumedScript()}scriptParsed(e,t,n,s,i,o,r,a,l,c,d,h,u,m,p){this._debuggerModel._parsedScriptSource(e,t,n,s,i,o,r,a,l,!!c,d,!!h,false,m||0,p||null)}scriptFailedToParse(e,t,n,s,i,o,r,a,l,c,d,h,u,m){this._debuggerModel._parsedScriptSource(e,t,n,s,i,o,r,a,l,false,c,!!d,true,u||0,m||null)}breakpointResolved(e,t){this._debuggerModel._breakpointResolved(e,t)}};SDK.DebuggerModel.Location=class{constructor(e,t,n,s){this.debuggerModel=e;this.scriptId=t;this.lineNumber=n;this.columnNumber=s||0}static fromPayload(e,t){return new SDK.DebuggerModel.Location(e,t.scriptId,t.lineNumber,t.columnNumber)}payload(){return{scriptId:this.scriptId,lineNumber:this.lineNumber,columnNumber:this.columnNumber}}script(){return this.debuggerModel.scriptForId(this.scriptId)}continueToLocation(e){if(e)this.debuggerModel._continueToLocationCallback=this._paused.bind(this,e);this.debuggerModel._agent.continueToLocation(this.payload(),SDK.DebuggerModel.ContinueToLocationTargetCallFrames.Current)}_paused(e,t){const n=t.callFrames[0].location();if(n.scriptId===this.scriptId&&n.lineNumber===this.lineNumber&&n.columnNumber===this.columnNumber){e();return true}return false}id(){return this.debuggerModel.target().id()+":"+this.scriptId+":"+this.lineNumber+":"+this.columnNumber}};SDK.DebuggerModel.BreakLocation=class extends SDK.DebuggerModel.Location{constructor(e,t,n,s,i){super(e,t,n,s);if(i)this.type=i}static fromPayload(e,t){return new SDK.DebuggerModel.BreakLocation(e,t.scriptId,t.lineNumber,t.columnNumber,t.type)}};SDK.DebuggerModel.CallFrame=class{constructor(e,t,n){this.debuggerModel=e;this._script=t;this._payload=n;this._location=SDK.DebuggerModel.Location.fromPayload(e,n.location);this._scopeChain=[];this._localScope=null;for(let e=0;e<n.scopeChain.length;++e){const t=new SDK.DebuggerModel.Scope(this,e);this._scopeChain.push(t);if(t.type()===Protocol.Debugger.ScopeType.Local)this._localScope=t}if(n.functionLocation)this._functionLocation=SDK.DebuggerModel.Location.fromPayload(e,n.functionLocation);this._returnValue=n.returnValue?this.debuggerModel._runtimeModel.createRemoteObject(n.returnValue):null}static fromPayloadArray(e,t){const n=[];for(let s=0;s<t.length;++s){const i=t[s];const o=e.scriptForId(i.location.scriptId);if(o)n.push(new SDK.DebuggerModel.CallFrame(e,o,i))}return n}get script(){return this._script}get id(){return this._payload.callFrameId}scopeChain(){return this._scopeChain}localScope(){return this._localScope}thisObject(){return this._payload.this?this.debuggerModel._runtimeModel.createRemoteObject(this._payload.this):null}returnValue(){return this._returnValue}async setReturnValue(e){if(!this._returnValue)return null;const t=await this.debuggerModel._agent.invoke_evaluateOnCallFrame({callFrameId:this.id,expression:e,silent:true,objectGroup:"backtrace"});if(t[Protocol.Error]||t.exceptionDetails)return null;const n=await this.debuggerModel._agent.invoke_setReturnValue({newValue:t.result});if(n[Protocol.Error])return null;this._returnValue=this.debuggerModel._runtimeModel.createRemoteObject(t.result);return this._returnValue}get functionName(){return this._payload.functionName}location(){return this._location}functionLocation(){return this._functionLocation||null}async evaluate(e){const t=this.debuggerModel.runtimeModel();const n=!!e.throwOnSideEffect||e.timeout!==undefined;if(n&&(t.hasSideEffectSupport()===false||t.hasSideEffectSupport()===null&&!await t.checkSideEffectSupport()))return{error:"Side-effect checks not supported by backend."};const s=await this.debuggerModel._agent.invoke_evaluateOnCallFrame({callFrameId:this.id,expression:e.expression,objectGroup:e.objectGroup,includeCommandLineAPI:e.includeCommandLineAPI,silent:e.silent,returnByValue:e.returnByValue,generatePreview:e.generatePreview,throwOnSideEffect:e.throwOnSideEffect,timeout:e.timeout});const i=s[Protocol.Error];if(i){console.error(i);return{error:i}}return{object:t.createRemoteObject(s.result),exceptionDetails:s.exceptionDetails}}async restart(){const e=await this.debuggerModel._agent.invoke_restartFrame({callFrameId:this._payload.callFrameId});if(!e[Protocol.Error])this.debuggerModel.stepInto()}};SDK.DebuggerModel.Scope=class{constructor(e,t){this._callFrame=e;this._payload=e._payload.scopeChain[t];this._type=this._payload.type;this._name=this._payload.name;this._ordinal=t;this._startLocation=this._payload.startLocation?SDK.DebuggerModel.Location.fromPayload(e.debuggerModel,this._payload.startLocation):null;this._endLocation=this._payload.endLocation?SDK.DebuggerModel.Location.fromPayload(e.debuggerModel,this._payload.endLocation):null}callFrame(){return this._callFrame}type(){return this._type}typeName(){switch(this._type){case Protocol.Debugger.ScopeType.Local:return Common.UIString("Local");case Protocol.Debugger.ScopeType.Closure:return Common.UIString("Closure");case Protocol.Debugger.ScopeType.Catch:return Common.UIString("Catch");case Protocol.Debugger.ScopeType.Block:return Common.UIString("Block");case Protocol.Debugger.ScopeType.Script:return Common.UIString("Script");case Protocol.Debugger.ScopeType.With:return Common.UIString("With Block");case Protocol.Debugger.ScopeType.Global:return Common.UIString("Global");case Protocol.Debugger.ScopeType.Module:return Common.UIString("Module")}return""}name(){return this._name}startLocation(){return this._startLocation}endLocation(){return this._endLocation}object(){if(this._object)return this._object;const e=this._callFrame.debuggerModel._runtimeModel;const t=this._type!==Protocol.Debugger.ScopeType.With&&this._type!==Protocol.Debugger.ScopeType.Global;if(t){this._object=e.createScopeRemoteObject(this._payload.object,new SDK.ScopeRef(this._ordinal,this._callFrame.id))}else{this._object=e.createRemoteObject(this._payload.object)}return this._object}description(){const e=this._type!==Protocol.Debugger.ScopeType.With&&this._type!==Protocol.Debugger.ScopeType.Global;return e?"":this._payload.object.description||""}};SDK.DebuggerPausedDetails=class{constructor(e,t,n,s,i,o,r){this.debuggerModel=e;this.callFrames=SDK.DebuggerModel.CallFrame.fromPayloadArray(e,t);this.reason=n;this.auxData=s;this.breakpointIds=i;if(o)this.asyncStackTrace=this._cleanRedundantFrames(o);this.asyncStackTraceId=r}exception(){if(this.reason!==SDK.DebuggerModel.BreakReason.Exception&&this.reason!==SDK.DebuggerModel.BreakReason.PromiseRejection)return null;return this.debuggerModel._runtimeModel.createRemoteObject(this.auxData)}_cleanRedundantFrames(e){let t=e;let n=null;while(t){if(t.description==="async function"&&t.callFrames.length)t.callFrames.shift();if(n&&!t.callFrames.length)n.parent=t.parent;else n=t;t=t.parent}return e}};SDK.EmulationModel=class extends SDK.SDKModel{constructor(e){super(e);this._emulationAgent=e.emulationAgent();this._pageAgent=e.pageAgent();this._deviceOrientationAgent=e.deviceOrientationAgent();this._cssModel=e.model(SDK.CSSModel);this._overlayModel=e.model(SDK.OverlayModel);if(this._overlayModel)this._overlayModel.addEventListener(SDK.OverlayModel.Events.InspectModeWillBeToggled,this._updateTouch,this);const t=Common.settings.moduleSetting("javaScriptDisabled");t.addChangeListener(()=>this._emulationAgent.setScriptExecutionDisabled(t.get()));if(t.get())this._emulationAgent.setScriptExecutionDisabled(true);const n=Common.moduleSetting("emulatedCSSMedia");n.addChangeListener(()=>this._emulateCSSMedia(n.get()));if(n.get())this._emulateCSSMedia(n.get());this._touchEnabled=false;this._touchMobile=false;this._customTouchEnabled=false;this._touchConfiguration={enabled:false,configuration:"mobile",scriptId:""}}supportsDeviceEmulation(){return this.target().hasAllCapabilities(SDK.Target.Capability.DeviceEmulation)}resetPageScaleFactor(){return this._emulationAgent.resetPageScaleFactor()}emulateDevice(e){if(e)return this._emulationAgent.invoke_setDeviceMetricsOverride(e);else return this._emulationAgent.clearDeviceMetricsOverride()}overlayModel(){return this._overlayModel}emulateGeolocation(e){if(!e){this._emulationAgent.clearGeolocationOverride();return}if(e.error){this._emulationAgent.setGeolocationOverride()}else{this._emulationAgent.setGeolocationOverride(e.latitude,e.longitude,SDK.EmulationModel.Geolocation.DefaultMockAccuracy)}}emulateDeviceOrientation(e){if(e){this._deviceOrientationAgent.setDeviceOrientationOverride(e.alpha,e.beta,e.gamma)}else{this._deviceOrientationAgent.clearDeviceOrientationOverride()}}_emulateCSSMedia(e){this._emulationAgent.setEmulatedMedia(e);if(this._cssModel)this._cssModel.mediaQueryResultChanged()}setCPUThrottlingRate(e){this._emulationAgent.setCPUThrottlingRate(e)}emulateTouch(e,t){this._touchEnabled=e;this._touchMobile=t;this._updateTouch()}overrideEmulateTouch(e){this._customTouchEnabled=e;this._updateTouch()}_updateTouch(){let e={enabled:this._touchEnabled,configuration:this._touchMobile?"mobile":"desktop"};if(this._customTouchEnabled)e={enabled:true,configuration:"mobile"};if(this._overlayModel&&this._overlayModel.inspectModeEnabled())e={enabled:false,configuration:"mobile"};if(!this._touchConfiguration.enabled&&!e.enabled)return;if(this._touchConfiguration.enabled&&e.enabled&&this._touchConfiguration.configuration===e.configuration)return;this._touchConfiguration=e;this._emulationAgent.setTouchEmulationEnabled(e.enabled,1);this._emulationAgent.setEmitTouchEventsForMouse(e.enabled,e.configuration)}};SDK.SDKModel.register(SDK.EmulationModel,SDK.Target.Capability.Emulation,true);SDK.EmulationModel.Geolocation=class{constructor(e,t,n){this.latitude=e;this.longitude=t;this.error=n}static parseSetting(e){if(e){const t=e.split(":");if(t.length===2){const e=t[0].split("@");if(e.length===2){return new SDK.EmulationModel.Geolocation(parseFloat(e[0]),parseFloat(e[1]),!!t[1])}}}return new SDK.EmulationModel.Geolocation(0,0,false)}static parseUserInput(e,t,n){if(!e&&!t)return null;const s=SDK.EmulationModel.Geolocation.latitudeValidator(e);const i=SDK.EmulationModel.Geolocation.longitudeValidator(t);if(!s&&!i)return null;const o=s?parseFloat(e):-1;const r=i?parseFloat(t):-1;return new SDK.EmulationModel.Geolocation(o,r,!!n)}static latitudeValidator(e){const t=parseFloat(e);return/^([+-]?[\d]+(\.\d+)?|[+-]?\.\d+)$/.test(e)&&t>=-90&&t<=90}static longitudeValidator(e){const t=parseFloat(e);return/^([+-]?[\d]+(\.\d+)?|[+-]?\.\d+)$/.test(e)&&t>=-180&&t<=180}toSetting(){return this.latitude+"@"+this.longitude+":"+(this.error||"")}};SDK.EmulationModel.Geolocation.DefaultMockAccuracy=150;SDK.EmulationModel.DeviceOrientation=class{constructor(e,t,n){this.alpha=e;this.beta=t;this.gamma=n}static parseSetting(e){if(e){const t=JSON.parse(e);return new SDK.EmulationModel.DeviceOrientation(t.alpha,t.beta,t.gamma)}return new SDK.EmulationModel.DeviceOrientation(0,0,0)}static parseUserInput(e,t,n){if(!e&&!t&&!n)return null;const s=SDK.EmulationModel.DeviceOrientation.validator(e);const i=SDK.EmulationModel.DeviceOrientation.validator(t);const o=SDK.EmulationModel.DeviceOrientation.validator(n);if(!s&&!i&&!o)return null;const r=s?parseFloat(e):-1;const a=i?parseFloat(t):-1;const l=o?parseFloat(n):-1;return new SDK.EmulationModel.DeviceOrientation(r,a,l)}static validator(e){return/^([+-]?[\d]+(\.\d+)?|[+-]?\.\d+)$/.test(e)}toSetting(){return JSON.stringify(this)}};SDK.HARLog=class{static pseudoWallTime(e,t){return new Date(e.pseudoWallTime(t)*1e3)}static async build(e){const t=new SDK.HARLog;const n=[];for(const t of e)n.push(SDK.HARLog.Entry.build(t));const s=await Promise.all(n);return{version:"1.2",creator:t._creator(),pages:t._buildPages(e),entries:s}}_creator(){const e=/AppleWebKit\/([^ ]+)/.exec(window.navigator.userAgent);return{name:"WebInspector",version:e?e[1]:"n/a"}}_buildPages(e){const t={};const n=[];for(let s=0;s<e.length;++s){const i=e[s];const o=SDK.NetworkLog.PageLoad.forRequest(i);if(!o||t[o.id])continue;t[o.id]=true;n.push(this._convertPage(o,i))}return n}_convertPage(e,t){return{startedDateTime:SDK.HARLog.pseudoWallTime(t,e.startTime).toJSON(),id:"page_"+e.id,title:e.url,pageTimings:{onContentLoad:this._pageEventTime(e,e.contentLoadTime),onLoad:this._pageEventTime(e,e.loadTime)}}}_pageEventTime(e,t){const n=e.startTime;if(t===-1||n===-1)return-1;return SDK.HARLog.Entry._toMilliseconds(t-n)}};SDK.HARLog.Entry=class{constructor(e){this._request=e}static _toMilliseconds(e){return e===-1?-1:e*1e3}static async build(e){const t=new SDK.HARLog.Entry(e);let n=t._request.remoteAddress();const s=n.lastIndexOf(":");if(s!==-1)n=n.substr(0,s);const i=t._buildTimings();let o=0;for(const e of[i.blocked,i.dns,i.connect,i.send,i.wait,i.receive])o+=Math.max(e,0);const r=t._request.initiator();const a={};a.type=r.type;if(r.url!==undefined)a.url=r.url;if(r.lineNumber!==undefined)a.lineNumber=r.lineNumber;if(r.stack)a.stack=r.stack;const l={startedDateTime:SDK.HARLog.pseudoWallTime(t._request,t._request.issueTime()).toJSON(),time:o,request:await t._buildRequest(),response:t._buildResponse(),cache:{},timings:i,serverIPAddress:n.replace(/\[\]/g,""),_initiator:a,_priority:t._request.priority(),_resourceType:t._request.resourceType().name()};if(t._request.cached())l._fromCache=t._request.cachedInMemory()?"memory":"disk";if(t._request.connectionId!=="0")l.connection=t._request.connectionId;const c=SDK.NetworkLog.PageLoad.forRequest(t._request);if(c)l.pageref="page_"+c.id;if(t._request.resourceType()===Common.resourceTypes.WebSocket){const e=[];for(const n of t._request.frames())e.push({type:n.type,time:n.time,opcode:n.opCode,data:n.text});l._webSocketMessages=e}return l}async _buildRequest(){const e=this._request.requestHeadersText();const t={method:this._request.requestMethod,url:this._buildRequestURL(this._request.url()),httpVersion:this._request.requestHttpVersion(),headers:this._request.requestHeaders(),queryString:this._buildParameters(this._request.queryParameters||[]),cookies:this._buildCookies(this._request.requestCookies||[]),headersSize:e?e.length:-1,bodySize:await this._requestBodySize()};const n=await this._buildPostData();if(n)t.postData=n;return t}_buildResponse(){const e=this._request.responseHeadersText;return{status:this._request.statusCode,statusText:this._request.statusText,httpVersion:this._request.responseHttpVersion(),headers:this._request.responseHeaders,cookies:this._buildCookies(this._request.responseCookies||[]),content:this._buildContent(),redirectURL:this._request.responseHeaderValue("Location")||"",headersSize:e?e.length:-1,bodySize:this.responseBodySize,_transferSize:this._request.transferSize,_error:this._request.localizedFailDescription}}_buildContent(){const e={size:this._request.resourceSize,mimeType:this._request.mimeType||"x-unknown"};const t=this.responseCompression;if(typeof t==="number")e.compression=t;return e}_buildTimings(){const e=this._request.timing;const t=this._request.issueTime();const n=this._request.startTime;const s={blocked:-1,dns:-1,ssl:-1,connect:-1,send:0,wait:0,receive:0,_blocked_queueing:-1};const i=t<n?n-t:-1;s.blocked=SDK.HARLog.Entry._toMilliseconds(i);s._blocked_queueing=SDK.HARLog.Entry._toMilliseconds(i);let o=0;if(e){const t=h([e.dnsStart,e.connectStart,e.sendStart]);if(t!==Infinity)s.blocked+=t;if(e.proxyEnd!==-1)s._blocked_proxy=e.proxyEnd-e.proxyStart;if(s._blocked_proxy&&s._blocked_proxy>s.blocked)s.blocked=s._blocked_proxy;const n=e.dnsEnd>=0?t:0;const i=e.dnsEnd>=0?e.dnsEnd:-1;s.dns=i-n;const r=e.sslEnd>0?e.sslStart:0;const a=e.sslEnd>0?e.sslEnd:-1;s.ssl=a-r;const l=e.connectEnd>=0?h([i,t]):0;const c=e.connectEnd>=0?e.connectEnd:-1;s.connect=c-l;const d=e.sendEnd>=0?Math.max(c,i,t):0;const u=e.sendEnd>=0?e.sendEnd:0;s.send=u-d;if(s.send<0)s.send=0;o=Math.max(u,c,a,i,t,0)}else if(this._request.responseReceivedTime===-1){s.blocked=this._request.endTime-t;return s}const r=e?e.requestTime:n;const a=o;const l=SDK.HARLog.Entry._toMilliseconds(this._request.responseReceivedTime-r);s.wait=l-a;const c=l;const d=SDK.HARLog.Entry._toMilliseconds(this._request.endTime-r);s.receive=Math.max(d-c,0);return s;function h(e){return e.reduce((e,t)=>t>=0&&t<e?t:e,Infinity)}}async _buildPostData(){const e=await this._request.requestFormData();if(!e)return null;const t={mimeType:this._request.requestContentType()||"",text:e};const n=await this._request.formParameters();if(n)t.params=this._buildParameters(n);return t}_buildParameters(e){return e.slice()}_buildRequestURL(e){return e.split("#",2)[0]}_buildCookies(e){return e.map(this._buildCookie.bind(this))}_buildCookie(e){const t={name:e.name(),value:e.value(),path:e.path(),domain:e.domain(),expires:e.expiresDate(SDK.HARLog.pseudoWallTime(this._request,this._request.startTime)),httpOnly:e.httpOnly(),secure:e.secure()};if(e.sameSite())t.sameSite=e.sameSite();return t}async _requestBodySize(){const e=await this._request.requestFormData();if(!e)return 0;return new TextEncoder("utf-8").encode(e).length}get responseBodySize(){if(this._request.cached()||this._request.statusCode===304)return 0;if(!this._request.responseHeadersText)return-1;return this._request.transferSize-this._request.responseHeadersText.length}get responseCompression(){if(this._request.cached()||this._request.statusCode===304||this._request.statusCode===206)return;if(!this._request.responseHeadersText)return;return this._request.resourceSize-this.responseBodySize}};SDK.HARLog.Entry.Timing;SDK.SnapshotWithRect;SDK.Layer=function(){};SDK.Layer.prototype={id(){},parentId(){},parent(){},isRoot(){},children(){},addChild(e){},node(){},nodeForSelfOrAncestor(){},offsetX(){},offsetY(){},width(){},height(){},transform(){},quad(){},anchorPoint(){},invisible(){},paintCount(){},lastPaintRect(){},scrollRects(){},stickyPositionConstraint(){},gpuMemoryUsage(){},requestCompositingReasons(){},drawsContent(){},snapshots(){}};SDK.Layer.ScrollRectType={NonFastScrollable:"NonFastScrollable",TouchEventHandler:"TouchEventHandler",WheelEventHandler:"WheelEventHandler",RepaintsOnScroll:"RepaintsOnScroll"};SDK.Layer.StickyPositionConstraint=class{constructor(e,t){this._stickyBoxRect=t.stickyBoxRect;this._containingBlockRect=t.containingBlockRect;this._nearestLayerShiftingStickyBox=null;if(e&&t.nearestLayerShiftingStickyBox)this._nearestLayerShiftingStickyBox=e.layerById(t.nearestLayerShiftingStickyBox);this._nearestLayerShiftingContainingBlock=null;if(e&&t.nearestLayerShiftingContainingBlock)this._nearestLayerShiftingContainingBlock=e.layerById(t.nearestLayerShiftingContainingBlock)}stickyBoxRect(){return this._stickyBoxRect}containingBlockRect(){return this._containingBlockRect}nearestLayerShiftingStickyBox(){return this._nearestLayerShiftingStickyBox}nearestLayerShiftingContainingBlock(){return this._nearestLayerShiftingContainingBlock}};SDK.LayerTreeBase=class{constructor(e){this._target=e;this._domModel=e?e.model(SDK.DOMModel):null;this._layersById={};this._root=null;this._contentRoot=null;this._backendNodeIdToNode=new Map}target(){return this._target}root(){return this._root}setRoot(e){this._root=e}contentRoot(){return this._contentRoot}setContentRoot(e){this._contentRoot=e}forEachLayer(e,t){if(!t){t=this.root();if(!t)return false}return e(t)||t.children().some(this.forEachLayer.bind(this,e))}layerById(e){return this._layersById[e]||null}async resolveBackendNodeIds(e){if(!e.size||!this._domModel)return;const t=await this._domModel.pushNodesByBackendIdsToFrontend(e);if(!t)return;for(const e of t.keysArray())this._backendNodeIdToNode.set(e,t.get(e)||null)}backendNodeIdToNode(){return this._backendNodeIdToNode}setViewportSize(e){this._viewportSize=e}viewportSize(){return this._viewportSize}_nodeForId(e){return this._domModel?this._domModel.nodeForId(e):null}};SDK.LogModel=class extends SDK.SDKModel{constructor(e){super(e);e.registerLogDispatcher(this);this._logAgent=e.logAgent();this._logAgent.enable();if(!Host.isUnderTest()){this._logAgent.startViolationsReport([{name:"longTask",threshold:200},{name:"longLayout",threshold:30},{name:"blockedEvent",threshold:100},{name:"blockedParser",threshold:-1},{name:"handler",threshold:150},{name:"recurringHandler",threshold:50},{name:"discouragedAPIUse",threshold:-1}])}}entryAdded(e){this.dispatchEventToListeners(SDK.LogModel.Events.EntryAdded,{logModel:this,entry:e})}requestClear(){this._logAgent.clear()}};SDK.SDKModel.register(SDK.LogModel,SDK.Target.Capability.Log,true);SDK.LogModel.Events={EntryAdded:Symbol("EntryAdded")};SDK.ServiceWorkerManager=class extends SDK.SDKModel{constructor(e){super(e);e.registerServiceWorkerDispatcher(new SDK.ServiceWorkerDispatcher(this));this._lastAnonymousTargetId=0;this._agent=e.serviceWorkerAgent();this._registrations=new Map;this.enable();this._forceUpdateSetting=Common.settings.createSetting("serviceWorkerUpdateOnReload",false);if(this._forceUpdateSetting.get())this._forceUpdateSettingChanged();this._forceUpdateSetting.addChangeListener(this._forceUpdateSettingChanged,this);new SDK.ServiceWorkerContextNamer(e,this)}enable(){if(this._enabled)return;this._enabled=true;this._agent.enable()}disable(){if(!this._enabled)return;this._enabled=false;this._registrations.clear();this._agent.disable()}registrations(){return this._registrations}hasRegistrationForURLs(e){for(const t of this._registrations.values()){if(e.filter(e=>e&&e.startsWith(t.scopeURL)).length===e.length)return true}return false}findVersion(e){for(const t of this.registrations().values()){const n=t.versions.get(e);if(n)return n}return null}deleteRegistration(e){const t=this._registrations.get(e);if(!t)return;if(t._isRedundant()){this._registrations.delete(e);this.dispatchEventToListeners(SDK.ServiceWorkerManager.Events.RegistrationDeleted,t);return}t._deleting=true;for(const e of t.versions.values())this.stopWorker(e.id);this._unregister(t.scopeURL)}updateRegistration(e){const t=this._registrations.get(e);if(!t)return;this._agent.updateRegistration(t.scopeURL)}deliverPushMessage(e,t){const n=this._registrations.get(e);if(!n)return;const s=Common.ParsedURL.extractOrigin(n.scopeURL);this._agent.deliverPushMessage(s,e,t)}dispatchSyncEvent(e,t,n){const s=this._registrations.get(e);if(!s)return;const i=Common.ParsedURL.extractOrigin(s.scopeURL);this._agent.dispatchSyncEvent(i,e,t,n)}_unregister(e){this._agent.unregister(e)}startWorker(e){this._agent.startWorker(e)}skipWaiting(e){this._agent.skipWaiting(e)}stopWorker(e){this._agent.stopWorker(e)}inspectWorker(e){this._agent.inspectWorker(e)}_workerRegistrationUpdated(e){for(const t of e){let e=this._registrations.get(t.registrationId);if(!e){e=new SDK.ServiceWorkerRegistration(t);this._registrations.set(t.registrationId,e);this.dispatchEventToListeners(SDK.ServiceWorkerManager.Events.RegistrationUpdated,e);continue}e._update(t);if(e._shouldBeRemoved()){this._registrations.delete(e.id);this.dispatchEventToListeners(SDK.ServiceWorkerManager.Events.RegistrationDeleted,e)}else{this.dispatchEventToListeners(SDK.ServiceWorkerManager.Events.RegistrationUpdated,e)}}}_workerVersionUpdated(e){const t=new Set;for(const n of e){const e=this._registrations.get(n.registrationId);if(!e)continue;e._updateVersion(n);t.add(e)}for(const e of t){if(e._shouldBeRemoved()){this._registrations.delete(e.id);this.dispatchEventToListeners(SDK.ServiceWorkerManager.Events.RegistrationDeleted,e)}else{this.dispatchEventToListeners(SDK.ServiceWorkerManager.Events.RegistrationUpdated,e)}}}_workerErrorReported(e){const t=this._registrations.get(e.registrationId);if(!t)return;t.errors.push(e);this.dispatchEventToListeners(SDK.ServiceWorkerManager.Events.RegistrationErrorAdded,{registration:t,error:e})}forceUpdateOnReloadSetting(){return this._forceUpdateSetting}_forceUpdateSettingChanged(){this._agent.setForceUpdateOnPageLoad(this._forceUpdateSetting.get())}};SDK.SDKModel.register(SDK.ServiceWorkerManager,SDK.Target.Capability.Target|SDK.Target.Capability.Browser,true);SDK.ServiceWorkerManager.Events={RegistrationUpdated:Symbol("RegistrationUpdated"),RegistrationErrorAdded:Symbol("RegistrationErrorAdded"),RegistrationDeleted:Symbol("RegistrationDeleted")};SDK.ServiceWorkerDispatcher=class{constructor(e){this._manager=e}workerRegistrationUpdated(e){this._manager._workerRegistrationUpdated(e)}workerVersionUpdated(e){this._manager._workerVersionUpdated(e)}workerErrorReported(e){this._manager._workerErrorReported(e)}};SDK.ServiceWorkerVersion=class{constructor(e,t){this.registration=e;this._update(t)}_update(e){this.id=e.versionId;this.scriptURL=e.scriptURL;const t=new Common.ParsedURL(e.scriptURL);this.securityOrigin=t.securityOrigin();this.runningStatus=e.runningStatus;this.status=e.status;this.scriptLastModified=e.scriptLastModified;this.scriptResponseTime=e.scriptResponseTime;this.controlledClients=[];for(let t=0;t<e.controlledClients.length;++t)this.controlledClients.push(e.controlledClients[t]);this.targetId=e.targetId||null}isStartable(){return!this.registration.isDeleted&&this.isActivated()&&this.isStopped()}isStoppedAndRedundant(){return this.runningStatus===Protocol.ServiceWorker.ServiceWorkerVersionRunningStatus.Stopped&&this.status===Protocol.ServiceWorker.ServiceWorkerVersionStatus.Redundant}isStopped(){return this.runningStatus===Protocol.ServiceWorker.ServiceWorkerVersionRunningStatus.Stopped}isStarting(){return this.runningStatus===Protocol.ServiceWorker.ServiceWorkerVersionRunningStatus.Starting}isRunning(){return this.runningStatus===Protocol.ServiceWorker.ServiceWorkerVersionRunningStatus.Running}isStopping(){return this.runningStatus===Protocol.ServiceWorker.ServiceWorkerVersionRunningStatus.Stopping}isNew(){return this.status===Protocol.ServiceWorker.ServiceWorkerVersionStatus.New}isInstalling(){return this.status===Protocol.ServiceWorker.ServiceWorkerVersionStatus.Installing}isInstalled(){return this.status===Protocol.ServiceWorker.ServiceWorkerVersionStatus.Installed}isActivating(){return this.status===Protocol.ServiceWorker.ServiceWorkerVersionStatus.Activating}isActivated(){return this.status===Protocol.ServiceWorker.ServiceWorkerVersionStatus.Activated}isRedundant(){return this.status===Protocol.ServiceWorker.ServiceWorkerVersionStatus.Redundant}mode(){if(this.isNew()||this.isInstalling())return SDK.ServiceWorkerVersion.Modes.Installing;else if(this.isInstalled())return SDK.ServiceWorkerVersion.Modes.Waiting;else if(this.isActivating()||this.isActivated())return SDK.ServiceWorkerVersion.Modes.Active;return SDK.ServiceWorkerVersion.Modes.Redundant}};SDK.ServiceWorkerVersion.Modes={Installing:"installing",Waiting:"waiting",Active:"active",Redundant:"redundant"};SDK.ServiceWorkerRegistration=class{constructor(e){this._update(e);this.versions=new Map;this._deleting=false;this.errors=[]}_update(e){this._fingerprint=Symbol("fingerprint");this.id=e.registrationId;this.scopeURL=e.scopeURL;const t=new Common.ParsedURL(e.scopeURL);this.securityOrigin=t.securityOrigin();this.isDeleted=e.isDeleted;this.forceUpdateOnPageLoad=e.forceUpdateOnPageLoad}fingerprint(){return this._fingerprint}versionsByMode(){const e=new Map;for(const t of this.versions.values())e.set(t.mode(),t);return e}_updateVersion(e){this._fingerprint=Symbol("fingerprint");let t=this.versions.get(e.versionId);if(!t){t=new SDK.ServiceWorkerVersion(this,e);this.versions.set(e.versionId,t);return t}t._update(e);return t}_isRedundant(){for(const e of this.versions.values()){if(!e.isStoppedAndRedundant())return false}return true}_shouldBeRemoved(){return this._isRedundant()&&(!this.errors.length||this._deleting)}canBeRemoved(){return this.isDeleted||this._deleting}clearErrors(){this._fingerprint=Symbol("fingerprint");this.errors=[]}};SDK.ServiceWorkerContextNamer=class{constructor(e,t){this._target=e;this._serviceWorkerManager=t;this._versionByTargetId=new Map;t.addEventListener(SDK.ServiceWorkerManager.Events.RegistrationUpdated,this._registrationsUpdated,this);t.addEventListener(SDK.ServiceWorkerManager.Events.RegistrationDeleted,this._registrationsUpdated,this);SDK.targetManager.addModelListener(SDK.RuntimeModel,SDK.RuntimeModel.Events.ExecutionContextCreated,this._executionContextCreated,this)}_registrationsUpdated(e){this._versionByTargetId.clear();const t=this._serviceWorkerManager.registrations().valuesArray();for(const e of t){const t=e.versions.valuesArray();for(const e of t){if(e.targetId)this._versionByTargetId.set(e.targetId,e)}}this._updateAllContextLabels()}_executionContextCreated(e){const t=e.data;const n=this._serviceWorkerTargetIdForWorker(t.target());if(!n)return;this._updateContextLabel(t,this._versionByTargetId.get(n)||null)}_serviceWorkerTargetIdForWorker(e){const t=e.parentTarget();if(!t||t.parentTarget()!==this._target)return null;return t.type()===SDK.Target.Type.ServiceWorker?t.id():null}_updateAllContextLabels(){for(const e of SDK.targetManager.targets()){const t=this._serviceWorkerTargetIdForWorker(e);if(!t)continue;const n=this._versionByTargetId.get(t)||null;const s=e.model(SDK.RuntimeModel);const i=s?s.executionContexts():[];for(const e of i)this._updateContextLabel(e,n)}}_updateContextLabel(e,t){if(!t){e.setLabel("");return}const n=e.origin.asParsedURL();const s=n?n.lastPathComponentWithFragment():e.name;e.setLabel(s+" #"+t.id+" ("+t.status+")")}};SDK.TracingManagerClient=function(){};SDK.TracingManagerClient.prototype={traceEventsCollected(e){},tracingComplete(){},tracingBufferUsage(e){},eventsRetrievalProgress(e){}};SDK.TracingManager=class extends SDK.SDKModel{constructor(e){super(e);this._tracingAgent=e.tracingAgent();e.registerTracingDispatcher(new SDK.TracingDispatcher(this));this._activeClient=null;this._eventBufferSize=0;this._eventsRetrieved=0}_bufferUsage(e,t,n){this._eventBufferSize=t;this._activeClient.tracingBufferUsage(e||n||0)}_eventsCollected(e){this._activeClient.traceEventsCollected(e);this._eventsRetrieved+=e.length;if(!this._eventBufferSize){this._activeClient.eventsRetrievalProgress(0);return}if(this._eventsRetrieved>this._eventBufferSize)this._eventsRetrieved=this._eventBufferSize;this._activeClient.eventsRetrievalProgress(this._eventsRetrieved/this._eventBufferSize)}_tracingComplete(){this._eventBufferSize=0;this._eventsRetrieved=0;this._activeClient.tracingComplete();this._activeClient=null;this._finishing=false}start(e,t,n){if(this._activeClient)throw new Error("Tracing is already started");const s=500;this._activeClient=e;return this._tracingAgent.start(t,n,s,SDK.TracingManager.TransferMode.ReportEvents)}stop(){if(!this._activeClient)throw new Error("Tracing is not started");if(this._finishing)throw new Error("Tracing is already being stopped");this._finishing=true;this._tracingAgent.end()}};SDK.SDKModel.register(SDK.TracingManager,SDK.Target.Capability.Tracing,false);SDK.TracingManager.EventPayload;SDK.TracingManager.TransferMode={ReportEvents:"ReportEvents",ReturnAsStream:"ReturnAsStream"};SDK.TracingDispatcher=class{constructor(e){this._tracingManager=e}bufferUsage(e,t,n){this._tracingManager._bufferUsage(e,t,n)}dataCollected(e){this._tracingManager._eventsCollected(e)}tracingComplete(){this._tracingManager._tracingComplete()}};SDK.TracingModel=class{constructor(e){this._backingStorage=e;this._firstWritePending=true;this._processById=new Map;this._processByName=new Map;this._minimumRecordTime=0;this._maximumRecordTime=0;this._devToolsMetadataEvents=[];this._asyncEvents=[];this._openAsyncEvents=new Map;this._openNestableAsyncEvents=new Map;this._profileGroups=new Map;this._parsedCategories=new Map}static isNestableAsyncPhase(e){return e==="b"||e==="e"||e==="n"}static isAsyncBeginPhase(e){return e==="S"||e==="b"}static isAsyncPhase(e){return SDK.TracingModel.isNestableAsyncPhase(e)||e==="S"||e==="T"||e==="F"||e==="p"}static isFlowPhase(e){return e==="s"||e==="t"||e==="f"}static isTopLevelEvent(e){return e.hasCategory(SDK.TracingModel.DevToolsTimelineEventCategory)&&e.name==="RunTask"||e.hasCategory(SDK.TracingModel.LegacyTopLevelEventCategory)||e.hasCategory(SDK.TracingModel.DevToolsMetadataEventCategory)&&e.name==="Program"}static _extractId(e){const t=e.scope||"";if(typeof e.id2==="undefined")return t&&e.id?`${t}@${e.id}`:e.id;const n=e.id2;if(typeof n==="object"&&"global"in n!=="local"in n){return typeof n["global"]!=="undefined"?`:${t}:${n["global"]}`:`:${t}:${e.pid}:${n["local"]}`}console.error(`Unexpected id2 field at ${e.ts/1e3}, one and only one of 'local' and 'global' should be present.`)}static browserMainThread(e){const t=e.sortedProcesses();if(!t.length)return null;const n="CrBrowserMain";const s=[];const i=[];for(const e of t){if(e.name().toLowerCase().endsWith("browser"))s.push(e);i.push(...e.sortedThreads().filter(e=>e.name()===n))}if(i.length===1)return i[0];if(s.length===1)return s[0].threadByName(n);const o=e.devToolsMetadataEvents().filter(e=>e.name==="TracingStartedInBrowser");if(o.length===1)return o[0].thread;Common.console.error("Failed to find browser main thread in trace, some timeline features may be unavailable");return null}devToolsMetadataEvents(){return this._devToolsMetadataEvents}addEvents(e){for(let t=0;t<e.length;++t)this._addEvent(e[t])}tracingComplete(){this._processPendingAsyncEvents();this._backingStorage.appendString(this._firstWritePending?"[]":"]");this._backingStorage.finishWriting();this._firstWritePending=false;for(const e of this._processById.values()){for(const t of e._threads.values())t.tracingComplete()}}dispose(){if(!this._firstWritePending)this._backingStorage.reset()}adjustTime(e){this._minimumRecordTime+=e;this._maximumRecordTime+=e;for(const t of this._processById.values()){for(const n of t._threads.values()){for(const t of n.events()){t.startTime+=e;if(typeof t.endTime==="number")t.endTime+=e}for(const t of n.asyncEvents()){t.startTime+=e;if(typeof t.endTime==="number")t.endTime+=e}}}}_addEvent(e){let t=this._processById.get(e.pid);if(!t){t=new SDK.TracingModel.Process(this,e.pid);this._processById.set(e.pid,t)}const n=SDK.TracingModel.Phase;const s=",\n";this._backingStorage.appendString(this._firstWritePending?"[":s);this._firstWritePending=false;const i=JSON.stringify(e);const o=e.ph===n.SnapshotObject;let r=null;const a=1e4;if(o&&i.length>a)r=this._backingStorage.appendAccessibleString(i);else this._backingStorage.appendString(i);const l=e.ts/1e3;if(l&&(!this._minimumRecordTime||l<this._minimumRecordTime)&&(e.ph===n.Begin||e.ph===n.Complete||e.ph===n.Instant))this._minimumRecordTime=l;const c=(e.ts+(e.dur||0))/1e3;this._maximumRecordTime=Math.max(this._maximumRecordTime,c);const d=t._addEvent(e);if(!d)return;if(e.ph===n.Sample){this._addSampleEvent(d);return}if(SDK.TracingModel.isAsyncPhase(e.ph))this._asyncEvents.push(d);d._setBackingStorage(r);if(d.hasCategory(SDK.TracingModel.DevToolsMetadataEventCategory))this._devToolsMetadataEvents.push(d);if(e.ph!==n.Metadata)return;switch(e.name){case SDK.TracingModel.MetadataEvent.ProcessSortIndex:t._setSortIndex(e.args["sort_index"]);break;case SDK.TracingModel.MetadataEvent.ProcessName:const n=e.args["name"];t._setName(n);this._processByName.set(n,t);break;case SDK.TracingModel.MetadataEvent.ThreadSortIndex:t.threadById(e.tid)._setSortIndex(e.args["sort_index"]);break;case SDK.TracingModel.MetadataEvent.ThreadName:t.threadById(e.tid)._setName(e.args["name"]);break}}_addSampleEvent(e){const t=`${e.thread.process().id()}:${e.id}`;const n=this._profileGroups.get(t);if(n)n._addChild(e);else this._profileGroups.set(t,new SDK.TracingModel.ProfileEventsGroup(e))}profileGroup(e){return this._profileGroups.get(`${e.thread.process().id()}:${e.id}`)||null}minimumRecordTime(){return this._minimumRecordTime}maximumRecordTime(){return this._maximumRecordTime}sortedProcesses(){return SDK.TracingModel.NamedObject._sort(this._processById.valuesArray())}processByName(e){return this._processByName.get(e)}processById(e){return this._processById.get(e)||null}threadByName(e,t){const n=this.processByName(e);return n&&n.threadByName(t)}_processPendingAsyncEvents(){this._asyncEvents.stableSort(SDK.TracingModel.Event.compareStartTime);for(let e=0;e<this._asyncEvents.length;++e){const t=this._asyncEvents[e];if(SDK.TracingModel.isNestableAsyncPhase(t.phase))this._addNestableAsyncEvent(t);else this._addAsyncEvent(t)}this._asyncEvents=[];this._closeOpenAsyncEvents()}_closeOpenAsyncEvents(){for(const e of this._openAsyncEvents.values()){e.setEndTime(this._maximumRecordTime);e.steps[0].setEndTime(this._maximumRecordTime)}this._openAsyncEvents.clear();for(const e of this._openNestableAsyncEvents.values()){while(e.length)e.pop().setEndTime(this._maximumRecordTime)}this._openNestableAsyncEvents.clear()}_addNestableAsyncEvent(e){const t=SDK.TracingModel.Phase;const n=e.categoriesString+"."+e.id;let s=this._openNestableAsyncEvents.get(n);switch(e.phase){case t.NestableAsyncBegin:if(!s){s=[];this._openNestableAsyncEvents.set(n,s)}const i=new SDK.TracingModel.AsyncEvent(e);s.push(i);e.thread._addAsyncEvent(i);break;case t.NestableAsyncInstant:if(s&&s.length)s.peekLast()._addStep(e);break;case t.NestableAsyncEnd:if(!s||!s.length)break;const o=s.pop();if(o.name!==e.name){console.error(`Begin/end event mismatch for nestable async event, ${o.name} vs. ${e.name}, key: ${n}`);break}o._addStep(e)}}_addAsyncEvent(e){const t=SDK.TracingModel.Phase;const n=e.categoriesString+"."+e.name+"."+e.id;let s=this._openAsyncEvents.get(n);if(e.phase===t.AsyncBegin){if(s){console.error(`Event ${e.name} has already been started`);return}s=new SDK.TracingModel.AsyncEvent(e);this._openAsyncEvents.set(n,s);e.thread._addAsyncEvent(s);return}if(!s){return}if(e.phase===t.AsyncEnd){s._addStep(e);this._openAsyncEvents.delete(n);return}if(e.phase===t.AsyncStepInto||e.phase===t.AsyncStepPast){const n=s.steps.peekLast();if(n.phase!==t.AsyncBegin&&n.phase!==e.phase){console.assert(false,"Async event step phase mismatch: "+n.phase+" at "+n.startTime+" vs. "+e.phase+" at "+e.startTime);return}s._addStep(e);return}console.assert(false,"Invalid async event phase")}backingStorage(){return this._backingStorage}_parsedCategoriesForString(e){let t=this._parsedCategories.get(e);if(!t){t=new Set(e?e.split(","):[]);this._parsedCategories.set(e,t)}return t}};SDK.TracingModel.Phase={Begin:"B",End:"E",Complete:"X",Instant:"I",AsyncBegin:"S",AsyncStepInto:"T",AsyncStepPast:"p",AsyncEnd:"F",NestableAsyncBegin:"b",NestableAsyncEnd:"e",NestableAsyncInstant:"n",FlowBegin:"s",FlowStep:"t",FlowEnd:"f",Metadata:"M",Counter:"C",Sample:"P",CreateObject:"N",SnapshotObject:"O",DeleteObject:"D"};SDK.TracingModel.MetadataEvent={ProcessSortIndex:"process_sort_index",ProcessName:"process_name",ThreadSortIndex:"thread_sort_index",ThreadName:"thread_name"};SDK.TracingModel.LegacyTopLevelEventCategory="toplevel";SDK.TracingModel.DevToolsMetadataEventCategory="disabled-by-default-devtools.timeline";SDK.TracingModel.DevToolsTimelineEventCategory="disabled-by-default-devtools.timeline";SDK.TracingModel.FrameLifecycleEventCategory="cc,devtools";SDK.BackingStorage=function(){};SDK.BackingStorage.prototype={appendString(e){},appendAccessibleString(e){},finishWriting(){},reset(){}};SDK.TracingModel.Event=class{constructor(e,t,n,s,i){this.categoriesString=e||"";this._parsedCategories=i._model._parsedCategoriesForString(this.categoriesString);this.name=t;this.phase=n;this.startTime=s;this.thread=i;this.args={};this.selfTime=0}static fromPayload(e,t){const n=new SDK.TracingModel.Event(e.cat,e.name,e.ph,e.ts/1e3,t);if(e.args)n.addArgs(e.args);if(typeof e.dur==="number")n.setEndTime((e.ts+e.dur)/1e3);const s=SDK.TracingModel._extractId(e);if(typeof s!=="undefined")n.id=s;if(e.bind_id)n.bind_id=e.bind_id;return n}static compareStartTime(e,t){return e.startTime-t.startTime}static orderedCompareStartTime(e,t){return e.startTime-t.startTime||e.ordinal-t.ordinal||-1}hasCategory(e){return this._parsedCategories.has(e)}setEndTime(e){if(e<this.startTime){console.assert(false,"Event out of order: "+this.name);return}this.endTime=e;this.duration=e-this.startTime}addArgs(e){for(const t in e){if(t in this.args)console.error("Same argument name ("+t+") is used for begin and end phases of "+this.name);this.args[t]=e[t]}}_complete(e){if(e.args)this.addArgs(e.args);else console.error("Missing mandatory event argument 'args' at "+e.startTime);this.setEndTime(e.startTime)}_setBackingStorage(e){}};SDK.TracingModel.ObjectSnapshot=class extends SDK.TracingModel.Event{constructor(e,t,n,s){super(e,t,SDK.TracingModel.Phase.SnapshotObject,n,s);this._backingStorage=null;this.id;this._objectPromise=null}static fromPayload(e,t){const n=new SDK.TracingModel.ObjectSnapshot(e.cat,e.name,e.ts/1e3,t);const s=SDK.TracingModel._extractId(e);if(typeof s!=="undefined")n.id=s;if(!e.args||!e.args["snapshot"]){console.error("Missing mandatory 'snapshot' argument at "+e.ts/1e3);return n}if(e.args)n.addArgs(e.args);return n}requestObject(e){const t=this.args["snapshot"];if(t){e(t);return}this._backingStorage().then(n,e.bind(null,null));function n(t){if(!t){e(null);return}try{const n=JSON.parse(t);e(n["args"]["snapshot"])}catch(t){Common.console.error("Malformed event data in backing storage");e(null)}}}objectPromise(){if(!this._objectPromise)this._objectPromise=new Promise(this.requestObject.bind(this));return this._objectPromise}_setBackingStorage(e){if(!e)return;this._backingStorage=e;this.args={}}};SDK.TracingModel.AsyncEvent=class extends SDK.TracingModel.Event{constructor(e){super(e.categoriesString,e.name,e.phase,e.startTime,e.thread);this.addArgs(e.args);this.steps=[e]}_addStep(e){this.steps.push(e);if(e.phase===SDK.TracingModel.Phase.AsyncEnd||e.phase===SDK.TracingModel.Phase.NestableAsyncEnd){this.setEndTime(e.startTime);this.steps[0].setEndTime(e.startTime)}}};SDK.TracingModel.ProfileEventsGroup=class{constructor(e){this.children=[e]}_addChild(e){this.children.push(e)}};SDK.TracingModel.NamedObject=class{constructor(e,t){this._model=e;this._id=t;this._name="";this._sortIndex=0}static _sort(e){function t(e,t){return e._sortIndex!==t._sortIndex?e._sortIndex-t._sortIndex:e.name().localeCompare(t.name())}return e.sort(t)}_setName(e){this._name=e}name(){return this._name}_setSortIndex(e){this._sortIndex=e}};SDK.TracingModel.Process=class extends SDK.TracingModel.NamedObject{constructor(e,t){super(e,t);this._threads=new Map;this._threadByName=new Map}id(){return this._id}threadById(e){let t=this._threads.get(e);if(!t){t=new SDK.TracingModel.Thread(this,e);this._threads.set(e,t)}return t}threadByName(e){return this._threadByName.get(e)||null}_setThreadByName(e,t){this._threadByName.set(e,t)}_addEvent(e){return this.threadById(e.tid)._addEvent(e)}sortedThreads(){return SDK.TracingModel.NamedObject._sort(this._threads.valuesArray())}};SDK.TracingModel.Thread=class extends SDK.TracingModel.NamedObject{constructor(e,t){super(e._model,t);this._process=e;this._events=[];this._asyncEvents=[];this._lastTopLevelEvent=null}tracingComplete(){this._asyncEvents.stableSort(SDK.TracingModel.Event.compareStartTime);this._events.stableSort(SDK.TracingModel.Event.compareStartTime);const e=SDK.TracingModel.Phase;const t=[];for(let n=0;n<this._events.length;++n){const s=this._events[n];s.ordinal=n;switch(s.phase){case e.End:this._events[n]=null;if(!t.length)continue;const i=t.pop();if(i.name!==s.name||i.categoriesString!==s.categoriesString){console.error("B/E events mismatch at "+i.startTime+" ("+i.name+") vs. "+s.startTime+" ("+s.name+")")}else{i._complete(s)}break;case e.Begin:t.push(s);break}}while(t.length)t.pop().setEndTime(this._model.maximumRecordTime());this._events.remove(null,false)}_addEvent(e){const t=e.ph===SDK.TracingModel.Phase.SnapshotObject?SDK.TracingModel.ObjectSnapshot.fromPayload(e,this):SDK.TracingModel.Event.fromPayload(e,this);if(SDK.TracingModel.isTopLevelEvent(t)){if(this._lastTopLevelEvent&&this._lastTopLevelEvent.endTime>t.startTime)return null;this._lastTopLevelEvent=t}this._events.push(t);return t}_addAsyncEvent(e){this._asyncEvents.push(e)}_setName(e){super._setName(e);this._process._setThreadByName(e,this)}id(){return this._id}process(){return this._process}events(){return this._events}asyncEvents(){return this._asyncEvents}};SDK.OverlayModel=class extends SDK.SDKModel{constructor(e){super(e);this._domModel=e.model(SDK.DOMModel);e.registerOverlayDispatcher(this);this._overlayAgent=e.overlayAgent();this._debuggerModel=e.model(SDK.DebuggerModel);if(this._debuggerModel){Common.moduleSetting("disablePausedStateOverlay").addChangeListener(this._updatePausedInDebuggerMessage,this);this._debuggerModel.addEventListener(SDK.DebuggerModel.Events.DebuggerPaused,this._updatePausedInDebuggerMessage,this);this._debuggerModel.addEventListener(SDK.DebuggerModel.Events.DebuggerResumed,this._updatePausedInDebuggerMessage,this);this._debuggerModel.addEventListener(SDK.DebuggerModel.Events.GlobalObjectCleared,this._updatePausedInDebuggerMessage,this)}this._inspectModeEnabled=false;this._hideHighlightTimeout=null;this._defaultHighlighter=new SDK.OverlayModel.DefaultHighlighter(this);this._highlighter=this._defaultHighlighter;this._showPaintRectsSetting=Common.moduleSetting("showPaintRects");this._showLayoutShiftRegionsSetting=Common.moduleSetting("showLayoutShiftRegions");this._showAdHighlightsSetting=Common.moduleSetting("showAdHighlights");this._showDebugBordersSetting=Common.moduleSetting("showDebugBorders");this._showFPSCounterSetting=Common.moduleSetting("showFPSCounter");this._showScrollBottleneckRectsSetting=Common.moduleSetting("showScrollBottleneckRects");this._showHitTestBordersSetting=Common.moduleSetting("showHitTestBorders");this._registeredListeners=[];this._showViewportSizeOnResize=true;if(!e.suspended()){this._overlayAgent.enable();this._wireAgentToSettings()}}static highlightObjectAsDOMNode(e){const t=e.runtimeModel().target().model(SDK.DOMModel);if(t)t.overlayModel().highlightInOverlay({object:e})}static hideDOMNodeHighlight(){for(const e of SDK.targetManager.models(SDK.OverlayModel))e._delayedHideHighlight(0)}static async muteHighlight(){return Promise.all(SDK.targetManager.models(SDK.OverlayModel).map(e=>e.suspendModel()))}static async unmuteHighlight(){return Promise.all(SDK.targetManager.models(SDK.OverlayModel).map(e=>e.resumeModel()))}_wireAgentToSettings(){this._registeredListeners=[this._showPaintRectsSetting.addChangeListener(()=>this._overlayAgent.setShowPaintRects(this._showPaintRectsSetting.get())),this._showLayoutShiftRegionsSetting.addChangeListener(()=>this._overlayAgent.setShowLayoutShiftRegions(this._showLayoutShiftRegionsSetting.get())),this._showAdHighlightsSetting.addChangeListener(()=>this._overlayAgent.setShowAdHighlights(this._showAdHighlightsSetting.get())),this._showDebugBordersSetting.addChangeListener(()=>this._overlayAgent.setShowDebugBorders(this._showDebugBordersSetting.get())),this._showFPSCounterSetting.addChangeListener(()=>this._overlayAgent.setShowFPSCounter(this._showFPSCounterSetting.get())),this._showScrollBottleneckRectsSetting.addChangeListener(()=>this._overlayAgent.setShowScrollBottleneckRects(this._showScrollBottleneckRectsSetting.get())),this._showHitTestBordersSetting.addChangeListener(()=>this._overlayAgent.setShowHitTestBorders(this._showHitTestBordersSetting.get()))];if(this._showPaintRectsSetting.get())this._overlayAgent.setShowPaintRects(true);if(this._showLayoutShiftRegionsSetting.get())this._overlayAgent.setShowLayoutShiftRegions(true);if(this._showAdHighlightsSetting.get())this._overlayAgent.setShowAdHighlights(true);if(this._showDebugBordersSetting.get())this._overlayAgent.setShowDebugBorders(true);if(this._showFPSCounterSetting.get())this._overlayAgent.setShowFPSCounter(true);if(this._showScrollBottleneckRectsSetting.get())this._overlayAgent.setShowScrollBottleneckRects(true);if(this._showHitTestBordersSetting.get())this._overlayAgent.setShowHitTestBorders(true);if(this._debuggerModel.isPaused())this._updatePausedInDebuggerMessage();return this._overlayAgent.setShowViewportSizeOnResize(this._showViewportSizeOnResize)}suspendModel(){Common.EventTarget.removeEventListeners(this._registeredListeners);return this._overlayAgent.disable()}resumeModel(){this._overlayAgent.enable();return this._wireAgentToSettings()}setShowViewportSizeOnResize(e){this._showViewportSizeOnResize=e;if(this.target().suspended())return;this._overlayAgent.setShowViewportSizeOnResize(e)}_updatePausedInDebuggerMessage(){if(this.target().suspended())return Promise.resolve();const e=this._debuggerModel.isPaused()&&!Common.moduleSetting("disablePausedStateOverlay").get()?Common.UIString("Paused in debugger"):undefined;return this._overlayAgent.setPausedInDebuggerMessage(e)}setHighlighter(e){this._highlighter=e||this._defaultHighlighter}async setInspectMode(e,t=true){await this._domModel.requestDocument();this._inspectModeEnabled=e!==Protocol.Overlay.InspectMode.None;this.dispatchEventToListeners(SDK.OverlayModel.Events.InspectModeWillBeToggled,this);this._highlighter.setInspectMode(e,this._buildHighlightConfig("all",t))}inspectModeEnabled(){return this._inspectModeEnabled}highlightInOverlay(e,t,n){if(this._hideHighlightTimeout){clearTimeout(this._hideHighlightTimeout);this._hideHighlightTimeout=null}const s=this._buildHighlightConfig(t);if(typeof n!=="undefined")s.showInfo=n;this._highlighter.highlightInOverlay(e,s)}highlightInOverlayForTwoSeconds(e){this.highlightInOverlay(e);this._delayedHideHighlight(2e3)}_delayedHideHighlight(e){if(this._hideHighlightTimeout===null)this._hideHighlightTimeout=setTimeout(()=>this.highlightInOverlay({}),e)}highlightFrame(e){if(this._hideHighlightTimeout){clearTimeout(this._hideHighlightTimeout);this._hideHighlightTimeout=null}this._highlighter.highlightFrame(e)}_buildHighlightConfig(e="all",t=false){const n=Common.moduleSetting("showMetricsRulers").get();const s={showInfo:e==="all",showRulers:n,showStyles:t,showExtensionLines:n};if(e==="all"||e==="content")s.contentColor=Common.Color.PageHighlight.Content.toProtocolRGBA();if(e==="all"||e==="padding")s.paddingColor=Common.Color.PageHighlight.Padding.toProtocolRGBA();if(e==="all"||e==="border")s.borderColor=Common.Color.PageHighlight.Border.toProtocolRGBA();if(e==="all"||e==="margin")s.marginColor=Common.Color.PageHighlight.Margin.toProtocolRGBA();if(e==="all"){s.eventTargetColor=Common.Color.PageHighlight.EventTarget.toProtocolRGBA();s.shapeColor=Common.Color.PageHighlight.Shape.toProtocolRGBA();s.shapeMarginColor=Common.Color.PageHighlight.ShapeMargin.toProtocolRGBA()}if(e==="all")s.cssGridColor=Common.Color.PageHighlight.CssGrid.toProtocolRGBA();return s}nodeHighlightRequested(e){const t=this._domModel.nodeForId(e);if(t)this.dispatchEventToListeners(SDK.OverlayModel.Events.HighlightNodeRequested,t)}static setInspectNodeHandler(e){SDK.OverlayModel._inspectNodeHandler=e}inspectNodeRequested(e){const t=new SDK.DeferredDOMNode(this.target(),e);if(SDK.OverlayModel._inspectNodeHandler){t.resolvePromise().then(e=>{if(e)SDK.OverlayModel._inspectNodeHandler(e)})}else{Common.Revealer.reveal(t)}this.dispatchEventToListeners(SDK.OverlayModel.Events.ExitedInspectMode)}screenshotRequested(e){this.dispatchEventToListeners(SDK.OverlayModel.Events.ScreenshotRequested,e);this.dispatchEventToListeners(SDK.OverlayModel.Events.ExitedInspectMode)}inspectModeCanceled(){this.dispatchEventToListeners(SDK.OverlayModel.Events.ExitedInspectMode)}};SDK.SDKModel.register(SDK.OverlayModel,SDK.Target.Capability.DOM,true);SDK.OverlayModel.Events={InspectModeWillBeToggled:Symbol("InspectModeWillBeToggled"),ExitedInspectMode:Symbol("InspectModeExited"),HighlightNodeRequested:Symbol("HighlightNodeRequested"),ScreenshotRequested:Symbol("ScreenshotRequested")};SDK.OverlayModel.Highlighter=function(){};SDK.OverlayModel.HighlightData;SDK.OverlayModel.Highlighter.prototype={highlightInOverlay(e,t){},setInspectMode(e,t){},highlightFrame(e){}};SDK.OverlayModel.DefaultHighlighter=class{constructor(e){this._model=e}highlightInOverlay(e,t){const{node:n,deferredNode:s,object:i,selectorList:o}=e;const r=n?n.id:undefined;const a=s?s.backendNodeId():undefined;const l=i?i.objectId:undefined;if(r||a||l)this._model._overlayAgent.highlightNode(t,r,a,l,o);else this._model._overlayAgent.hideHighlight()}setInspectMode(e,t){return this._model._overlayAgent.setInspectMode(e,t)}highlightFrame(e){this._model._overlayAgent.highlightFrame(e,Common.Color.PageHighlight.Content.toProtocolRGBA(),Common.Color.PageHighlight.ContentOutline.toProtocolRGBA())}};SDK.RuntimeModel=class extends SDK.SDKModel{constructor(e){super(e);this._agent=e.runtimeAgent();this.target().registerRuntimeDispatcher(new SDK.RuntimeDispatcher(this));this._agent.enable();this._executionContextById=new Map;this._executionContextComparator=SDK.ExecutionContext.comparator;this._hasSideEffectSupport=null;if(Common.moduleSetting("customFormatters").get())this._agent.setCustomObjectFormatterEnabled(true);Common.moduleSetting("customFormatters").addChangeListener(this._customFormattersStateChanged.bind(this))}static isSideEffectFailure(e){const t=!e[Protocol.Error]&&e.exceptionDetails;return!!(t&&t.exception&&t.exception.description&&t.exception.description.startsWith("EvalError: Possible side-effect in debug-evaluate"))}debuggerModel(){return this.target().model(SDK.DebuggerModel)}heapProfilerModel(){return this.target().model(SDK.HeapProfilerModel)}executionContexts(){return this._executionContextById.valuesArray().sort(this.executionContextComparator())}setExecutionContextComparator(e){this._executionContextComparator=e}executionContextComparator(){return this._executionContextComparator}defaultExecutionContext(){for(const e of this.executionContexts()){if(e.isDefault)return e}return null}executionContext(e){return this._executionContextById.get(e)||null}_executionContextCreated(e){const t=e.auxData||{isDefault:true};const n=new SDK.ExecutionContext(this,e.id,e.name,e.origin,t["isDefault"],t["frameId"]);this._executionContextById.set(n.id,n);this.dispatchEventToListeners(SDK.RuntimeModel.Events.ExecutionContextCreated,n)}_executionContextDestroyed(e){const t=this._executionContextById.get(e);if(!t)return;this.debuggerModel().executionContextDestroyed(t);this._executionContextById.delete(e);this.dispatchEventToListeners(SDK.RuntimeModel.Events.ExecutionContextDestroyed,t)}fireExecutionContextOrderChanged(){this.dispatchEventToListeners(SDK.RuntimeModel.Events.ExecutionContextOrderChanged,this)}_executionContextsCleared(){this.debuggerModel().globalObjectCleared();const e=this.executionContexts();this._executionContextById.clear();for(let t=0;t<e.length;++t)this.dispatchEventToListeners(SDK.RuntimeModel.Events.ExecutionContextDestroyed,e[t])}createRemoteObject(e){console.assert(typeof e==="object","Remote object payload should only be an object");return new SDK.RemoteObjectImpl(this,e.objectId,e.type,e.subtype,e.value,e.unserializableValue,e.description,e.preview,e.customPreview,e.className)}createScopeRemoteObject(e,t){return new SDK.ScopeRemoteObject(this,e.objectId,t,e.type,e.subtype,e.value,e.unserializableValue,e.description,e.preview)}createRemoteObjectFromPrimitiveValue(e){const t=typeof e;let n=undefined;const s=SDK.RemoteObject.unserializableDescription(e);if(s!==null)n=s;if(typeof n!=="undefined")e=undefined;return new SDK.RemoteObjectImpl(this,undefined,t,undefined,e,n)}createRemotePropertyFromPrimitiveValue(e,t){return new SDK.RemoteObjectProperty(e,this.createRemoteObjectFromPrimitiveValue(t))}discardConsoleEntries(){this._agent.discardConsoleEntries()}releaseObjectGroup(e){this._agent.releaseObjectGroup(e)}releaseEvaluationResult(e){if(e.object)e.object.release();if(e.exceptionDetails&&e.exceptionDetails.exception){const t=e.exceptionDetails.exception;const n=this.createRemoteObject({type:t.type,objectId:t.objectId});n.release()}}runIfWaitingForDebugger(){this._agent.runIfWaitingForDebugger()}_customFormattersStateChanged(e){const t=e.data;this._agent.setCustomObjectFormatterEnabled(t)}async compileScript(e,t,n,s){const i=await this._agent.invoke_compileScript({expression:String.escapeInvalidUnicodeCharacters(e),sourceURL:t,persistScript:n,executionContextId:s});if(i[Protocol.Error]){console.error(i[Protocol.Error]);return null}return{scriptId:i.scriptId,exceptionDetails:i.exceptionDetails}}async runScript(e,t,n,s,i,o,r,a){const l=await this._agent.invoke_runScript({scriptId:e,executionContextId:t,objectGroup:n,silent:s,includeCommandLineAPI:i,returnByValue:o,generatePreview:r,awaitPromise:a});const c=l[Protocol.Error];if(c){console.error(c);return{error:c}}return{object:this.createRemoteObject(l.result),exceptionDetails:l.exceptionDetails}}async queryObjects(e){if(!e.objectId)return{error:"Prototype should be an Object."};const t=await this._agent.invoke_queryObjects({prototypeObjectId:e.objectId,objectGroup:"console"});const n=t[Protocol.Error];if(n){console.error(n);return{error:n}}return{objects:this.createRemoteObject(t.objects)}}async isolateId(){return await this._agent.getIsolateId()||this.target().id()}async heapUsage(){const e=await this._agent.invoke_getHeapUsage({});return e[Protocol.Error]?null:e}_inspectRequested(e,t){const n=this.createRemoteObject(e);if(t.copyToClipboard){this._copyRequested(n);return}if(t.queryObjects){this._queryObjectsRequested(n);return}if(n.isNode()){Common.Revealer.reveal(n).then(n.release.bind(n));return}if(n.type==="function"){SDK.RemoteFunction.objectAsFunction(n).targetFunctionDetails().then(s);return}function s(e){n.release();if(!e||!e.location)return;Common.Revealer.reveal(e.location)}n.release()}_copyRequested(e){if(!e.objectId){InspectorFrontendHost.copyText(e.unserializableValue()||e.value);return}e.callFunctionJSON(t,[{value:e.subtype}]).then(InspectorFrontendHost.copyText.bind(InspectorFrontendHost));function t(e){if(e==="node")return this.outerHTML;if(e&&typeof this==="undefined")return e+"";try{return JSON.stringify(this,null,"  ")}catch(e){return""+this}}}async _queryObjectsRequested(e){const t=await this.queryObjects(e);e.release();if(t.error){Common.console.error(t.error);return}this.dispatchEventToListeners(SDK.RuntimeModel.Events.QueryObjectRequested,{objects:t.objects})}static simpleTextFromException(e){let t=e.text;if(e.exception&&e.exception.description){let n=e.exception.description;if(n.indexOf("\n")!==-1)n=n.substring(0,n.indexOf("\n"));t+=" "+n}return t}exceptionThrown(e,t){const n={timestamp:e,details:t};this.dispatchEventToListeners(SDK.RuntimeModel.Events.ExceptionThrown,n)}_exceptionRevoked(e){this.dispatchEventToListeners(SDK.RuntimeModel.Events.ExceptionRevoked,e)}_consoleAPICalled(e,t,n,s,i,o){const r={type:e,args:t,executionContextId:n,timestamp:s,stackTrace:i,context:o};this.dispatchEventToListeners(SDK.RuntimeModel.Events.ConsoleAPICalled,r)}executionContextIdForScriptId(e){const t=this.debuggerModel().scriptForId(e);return t?t.executionContextId:0}executionContextForStackTrace(e){while(e&&!e.callFrames.length)e=e.parent;if(!e||!e.callFrames.length)return 0;return this.executionContextIdForScriptId(e.callFrames[0].scriptId)}hasSideEffectSupport(){return this._hasSideEffectSupport}async checkSideEffectSupport(){const e=this.executionContexts().peekLast();if(!e)return false;const t=await this._agent.invoke_evaluate({expression:String.escapeInvalidUnicodeCharacters(SDK.RuntimeModel._sideEffectTestExpression),contextId:e.id,throwOnSideEffect:true});this._hasSideEffectSupport=SDK.RuntimeModel.isSideEffectFailure(t);return this._hasSideEffectSupport}terminateExecution(){return this._agent.invoke_terminateExecution({})}};SDK.SDKModel.register(SDK.RuntimeModel,SDK.Target.Capability.JS,true);SDK.RuntimeModel._sideEffectTestExpression="(async function(){ await 1; })()";SDK.RuntimeModel.Events={ExecutionContextCreated:Symbol("ExecutionContextCreated"),ExecutionContextDestroyed:Symbol("ExecutionContextDestroyed"),ExecutionContextChanged:Symbol("ExecutionContextChanged"),ExecutionContextOrderChanged:Symbol("ExecutionContextOrderChanged"),ExceptionThrown:Symbol("ExceptionThrown"),ExceptionRevoked:Symbol("ExceptionRevoked"),ConsoleAPICalled:Symbol("ConsoleAPICalled"),QueryObjectRequested:Symbol("QueryObjectRequested")};SDK.RuntimeModel.ExceptionWithTimestamp;SDK.RuntimeModel.CompileScriptResult;SDK.RuntimeModel.EvaluationOptions;SDK.RuntimeModel.EvaluationResult;SDK.RuntimeModel.QueryObjectResult;SDK.RuntimeModel.ConsoleAPICall;SDK.RuntimeDispatcher=class{constructor(e){this._runtimeModel=e}executionContextCreated(e){this._runtimeModel._executionContextCreated(e)}executionContextDestroyed(e){this._runtimeModel._executionContextDestroyed(e)}executionContextsCleared(){this._runtimeModel._executionContextsCleared()}exceptionThrown(e,t){this._runtimeModel.exceptionThrown(e,t)}exceptionRevoked(e,t){this._runtimeModel._exceptionRevoked(t)}consoleAPICalled(e,t,n,s,i,o){this._runtimeModel._consoleAPICalled(e,t,n,s,i,o)}inspectRequested(e,t){this._runtimeModel._inspectRequested(e,t)}};SDK.ExecutionContext=class{constructor(e,t,n,s,i,o){this.id=t;this.name=n;this.origin=s;this.isDefault=i;this.runtimeModel=e;this.debuggerModel=e.debuggerModel();this.frameId=o;this._setLabel("")}target(){return this.runtimeModel.target()}static comparator(e,t){function n(e){if(!e.parentTarget())return 5;if(e.type()===SDK.Target.Type.Frame)return 4;if(e.type()===SDK.Target.Type.ServiceWorker)return 3;if(e.type()===SDK.Target.Type.Worker)return 2;return 1}function s(e){let t=e;const n=[];while(t){n.push(t);t=t.parentTarget()}return n.reverse()}const i=s(e.target());const o=s(t.target());let r;let a;for(let e=0;;e++){if(!i[e]||!o[e]||i[e]!==o[e]){r=i[e];a=o[e];break}}if(!r&&a)return-1;if(!a&&r)return 1;if(r&&a){const e=n(r)-n(a);if(e)return-e;return r.id().localeCompare(a.id())}if(e.isDefault)return-1;if(t.isDefault)return+1;return e.name.localeCompare(t.name)}evaluate(e,t,n){if(this.debuggerModel.selectedCallFrame())return this.debuggerModel.evaluateOnSelectedCallFrame(e);const s=!!e.throwOnSideEffect||e.timeout!==undefined;if(!s||this.runtimeModel.hasSideEffectSupport())return this._evaluateGlobal(e,t,n);const i={error:"Side-effect checks not supported by backend."};if(this.runtimeModel.hasSideEffectSupport()===false)return Promise.resolve(i);return this.runtimeModel.checkSideEffectSupport().then(()=>{if(this.runtimeModel.hasSideEffectSupport())return this._evaluateGlobal(e,t,n);return Promise.resolve(i)})}globalObject(e,t){return this._evaluateGlobal({expression:"this",objectGroup:e,includeCommandLineAPI:false,silent:true,returnByValue:false,generatePreview:t},false,false)}async _evaluateGlobal(e,t,n){if(!e.expression){e.expression="this"}const s=await this.runtimeModel._agent.invoke_evaluate({expression:String.escapeInvalidUnicodeCharacters(e.expression),objectGroup:e.objectGroup,includeCommandLineAPI:e.includeCommandLineAPI,silent:e.silent,contextId:this.id,returnByValue:e.returnByValue,generatePreview:e.generatePreview,userGesture:t,awaitPromise:n,throwOnSideEffect:e.throwOnSideEffect,timeout:e.timeout});const i=s[Protocol.Error];if(i){console.error(i);return{error:i}}return{object:this.runtimeModel.createRemoteObject(s.result),exceptionDetails:s.exceptionDetails}}async globalLexicalScopeNames(){const e=await this.runtimeModel._agent.invoke_globalLexicalScopeNames({executionContextId:this.id});return e[Protocol.Error]?[]:e.names}label(){return this._label}setLabel(e){this._setLabel(e);this.runtimeModel.dispatchEventToListeners(SDK.RuntimeModel.Events.ExecutionContextChanged,this)}_setLabel(e){if(e){this._label=e;return}if(this.name){this._label=this.name;return}const t=this.origin.asParsedURL();this._label=t?t.lastPathComponentWithFragment():""}};SDK.IsolateManager=class extends Common.Object{constructor(){super();console.assert(!SDK.isolateManager,"Use SDK.isolateManager singleton.");this._isolates=new Map;this._isolateIdByModel=new Map;this._observers=new Set;SDK.targetManager.observeModels(SDK.RuntimeModel,this);this._pollId=0}observeIsolates(e){if(this._observers.has(e))throw new Error("Observer can only be registered once");if(!this._observers.size)this._poll();this._observers.add(e);for(const t of this._isolates.values())e.isolateAdded(t)}unobserveIsolates(e){this._observers.delete(e);if(!this._observers.size)++this._pollId}modelAdded(e){this._modelAdded(e)}async _modelAdded(e){this._isolateIdByModel.set(e,null);const t=await e.isolateId();if(!this._isolateIdByModel.has(e)){return}if(!t){this._isolateIdByModel.delete(e);return}this._isolateIdByModel.set(e,t);let n=this._isolates.get(t);if(!n){n=new SDK.IsolateManager.Isolate(t);this._isolates.set(t,n)}n._models.add(e);if(n._models.size===1){for(const e of this._observers)e.isolateAdded(n)}else{for(const e of this._observers)e.isolateChanged(n)}}modelRemoved(e){const t=this._isolateIdByModel.get(e);this._isolateIdByModel.delete(e);if(!t)return;const n=this._isolates.get(t);n._models.delete(e);if(n._models.size){for(const e of this._observers)e.isolateChanged(n);return}for(const e of this._observers)e.isolateRemoved(n);this._isolates.delete(t)}isolateByModel(e){return this._isolates.get(this._isolateIdByModel.get(e)||"")||null}isolates(){return this._isolates.values()}async _poll(){const e=this._pollId;while(e===this._pollId){await Promise.all(Array.from(this.isolates(),e=>e._update()));await new Promise(e=>setTimeout(e,SDK.IsolateManager.PollIntervalMs))}}};SDK.IsolateManager.Observer=function(){};SDK.IsolateManager.Observer.prototype={isolateAdded(e){},isolateRemoved(e){},isolateChanged(e){}};SDK.IsolateManager.Events={MemoryChanged:Symbol("MemoryChanged")};SDK.IsolateManager.MemoryTrendWindowMs=12e4;SDK.IsolateManager.PollIntervalMs=2e3;SDK.IsolateManager.Isolate=class{constructor(e){this._id=e;this._models=new Set;this._usedHeapSize=0;const t=SDK.IsolateManager.MemoryTrendWindowMs/SDK.IsolateManager.PollIntervalMs;this._memoryTrend=new SDK.IsolateManager.MemoryTrend(t)}id(){return this._id}models(){return this._models}runtimeModel(){return this._models.values().next().value||null}heapProfilerModel(){const e=this.runtimeModel();return e&&e.heapProfilerModel()}async _update(){const e=this.runtimeModel();const t=e&&await e.heapUsage();if(!t)return;this._usedHeapSize=t.usedSize;this._memoryTrend.add(this._usedHeapSize);SDK.isolateManager.dispatchEventToListeners(SDK.IsolateManager.Events.MemoryChanged,this)}samplesCount(){return this._memoryTrend.count()}usedHeapSize(){return this._usedHeapSize}usedHeapSizeGrowRate(){return this._memoryTrend.fitSlope()}};SDK.IsolateManager.MemoryTrend=class{constructor(e){this._maxCount=e|0;this.reset()}reset(){this._base=Date.now();this._index=0;this._x=[];this._y=[];this._sx=0;this._sy=0;this._sxx=0;this._sxy=0}count(){return this._x.length}add(e,t){const n=typeof t==="number"?t:Date.now()-this._base;const s=e;if(this._x.length===this._maxCount){const e=this._x[this._index];const t=this._y[this._index];this._sx-=e;this._sy-=t;this._sxx-=e*e;this._sxy-=e*t}this._sx+=n;this._sy+=s;this._sxx+=n*n;this._sxy+=n*s;this._x[this._index]=n;this._y[this._index]=s;this._index=(this._index+1)%this._maxCount}fitSlope(){const e=this.count();return e<2?0:(this._sxy-this._sx*this._sy/e)/(this._sxx-this._sx*this._sx/e)}};SDK.isolateManager=new SDK.IsolateManager;SDK.ScreenCaptureModel=class extends SDK.SDKModel{constructor(e){super(e);this._agent=e.pageAgent();this._onScreencastFrame=null;this._onScreencastVisibilityChanged=null;e.registerPageDispatcher(this)}startScreencast(e,t,n,s,i,o,r){this._onScreencastFrame=o;this._onScreencastVisibilityChanged=r;this._agent.startScreencast(e,t,n,s,i)}stopScreencast(){this._onScreencastFrame=null;this._onScreencastVisibilityChanged=null;this._agent.stopScreencast()}async captureScreenshot(e,t,n){await SDK.OverlayModel.muteHighlight();const s=await this._agent.captureScreenshot(e,t,n,true);await SDK.OverlayModel.unmuteHighlight();return s}async fetchLayoutMetrics(){const e=await this._agent.invoke_getLayoutMetrics({});if(e[Protocol.Error])return null;return{viewportX:e.visualViewport.pageX,viewportY:e.visualViewport.pageY,viewportScale:e.visualViewport.scale,contentWidth:e.contentSize.width,contentHeight:e.contentSize.height}}screencastFrame(e,t,n){this._agent.screencastFrameAck(n);if(this._onScreencastFrame)this._onScreencastFrame.call(null,e,t)}screencastVisibilityChanged(e){if(this._onScreencastVisibilityChanged)this._onScreencastVisibilityChanged.call(null,e)}domContentEventFired(e){}loadEventFired(e){}lifecycleEvent(e,t,n,s){}navigatedWithinDocument(e,t){}frameAttached(e,t){}frameNavigated(e){}frameDetached(e){}frameStartedLoading(e){}frameStoppedLoading(e){}frameRequestedNavigation(e){}frameScheduledNavigation(e,t){}frameClearedScheduledNavigation(e){}frameResized(){}javascriptDialogOpening(e,t,n,s,i){}javascriptDialogClosed(e,t){}interstitialShown(){}interstitialHidden(){}windowOpen(e,t,n,s){}compilationCacheProduced(e,t){}downloadWillBegin(e,t){}};SDK.SDKModel.register(SDK.ScreenCaptureModel,SDK.Target.Capability.ScreenCapture,false);SDK.Script=class{constructor(e,t,n,s,i,o,r,a,l,c,d,h,u,m,p){this.debuggerModel=e;this.scriptId=t;this.sourceURL=n;this.lineOffset=s;this.columnOffset=i;this.endLine=o;this.endColumn=r;this.executionContextId=a;this.hash=l;this._isContentScript=c;this._isLiveEdit=d;this.sourceMapURL=h;this.hasSourceURL=u;this.contentLength=m;this._originalContentProvider=null;this._originalSource=null;this.originStackTrace=p}static _trimSourceURLComment(e){let t=e.lastIndexOf("//# sourceURL=");if(t===-1){t=e.lastIndexOf("//@ sourceURL=");if(t===-1)return e}const n=e.lastIndexOf("\n",t);if(n===-1)return e;const s=e.substr(n+1).split("\n",1)[0];if(s.search(SDK.Script.sourceURLRegex)===-1)return e;return e.substr(0,n)+e.substr(n+s.length+1)}isContentScript(){return this._isContentScript}executionContext(){return this.debuggerModel.runtimeModel().executionContext(this.executionContextId)}isLiveEdit(){return this._isLiveEdit}contentURL(){return this.sourceURL}contentType(){return Common.resourceTypes.Script}contentEncoded(){return Promise.resolve(false)}async requestContent(){if(this._source)return this._source;if(!this.scriptId)return"";const e=await this.debuggerModel.target().debuggerAgent().getScriptSource(this.scriptId);if(e&&this.hasSourceURL)this._source=SDK.Script._trimSourceURLComment(e);else this._source=e||"";if(this._originalSource===null)this._originalSource=this._source;return this._source}originalContentProvider(){if(!this._originalContentProvider){const e=()=>this.requestContent().then(()=>this._originalSource);this._originalContentProvider=new Common.StaticContentProvider(this.contentURL(),this.contentType(),e)}return this._originalContentProvider}async searchInContent(e,t,n){if(!this.scriptId)return[];const s=await this.debuggerModel.target().debuggerAgent().searchInContent(this.scriptId,e,t,n);return(s||[]).map(e=>new Common.ContentProvider.SearchMatch(e.lineNumber,e.lineContent))}_appendSourceURLCommentIfNeeded(e){if(!this.hasSourceURL)return e;return e+"\n //# sourceURL="+this.sourceURL}async editSource(e,t){e=SDK.Script._trimSourceURLComment(e);e=this._appendSourceURLCommentIfNeeded(e);if(!this.scriptId){t("Script failed to parse");return}await this.requestContent();if(this._source===e){t(null);return}const n=await this.debuggerModel.target().debuggerAgent().invoke_setScriptSource({scriptId:this.scriptId,scriptSource:e});if(!n[Protocol.Error]&&!n.exceptionDetails)this._source=e;const s=!!n.stackChanged;t(n[Protocol.Error],n.exceptionDetails,n.callFrames,n.asyncStackTrace,n.asyncStackTraceId,s)}rawLocation(e,t){return new SDK.DebuggerModel.Location(this.debuggerModel,this.scriptId,e,t||0)}isInlineScript(){const e=!this.lineOffset&&!this.columnOffset;return!!this.sourceURL&&!e}isAnonymousScript(){return!this.sourceURL}isInlineScriptWithSourceURL(){return!!this.hasSourceURL&&this.isInlineScript()}async setBlackboxedRanges(e){const t=await this.debuggerModel.target().debuggerAgent().invoke_setBlackboxedRanges({scriptId:this.scriptId,positions:e});return!t[Protocol.Error]}};SDK.Script.sourceURLRegex=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m;SDK.ServiceWorkerCacheModel=class extends SDK.SDKModel{constructor(e){super(e);e.registerStorageDispatcher(this);this._caches=new Map;this._cacheAgent=e.cacheStorageAgent();this._storageAgent=e.storageAgent();this._securityOriginManager=e.model(SDK.SecurityOriginManager);this._originsUpdated=new Set;this._throttler=new Common.Throttler(2e3);this._enabled=false}enable(){if(this._enabled)return;this._securityOriginManager.addEventListener(SDK.SecurityOriginManager.Events.SecurityOriginAdded,this._securityOriginAdded,this);this._securityOriginManager.addEventListener(SDK.SecurityOriginManager.Events.SecurityOriginRemoved,this._securityOriginRemoved,this);for(const e of this._securityOriginManager.securityOrigins())this._addOrigin(e);this._enabled=true}clearForOrigin(e){this._removeOrigin(e);this._addOrigin(e)}refreshCacheNames(){for(const e of this._caches.values())this._cacheRemoved(e);this._caches.clear();const e=this._securityOriginManager.securityOrigins();for(const t of e)this._loadCacheNames(t)}async deleteCache(e){const t=await this._cacheAgent.invoke_deleteCache({cacheId:e.cacheId});if(t[Protocol.Error]){console.error(`ServiceWorkerCacheAgent error deleting cache ${e.toString()}: ${t[Protocol.Error]}`);return}this._caches.delete(e.cacheId);this._cacheRemoved(e)}async deleteCacheEntry(e,t){const n=await this._cacheAgent.invoke_deleteEntry({cacheId:e.cacheId,request:t});if(!n[Protocol.Error])return;Common.console.error(Common.UIString("ServiceWorkerCacheAgent error deleting cache entry %s in cache: %s",e.toString(),n[Protocol.Error]))}loadCacheData(e,t,n,s,i){this._requestEntries(e,t,n,s,i)}caches(){const e=new Array;for(const t of this._caches.values())e.push(t);return e}dispose(){for(const e of this._caches.values())this._cacheRemoved(e);this._caches.clear();if(this._enabled){this._securityOriginManager.removeEventListener(SDK.SecurityOriginManager.Events.SecurityOriginAdded,this._securityOriginAdded,this);this._securityOriginManager.removeEventListener(SDK.SecurityOriginManager.Events.SecurityOriginRemoved,this._securityOriginRemoved,this)}}_addOrigin(e){this._loadCacheNames(e);if(this._isValidSecurityOrigin(e))this._storageAgent.trackCacheStorageForOrigin(e)}_removeOrigin(e){for(const t of this._caches.keys()){const n=this._caches.get(t);if(n.securityOrigin===e){this._caches.delete(t);this._cacheRemoved(n)}}if(this._isValidSecurityOrigin(e))this._storageAgent.untrackCacheStorageForOrigin(e)}_isValidSecurityOrigin(e){const t=e.asParsedURL();return!!t&&t.scheme.startsWith("http")}async _loadCacheNames(e){const t=await this._cacheAgent.requestCacheNames(e);if(!t)return;this._updateCacheNames(e,t)}_updateCacheNames(e,t){function n(t){if(t.securityOrigin===e&&!s.has(t.cacheId)){o.set(t.cacheId,t);this._caches.delete(t.cacheId)}}const s=new Set;const i=new Map;const o=new Map;for(const e of t){const t=new SDK.ServiceWorkerCacheModel.Cache(this,e.securityOrigin,e.cacheName,e.cacheId);s.add(t.cacheId);if(this._caches.has(t.cacheId))continue;i.set(t.cacheId,t);this._caches.set(t.cacheId,t)}this._caches.forEach(n,this);i.forEach(this._cacheAdded,this);o.forEach(this._cacheRemoved,this)}_securityOriginAdded(e){const t=e.data;this._addOrigin(t)}_securityOriginRemoved(e){const t=e.data;this._removeOrigin(t)}_cacheAdded(e){this.dispatchEventToListeners(SDK.ServiceWorkerCacheModel.Events.CacheAdded,{model:this,cache:e})}_cacheRemoved(e){this.dispatchEventToListeners(SDK.ServiceWorkerCacheModel.Events.CacheRemoved,{model:this,cache:e})}async _requestEntries(e,t,n,s,i){const o=await this._cacheAgent.invoke_requestEntries({cacheId:e.cacheId,skipCount:t,pageSize:n,pathFilter:s});if(o[Protocol.Error]){console.error("ServiceWorkerCacheAgent error while requesting entries: ",o[Protocol.Error]);return}i(o.cacheDataEntries,o.returnCount)}cacheStorageListUpdated(e){this._originsUpdated.add(e);this._throttler.schedule(()=>{const e=Array.from(this._originsUpdated,e=>this._loadCacheNames(e));this._originsUpdated.clear();return Promise.all(e)})}cacheStorageContentUpdated(e,t){this.dispatchEventToListeners(SDK.ServiceWorkerCacheModel.Events.CacheStorageContentUpdated,{origin:e,cacheName:t})}indexedDBListUpdated(e){}indexedDBContentUpdated(e,t,n){}};SDK.SDKModel.register(SDK.ServiceWorkerCacheModel,SDK.Target.Capability.Browser,false);SDK.ServiceWorkerCacheModel.Events={CacheAdded:Symbol("CacheAdded"),CacheRemoved:Symbol("CacheRemoved"),CacheStorageContentUpdated:Symbol("CacheStorageContentUpdated")};SDK.ServiceWorkerCacheModel.Cache=class{constructor(e,t,n,s){this._model=e;this.securityOrigin=t;this.cacheName=n;this.cacheId=s}equals(e){return this.cacheId===e.cacheId}toString(){return this.securityOrigin+this.cacheName}requestCachedResponse(e,t){return this._model._cacheAgent.requestCachedResponse(this.cacheId,e,t)}};SDK.CallFunctionResult;SDK.GetPropertiesResult;SDK.RemoteObject=class{static fromLocalObject(e){return new SDK.LocalJSONObject(e)}static type(e){if(e===null)return"null";const t=typeof e;if(t!=="object"&&t!=="function")return t;return e.type}static arrayNameFromDescription(e){return e.replace(SDK.RemoteObject._descriptionLengthParenRegex,"").replace(SDK.RemoteObject._descriptionLengthSquareRegex,"")}static arrayLength(e){if(e.subtype!=="array"&&e.subtype!=="typedarray")return 0;const t=e.description.match(SDK.RemoteObject._descriptionLengthParenRegex);const n=e.description.match(SDK.RemoteObject._descriptionLengthSquareRegex);return t?parseInt(t[1],10):n?parseInt(n[1],10):0}static unserializableDescription(e){const t=typeof e;if(t==="number"){const t=String(e);if(e===0&&1/e<0)return SDK.RemoteObject.UnserializableNumber.Negative0;if(t===SDK.RemoteObject.UnserializableNumber.NaN||t===SDK.RemoteObject.UnserializableNumber.Infinity||t===SDK.RemoteObject.UnserializableNumber.NegativeInfinity)return t}if(t==="bigint")return e+"n";return null}static toCallArgument(e){const t=typeof e;if(t==="undefined")return{};const n=SDK.RemoteObject.unserializableDescription(e);if(t==="number"){if(n!==null)return{unserializableValue:n};return{value:e}}if(t==="bigint")return{unserializableValue:n};if(t==="string"||t==="boolean")return{value:e};if(!e)return{value:null};if(e instanceof SDK.RemoteObject){const t=e.unserializableValue();if(t!==undefined)return{unserializableValue:t}}else if(e.unserializableValue!==undefined){return{unserializableValue:e.unserializableValue}}if(typeof e.objectId!=="undefined")return{objectId:e.objectId};return{value:e.value}}static async loadFromObjectPerProto(e,t){const n=await Promise.all([e.getAllProperties(true,t),e.getOwnProperties(t)]);const s=n[0].properties;const i=n[1].properties;const o=n[1].internalProperties;if(!i||!s)return{properties:null,internalProperties:null};const r=new Map;const a=[];for(let e=0;e<s.length;e++){const t=s[e];if(t.symbol)a.push(t);else r.set(t.name,t)}for(let e=0;e<i.length;e++){const t=i[e];if(t.isAccessorProperty())continue;if(t.symbol)a.push(t);else r.set(t.name,t)}return{properties:r.valuesArray().concat(a),internalProperties:o?o:null}}customPreview(){return null}get objectId(){return"Not implemented"}get type(){throw"Not implemented"}get subtype(){throw"Not implemented"}get value(){throw"Not implemented"}unserializableValue(){throw"Not implemented"}get description(){throw"Not implemented"}get hasChildren(){throw"Not implemented"}get preview(){return undefined}get className(){return null}arrayLength(){throw"Not implemented"}getOwnProperties(e){throw"Not implemented"}getAllProperties(e,t){throw"Not implemented"}async deleteProperty(e){throw"Not implemented"}async setPropertyValue(e,t){throw"Not implemented"}callFunction(e,t){throw"Not implemented"}callFunctionJSON(e,t){throw"Not implemented"}release(){}debuggerModel(){throw new Error("DebuggerModel-less object")}runtimeModel(){throw new Error("RuntimeModel-less object")}isNode(){return false}};SDK.RemoteObjectImpl=class extends SDK.RemoteObject{constructor(e,t,n,s,i,o,r,a,l,c){super();this._runtimeModel=e;this._runtimeAgent=e.target().runtimeAgent();this._type=n;this._subtype=s;if(t){this._objectId=t;this._description=r;this._hasChildren=n!=="symbol";this._preview=a}else{this._description=r;if(!this.description&&o)this._description=o;if(!this._description&&(typeof i!=="object"||i===null))this._description=i+"";this._hasChildren=false;if(typeof o==="string"){this._unserializableValue=o;if(o===SDK.RemoteObject.UnserializableNumber.Infinity||o===SDK.RemoteObject.UnserializableNumber.NegativeInfinity||o===SDK.RemoteObject.UnserializableNumber.Negative0||o===SDK.RemoteObject.UnserializableNumber.NaN)this._value=Number(o);else if(n==="bigint"&&o.endsWith("n"))this._value=BigInt(o.substring(0,o.length-1));else this._value=o}else{this._value=i}}this._customPreview=l||null;this._className=typeof c==="string"?c:null}customPreview(){return this._customPreview}get objectId(){return this._objectId}get type(){return this._type}get subtype(){return this._subtype}get value(){return this._value}unserializableValue(){return this._unserializableValue}get description(){return this._description}get hasChildren(){return this._hasChildren}get preview(){return this._preview}get className(){return this._className}getOwnProperties(e){return this.doGetProperties(true,false,e)}getAllProperties(e,t){return this.doGetProperties(false,e,t)}async doGetProperties(e,t,n){if(!this._objectId)return{properties:null,internalProperties:null};const s=await this._runtimeAgent.invoke_getProperties({objectId:this._objectId,ownProperties:e,accessorPropertiesOnly:t,generatePreview:n});if(s[Protocol.Error])return{properties:null,internalProperties:null};if(s.exceptionDetails){this._runtimeModel.exceptionThrown(Date.now(),s.exceptionDetails);return{properties:null,internalProperties:null}}const{result:i=[],internalProperties:o=[],privateProperties:r=[]}=s;const a=[];for(const e of i){const t=e.value?this._runtimeModel.createRemoteObject(e.value):null;const n=e.symbol?this._runtimeModel.createRemoteObject(e.symbol):null;const s=new SDK.RemoteObjectProperty(e.name,t,!!e.enumerable,!!e.writable,!!e.isOwn,!!e.wasThrown,n);if(typeof e.value==="undefined"){if(e.get&&e.get.type!=="undefined")s.getter=this._runtimeModel.createRemoteObject(e.get);if(e.set&&e.set.type!=="undefined")s.setter=this._runtimeModel.createRemoteObject(e.set)}a.push(s)}for(const e of r){const t=this._runtimeModel.createRemoteObject(e.value);const n=new SDK.RemoteObjectProperty(e.name,t,true,true,true,false,undefined,false,undefined,true);a.push(n)}const l=[];for(const e of o){if(!e.value)continue;if(e.name==="[[StableObjectId]]")continue;const t=this._runtimeModel.createRemoteObject(e.value);l.push(new SDK.RemoteObjectProperty(e.name,t,true,false,undefined,undefined,undefined,true))}return{properties:a,internalProperties:l}}async setPropertyValue(e,t){if(!this._objectId)return`Can't set a property of non-object.`;const n=await this._runtimeAgent.invoke_evaluate({expression:t,silent:true});if(n[Protocol.Error]||n.exceptionDetails){return n[Protocol.Error]||(n.result.type!=="string"?n.result.description:n.result.value)}if(typeof e==="string")e=SDK.RemoteObject.toCallArgument(e);const s=this.doSetObjectPropertyValue(n.result,e);if(n.result.objectId)this._runtimeAgent.releaseObject(n.result.objectId);return s}async doSetObjectPropertyValue(e,t){const n="function(a, b) { this[a] = b; }";const s=[t,SDK.RemoteObject.toCallArgument(e)];const i=await this._runtimeAgent.invoke_callFunctionOn({objectId:this._objectId,functionDeclaration:n,arguments:s,silent:true});const o=i[Protocol.Error];return o||i.exceptionDetails?o||i.result.description:undefined}async deleteProperty(e){if(!this._objectId)return`Can't delete a property of non-object.`;const t="function(a) { delete this[a]; return !(a in this); }";const n=await this._runtimeAgent.invoke_callFunctionOn({objectId:this._objectId,functionDeclaration:t,arguments:[e],silent:true});if(n[Protocol.Error]||n.exceptionDetails)return n[Protocol.Error]||n.result.description;if(!n.result.value)return"Failed to delete property."}async callFunction(e,t){const n=await this._runtimeAgent.invoke_callFunctionOn({objectId:this._objectId,functionDeclaration:e.toString(),arguments:t,silent:true});if(n[Protocol.Error])return{object:null,wasThrown:false};return{object:this._runtimeModel.createRemoteObject(n.result),wasThrown:!!n.exceptionDetails}}async callFunctionJSON(e,t){const n=await this._runtimeAgent.invoke_callFunctionOn({objectId:this._objectId,functionDeclaration:e.toString(),arguments:t,silent:true,returnByValue:true});return n[Protocol.Error]||n.exceptionDetails?null:n.result.value}release(){if(!this._objectId)return;this._runtimeAgent.releaseObject(this._objectId)}arrayLength(){return SDK.RemoteObject.arrayLength(this)}debuggerModel(){return this._runtimeModel.debuggerModel()}runtimeModel(){return this._runtimeModel}isNode(){return!!this._objectId&&this.type==="object"&&this.subtype==="node"}};SDK.ScopeRemoteObject=class extends SDK.RemoteObjectImpl{constructor(e,t,n,s,i,o,r,a,l){super(e,t,s,i,o,r,a,l);this._scopeRef=n;this._savedScopeProperties=undefined}async doGetProperties(e,t,n){if(t)return{properties:[],internalProperties:[]};if(this._savedScopeProperties){return{properties:this._savedScopeProperties.slice(),internalProperties:null}}const s=await super.doGetProperties(e,t,true);if(this._scopeRef&&Array.isArray(s.properties)){this._savedScopeProperties=s.properties.slice();if(!this._scopeRef.callFrameId){for(const e of this._savedScopeProperties)e.writable=false}}return s}async doSetObjectPropertyValue(e,t){const n=t.value;const s=await this.debuggerModel().setVariableValue(this._scopeRef.number,n,SDK.RemoteObject.toCallArgument(e),this._scopeRef.callFrameId);if(s)return s;if(this._savedScopeProperties){for(const t of this._savedScopeProperties){if(t.name===n)t.value=this._runtimeModel.createRemoteObject(e)}}}};SDK.ScopeRef=class{constructor(e,t){this.number=e;this.callFrameId=t}};SDK.RemoteObjectProperty=class{constructor(e,t,n,s,i,o,r,a,l,c){this.name=e;if(t!==null)this.value=t;this.enumerable=typeof n!=="undefined"?n:true;const d=!a||!!l;this.writable=typeof s!=="undefined"?s:d;this.isOwn=!!i;this.wasThrown=!!o;if(r)this.symbol=r;this.synthetic=!!a;if(l)this.syntheticSetter=l;this.private=!!c}async setSyntheticValue(e){if(!this.syntheticSetter)return false;const t=await this.syntheticSetter(e);if(t)this.value=t;return!!t}isAccessorProperty(){return!!(this.getter||this.setter)}};SDK.LocalJSONObject=class extends SDK.RemoteObject{constructor(e){super();this._value=e;this._cachedDescription;this._cachedChildren}get objectId(){return undefined}get value(){return this._value}unserializableValue(){const e=SDK.RemoteObject.unserializableDescription(this._value);return e||undefined}get description(){if(this._cachedDescription)return this._cachedDescription;function e(e){return this._formatValue(e.value)}function t(e){let t=e.name;if(/^\s|\s$|^$|\n/.test(t))t='"'+t.replace(/\n/g,"↵")+'"';return t+": "+this._formatValue(e.value)}if(this.type==="object"){switch(this.subtype){case"array":this._cachedDescription=this._concatenate("[","]",e.bind(this));break;case"date":this._cachedDescription=""+this._value;break;case"null":this._cachedDescription="null";break;default:this._cachedDescription=this._concatenate("{","}",t.bind(this))}}else{this._cachedDescription=String(this._value)}return this._cachedDescription}_formatValue(e){if(!e)return"undefined";const t=e.description||"";if(e.type==="string")return'"'+t.replace(/\n/g,"↵")+'"';return t}_concatenate(e,t,n){const s=100;let i=e;const o=this._children();for(let e=0;e<o.length;++e){const t=n(o[e]);if(i.length+t.length>s){i+=",…";break}if(e)i+=", ";i+=t}i+=t;return i}get type(){return typeof this._value}get subtype(){if(this._value===null)return"null";if(Array.isArray(this._value))return"array";if(this._value instanceof Date)return"date";return undefined}get hasChildren(){if(typeof this._value!=="object"||this._value===null)return false;return!!Object.keys(this._value).length}getOwnProperties(e){return Promise.resolve({properties:this._children(),internalProperties:null})}getAllProperties(e,t){if(e){return Promise.resolve({properties:[],internalProperties:null})}else{return Promise.resolve({properties:this._children(),internalProperties:null})}}_children(){if(!this.hasChildren)return[];const e=this._value;function t(t){let n=e[t];if(!(n instanceof SDK.RemoteObject))n=SDK.RemoteObject.fromLocalObject(n);return new SDK.RemoteObjectProperty(t,n)}if(!this._cachedChildren)this._cachedChildren=Object.keys(e).map(t);return this._cachedChildren}arrayLength(){return Array.isArray(this._value)?this._value.length:0}callFunction(e,t){const n=this._value;const s=t?t.map(e=>e.value):[];let i;let o=false;try{i=e.apply(n,s)}catch(e){o=true}return Promise.resolve({object:SDK.RemoteObject.fromLocalObject(i),wasThrown:o})}callFunctionJSON(e,t){const n=this._value;const s=t?t.map(e=>e.value):[];let i;try{i=e.apply(n,s)}catch(e){i=null}return Promise.resolve(i)}};SDK.RemoteArray=class{constructor(e){this._object=e}static objectAsArray(e){if(!e||e.type!=="object"||e.subtype!=="array"&&e.subtype!=="typedarray")throw new Error("Object is empty or not an array");return new SDK.RemoteArray(e)}static createFromRemoteObjects(e){if(!e.length)throw new Error("Input array is empty");const t=[];for(let n=0;n<e.length;++n)t.push(SDK.RemoteObject.toCallArgument(e[n]));return e[0].callFunction(n,t).then(s);function n(){if(arguments.length>1)return new Array(arguments);return[arguments[0]]}function s(e){if(e.wasThrown||!e.object)throw new Error("Call function throws exceptions or returns empty value");return SDK.RemoteArray.objectAsArray(e.object)}}at(e){if(e<0||e>this._object.arrayLength())throw new Error("Out of range");return this._object.callFunction(t,[SDK.RemoteObject.toCallArgument(e)]).then(n);function t(e){return this[e]}function n(e){if(e.wasThrown||!e.object)throw new Error("Exception in callFunction or result value is empty");return e.object}}length(){return this._object.arrayLength()}map(e){const t=[];for(let n=0;n<this.length();++n)t.push(this.at(n).then(e));return Promise.all(t)}object(){return this._object}};SDK.RemoteFunction=class{constructor(e){this._object=e}static objectAsFunction(e){if(!e||e.type!=="function")throw new Error("Object is empty or not a function");return new SDK.RemoteFunction(e)}targetFunction(){return this._object.getOwnProperties(false).then(e.bind(this));function e(e){if(!e.internalProperties)return this._object;const t=e.internalProperties;for(const e of t){if(e.name==="[[TargetFunction]]")return e.value}return this._object}}targetFunctionDetails(){return this.targetFunction().then(e.bind(this));function e(e){const n=t.bind(null,this._object!==e?e:null);return e.debuggerModel().functionDetailsPromise(e).then(n)}function t(e,t){if(e)e.release();return t}}object(){return this._object}};SDK.RemoteObject._descriptionLengthParenRegex=/\(([0-9]+)\)/;SDK.RemoteObject._descriptionLengthSquareRegex=/\[([0-9]+)\]/;SDK.RemoteObject.UnserializableNumber={Negative0:"-0",NaN:"NaN",Infinity:"Infinity",NegativeInfinity:"-Infinity"};SDK.Resource=class{constructor(e,t,n,s,i,o,r,a,l,c){this._resourceTreeModel=e;this._request=t;this.url=n;this._documentURL=s;this._frameId=i;this._loaderId=o;this._type=r||Common.resourceTypes.Other;this._mimeType=a;this._lastModified=l&&l.isValid()?l:null;this._contentSize=c;this._content;this._contentEncoded;this._pendingContentCallbacks=[];if(this._request&&!this._request.finished)this._request.addEventListener(SDK.NetworkRequest.Events.FinishedLoading,this._requestFinished,this)}lastModified(){if(this._lastModified||!this._request)return this._lastModified;const e=this._request.responseLastModified();const t=e?new Date(e):null;this._lastModified=t&&t.isValid()?t:null;return this._lastModified}contentSize(){if(typeof this._contentSize==="number"||!this._request)return this._contentSize;return this._request.resourceSize}get request(){return this._request}get url(){return this._url}set url(e){this._url=e;this._parsedURL=new Common.ParsedURL(e)}get parsedURL(){return this._parsedURL}get documentURL(){return this._documentURL}get frameId(){return this._frameId}get loaderId(){return this._loaderId}get displayName(){return this._parsedURL.displayName}resourceType(){return this._request?this._request.resourceType():this._type}get mimeType(){return this._request?this._request.mimeType:this._mimeType}get content(){return this._content}contentURL(){return this._url}contentType(){if(this.resourceType()===Common.resourceTypes.Document&&this.mimeType.indexOf("javascript")!==-1)return Common.resourceTypes.Script;return this.resourceType()}async contentEncoded(){await this.requestContent();return this._contentEncoded}requestContent(){if(typeof this._content!=="undefined")return Promise.resolve(this._content);let e;const t=new Promise(t=>e=t);this._pendingContentCallbacks.push(e);if(!this._request||this._request.finished)this._innerRequestContent();return t}canonicalMimeType(){return this.contentType().canonicalMimeType()||this.mimeType}async searchInContent(e,t,n){if(!this.frameId)return[];if(this.request)return this.request.searchInContent(e,t,n);const s=await this._resourceTreeModel.target().pageAgent().searchInResource(this.frameId,this.url,e,t,n);return s||[]}async populateImageSource(e){const t=await this.requestContent();const n=this._contentEncoded;e.src=Common.ContentProvider.contentAsDataURL(t,this._mimeType,n)||this._url}_requestFinished(){this._request.removeEventListener(SDK.NetworkRequest.Events.FinishedLoading,this._requestFinished,this);if(this._pendingContentCallbacks.length)this._innerRequestContent()}async _innerRequestContent(){if(this._contentRequested)return;this._contentRequested=true;if(this.request){const e=await this.request.contentData();this._content=e.content;this._contentEncoded=e.encoded}else{const e=await this._resourceTreeModel.target().pageAgent().invoke_getResourceContent({frameId:this.frameId,url:this.url});this._content=e[Protocol.Error]?null:e.content;this._contentEncoded=e.base64Encoded}if(this._content===null)this._contentEncoded=false;for(const e of this._pendingContentCallbacks.splice(0))e(this._content);delete this._contentRequested}hasTextContent(){if(this._type.isTextType())return true;if(this._type===Common.resourceTypes.Other)return!!this._content&&!this._contentEncoded;return false}frame(){return this._resourceTreeModel.frameForId(this._frameId)}};SDK.ResourceTreeModel=class extends SDK.SDKModel{constructor(e){super(e);const t=e.model(SDK.NetworkManager);if(t){t.addEventListener(SDK.NetworkManager.Events.RequestFinished,this._onRequestFinished,this);t.addEventListener(SDK.NetworkManager.Events.RequestUpdateDropped,this._onRequestUpdateDropped,this)}this._agent=e.pageAgent();this._agent.enable();this._securityOriginManager=e.model(SDK.SecurityOriginManager);e.registerPageDispatcher(new SDK.PageDispatcher(this));this._frames=new Map;this._cachedResourcesProcessed=false;this._pendingReloadOptions=null;this._reloadSuspensionCount=0;this._isInterstitialShowing=false;this.mainFrame=null;this._agent.getResourceTree().then(this._processCachedResources.bind(this))}static frameForRequest(e){const t=SDK.NetworkManager.forRequest(e);const n=t?t.target().model(SDK.ResourceTreeModel):null;if(!n)return null;return n.frameForId(e.frameId)}static frames(){let e=[];for(const t of SDK.targetManager.models(SDK.ResourceTreeModel))e=e.concat(t._frames.valuesArray());return e}static resourceForURL(e){for(const t of SDK.targetManager.models(SDK.ResourceTreeModel)){const n=t.mainFrame;const s=n?n.resourceForURL(e):null;if(s)return s}return null}static reloadAllPages(e,t){for(const n of SDK.targetManager.models(SDK.ResourceTreeModel)){if(!n.target().parentTarget())n.reloadPage(e,t)}}domModel(){return this.target().model(SDK.DOMModel)}_processCachedResources(e){if(e){this.dispatchEventToListeners(SDK.ResourceTreeModel.Events.WillLoadCachedResources);this._addFramesRecursively(null,e);this.target().setInspectedURL(e.frame.url)}this._cachedResourcesProcessed=true;const t=this.target().model(SDK.RuntimeModel);if(t){t.setExecutionContextComparator(this._executionContextComparator.bind(this));t.fireExecutionContextOrderChanged()}this.dispatchEventToListeners(SDK.ResourceTreeModel.Events.CachedResourcesLoaded,this)}cachedResourcesLoaded(){return this._cachedResourcesProcessed}isInterstitialShowing(){return this._isInterstitialShowing}_addFrame(e,t){this._frames.set(e.id,e);if(e.isMainFrame())this.mainFrame=e;this.dispatchEventToListeners(SDK.ResourceTreeModel.Events.FrameAdded,e);this._updateSecurityOrigins()}_frameAttached(e,t,n){const s=t?this._frames.get(t)||null:null;if(!this._cachedResourcesProcessed&&s)return null;if(this._frames.has(e))return null;const i=new SDK.ResourceTreeFrame(this,s,e,null,n||null);if(t&&!s)i._crossTargetParentFrameId=t;if(i.isMainFrame()&&this.mainFrame){this._frameDetached(this.mainFrame.id)}this._addFrame(i,true);return i}_frameNavigated(e){const t=e.parentId?this._frames.get(e.parentId)||null:null;if(!this._cachedResourcesProcessed&&t)return;let n=this._frames.get(e.id);if(!n){n=this._frameAttached(e.id,e.parentId||"");console.assert(n)}this.dispatchEventToListeners(SDK.ResourceTreeModel.Events.FrameWillNavigate,n);n._navigate(e);this.dispatchEventToListeners(SDK.ResourceTreeModel.Events.FrameNavigated,n);if(n.isMainFrame())this.dispatchEventToListeners(SDK.ResourceTreeModel.Events.MainFrameNavigated,n);const s=n.resources();for(let e=0;e<s.length;++e)this.dispatchEventToListeners(SDK.ResourceTreeModel.Events.ResourceAdded,s[e]);if(n.isMainFrame())this.target().setInspectedURL(n.url);this._updateSecurityOrigins()}_frameDetached(e){if(!this._cachedResourcesProcessed)return;const t=this._frames.get(e);if(!t)return;if(t.parentFrame)t.parentFrame._removeChildFrame(t);else t._remove();this._updateSecurityOrigins()}_onRequestFinished(e){if(!this._cachedResourcesProcessed)return;const t=e.data;if(t.failed||t.resourceType()===Common.resourceTypes.XHR)return;const n=this._frames.get(t.frameId);if(n)n._addRequest(t)}_onRequestUpdateDropped(e){if(!this._cachedResourcesProcessed)return;const t=e.data.frameId;const n=this._frames.get(t);if(!n)return;const s=e.data.url;if(n._resourcesMap[s])return;const i=new SDK.Resource(this,null,s,n.url,t,e.data.loaderId,Common.resourceTypes[e.data.resourceType],e.data.mimeType,e.data.lastModified,null);n.addResource(i)}frameForId(e){return this._frames.get(e)}forAllResources(e){if(this.mainFrame)return this.mainFrame._callForFrameResources(e);return false}frames(){return this._frames.valuesArray()}resourceForURL(e){return this.mainFrame?this.mainFrame.resourceForURL(e):null}_addFramesRecursively(e,t){const n=t.frame;const s=new SDK.ResourceTreeFrame(this,e,n.id,n,null);if(!e&&n.parentId)s._crossTargetParentFrameId=n.parentId;this._addFrame(s);for(let e=0;t.childFrames&&e<t.childFrames.length;++e)this._addFramesRecursively(s,t.childFrames[e]);for(let e=0;e<t.resources.length;++e){const i=t.resources[e];const o=this._createResourceFromFramePayload(n,i.url,Common.resourceTypes[i.type],i.mimeType,i.lastModified||null,i.contentSize||null);s.addResource(o)}if(!s._resourcesMap[n.url]){const e=this._createResourceFromFramePayload(n,n.url,Common.resourceTypes.Document,n.mimeType,null,null);s.addResource(e)}}_createResourceFromFramePayload(e,t,n,s,i,o){const r=typeof i==="number"?new Date(i*1e3):null;return new SDK.Resource(this,null,t,e.url,e.id,e.loaderId,n,s,r,o)}suspendReload(){this._reloadSuspensionCount++}resumeReload(){this._reloadSuspensionCount--;console.assert(this._reloadSuspensionCount>=0,"Unbalanced call to ResourceTreeModel.resumeReload()");if(!this._reloadSuspensionCount&&this._pendingReloadOptions)this.reloadPage.apply(this,this._pendingReloadOptions)}reloadPage(e,t){if(!this._pendingReloadOptions)this.dispatchEventToListeners(SDK.ResourceTreeModel.Events.PageReloadRequested,this);if(this._reloadSuspensionCount){this._pendingReloadOptions=[e,t];return}this._pendingReloadOptions=null;this.dispatchEventToListeners(SDK.ResourceTreeModel.Events.WillReloadPage);this._agent.reload(e,t)}navigate(e){return this._agent.navigate(e)}async navigationHistory(){const e=await this._agent.invoke_getNavigationHistory({});if(e[Protocol.Error])return null;return{currentIndex:e.currentIndex,entries:e.entries}}navigateToHistoryEntry(e){this._agent.navigateToHistoryEntry(e.id)}async fetchAppManifest(){const e=await this._agent.invoke_getAppManifest({});if(e[Protocol.Error])return{url:e.url,data:null,errors:[]};return{url:e.url,data:e.data||null,errors:e.errors}}async getInstallabilityErrors(){const e=await this._agent.invoke_getInstallabilityErrors({});return e.errors||[]}_executionContextComparator(e,t){function n(e){let t=e;const n=[];while(t){n.push(t);t=t.parentFrame}return n.reverse()}if(e.target()!==t.target())return SDK.ExecutionContext.comparator(e,t);const s=e.frameId?n(this.frameForId(e.frameId)):[];const i=t.frameId?n(this.frameForId(t.frameId)):[];let o;let r;for(let e=0;;e++){if(!s[e]||!i[e]||s[e]!==i[e]){o=s[e];r=i[e];break}}if(!o&&r)return-1;if(!r&&o)return 1;if(o&&r)return o.id.localeCompare(r.id);return SDK.ExecutionContext.comparator(e,t)}_getSecurityOriginData(){const e=new Set;let t=null;let n=null;for(const s of this._frames.values()){const i=s.securityOrigin;if(!i)continue;e.add(i);if(s.isMainFrame()){t=i;if(s.unreachableUrl()){const e=new Common.ParsedURL(s.unreachableUrl());n=e.securityOrigin()}}}return{securityOrigins:e,mainSecurityOrigin:t,unreachableMainSecurityOrigin:n}}_updateSecurityOrigins(){const e=this._getSecurityOriginData();this._securityOriginManager.setMainSecurityOrigin(e.mainSecurityOrigin||"",e.unreachableMainSecurityOrigin||"");this._securityOriginManager.updateSecurityOrigins(e.securityOrigins)}getMainSecurityOrigin(){const e=this._getSecurityOriginData();return e.mainSecurityOrigin||e.unreachableMainSecurityOrigin}};SDK.SDKModel.register(SDK.ResourceTreeModel,SDK.Target.Capability.DOM,true);SDK.ResourceTreeModel.SecurityOriginData;SDK.ResourceTreeModel.Events={FrameAdded:Symbol("FrameAdded"),FrameNavigated:Symbol("FrameNavigated"),FrameDetached:Symbol("FrameDetached"),FrameResized:Symbol("FrameResized"),FrameWillNavigate:Symbol("FrameWillNavigate"),MainFrameNavigated:Symbol("MainFrameNavigated"),ResourceAdded:Symbol("ResourceAdded"),WillLoadCachedResources:Symbol("WillLoadCachedResources"),CachedResourcesLoaded:Symbol("CachedResourcesLoaded"),DOMContentLoaded:Symbol("DOMContentLoaded"),LifecycleEvent:Symbol("LifecycleEvent"),Load:Symbol("Load"),PageReloadRequested:Symbol("PageReloadRequested"),WillReloadPage:Symbol("WillReloadPage"),InterstitialShown:Symbol("InterstitialShown"),InterstitialHidden:Symbol("InterstitialHidden")};SDK.ResourceTreeFrame=class{constructor(e,t,n,s,i){this._model=e;this._parentFrame=t;this._id=n;this._url="";this._crossTargetParentFrameId=null;if(s){this._loaderId=s.loaderId;this._name=s.name;this._url=s.url;this._securityOrigin=s.securityOrigin;this._mimeType=s.mimeType;this._unreachableUrl=s.unreachableUrl||""}this._creationStackTrace=i;this._childFrames=[];this._resourcesMap={};if(this._parentFrame)this._parentFrame._childFrames.push(this)}_navigate(e){this._loaderId=e.loaderId;this._name=e.name;this._url=e.url;this._securityOrigin=e.securityOrigin;this._mimeType=e.mimeType;this._unreachableUrl=e.unreachableUrl||"";const t=this._resourcesMap[this._url];this._resourcesMap={};this._removeChildFrames();if(t&&t.loaderId===this._loaderId)this.addResource(t)}resourceTreeModel(){return this._model}get id(){return this._id}get name(){return this._name||""}get url(){return this._url}get securityOrigin(){return this._securityOrigin}unreachableUrl(){return this._unreachableUrl}get loaderId(){return this._loaderId}get parentFrame(){return this._parentFrame}get childFrames(){return this._childFrames}crossTargetParentFrame(){if(!this._crossTargetParentFrameId)return null;if(!this._model.target().parentTarget())return null;const e=this._model.target().parentTarget().model(SDK.ResourceTreeModel);if(!e)return null;return e._frames.get(this._crossTargetParentFrameId)||null}findCreationCallFrame(e){let t=this._creationStackTrace;while(t){const n=t.callFrames.find(e);if(n)return n;t=this.parent}return null}isMainFrame(){return!this._parentFrame}isTopFrame(){return!this._parentFrame&&!this._crossTargetParentFrameId}get mainResource(){return this._resourcesMap[this._url]}_removeChildFrame(e){this._childFrames.remove(e);e._remove()}_removeChildFrames(){const e=this._childFrames;this._childFrames=[];for(let t=0;t<e.length;++t)e[t]._remove()}_remove(){this._removeChildFrames();this._model._frames.delete(this.id);this._model.dispatchEventToListeners(SDK.ResourceTreeModel.Events.FrameDetached,this)}addResource(e){if(this._resourcesMap[e.url]===e){return}this._resourcesMap[e.url]=e;this._model.dispatchEventToListeners(SDK.ResourceTreeModel.Events.ResourceAdded,e)}_addRequest(e){let t=this._resourcesMap[e.url()];if(t&&t.request===e){return}t=new SDK.Resource(this._model,e,e.url(),e.documentURL,e.frameId,e.loaderId,e.resourceType(),e.mimeType,null,null);this._resourcesMap[t.url]=t;this._model.dispatchEventToListeners(SDK.ResourceTreeModel.Events.ResourceAdded,t)}resources(){const e=[];for(const t in this._resourcesMap)e.push(this._resourcesMap[t]);return e}resourceForURL(e){let t=this._resourcesMap[e]||null;if(t)return t;for(let n=0;!t&&n<this._childFrames.length;++n)t=this._childFrames[n].resourceForURL(e);return t}_callForFrameResources(e){for(const t in this._resourcesMap){if(e(this._resourcesMap[t]))return true}for(let t=0;t<this._childFrames.length;++t){if(this._childFrames[t]._callForFrameResources(e))return true}return false}displayName(){if(this.isTopFrame())return Common.UIString("top");const e=new Common.ParsedURL(this._url).displayName;if(e){if(!this._name)return e;return this._name+" ("+e+")"}return Common.UIString("<iframe>")}};SDK.PageDispatcher=class{constructor(e){this._resourceTreeModel=e}domContentEventFired(e){this._resourceTreeModel.dispatchEventToListeners(SDK.ResourceTreeModel.Events.DOMContentLoaded,e)}loadEventFired(e){this._resourceTreeModel.dispatchEventToListeners(SDK.ResourceTreeModel.Events.Load,{resourceTreeModel:this._resourceTreeModel,loadTime:e})}lifecycleEvent(e,t,n,s){this._resourceTreeModel.dispatchEventToListeners(SDK.ResourceTreeModel.Events.LifecycleEvent,{frameId:e,name:n})}frameAttached(e,t,n){this._resourceTreeModel._frameAttached(e,t,n)}frameNavigated(e){this._resourceTreeModel._frameNavigated(e)}frameDetached(e){this._resourceTreeModel._frameDetached(e)}frameStartedLoading(e){}frameStoppedLoading(e){}frameRequestedNavigation(e){}frameScheduledNavigation(e,t){}frameClearedScheduledNavigation(e){}navigatedWithinDocument(e,t){}frameResized(){this._resourceTreeModel.dispatchEventToListeners(SDK.ResourceTreeModel.Events.FrameResized,null)}javascriptDialogOpening(e,t,n,s,i){if(!s)this._resourceTreeModel._agent.handleJavaScriptDialog(false)}javascriptDialogClosed(e,t){}screencastFrame(e,t,n){}screencastVisibilityChanged(e){}interstitialShown(){this._resourceTreeModel._isInterstitialShowing=true;this._resourceTreeModel.dispatchEventToListeners(SDK.ResourceTreeModel.Events.InterstitialShown)}interstitialHidden(){this._resourceTreeModel._isInterstitialShowing=false;this._resourceTreeModel.dispatchEventToListeners(SDK.ResourceTreeModel.Events.InterstitialHidden)}windowOpen(e,t,n,s){}compilationCacheProduced(e,t){}downloadWillBegin(e,t){}};SDK.SecurityOriginManager=class extends SDK.SDKModel{constructor(e){super(e);this._mainSecurityOrigin="";this._unreachableMainSecurityOrigin="";this._securityOrigins=new Set}updateSecurityOrigins(e){const t=this._securityOrigins;this._securityOrigins=e;for(const e of t){if(!this._securityOrigins.has(e))this.dispatchEventToListeners(SDK.SecurityOriginManager.Events.SecurityOriginRemoved,e)}for(const e of this._securityOrigins){if(!t.has(e))this.dispatchEventToListeners(SDK.SecurityOriginManager.Events.SecurityOriginAdded,e)}}securityOrigins(){return this._securityOrigins.valuesArray()}mainSecurityOrigin(){return this._mainSecurityOrigin}unreachableMainSecurityOrigin(){return this._unreachableMainSecurityOrigin}setMainSecurityOrigin(e,t){this._mainSecurityOrigin=e;this._unreachableMainSecurityOrigin=t||null;this.dispatchEventToListeners(SDK.SecurityOriginManager.Events.MainSecurityOriginChanged,{mainSecurityOrigin:this._mainSecurityOrigin,unreachableMainSecurityOrigin:this._unreachableMainSecurityOrigin})}};SDK.SDKModel.register(SDK.SecurityOriginManager,SDK.Target.Capability.None,false);SDK.SecurityOriginManager.Events={SecurityOriginAdded:Symbol("SecurityOriginAdded"),SecurityOriginRemoved:Symbol("SecurityOriginRemoved"),MainSecurityOriginChanged:Symbol("MainSecurityOriginChanged")};SDK.SourceMapV3=class{constructor(){this.version;this.file;this.sources;this.sections;this.mappings;this.sourceRoot;this.names}};SDK.SourceMapV3.Section=class{constructor(){this.map;this.offset}};SDK.SourceMapV3.Offset=class{constructor(){this.line;this.column}};SDK.SourceMapEntry=class{constructor(e,t,n,s,i,o){this.lineNumber=e;this.columnNumber=t;this.sourceURL=n;this.sourceLineNumber=s;this.sourceColumnNumber=i;this.name=o}static compare(e,t){if(e.lineNumber!==t.lineNumber)return e.lineNumber-t.lineNumber;return e.columnNumber-t.columnNumber}};SDK.SourceMap=function(){};SDK.SourceMap.prototype={compiledURL(){},url(){},sourceURLs(){},sourceContentProvider(e,t){},embeddedContentByURL(e){},findEntry(e,t){}};SDK.SourceMap.EditResult=class{constructor(e,t,n){this.map=e;this.compiledEdits=t;this.newSources=n}};SDK.TextSourceMap=class{constructor(e,t,n){if(!SDK.TextSourceMap._base64Map){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";SDK.TextSourceMap._base64Map={};for(let t=0;t<e.length;++t)SDK.TextSourceMap._base64Map[e.charAt(t)]=t}this._json=n;this._compiledURL=e;this._sourceMappingURL=t;this._baseURL=t.startsWith("data:")?e:t;this._mappings=null;this._sourceInfos=new Map;if(this._json.sections){const e=!!this._json.sections.find(e=>!!e.url);if(e)Common.console.warn(`SourceMap "${t}" contains unsupported "URL" field in one of its sections.`)}this._eachSection(this._parseSources.bind(this))}static load(e,t){let n;const s=new Promise(e=>n=e);SDK.multitargetNetworkManager.loadResource(e,i);return s;function i(s,i,o){if(!o||s>=400){n(null);return}if(o.slice(0,3)===")]}")o=o.substring(o.indexOf("\n"));try{const s=JSON.parse(o);n(new SDK.TextSourceMap(t,e,s))}catch(t){console.error(t);Common.console.warn("DevTools failed to parse SourceMap: "+e);n(null)}}}compiledURL(){return this._compiledURL}url(){return this._sourceMappingURL}sourceURLs(){return this._sourceInfos.keysArray()}sourceContentProvider(e,t){const n=this._sourceInfos.get(e);if(n.content)return Common.StaticContentProvider.fromString(e,t,n.content);return new SDK.CompilerSourceMappingContentProvider(e,t)}embeddedContentByURL(e){if(!this._sourceInfos.has(e))return null;return this._sourceInfos.get(e).content}findEntry(e,t){const n=this.mappings();const s=n.upperBound(undefined,(n,s)=>e-s.lineNumber||t-s.columnNumber);return s?n[s-1]:null}sourceLineMapping(e,t,n){const s=this._reversedMappings(e);const i=s.lowerBound(t,l);const o=s.upperBound(t,l);if(i>=s.length||s[i].sourceLineNumber!==t)return null;const r=s.slice(i,o);if(!r.length)return null;const a=r.lowerBound(n,(e,t)=>e-t.sourceColumnNumber);return a>=r.length?r[r.length-1]:r[a];function l(e,t){return e-t.sourceLineNumber}}findReverseEntries(e,t,n){const s=this._reversedMappings(e);const i=s.upperBound(undefined,(e,s)=>t-s.sourceLineNumber||n-s.sourceColumnNumber);let o=i;while(o>0&&s[o-1].sourceLineNumber===s[i-1].sourceLineNumber&&s[o-1].sourceColumnNumber===s[i-1].sourceColumnNumber)--o;return s.slice(o,i)}mappings(){if(this._mappings===null){this._mappings=[];this._eachSection(this._parseMap.bind(this));this._json=null}return this._mappings}_reversedMappings(e){if(!this._sourceInfos.has(e))return[];const t=this.mappings();const n=this._sourceInfos.get(e);if(n.reverseMappings===null)n.reverseMappings=t.filter(t=>t.sourceURL===e).sort(s);return n.reverseMappings;function s(e,t){if(e.sourceLineNumber!==t.sourceLineNumber)return e.sourceLineNumber-t.sourceLineNumber;if(e.sourceColumnNumber!==t.sourceColumnNumber)return e.sourceColumnNumber-t.sourceColumnNumber;if(e.lineNumber!==t.lineNumber)return e.lineNumber-t.lineNumber;return e.columnNumber-t.columnNumber}}_eachSection(e){if(!this._json.sections){e(this._json,0,0);return}for(const t of this._json.sections)e(t.map,t.offset.line,t.offset.column)}_parseSources(e){const t=[];let n=e.sourceRoot||"";if(n&&!n.endsWith("/"))n+="/";for(let s=0;s<e.sources.length;++s){const i=n+e.sources[s];let o=Common.ParsedURL.completeURL(this._baseURL,i)||i;const r=e.sourcesContent&&e.sourcesContent[s];if(o===this._compiledURL&&r)o+=Common.UIString("? [sm]");this._sourceInfos.set(o,new SDK.TextSourceMap.SourceInfo(r,null));t.push(o)}e[SDK.TextSourceMap._sourcesListSymbol]=t}_parseMap(e,t,n){let s=0;let i=0;let o=0;let r=0;const a=e[SDK.TextSourceMap._sourcesListSymbol];const l=e.names||[];const c=new SDK.TextSourceMap.StringCharIterator(e.mappings);let d=a[s];while(true){if(c.peek()===","){c.next()}else{while(c.peek()===";"){t+=1;n=0;c.next()}if(!c.hasNext())break}n+=this._decodeVLQ(c);if(!c.hasNext()||this._isSeparator(c.peek())){this._mappings.push(new SDK.SourceMapEntry(t,n));continue}const e=this._decodeVLQ(c);if(e){s+=e;d=a[s]}i+=this._decodeVLQ(c);o+=this._decodeVLQ(c);if(!c.hasNext()||this._isSeparator(c.peek())){this._mappings.push(new SDK.SourceMapEntry(t,n,d,i,o));continue}r+=this._decodeVLQ(c);this._mappings.push(new SDK.SourceMapEntry(t,n,d,i,o,l[r]))}this._mappings.stableSort(SDK.SourceMapEntry.compare)}_isSeparator(e){return e===","||e===";"}_decodeVLQ(e){let t=0;let n=0;let s;do{s=SDK.TextSourceMap._base64Map[e.next()];t+=(s&SDK.TextSourceMap._VLQ_BASE_MASK)<<n;n+=SDK.TextSourceMap._VLQ_BASE_SHIFT}while(s&SDK.TextSourceMap._VLQ_CONTINUATION_MASK);const i=t&1;t>>=1;return i?-t:t}reverseMapTextRange(e,t){function n(e,t){if(e.lineNumber!==t.sourceLineNumber)return e.lineNumber-t.sourceLineNumber;return e.columnNumber-t.sourceColumnNumber}const s=this._reversedMappings(e);const i=s.lowerBound({lineNumber:t.startLine,columnNumber:t.startColumn},n);const o=s.upperBound({lineNumber:t.endLine,columnNumber:t.endColumn},n);const r=s[i];const a=s[o];return new TextUtils.TextRange(r.lineNumber,r.columnNumber,a.lineNumber,a.columnNumber)}};SDK.TextSourceMap._VLQ_BASE_SHIFT=5;SDK.TextSourceMap._VLQ_BASE_MASK=(1<<5)-1;SDK.TextSourceMap._VLQ_CONTINUATION_MASK=1<<5;SDK.TextSourceMap.StringCharIterator=class{constructor(e){this._string=e;this._position=0}next(){return this._string.charAt(this._position++)}peek(){return this._string.charAt(this._position)}hasNext(){return this._position<this._string.length}};SDK.TextSourceMap.SourceInfo=class{constructor(e,t){this.content=e;this.reverseMappings=t}};SDK.TextSourceMap._sourcesListSymbol=Symbol("sourcesList");SDK.SourceMapManager=class extends Common.Object{constructor(e){super();this._target=e;this._isEnabled=true;this._relativeSourceURL=new Map;this._relativeSourceMapURL=new Map;this._resolvedSourceMapURL=new Map;this._sourceMapByURL=new Map;this._sourceMapURLToLoadingClients=new Multimap;this._sourceMapURLToClients=new Multimap;SDK.targetManager.addEventListener(SDK.TargetManager.Events.InspectedURLChanged,this._inspectedURLChanged,this)}setEnabled(e){if(e===this._isEnabled)return;this._isEnabled=e;const t=Array.from(this._resolvedSourceMapURL.keys());for(const e of t){const t=this._relativeSourceURL.get(e);const n=this._relativeSourceMapURL.get(e);this.detachSourceMap(e);this.attachSourceMap(e,t,n)}}_inspectedURLChanged(e){if(e.data!==this._target)return;const t=Array.from(this._resolvedSourceMapURL.keys());for(const e of t){const t=this._relativeSourceURL.get(e);const n=this._relativeSourceMapURL.get(e);const s=this._resolvedSourceMapURL.get(e);const i=this._resolveRelativeURLs(t,n).sourceMapURL;if(i!==s){this.detachSourceMap(e);this.attachSourceMap(e,t,n)}}}sourceMapForClient(e){const t=this._resolvedSourceMapURL.get(e);return t?this._sourceMapByURL.get(t)||null:null}clientsForSourceMap(e){if(this._sourceMapURLToClients.has(e.url()))return this._sourceMapURLToClients.get(e.url()).valuesArray();return this._sourceMapURLToLoadingClients.get(e.url()).valuesArray()}applySourceMapEdit(e){console.assert(this._sourceMapByURL.has(e.map.url()),"Cannot apply edit result for non-existing source map");this._sourceMapByURL.set(e.map.url(),e.map);this.dispatchEventToListeners(SDK.SourceMapManager.Events.SourceMapChanged,{sourceMap:e.map,newSources:e.newSources})}_resolveRelativeURLs(e,t){const n=Common.ParsedURL.completeURL(this._target.inspectedURL(),e);const s=n?Common.ParsedURL.completeURL(n,t):null;return{sourceURL:n,sourceMapURL:s}}attachSourceMap(e,t,n){if(!n)return;console.assert(!this._resolvedSourceMapURL.has(e),"SourceMap is already attached to client");const s=this._resolveRelativeURLs(t,n);if(!s.sourceURL||!s.sourceMapURL)return;this._relativeSourceURL.set(e,t);this._relativeSourceMapURL.set(e,n);this._resolvedSourceMapURL.set(e,s.sourceMapURL);t=s.sourceURL;n=s.sourceMapURL;if(!this._isEnabled)return;this.dispatchEventToListeners(SDK.SourceMapManager.Events.SourceMapWillAttach,e);if(this._sourceMapByURL.has(n)){o.call(this,n,e);return}if(!this._sourceMapURLToLoadingClients.has(n)){SDK.TextSourceMap.load(n,t).then(i.bind(this,n))}this._sourceMapURLToLoadingClients.set(n,e);function i(e,t){this._sourceMapLoadedForTest();const n=this._sourceMapURLToLoadingClients.get(e);this._sourceMapURLToLoadingClients.deleteAll(e);if(!n.size)return;if(!t){for(const e of n)this.dispatchEventToListeners(SDK.SourceMapManager.Events.SourceMapFailedToAttach,e);return}this._sourceMapByURL.set(e,t);for(const t of n)o.call(this,e,t)}function o(e,t){this._sourceMapURLToClients.set(e,t);const n=this._sourceMapByURL.get(e);this.dispatchEventToListeners(SDK.SourceMapManager.Events.SourceMapAttached,{client:t,sourceMap:n})}}detachSourceMap(e){const t=this._resolvedSourceMapURL.get(e);this._relativeSourceURL.delete(e);this._relativeSourceMapURL.delete(e);this._resolvedSourceMapURL.delete(e);if(!t)return;if(!this._sourceMapURLToClients.hasValue(t,e)){if(this._sourceMapURLToLoadingClients.delete(t,e))this.dispatchEventToListeners(SDK.SourceMapManager.Events.SourceMapFailedToAttach,e);return}this._sourceMapURLToClients.delete(t,e);const n=this._sourceMapByURL.get(t);if(!this._sourceMapURLToClients.has(t))this._sourceMapByURL.delete(t);this.dispatchEventToListeners(SDK.SourceMapManager.Events.SourceMapDetached,{client:e,sourceMap:n})}_sourceMapLoadedForTest(){}dispose(){SDK.targetManager.removeEventListener(SDK.TargetManager.Events.InspectedURLChanged,this._inspectedURLChanged,this)}};SDK.SourceMapManager.Events={SourceMapWillAttach:Symbol("SourceMapWillAttach"),SourceMapFailedToAttach:Symbol("SourceMapFailedToAttach"),SourceMapAttached:Symbol("SourceMapAttached"),SourceMapDetached:Symbol("SourceMapDetached"),SourceMapChanged:Symbol("SourceMapChanged")};SDK.NetworkManager=class extends SDK.SDKModel{constructor(e){super(e);this._dispatcher=new SDK.NetworkDispatcher(this);this._networkAgent=e.networkAgent();e.registerNetworkDispatcher(this._dispatcher);if(Common.moduleSetting("cacheDisabled").get())this._networkAgent.setCacheDisabled(true);this._networkAgent.enable(undefined,undefined,SDK.NetworkManager.MAX_EAGER_POST_REQUEST_BODY_LENGTH);this._bypassServiceWorkerSetting=Common.settings.createSetting("bypassServiceWorker",false);if(this._bypassServiceWorkerSetting.get())this._bypassServiceWorkerChanged();this._bypassServiceWorkerSetting.addChangeListener(this._bypassServiceWorkerChanged,this);Common.moduleSetting("cacheDisabled").addChangeListener(this._cacheDisabledSettingChanged,this)}static forRequest(e){return e[SDK.NetworkManager._networkManagerForRequestSymbol]}static canReplayRequest(e){return!!e[SDK.NetworkManager._networkManagerForRequestSymbol]&&e.resourceType()===Common.resourceTypes.XHR}static replayRequest(e){const t=e[SDK.NetworkManager._networkManagerForRequestSymbol];if(!t)return;t._networkAgent.replayXHR(e.requestId())}static async searchInRequest(e,t,n,s){const i=SDK.NetworkManager.forRequest(e);if(!i)return[];const o=await i._networkAgent.invoke_searchInResponseBody({requestId:e.requestId(),query:t,caseSensitive:n,isRegex:s});return o.result||[]}static async requestContentData(e){if(e.resourceType()===Common.resourceTypes.WebSocket)return{error:"Content for WebSockets is currently not supported",content:null,encoded:false};if(!e.finished)await e.once(SDK.NetworkRequest.Events.FinishedLoading);const t=SDK.NetworkManager.forRequest(e);if(!t)return{error:"No network manager for request",content:null,encoded:false};const n=await t._networkAgent.invoke_getResponseBody({requestId:e.requestId()});const s=n[Protocol.Error]||null;return{error:s,content:s?null:n.body,encoded:n.base64Encoded}}static requestPostData(e){const t=SDK.NetworkManager.forRequest(e);if(t)return t._networkAgent.getRequestPostData(e.backendRequestId());console.error("No network manager for request");return Promise.resolve(null)}static _connectionType(e){if(!e.download&&!e.upload)return Protocol.Network.ConnectionType.None;let t=SDK.NetworkManager._connectionTypes;if(!t){SDK.NetworkManager._connectionTypes=[];t=SDK.NetworkManager._connectionTypes;t.push(["2g",Protocol.Network.ConnectionType.Cellular2g]);t.push(["3g",Protocol.Network.ConnectionType.Cellular3g]);t.push(["4g",Protocol.Network.ConnectionType.Cellular4g]);t.push(["bluetooth",Protocol.Network.ConnectionType.Bluetooth]);t.push(["wifi",Protocol.Network.ConnectionType.Wifi]);t.push(["wimax",Protocol.Network.ConnectionType.Wimax])}for(const n of t){if(e.title.toLowerCase().indexOf(n[0])!==-1)return n[1]}return Protocol.Network.ConnectionType.Other}static lowercaseHeaders(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}inflightRequestForURL(e){return this._dispatcher._inflightRequestsByURL[e]}_cacheDisabledSettingChanged(e){const t=e.data;this._networkAgent.setCacheDisabled(t)}dispose(){Common.moduleSetting("cacheDisabled").removeChangeListener(this._cacheDisabledSettingChanged,this)}_bypassServiceWorkerChanged(){this._networkAgent.setBypassServiceWorker(this._bypassServiceWorkerSetting.get())}};SDK.SDKModel.register(SDK.NetworkManager,SDK.Target.Capability.Network,true);SDK.NetworkManager.Events={RequestStarted:Symbol("RequestStarted"),RequestUpdated:Symbol("RequestUpdated"),RequestFinished:Symbol("RequestFinished"),RequestUpdateDropped:Symbol("RequestUpdateDropped"),ResponseReceived:Symbol("ResponseReceived"),MessageGenerated:Symbol("MessageGenerated"),RequestRedirected:Symbol("RequestRedirected")};SDK.NetworkManager.Message;SDK.NetworkManager._MIMETypes={"text/html":{document:true},"text/xml":{document:true},"text/plain":{document:true},"application/xhtml+xml":{document:true},"image/svg+xml":{document:true},"text/css":{stylesheet:true},"text/xsl":{stylesheet:true},"text/vtt":{texttrack:true}};SDK.NetworkManager.Conditions;SDK.NetworkManager.NoThrottlingConditions={title:ls`Online`,download:-1,upload:-1,latency:0};SDK.NetworkManager.OfflineConditions={title:Common.UIString("Offline"),download:0,upload:0,latency:0};SDK.NetworkManager.Slow3GConditions={title:Common.UIString("Slow 3G"),download:500*1024/8*.8,upload:500*1024/8*.8,latency:400*5};SDK.NetworkManager.Fast3GConditions={title:Common.UIString("Fast 3G"),download:1.6*1024*1024/8*.9,upload:750*1024/8*.9,latency:150*3.75};SDK.NetworkManager.BlockedPattern;SDK.NetworkManager._networkManagerForRequestSymbol=Symbol("NetworkManager");SDK.NetworkManager.MAX_EAGER_POST_REQUEST_BODY_LENGTH=64*1024;SDK.NetworkDispatcher=class{constructor(e){this._manager=e;this._inflightRequestsById={};this._inflightRequestsByURL={}}_headersMapToHeadersArray(e){const t=[];for(const n in e){const s=e[n].split("\n");for(let e=0;e<s.length;++e)t.push({name:n,value:s[e]})}return t}_updateNetworkRequestWithRequest(e,t){e.requestMethod=t.method;e.setRequestHeaders(this._headersMapToHeadersArray(t.headers));e.setRequestFormData(!!t.hasPostData,t.postData||null);e.setInitialPriority(t.initialPriority);e.mixedContentType=t.mixedContentType||Protocol.Security.MixedContentType.None;e.setReferrerPolicy(t.referrerPolicy)}_updateNetworkRequestWithResponse(e,t){if(t.url&&e.url()!==t.url)e.setUrl(t.url);e.mimeType=t.mimeType;e.statusCode=t.status;e.statusText=t.statusText;e.responseHeaders=this._headersMapToHeadersArray(t.headers);if(t.encodedDataLength>=0)e.setTransferSize(t.encodedDataLength);if(t.headersText)e.responseHeadersText=t.headersText;if(t.requestHeaders){e.setRequestHeaders(this._headersMapToHeadersArray(t.requestHeaders));e.setRequestHeadersText(t.requestHeadersText||"")}e.connectionReused=t.connectionReused;e.connectionId=String(t.connectionId);if(t.remoteIPAddress)e.setRemoteAddress(t.remoteIPAddress,t.remotePort||-1);if(t.fromServiceWorker)e.fetchedViaServiceWorker=true;if(t.fromDiskCache)e.setFromDiskCache();if(t.fromPrefetchCache)e.setFromPrefetchCache();e.timing=t.timing;e.protocol=t.protocol;e.setSecurityState(t.securityState);if(!this._mimeTypeIsConsistentWithType(e)){const t=Common.UIString('Resource interpreted as %s but transferred with MIME type %s: "%s".',e.resourceType().title(),e.mimeType,e.url());this._manager.dispatchEventToListeners(SDK.NetworkManager.Events.MessageGenerated,{message:t,requestId:e.requestId(),warning:true})}if(t.securityDetails)e.setSecurityDetails(t.securityDetails)}_mimeTypeIsConsistentWithType(e){if(e.hasErrorStatusCode()||e.statusCode===304||e.statusCode===204)return true;const t=e.resourceType();if(t!==Common.resourceTypes.Stylesheet&&t!==Common.resourceTypes.Document&&t!==Common.resourceTypes.TextTrack)return true;if(!e.mimeType)return true;if(e.mimeType in SDK.NetworkManager._MIMETypes)return t.name()in SDK.NetworkManager._MIMETypes[e.mimeType];return false}resourceChangedPriority(e,t,n){const s=this._inflightRequestsById[e];if(s)s.setPriority(t)}signedExchangeReceived(e,t){let n=this._inflightRequestsById[e];if(!n){n=this._inflightRequestsByURL[t.outerResponse.url];if(!n)return}n.setSignedExchangeInfo(t);n.setResourceType(Common.resourceTypes.SignedExchange);this._updateNetworkRequestWithResponse(n,t.outerResponse);this._updateNetworkRequest(n);this._manager.dispatchEventToListeners(SDK.NetworkManager.Events.ResponseReceived,n)}requestWillBeSent(e,t,n,s,i,o,r,a,l,c){let d=this._inflightRequestsById[e];if(d){if(!a)return;if(!d.signedExchangeInfo()){this.responseReceived(e,t,i,Protocol.Network.ResourceType.Other,a,c)}d=this._appendRedirect(e,i,s.url);this._manager.dispatchEventToListeners(SDK.NetworkManager.Events.RequestRedirected,d)}else{d=this._createNetworkRequest(e,c||"",t,s.url,n,r)}d.hasNetworkData=true;this._updateNetworkRequestWithRequest(d,s);d.setIssueTime(i,o);d.setResourceType(l?Common.resourceTypes[l]:Protocol.Network.ResourceType.Other);this._startNetworkRequest(d)}requestServedFromCache(e){const t=this._inflightRequestsById[e];if(!t)return;t.setFromMemoryCache()}responseReceived(e,t,n,s,i,o){const r=this._inflightRequestsById[e];const a=SDK.NetworkManager.lowercaseHeaders(i.headers);if(!r){const e={};e.url=i.url;e.frameId=o||"";e.loaderId=t;e.resourceType=s;e.mimeType=i.mimeType;const n=a["last-modified"];e.lastModified=n?new Date(n):null;this._manager.dispatchEventToListeners(SDK.NetworkManager.Events.RequestUpdateDropped,e);return}r.responseReceivedTime=n;r.setResourceType(Common.resourceTypes[s]);if("set-cookie"in a&&a["set-cookie"].length>4096){const t=a["set-cookie"].split("\n");for(let n=0;n<t.length;++n){if(t[n].length<=4096)continue;const s=Common.UIString("Set-Cookie header is ignored in response from url: %s. Cookie length should be less than or equal to 4096 characters.",i.url);this._manager.dispatchEventToListeners(SDK.NetworkManager.Events.MessageGenerated,{message:s,requestId:e,warning:true})}}this._updateNetworkRequestWithResponse(r,i);this._updateNetworkRequest(r);this._manager.dispatchEventToListeners(SDK.NetworkManager.Events.ResponseReceived,r)}dataReceived(e,t,n,s){let i=this._inflightRequestsById[e];if(!i)i=this._maybeAdoptMainResourceRequest(e);if(!i)return;i.resourceSize+=n;if(s!==-1)i.increaseTransferSize(s);i.endTime=t;this._updateNetworkRequest(i)}loadingFinished(e,t,n,s){let i=this._inflightRequestsById[e];if(!i)i=this._maybeAdoptMainResourceRequest(e);if(!i)return;this._finishNetworkRequest(i,t,n,s)}loadingFailed(e,t,n,s,i,o){const r=this._inflightRequestsById[e];if(!r)return;r.failed=true;r.setResourceType(Common.resourceTypes[n]);r.canceled=!!i;if(o){r.setBlockedReason(o);if(o===Protocol.Network.BlockedReason.Inspector){const t=Common.UIString('Request was blocked by DevTools: "%s".',r.url());this._manager.dispatchEventToListeners(SDK.NetworkManager.Events.MessageGenerated,{message:t,requestId:e,warning:true})}}r.localizedFailDescription=s;this._finishNetworkRequest(r,t,-1)}webSocketCreated(e,t,n){const s=new SDK.NetworkRequest(e,t,"","","",n||null);s[SDK.NetworkManager._networkManagerForRequestSymbol]=this._manager;s.setResourceType(Common.resourceTypes.WebSocket);this._startNetworkRequest(s)}webSocketWillSendHandshakeRequest(e,t,n,s){const i=this._inflightRequestsById[e];if(!i)return;i.requestMethod="GET";i.setRequestHeaders(this._headersMapToHeadersArray(s.headers));i.setIssueTime(t,n);this._updateNetworkRequest(i)}webSocketHandshakeResponseReceived(e,t,n){const s=this._inflightRequestsById[e];if(!s)return;s.statusCode=n.status;s.statusText=n.statusText;s.responseHeaders=this._headersMapToHeadersArray(n.headers);s.responseHeadersText=n.headersText||"";if(n.requestHeaders)s.setRequestHeaders(this._headersMapToHeadersArray(n.requestHeaders));if(n.requestHeadersText)s.setRequestHeadersText(n.requestHeadersText);s.responseReceivedTime=t;s.protocol="websocket";this._updateNetworkRequest(s)}webSocketFrameReceived(e,t,n){const s=this._inflightRequestsById[e];if(!s)return;s.addProtocolFrame(n,t,false);s.responseReceivedTime=t;this._updateNetworkRequest(s)}webSocketFrameSent(e,t,n){const s=this._inflightRequestsById[e];if(!s)return;s.addProtocolFrame(n,t,true);s.responseReceivedTime=t;this._updateNetworkRequest(s)}webSocketFrameError(e,t,n){const s=this._inflightRequestsById[e];if(!s)return;s.addProtocolFrameError(n,t);s.responseReceivedTime=t;this._updateNetworkRequest(s)}webSocketClosed(e,t){const n=this._inflightRequestsById[e];if(!n)return;this._finishNetworkRequest(n,t,-1)}eventSourceMessageReceived(e,t,n,s,i){const o=this._inflightRequestsById[e];if(!o)return;o.addEventSourceMessage(t,n,s,i)}requestIntercepted(e,t,n,s,i,o,r,a,l,c,d,h){SDK.multitargetNetworkManager._requestIntercepted(new SDK.MultitargetNetworkManager.InterceptedRequest(this._manager.target().networkAgent(),e,t,n,s,i,o,r,a,l,c,d,h))}_appendRedirect(e,t,n){const s=this._inflightRequestsById[e];let i=0;for(let e=s.redirectSource();e;e=e.redirectSource())i++;s.markAsRedirect(i);this._finishNetworkRequest(s,t,-1);const o=this._createNetworkRequest(e,s.frameId,s.loaderId,n,s.documentURL,s.initiator());o.setRedirectSource(s);s.setRedirectDestination(o);return o}_maybeAdoptMainResourceRequest(e){const t=SDK.multitargetNetworkManager._inflightMainResourceRequests.get(e);if(!t)return null;const n=SDK.NetworkManager.forRequest(t)._dispatcher;delete n._inflightRequestsById[e];delete n._inflightRequestsByURL[t.url()];this._inflightRequestsById[e]=t;this._inflightRequestsByURL[t.url()]=t;t[SDK.NetworkManager._networkManagerForRequestSymbol]=this._manager;return t}_startNetworkRequest(e){this._inflightRequestsById[e.requestId()]=e;this._inflightRequestsByURL[e.url()]=e;if(e.loaderId===e.requestId())SDK.multitargetNetworkManager._inflightMainResourceRequests.set(e.requestId(),e);this._manager.dispatchEventToListeners(SDK.NetworkManager.Events.RequestStarted,e)}_updateNetworkRequest(e){this._manager.dispatchEventToListeners(SDK.NetworkManager.Events.RequestUpdated,e)}_finishNetworkRequest(e,t,n,s){e.endTime=t;e.finished=true;if(n>=0){const t=e.redirectSource();if(t&&t.signedExchangeInfo()){e.setTransferSize(0);t.setTransferSize(n);this._updateNetworkRequest(t)}else{e.setTransferSize(n)}}this._manager.dispatchEventToListeners(SDK.NetworkManager.Events.RequestFinished,e);delete this._inflightRequestsById[e.requestId()];delete this._inflightRequestsByURL[e.url()];SDK.multitargetNetworkManager._inflightMainResourceRequests.delete(e.requestId());if(s){const t=Common.UIString(`Cross-Origin Read Blocking (CORB) blocked cross-origin response %s with MIME type %s. See https://www.chromestatus.com/feature/5629709824032768 for more details.`,e.url(),e.mimeType);this._manager.dispatchEventToListeners(SDK.NetworkManager.Events.MessageGenerated,{message:t,requestId:e.requestId(),warning:true})}if(Common.moduleSetting("monitoringXHREnabled").get()&&e.resourceType().category()===Common.resourceCategories.XHR){let t;const n=e.failed||e.hasErrorStatusCode();if(n){t=Common.UIString('%s failed loading: %s "%s".',e.resourceType().title(),e.requestMethod,e.url())}else{t=Common.UIString('%s finished loading: %s "%s".',e.resourceType().title(),e.requestMethod,e.url())}this._manager.dispatchEventToListeners(SDK.NetworkManager.Events.MessageGenerated,{message:t,requestId:e.requestId(),warning:false})}}_createNetworkRequest(e,t,n,s,i,o){const r=new SDK.NetworkRequest(e,s,i,t,n,o);r[SDK.NetworkManager._networkManagerForRequestSymbol]=this._manager;return r}};SDK.MultitargetNetworkManager=class extends Common.Object{constructor(){super();this._userAgentOverride="";this._agents=new Set;this._inflightMainResourceRequests=new Map;this._networkConditions=SDK.NetworkManager.NoThrottlingConditions;this._updatingInterceptionPatternsPromise=null;this._blockingEnabledSetting=Common.moduleSetting("requestBlockingEnabled");this._blockedPatternsSetting=Common.settings.createSetting("networkBlockedPatterns",[]);this._effectiveBlockedURLs=[];this._updateBlockedPatterns();this._urlsForRequestInterceptor=new Multimap;SDK.targetManager.observeModels(SDK.NetworkManager,this)}static patchUserAgentWithChromeVersion(e){const t=new RegExp("(?:^|\\W)Chrome/(\\S+)");const n=navigator.userAgent.match(t);if(n&&n.length>1)return String.sprintf(e,n[1]);return e}modelAdded(e){const t=e.target().networkAgent();if(this._extraHeaders)t.setExtraHTTPHeaders(this._extraHeaders);if(this._currentUserAgent())t.setUserAgentOverride(this._currentUserAgent());if(this._effectiveBlockedURLs.length)t.setBlockedURLs(this._effectiveBlockedURLs);if(this.isIntercepting())t.setRequestInterception(this._urlsForRequestInterceptor.valuesArray());this._agents.add(t);if(this.isThrottling())this._updateNetworkConditions(t)}modelRemoved(e){for(const t of this._inflightMainResourceRequests){const n=SDK.NetworkManager.forRequest(t[1]);if(n!==e)continue;this._inflightMainResourceRequests.delete(t[0])}this._agents.delete(e.target().networkAgent())}isThrottling(){return this._networkConditions.download>=0||this._networkConditions.upload>=0||this._networkConditions.latency>0}isOffline(){return!this._networkConditions.download&&!this._networkConditions.upload}setNetworkConditions(e){this._networkConditions=e;for(const e of this._agents)this._updateNetworkConditions(e);this.dispatchEventToListeners(SDK.MultitargetNetworkManager.Events.ConditionsChanged)}networkConditions(){return this._networkConditions}_updateNetworkConditions(e){const t=this._networkConditions;if(!this.isThrottling()){e.emulateNetworkConditions(false,0,0,0)}else{e.emulateNetworkConditions(this.isOffline(),t.latency,t.download<0?0:t.download,t.upload<0?0:t.upload,SDK.NetworkManager._connectionType(t))}}setExtraHTTPHeaders(e){this._extraHeaders=e;for(const e of this._agents)e.setExtraHTTPHeaders(this._extraHeaders)}_currentUserAgent(){return this._customUserAgent?this._customUserAgent:this._userAgentOverride}_updateUserAgentOverride(){const e=this._currentUserAgent();for(const t of this._agents)t.setUserAgentOverride(e)}setUserAgentOverride(e){if(this._userAgentOverride===e)return;this._userAgentOverride=e;if(!this._customUserAgent)this._updateUserAgentOverride();this.dispatchEventToListeners(SDK.MultitargetNetworkManager.Events.UserAgentChanged)}userAgentOverride(){return this._userAgentOverride}setCustomUserAgentOverride(e){this._customUserAgent=e;this._updateUserAgentOverride()}blockedPatterns(){return this._blockedPatternsSetting.get().slice()}blockingEnabled(){return this._blockingEnabledSetting.get()}isBlocking(){return!!this._effectiveBlockedURLs.length}setBlockedPatterns(e){this._blockedPatternsSetting.set(e);this._updateBlockedPatterns();this.dispatchEventToListeners(SDK.MultitargetNetworkManager.Events.BlockedPatternsChanged)}setBlockingEnabled(e){if(this._blockingEnabledSetting.get()===e)return;this._blockingEnabledSetting.set(e);this._updateBlockedPatterns();this.dispatchEventToListeners(SDK.MultitargetNetworkManager.Events.BlockedPatternsChanged)}_updateBlockedPatterns(){const e=[];if(this._blockingEnabledSetting.get()){for(const t of this._blockedPatternsSetting.get()){if(t.enabled)e.push(t.url)}}if(!e.length&&!this._effectiveBlockedURLs.length)return;this._effectiveBlockedURLs=e;for(const e of this._agents)e.setBlockedURLs(this._effectiveBlockedURLs)}isIntercepting(){return!!this._urlsForRequestInterceptor.size}setInterceptionHandlerForPatterns(e,t){this._urlsForRequestInterceptor.deleteAll(t);for(const n of e)this._urlsForRequestInterceptor.set(t,n);return this._updateInterceptionPatternsOnNextTick()}_updateInterceptionPatternsOnNextTick(){if(!this._updatingInterceptionPatternsPromise)this._updatingInterceptionPatternsPromise=Promise.resolve().then(this._updateInterceptionPatterns.bind(this));return this._updatingInterceptionPatternsPromise}_updateInterceptionPatterns(){if(!Common.moduleSetting("cacheDisabled").get())Common.moduleSetting("cacheDisabled").set(true);this._updatingInterceptionPatternsPromise=null;const e=[];for(const t of this._agents)e.push(t.setRequestInterception(this._urlsForRequestInterceptor.valuesArray()));this.dispatchEventToListeners(SDK.MultitargetNetworkManager.Events.InterceptorsChanged);return Promise.all(e)}async _requestIntercepted(e){for(const t of this._urlsForRequestInterceptor.keysArray()){await t(e);if(e.hasResponded())return}if(!e.hasResponded())e.continueRequestWithoutChange()}clearBrowserCache(){for(const e of this._agents)e.clearBrowserCache()}clearBrowserCookies(){for(const e of this._agents)e.clearBrowserCookies()}getCertificate(e){const t=SDK.targetManager.mainTarget();return t.networkAgent().getCertificate(e).then(e=>e||[])}loadResource(e,t){const n={};const s=this._currentUserAgent();if(s)n["User-Agent"]=s;if(Common.moduleSetting("cacheDisabled").get())n["Cache-Control"]="no-cache";Host.ResourceLoader.load(e,n,t)}};SDK.MultitargetNetworkManager.Events={BlockedPatternsChanged:Symbol("BlockedPatternsChanged"),ConditionsChanged:Symbol("ConditionsChanged"),UserAgentChanged:Symbol("UserAgentChanged"),InterceptorsChanged:Symbol("InterceptorsChanged")};SDK.MultitargetNetworkManager.InterceptedRequest=class{constructor(e,t,n,s,i,o,r,a,l,c,d,h,u){this._networkAgent=e;this._interceptionId=t;this._hasResponded=false;this.request=n;this.frameId=s;this.resourceType=i;this.isNavigationRequest=o;this.isDownload=!!r;this.redirectUrl=a;this.authChallenge=l;this.responseErrorReason=c;this.responseStatusCode=d;this.responseHeaders=h;this.requestId=u}hasResponded(){return this._hasResponded}async continueRequestWithContent(e){this._hasResponded=true;const t=["HTTP/1.1 200 OK","Date: "+(new Date).toUTCString(),"Server: Chrome Devtools Request Interceptor","Connection: closed","Content-Length: "+e.size,"Content-Type: "+e.type||"text/x-unknown"];const n=await s(new Blob([t.join("\r\n"),"\r\n\r\n",e]));this._networkAgent.continueInterceptedRequest(this._interceptionId,undefined,n);async function s(e){const t=new FileReader;const n=new Promise(e=>t.onloadend=e);t.readAsDataURL(e);await n;if(t.error){console.error("Could not convert blob to base64.",t.error);return""}const s=t.result;if(s===undefined){console.error("Could not convert blob to base64.");return""}return s.substring(s.indexOf(",")+1)}}continueRequestWithoutChange(){console.assert(!this._hasResponded);this._hasResponded=true;this._networkAgent.continueInterceptedRequest(this._interceptionId)}continueRequestWithError(e){console.assert(!this._hasResponded);this._hasResponded=true;this._networkAgent.continueInterceptedRequest(this._interceptionId,e)}async responseBody(){const e=await this._networkAgent.invoke_getResponseBodyForInterception({interceptionId:this._interceptionId});const t=e[Protocol.Error]||null;return{error:t,content:t?null:e.body,encoded:e.base64Encoded}}};SDK.MultitargetNetworkManager.InterceptionPattern;SDK.MultitargetNetworkManager.RequestInterceptor;SDK.multitargetNetworkManager;SDK.NetworkLog=class extends Common.Object{constructor(){super();this._requests=[];this._requestsSet=new Set;this._pageLoadForManager=new Map;this._isRecording=true;SDK.targetManager.observeModels(SDK.NetworkManager,this)}modelAdded(e){const t=[];t.push(e.addEventListener(SDK.NetworkManager.Events.RequestStarted,this._onRequestStarted,this));t.push(e.addEventListener(SDK.NetworkManager.Events.RequestUpdated,this._onRequestUpdated,this));t.push(e.addEventListener(SDK.NetworkManager.Events.RequestRedirected,this._onRequestRedirect,this));t.push(e.addEventListener(SDK.NetworkManager.Events.RequestFinished,this._onRequestUpdated,this));t.push(e.addEventListener(SDK.NetworkManager.Events.MessageGenerated,this._networkMessageGenerated.bind(this,e)));const n=e.target().model(SDK.ResourceTreeModel);if(n){t.push(n.addEventListener(SDK.ResourceTreeModel.Events.WillReloadPage,this._willReloadPage,this));t.push(n.addEventListener(SDK.ResourceTreeModel.Events.MainFrameNavigated,this._onMainFrameNavigated,this));t.push(n.addEventListener(SDK.ResourceTreeModel.Events.Load,this._onLoad,this));t.push(n.addEventListener(SDK.ResourceTreeModel.Events.DOMContentLoaded,this._onDOMContentLoaded.bind(this,n)))}e[SDK.NetworkLog._events]=t}modelRemoved(e){this._removeNetworkManagerListeners(e)}_removeNetworkManagerListeners(e){Common.EventTarget.removeEventListeners(e[SDK.NetworkLog._events])}setIsRecording(e){if(this._isRecording===e)return;this._isRecording=e;if(e){SDK.targetManager.observeModels(SDK.NetworkManager,this)}else{SDK.targetManager.unobserveModels(SDK.NetworkManager,this);SDK.targetManager.models(SDK.NetworkManager).forEach(this._removeNetworkManagerListeners.bind(this))}}requestForURL(e){return this._requests.find(t=>t.url()===e)||null}requests(){return this._requests}requestByManagerAndId(e,t){for(let n=this._requests.length-1;n>=0;n--){const s=this._requests[n];if(t===s.requestId()&&e===SDK.NetworkManager.forRequest(s))return s}return null}_requestByManagerAndURL(e,t){for(const n of this._requests){if(t===n.url()&&e===SDK.NetworkManager.forRequest(n))return n}return null}_initializeInitiatorSymbolIfNeeded(e){if(!e[SDK.NetworkLog._initiatorDataSymbol]){e[SDK.NetworkLog._initiatorDataSymbol]={info:null,chain:null,request:undefined}}}initiatorInfoForRequest(e){this._initializeInitiatorSymbolIfNeeded(e);if(e[SDK.NetworkLog._initiatorDataSymbol].info)return e[SDK.NetworkLog._initiatorDataSymbol].info;let t=SDK.NetworkRequest.InitiatorType.Other;let n="";let s=-Infinity;let i=-Infinity;let o=null;let r=null;const a=e.initiator();const l=e.redirectSource();if(l){t=SDK.NetworkRequest.InitiatorType.Redirect;n=l.url()}else if(a){if(a.type===Protocol.Network.InitiatorType.Parser){t=SDK.NetworkRequest.InitiatorType.Parser;n=a.url?a.url:n;s=a.lineNumber?a.lineNumber:s}else if(a.type===Protocol.Network.InitiatorType.Script){for(let e=a.stack;e;e=e.parent){const r=e.callFrames.length?e.callFrames[0]:null;if(!r)continue;t=SDK.NetworkRequest.InitiatorType.Script;n=r.url||Common.UIString("<anonymous>");s=r.lineNumber;i=r.columnNumber;o=r.scriptId;break}if(!a.stack&&a.url){t=SDK.NetworkRequest.InitiatorType.Script;n=a.url;s=a.lineNumber||0}if(a.stack&&a.stack.callFrames&&a.stack.callFrames.length)r=a.stack||null}else if(a.type===Protocol.Network.InitiatorType.Preload){t=SDK.NetworkRequest.InitiatorType.Preload}else if(a.type===Protocol.Network.InitiatorType.SignedExchange){t=SDK.NetworkRequest.InitiatorType.SignedExchange;n=a.url}}e[SDK.NetworkLog._initiatorDataSymbol].info={type:t,url:n,lineNumber:s,columnNumber:i,scriptId:o,stack:r};return e[SDK.NetworkLog._initiatorDataSymbol].info}initiatorGraphForRequest(e){const t=new Set;const n=SDK.NetworkManager.forRequest(e);for(const s of this._requests){const i=SDK.NetworkManager.forRequest(e);if(n===i&&this._initiatorChain(s).has(e))t.add(s)}return{initiators:this._initiatorChain(e),initiated:t}}_initiatorChain(e){this._initializeInitiatorSymbolIfNeeded(e);let t=e[SDK.NetworkLog._initiatorDataSymbol].chain;if(t)return t;t=new Set;let n=e;do{if(n[SDK.NetworkLog._initiatorDataSymbol].chain){t.addAll(n[SDK.NetworkLog._initiatorDataSymbol].chain);break}if(t.has(n))break;t.add(n);n=this._initiatorRequest(n)}while(n);e[SDK.NetworkLog._initiatorDataSymbol].chain=t;return t}_initiatorRequest(e){this._initializeInitiatorSymbolIfNeeded(e);if(e[SDK.NetworkLog._initiatorDataSymbol].request!==undefined)return e[SDK.NetworkLog._initiatorDataSymbol].request;const t=this.initiatorInfoForRequest(e).url;const n=SDK.NetworkManager.forRequest(e);e[SDK.NetworkLog._initiatorDataSymbol].request=n?this._requestByManagerAndURL(n,t):null;return e[SDK.NetworkLog._initiatorDataSymbol].request}_willReloadPage(){if(!Common.moduleSetting("network_log.preserve-log").get())this.reset()}_onMainFrameNavigated(e){const t=e.data;const n=t.resourceTreeModel().target().model(SDK.NetworkManager);if(!n||t.resourceTreeModel().target().parentTarget())return;const s=this._requests;const i=this._requests.filter(e=>SDK.NetworkManager.forRequest(e)===n);const o=this._requestsSet;this._requests=[];this._requestsSet=new Set;this.dispatchEventToListeners(SDK.NetworkLog.Events.Reset);let r=null;const a=[];for(const e of i){if(e.loaderId!==t.loaderId)continue;if(!r){r=new SDK.NetworkLog.PageLoad(e);let t=e.redirectSource();while(t){a.push(t);t=t.redirectSource()}}a.push(e)}const l=[];for(const e of s){const t=SDK.NetworkManager.forRequest(e);if(!t)continue;const n=t.target();if(!(n.type()===SDK.Target.Type.Worker&&n.parentTarget()&&n.parentTarget().type()===SDK.Target.Type.ServiceWorker))continue;const s=a.some(t=>t.url()===e.url()&&t.issueTime()<=e.issueTime());if(s)l.push(e)}a.push(...l);for(const e of a){o.delete(e);this._requests.push(e);this._requestsSet.add(e);r.bindRequest(e);this.dispatchEventToListeners(SDK.NetworkLog.Events.RequestAdded,e)}if(Common.moduleSetting("network_log.preserve-log").get()){for(const e of o){this._requests.push(e);this._requestsSet.add(e);this.dispatchEventToListeners(SDK.NetworkLog.Events.RequestAdded,e)}}if(r)this._pageLoadForManager.set(n,r)}importRequests(e){this.reset();this._requests=[];this._requestsSet.clear();for(const t of e){this._requests.push(t);this._requestsSet.add(t);this.dispatchEventToListeners(SDK.NetworkLog.Events.RequestAdded,t)}}_onRequestStarted(e){const t=e.data;this._requests.push(t);this._requestsSet.add(t);const n=SDK.NetworkManager.forRequest(t);const s=n?this._pageLoadForManager.get(n):null;if(s)s.bindRequest(t);this.dispatchEventToListeners(SDK.NetworkLog.Events.RequestAdded,t)}_onRequestUpdated(e){const t=e.data;if(!this._requestsSet.has(t))return;this.dispatchEventToListeners(SDK.NetworkLog.Events.RequestUpdated,t)}_onRequestRedirect(e){const t=e.data;delete t[SDK.NetworkLog._initiatorDataSymbol]}_onDOMContentLoaded(e,t){const n=e.target().model(SDK.NetworkManager);const s=n?this._pageLoadForManager.get(n):null;if(s)s.contentLoadTime=t.data}_onLoad(e){const t=e.data.resourceTreeModel.target().model(SDK.NetworkManager);const n=t?this._pageLoadForManager.get(t):null;if(n)n.loadTime=e.data.loadTime}reset(){this._requests=[];this._requestsSet.clear();const e=new Set(SDK.targetManager.models(SDK.NetworkManager));for(const t of this._pageLoadForManager.keys()){if(!e.has(t))this._pageLoadForManager.delete(t)}this.dispatchEventToListeners(SDK.NetworkLog.Events.Reset)}_networkMessageGenerated(e,t){const n=t.data;const s=new SDK.ConsoleMessage(e.target().model(SDK.RuntimeModel),SDK.ConsoleMessage.MessageSource.Network,n.warning?SDK.ConsoleMessage.MessageLevel.Warning:SDK.ConsoleMessage.MessageLevel.Info,n.message);this.associateConsoleMessageWithRequest(s,n.requestId);SDK.consoleModel.addMessage(s)}associateConsoleMessageWithRequest(e,t){const n=e.target();const s=n?n.model(SDK.NetworkManager):null;if(!s)return;const i=this.requestByManagerAndId(s,t);if(!i)return;e[SDK.NetworkLog._requestSymbol]=i;const o=i.initiator();if(o){e.stackTrace=o.stack||undefined;if(o.url){e.url=o.url;e.line=o.lineNumber||0}}}static requestForConsoleMessage(e){return e[SDK.NetworkLog._requestSymbol]||null}};SDK.NetworkLog.PageLoad=class{constructor(e){this.id=++SDK.NetworkLog.PageLoad._lastIdentifier;this.url=e.url();this.startTime=e.startTime;this.loadTime;this.contentLoadTime;this.mainRequest=e;this._showDataSaverWarningIfNeeded()}async _showDataSaverWarningIfNeeded(){const e=SDK.NetworkManager.forRequest(this.mainRequest);if(!e)return;if(!this.mainRequest.finished)await this.mainRequest.once(SDK.NetworkRequest.Events.FinishedLoading);const t=this.mainRequest.requestHeaderValue("Save-Data");if(!SDK.NetworkLog.PageLoad._dataSaverMessageWasShown&&t&&t==="on"){const t=Common.UIString("Consider disabling %s while debugging. For more info see: %s",Common.UIString("Chrome Data Saver"),"https://support.google.com/chrome/?p=datasaver");e.dispatchEventToListeners(SDK.NetworkManager.Events.MessageGenerated,{message:t,requestId:this.mainRequest.requestId(),warning:true});SDK.NetworkLog.PageLoad._dataSaverMessageWasShown=true}}static forRequest(e){return e[SDK.NetworkLog.PageLoad._pageLoadForRequestSymbol]||null}bindRequest(e){e[SDK.NetworkLog.PageLoad._pageLoadForRequestSymbol]=this}};SDK.NetworkLog.PageLoad._lastIdentifier=0;SDK.NetworkLog.PageLoad._pageLoadForRequestSymbol=Symbol("PageLoadForRequest");SDK.NetworkLog._requestSymbol=Symbol("_request");SDK.NetworkLog.PageLoad._dataSaverMessageWasShown=false;SDK.NetworkLog.InitiatorGraph;SDK.NetworkLog.Events={Reset:Symbol("Reset"),RequestAdded:Symbol("RequestAdded"),RequestUpdated:Symbol("RequestUpdated")};SDK.NetworkLog._InitiatorInfo;SDK.NetworkLog._initiatorDataSymbol=Symbol("InitiatorData");SDK.NetworkLog._events=Symbol("SDK.NetworkLog.events");SDK.networkLog=new SDK.NetworkLog;SDK.NetworkRequest=class extends Common.Object{constructor(e,t,n,s,i,o){super();this._requestId=e;this._backendRequestId=e;this.setUrl(t);this._documentURL=n;this._frameId=s;this._loaderId=i;this._initiator=o;this._redirectSource=null;this._redirectDestination=null;this._issueTime=-1;this._startTime=-1;this._endTime=-1;this._blockedReason=undefined;this.statusCode=0;this.statusText="";this.requestMethod="";this.requestTime=0;this.protocol="";this.mixedContentType=Protocol.Security.MixedContentType.None;this._initialPriority=null;this._currentPriority=null;this._signedExchangeInfo=null;this._resourceType=Common.resourceTypes.Other;this._contentData=null;this._frames=[];this._eventSourceMessages=[];this._responseHeaderValues={};this._responseHeadersText="";this._requestHeaders=[];this._requestHeaderValues={};this._remoteAddress="";this._referrerPolicy=null;this._securityState=Protocol.Security.SecurityState.Unknown;this._securityDetails=null;this.connectionId="0";this._formParametersPromise=null;this._requestFormDataPromise=Promise.resolve(null)}indentityCompare(e){const t=this.requestId();const n=e.requestId();if(t>n)return 1;if(t<n)return-1;return 0}requestId(){return this._requestId}backendRequestId(){return this._backendRequestId}url(){return this._url}isBlobRequest(){return this._url.startsWith("blob:")}setUrl(e){if(this._url===e)return;this._url=e;this._parsedURL=new Common.ParsedURL(e);delete this._queryString;delete this._parsedQueryParameters;delete this._name;delete this._path}get documentURL(){return this._documentURL}get parsedURL(){return this._parsedURL}get frameId(){return this._frameId}get loaderId(){return this._loaderId}setRemoteAddress(e,t){this._remoteAddress=e+":"+t;this.dispatchEventToListeners(SDK.NetworkRequest.Events.RemoteAddressChanged,this)}remoteAddress(){return this._remoteAddress}setReferrerPolicy(e){this._referrerPolicy=e}referrerPolicy(){return this._referrerPolicy}securityState(){return this._securityState}setSecurityState(e){this._securityState=e}securityDetails(){return this._securityDetails}setSecurityDetails(e){this._securityDetails=e}get startTime(){return this._startTime||-1}setIssueTime(e,t){this._issueTime=e;this._wallIssueTime=t;this._startTime=e}issueTime(){return this._issueTime}pseudoWallTime(e){return this._wallIssueTime?this._wallIssueTime-this._issueTime+e:e}get responseReceivedTime(){return this._responseReceivedTime||-1}set responseReceivedTime(e){this._responseReceivedTime=e}get endTime(){return this._endTime||-1}set endTime(e){if(this.timing&&this.timing.requestTime){this._endTime=Math.max(e,this.responseReceivedTime)}else{this._endTime=e;if(this._responseReceivedTime>e)this._responseReceivedTime=e}this.dispatchEventToListeners(SDK.NetworkRequest.Events.TimingChanged,this)}get duration(){if(this._endTime===-1||this._startTime===-1)return-1;return this._endTime-this._startTime}get latency(){if(this._responseReceivedTime===-1||this._startTime===-1)return-1;return this._responseReceivedTime-this._startTime}get resourceSize(){return this._resourceSize||0}set resourceSize(e){this._resourceSize=e}get transferSize(){return this._transferSize||0}increaseTransferSize(e){this._transferSize=(this._transferSize||0)+e}setTransferSize(e){this._transferSize=e}get finished(){return this._finished}set finished(e){if(this._finished===e)return;this._finished=e;if(e)this.dispatchEventToListeners(SDK.NetworkRequest.Events.FinishedLoading,this)}get failed(){return this._failed}set failed(e){this._failed=e}get canceled(){return this._canceled}set canceled(e){this._canceled=e}blockedReason(){return this._blockedReason}setBlockedReason(e){this._blockedReason=e}wasBlocked(){return!!this._blockedReason}cached(){return(!!this._fromMemoryCache||!!this._fromDiskCache)&&!this._transferSize}cachedInMemory(){return!!this._fromMemoryCache&&!this._transferSize}fromPrefetchCache(){return!!this._fromPrefetchCache}setFromMemoryCache(){this._fromMemoryCache=true;delete this._timing}setFromDiskCache(){this._fromDiskCache=true}setFromPrefetchCache(){this._fromPrefetchCache=true}get fetchedViaServiceWorker(){return!!this._fetchedViaServiceWorker}set fetchedViaServiceWorker(e){this._fetchedViaServiceWorker=e}initiatedByServiceWorker(){const e=SDK.NetworkManager.forRequest(this);if(!e)return false;return e.target().type()===SDK.Target.Type.Worker&&!!e.target().parentTarget()&&e.target().parentTarget().type()===SDK.Target.Type.ServiceWorker}get timing(){return this._timing}set timing(e){if(!e||this._fromMemoryCache)return;this._startTime=e.requestTime;const t=e.requestTime+e.receiveHeadersEnd/1e3;if((this._responseReceivedTime||-1)<0||this._responseReceivedTime>t)this._responseReceivedTime=t;if(this._startTime>this._responseReceivedTime)this._responseReceivedTime=this._startTime;this._timing=e;this.dispatchEventToListeners(SDK.NetworkRequest.Events.TimingChanged,this)}get mimeType(){return this._mimeType}set mimeType(e){this._mimeType=e}get displayName(){return this._parsedURL.displayName}name(){if(this._name)return this._name;this._parseNameAndPathFromURL();return this._name}path(){if(this._path)return this._path;this._parseNameAndPathFromURL();return this._path}_parseNameAndPathFromURL(){if(this._parsedURL.isDataURL()){this._name=this._parsedURL.dataURLDisplayName();this._path=""}else if(this._parsedURL.isBlobURL()){this._name=this._parsedURL.url;this._path=""}else if(this._parsedURL.isAboutBlank()){this._name=this._parsedURL.url;this._path=""}else{this._path=this._parsedURL.host+this._parsedURL.folderPathComponents;const e=SDK.NetworkManager.forRequest(this);const t=e?e.target().inspectedURL().asParsedURL():null;this._path=this._path.trimURL(t?t.host:"");if(this._parsedURL.lastPathComponent||this._parsedURL.queryParams){this._name=this._parsedURL.lastPathComponent+(this._parsedURL.queryParams?"?"+this._parsedURL.queryParams:"")}else if(this._parsedURL.folderPathComponents){this._name=this._parsedURL.folderPathComponents.substring(this._parsedURL.folderPathComponents.lastIndexOf("/")+1)+"/";this._path=this._path.substring(0,this._path.lastIndexOf("/"))}else{this._name=this._parsedURL.host;this._path=""}}}get folder(){let e=this._parsedURL.path;const t=e.indexOf("?");if(t!==-1)e=e.substring(0,t);const n=e.lastIndexOf("/");return n!==-1?e.substring(0,n):""}resourceType(){return this._resourceType}setResourceType(e){this._resourceType=e}get domain(){return this._parsedURL.host}get scheme(){return this._parsedURL.scheme}redirectSource(){return this._redirectSource}setRedirectSource(e){this._redirectSource=e}redirectDestination(){return this._redirectDestination}setRedirectDestination(e){this._redirectDestination=e}requestHeaders(){return this._requestHeaders}setRequestHeaders(e){this._requestHeaders=e;delete this._requestCookies;this.dispatchEventToListeners(SDK.NetworkRequest.Events.RequestHeadersChanged)}requestHeadersText(){return this._requestHeadersText}setRequestHeadersText(e){this._requestHeadersText=e;this.dispatchEventToListeners(SDK.NetworkRequest.Events.RequestHeadersChanged)}requestHeaderValue(e){if(e in this._requestHeaderValues)return this._requestHeaderValues[e];this._requestHeaderValues[e]=this._computeHeaderValue(this.requestHeaders(),e);return this._requestHeaderValues[e]}get requestCookies(){if(!this._requestCookies)this._requestCookies=SDK.CookieParser.parseCookie(this.requestHeaderValue("Cookie"));return this._requestCookies}requestFormData(){if(!this._requestFormDataPromise)this._requestFormDataPromise=SDK.NetworkManager.requestPostData(this);return this._requestFormDataPromise}setRequestFormData(e,t){this._requestFormDataPromise=e&&t===null?null:Promise.resolve(t);this._formParametersPromise=null}_filteredProtocolName(){const e=this.protocol.toLowerCase();if(e==="h2")return"http/2.0";return e.replace(/^http\/2(\.0)?\+/,"http/2.0+")}requestHttpVersion(){const e=this.requestHeadersText();if(!e){const e=this.requestHeaderValue("version")||this.requestHeaderValue(":version");if(e)return e;return this._filteredProtocolName()}const t=e.split(/\r\n/)[0];const n=t.match(/(HTTP\/\d+\.\d+)$/);return n?n[1]:"HTTP/0.9"}get responseHeaders(){return this._responseHeaders||[]}set responseHeaders(e){this._responseHeaders=e;delete this._sortedResponseHeaders;delete this._serverTimings;delete this._responseCookies;this._responseHeaderValues={};this.dispatchEventToListeners(SDK.NetworkRequest.Events.ResponseHeadersChanged)}get responseHeadersText(){return this._responseHeadersText}set responseHeadersText(e){this._responseHeadersText=e;this.dispatchEventToListeners(SDK.NetworkRequest.Events.ResponseHeadersChanged)}get sortedResponseHeaders(){if(this._sortedResponseHeaders!==undefined)return this._sortedResponseHeaders;this._sortedResponseHeaders=this.responseHeaders.slice();this._sortedResponseHeaders.sort(function(e,t){return e.name.toLowerCase().compareTo(t.name.toLowerCase())});return this._sortedResponseHeaders}responseHeaderValue(e){if(e in this._responseHeaderValues)return this._responseHeaderValues[e];this._responseHeaderValues[e]=this._computeHeaderValue(this.responseHeaders,e);return this._responseHeaderValues[e]}get responseCookies(){if(!this._responseCookies)this._responseCookies=SDK.CookieParser.parseSetCookie(this.responseHeaderValue("Set-Cookie"));return this._responseCookies}responseLastModified(){return this.responseHeaderValue("last-modified")}get serverTimings(){if(typeof this._serverTimings==="undefined")this._serverTimings=SDK.ServerTiming.parseHeaders(this.responseHeaders);return this._serverTimings}queryString(){if(this._queryString!==undefined)return this._queryString;let e=null;const t=this.url();const n=t.indexOf("?");if(n!==-1){e=t.substring(n+1);const s=e.indexOf("#");if(s!==-1)e=e.substring(0,s)}this._queryString=e;return this._queryString}get queryParameters(){if(this._parsedQueryParameters)return this._parsedQueryParameters;const e=this.queryString();if(!e)return null;this._parsedQueryParameters=this._parseParameters(e);return this._parsedQueryParameters}async _parseFormParameters(){const e=this.requestContentType();if(!e)return null;if(e.match(/^application\/x-www-form-urlencoded\s*(;.*)?$/i)){const e=await this.requestFormData();if(!e)return null;return this._parseParameters(e)}const t=e.match(/^multipart\/form-data\s*;\s*boundary\s*=\s*(\S+)\s*$/);if(!t)return null;const n=t[1];if(!n)return null;const s=await this.requestFormData();if(!s)return null;return this._parseMultipartFormDataParameters(s,n)}formParameters(){if(!this._formParametersPromise)this._formParametersPromise=this._parseFormParameters();return this._formParametersPromise}responseHttpVersion(){const e=this._responseHeadersText;if(!e){const e=this.responseHeaderValue("version")||this.responseHeaderValue(":version");if(e)return e;return this._filteredProtocolName()}const t=e.split(/\r\n/)[0];const n=t.match(/^(HTTP\/\d+\.\d+)/);return n?n[1]:"HTTP/0.9"}_parseParameters(e){function t(e){const t=e.indexOf("=");if(t===-1)return{name:e,value:""};else return{name:e.substring(0,t),value:e.substring(t+1)}}return e.split("&").map(t)}_parseMultipartFormDataParameters(e,t){const n=t.escapeForRegExp();const s=new RegExp('^\\r\\ncontent-disposition\\s*:\\s*form-data\\s*;\\s*name="([^"]*)"(?:\\s*;\\s*filename="([^"]*)")?'+"(?:\\r\\ncontent-type\\s*:\\s*([^\\r\\n]*))?"+"\\r\\n\\r\\n"+"(.*)"+"\\r\\n$","is");const i=e.split(new RegExp(`--${n}(?:--s*$)?`,"g"));return i.reduce(o,[]);function o(e,t){const[n,i,o,r,a]=t.match(s)||[];if(!n)return e;const l=o||r?ls`(binary)`:a;e.push({name:i,value:l});return e}}_computeHeaderValue(e,t){t=t.toLowerCase();const n=[];for(let s=0;s<e.length;++s){if(e[s].name.toLowerCase()===t)n.push(e[s].value)}if(!n.length)return undefined;if(t==="set-cookie")return n.join("\n");return n.join(", ")}contentData(){if(this._contentData)return this._contentData;if(this._contentDataProvider)this._contentData=this._contentDataProvider();else this._contentData=SDK.NetworkManager.requestContentData(this);return this._contentData}setContentDataProvider(e){console.assert(!this._contentData,"contentData can only be set once.");this._contentDataProvider=e}contentURL(){return this._url}contentType(){return this._resourceType}async contentEncoded(){return(await this.contentData()).encoded}async requestContent(){return(await this.contentData()).content}async searchInContent(e,t,n){if(!this._contentDataProvider)return SDK.NetworkManager.searchInRequest(this,e,t,n);const s=await this.contentData();let i=s.content;if(!i)return[];if(s.encoded)i=window.atob(i);return Common.ContentProvider.performSearchInContent(i,e,t,n)}isHttpFamily(){return!!this.url().match(/^https?:/i)}requestContentType(){return this.requestHeaderValue("Content-Type")}hasErrorStatusCode(){return this.statusCode>=400}setInitialPriority(e){this._initialPriority=e}initialPriority(){return this._initialPriority}setPriority(e){this._currentPriority=e}priority(){return this._currentPriority||this._initialPriority||null}setSignedExchangeInfo(e){this._signedExchangeInfo=e}signedExchangeInfo(){return this._signedExchangeInfo}async populateImageSource(e){const{content:t,encoded:n}=await this.contentData();let s=Common.ContentProvider.contentAsDataURL(t,this._mimeType,n);if(s===null&&!this._failed){const e=this.responseHeaderValue("cache-control")||"";if(!e.includes("no-cache"))s=this._url}if(s!==null)e.src=s}initiator(){return this._initiator}frames(){return this._frames}addProtocolFrameError(e,t){this.addFrame({type:SDK.NetworkRequest.WebSocketFrameType.Error,text:e,time:this.pseudoWallTime(t),opCode:-1,mask:false})}addProtocolFrame(e,t,n){const s=n?SDK.NetworkRequest.WebSocketFrameType.Send:SDK.NetworkRequest.WebSocketFrameType.Receive;this.addFrame({type:s,text:e.payloadData,time:this.pseudoWallTime(t),opCode:e.opcode,mask:e.mask})}addFrame(e){this._frames.push(e);this.dispatchEventToListeners(SDK.NetworkRequest.Events.WebsocketFrameAdded,e)}eventSourceMessages(){return this._eventSourceMessages}addEventSourceMessage(e,t,n,s){const i={time:this.pseudoWallTime(e),eventName:t,eventId:n,data:s};this._eventSourceMessages.push(i);this.dispatchEventToListeners(SDK.NetworkRequest.Events.EventSourceMessageAdded,i)}markAsRedirect(e){this._requestId=`${this._backendRequestId}:redirected.${e}`}setRequestIdForTest(e){this._backendRequestId=e;this._requestId=e}charset(){const e=this.responseHeaderValue("content-type");if(!e)return null;const t=e.replace(/ /g,"").split(";").filter(e=>e.toLowerCase().startsWith("charset=")).map(e=>e.slice("charset=".length));if(t.length)return t[0];return null}};SDK.NetworkRequest.Events={FinishedLoading:Symbol("FinishedLoading"),TimingChanged:Symbol("TimingChanged"),RemoteAddressChanged:Symbol("RemoteAddressChanged"),RequestHeadersChanged:Symbol("RequestHeadersChanged"),ResponseHeadersChanged:Symbol("ResponseHeadersChanged"),WebsocketFrameAdded:Symbol("WebsocketFrameAdded"),EventSourceMessageAdded:Symbol("EventSourceMessageAdded")};SDK.NetworkRequest.InitiatorType={Other:"other",Parser:"parser",Redirect:"redirect",Script:"script",Preload:"preload",SignedExchange:"signedExchange"};SDK.NetworkRequest.NameValue;SDK.NetworkRequest.WebSocketFrameType={Send:"send",Receive:"receive",Error:"error"};SDK.NetworkRequest.WebSocketFrame;SDK.NetworkRequest.EventSourceMessage;SDK.NetworkRequest.ContentData;SDK.PaintProfilerModel=class extends SDK.SDKModel{constructor(e){super(e);this._layerTreeAgent=e.layerTreeAgent()}async loadSnapshotFromFragments(e){const t=await this._layerTreeAgent.loadSnapshot(e);return t&&new SDK.PaintProfilerSnapshot(this,t)}loadSnapshot(e){const t={x:0,y:0,picture:e};return this.loadSnapshotFromFragments([t])}async makeSnapshot(e){const t=await this._layerTreeAgent.makeSnapshot(e);return t&&new SDK.PaintProfilerSnapshot(this,t)}};SDK.SDKModel.register(SDK.PaintProfilerModel,SDK.Target.Capability.DOM,false);SDK.PictureFragment;SDK.PaintProfilerSnapshot=class{constructor(e,t){this._paintProfilerModel=e;this._id=t;this._refCount=1}release(){console.assert(this._refCount>0,"release is already called on the object");if(!--this._refCount)this._paintProfilerModel._layerTreeAgent.releaseSnapshot(this._id)}addReference(){++this._refCount;console.assert(this._refCount>0,"Referencing a dead object")}replay(e,t,n){return this._paintProfilerModel._layerTreeAgent.replaySnapshot(this._id,t,n,e||1)}profile(e){return this._paintProfilerModel._layerTreeAgent.profileSnapshot(this._id,5,1,e||undefined)}async commandLog(){const e=await this._paintProfilerModel._layerTreeAgent.snapshotCommandLog(this._id);return e&&e.map((e,t)=>new SDK.PaintProfilerLogItem(e,t))}};SDK.RawPaintProfilerLogItem;SDK.PaintProfilerLogItem=class{constructor(e,t){this.method=e.method;this.params=e.params;this.commandIndex=t}};SDK.HeapProfilerModel=class extends SDK.SDKModel{constructor(e){super(e);e.registerHeapProfilerDispatcher(new SDK.HeapProfilerDispatcher(this));this._enabled=false;this._heapProfilerAgent=e.heapProfilerAgent();this._memoryAgent=e.memoryAgent();this._runtimeModel=e.model(SDK.RuntimeModel);this._samplingProfilerDepth=0}debuggerModel(){return this._runtimeModel.debuggerModel()}runtimeModel(){return this._runtimeModel}enable(){if(this._enabled)return;this._enabled=true;this._heapProfilerAgent.enable()}startSampling(e){if(this._samplingProfilerDepth++)return;const t=16384;this._heapProfilerAgent.startSampling(e||t)}stopSampling(){if(!this._samplingProfilerDepth)throw new Error("Sampling profiler is not running.");if(--this._samplingProfilerDepth)return this.getSamplingProfile();return this._heapProfilerAgent.stopSampling()}getSamplingProfile(){return this._heapProfilerAgent.getSamplingProfile()}startNativeSampling(){const e=65536;this._memoryAgent.startSampling(e)}async stopNativeSampling(){const e=await this._memoryAgent.getSamplingProfile();this._memoryAgent.stopSampling();return this._convertNativeProfile(e)}async takeNativeSnapshot(){const e=await this._memoryAgent.getAllTimeSamplingProfile();return this._convertNativeProfile(e)}async takeNativeBrowserSnapshot(){const e=await this._memoryAgent.getBrowserSamplingProfile();return this._convertNativeProfile(e)}_convertNativeProfile(e){const t={children:new Map,selfSize:0,callFrame:{functionName:"(root)",url:""}};for(const n of e.samples){const e=n.stack.reverse().reduce((e,t)=>{let n=e.children.get(t);if(n)return n;const s=/^([^:]*)::/.exec(t);n={children:new Map,callFrame:{functionName:t,url:s&&s[1]||""},selfSize:0};e.children.set(t,n);return n},t);e.selfSize+=n.total}function n(e){e.children=Array.from(e.children.values());e.children.forEach(n)}n(t);return new SDK.HeapProfilerModel.NativeHeapProfile(t,e.modules)}collectGarbage(){return this._heapProfilerAgent.collectGarbage()}snapshotObjectIdForObjectId(e){return this._heapProfilerAgent.getHeapObjectId(e)}async objectForSnapshotObjectId(e,t){const n=await this._heapProfilerAgent.getObjectByHeapObjectId(e,t);return n&&n.type&&this._runtimeModel.createRemoteObject(n)||null}addInspectedHeapObject(e){return this._heapProfilerAgent.addInspectedHeapObject(e)}takeHeapSnapshot(e){return this._heapProfilerAgent.takeHeapSnapshot(e)}startTrackingHeapObjects(e){return this._heapProfilerAgent.startTrackingHeapObjects(e)}stopTrackingHeapObjects(e){return this._heapProfilerAgent.stopTrackingHeapObjects(e)}heapStatsUpdate(e){this.dispatchEventToListeners(SDK.HeapProfilerModel.Events.HeapStatsUpdate,e)}lastSeenObjectId(e,t){this.dispatchEventToListeners(SDK.HeapProfilerModel.Events.LastSeenObjectId,{lastSeenObjectId:e,timestamp:t})}addHeapSnapshotChunk(e){this.dispatchEventToListeners(SDK.HeapProfilerModel.Events.AddHeapSnapshotChunk,e)}reportHeapSnapshotProgress(e,t,n){this.dispatchEventToListeners(SDK.HeapProfilerModel.Events.ReportHeapSnapshotProgress,{done:e,total:t,finished:n})}resetProfiles(){this.dispatchEventToListeners(SDK.HeapProfilerModel.Events.ResetProfiles,this)}};SDK.SDKModel.register(SDK.HeapProfilerModel,SDK.Target.Capability.JS,false);SDK.HeapProfilerModel.Events={HeapStatsUpdate:Symbol("HeapStatsUpdate"),LastSeenObjectId:Symbol("LastSeenObjectId"),AddHeapSnapshotChunk:Symbol("AddHeapSnapshotChunk"),ReportHeapSnapshotProgress:Symbol("ReportHeapSnapshotProgress"),ResetProfiles:Symbol("ResetProfiles")};SDK.HeapProfilerModel.NativeHeapProfile=class{constructor(e,t){this.head=e;this.modules=t}};SDK.HeapProfilerDispatcher=class{constructor(e){this._heapProfilerModel=e}heapStatsUpdate(e){this._heapProfilerModel.heapStatsUpdate(e)}lastSeenObjectId(e,t){this._heapProfilerModel.lastSeenObjectId(e,t)}addHeapSnapshotChunk(e){this._heapProfilerModel.addHeapSnapshotChunk(e)}reportHeapSnapshotProgress(e,t,n){this._heapProfilerModel.reportHeapSnapshotProgress(e,t,n)}resetProfiles(){this._heapProfilerModel.resetProfiles()}};SDK.PerformanceMetricsModel=class extends SDK.SDKModel{constructor(e){super(e);this._agent=e.performanceAgent();const t=SDK.PerformanceMetricsModel.MetricMode;this._metricModes=new Map([["TaskDuration",t.CumulativeTime],["ScriptDuration",t.CumulativeTime],["LayoutDuration",t.CumulativeTime],["RecalcStyleDuration",t.CumulativeTime],["LayoutCount",t.CumulativeCount],["RecalcStyleCount",t.CumulativeCount]]);this._metricData=new Map}enable(){return this._agent.enable()}disable(){return this._agent.disable()}async requestMetrics(){const e=await this._agent.getMetrics()||[];const t=new Map;const n=performance.now();for(const s of e){let e=this._metricData.get(s.name);if(!e){e={};this._metricData.set(s.name,e)}let i;switch(this._metricModes.get(s.name)){case SDK.PerformanceMetricsModel.MetricMode.CumulativeTime:i=e.lastTimestamp?Number.constrain((s.value-e.lastValue)*1e3/(n-e.lastTimestamp),0,1):0;e.lastValue=s.value;e.lastTimestamp=n;break;case SDK.PerformanceMetricsModel.MetricMode.CumulativeCount:i=e.lastTimestamp?Math.max(0,(s.value-e.lastValue)*1e3/(n-e.lastTimestamp)):0;e.lastValue=s.value;e.lastTimestamp=n;break;default:i=s.value;break}t.set(s.name,i)}return{metrics:t,timestamp:n}}};SDK.PerformanceMetricsModel.MetricMode={CumulativeTime:Symbol("CumulativeTime"),CumulativeCount:Symbol("CumulativeCount")};SDK.SDKModel.register(SDK.PerformanceMetricsModel,SDK.Target.Capability.Browser,false);SDK.CSSMetadata._generatedProperties=[{name:"-internal-effective-zoom",inherited:true},{name:"-internal-visited-background-color"},{name:"-internal-visited-border-block-end-color"},{name:"-internal-visited-border-block-start-color"},{name:"-internal-visited-border-bottom-color"},{name:"-internal-visited-border-inline-end-color"},{name:"-internal-visited-border-inline-start-color"},{name:"-internal-visited-border-left-color"},{name:"-internal-visited-border-right-color"},{name:"-internal-visited-border-top-color"},{name:"-internal-visited-caret-color",inherited:true},{name:"-internal-visited-color",inherited:true},{name:"-internal-visited-column-rule-color"},{name:"-internal-visited-fill",svg:true,inherited:true},{name:"-internal-visited-outline-color"},{name:"-internal-visited-stroke",svg:true,inherited:true},{name:"-internal-visited-text-decoration-color"},{name:"-internal-visited-text-emphasis-color",inherited:true},{name:"-internal-visited-text-fill-color",inherited:true},{name:"-internal-visited-text-stroke-color",inherited:true},{name:"-webkit-app-region"},{name:"-webkit-appearance"},{name:"-webkit-border-horizontal-spacing",inherited:true},{name:"-webkit-border-image"},{name:"-webkit-border-vertical-spacing",inherited:true},{name:"-webkit-box-align"},{name:"-webkit-box-decoration-break"},{name:"-webkit-box-direction",inherited:true},{name:"-webkit-box-flex"},{name:"-webkit-box-ordinal-group"},{name:"-webkit-box-orient"},{name:"-webkit-box-pack"},{name:"-webkit-box-reflect"},{longhands:["break-after"],name:"-webkit-column-break-after"},{longhands:["break-before"],name:"-webkit-column-break-before"},{longhands:["break-inside"],name:"-webkit-column-break-inside"},{name:"-webkit-font-size-delta"},{name:"-webkit-font-smoothing",inherited:true},{name:"-webkit-highlight",inherited:true},{name:"-webkit-hyphenate-character",inherited:true},{name:"-webkit-line-break",inherited:true},{name:"-webkit-line-clamp"},{name:"-webkit-locale",inherited:true},{name:"-webkit-margin-after-collapse"},{name:"-webkit-margin-before-collapse"},{name:"-webkit-margin-bottom-collapse"},{longhands:["-webkit-margin-before-collapse","-webkit-margin-after-collapse"],name:"-webkit-margin-collapse"},{name:"-webkit-margin-top-collapse"},{longhands:["-webkit-mask-image","-webkit-mask-position-x","-webkit-mask-position-y","-webkit-mask-size","-webkit-mask-repeat-x","-webkit-mask-repeat-y","-webkit-mask-origin","-webkit-mask-clip"],name:"-webkit-mask"},{longhands:["-webkit-mask-box-image-source","-webkit-mask-box-image-slice","-webkit-mask-box-image-width","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat"],name:"-webkit-mask-box-image"},{name:"-webkit-mask-box-image-outset"},{name:"-webkit-mask-box-image-repeat"},{name:"-webkit-mask-box-image-slice"},{name:"-webkit-mask-box-image-source"},{name:"-webkit-mask-box-image-width"},{name:"-webkit-mask-clip"},{name:"-webkit-mask-composite"},{name:"-webkit-mask-image"},{name:"-webkit-mask-origin"},{longhands:["-webkit-mask-position-x","-webkit-mask-position-y"],name:"-webkit-mask-position"},{name:"-webkit-mask-position-x"},{name:"-webkit-mask-position-y"},{longhands:["-webkit-mask-repeat-x","-webkit-mask-repeat-y"],name:"-webkit-mask-repeat"},{name:"-webkit-mask-repeat-x"},{name:"-webkit-mask-repeat-y"},{name:"-webkit-mask-size"},{name:"-webkit-perspective-origin-x"},{name:"-webkit-perspective-origin-y"},{name:"-webkit-print-color-adjust",inherited:true},{name:"-webkit-rtl-ordering",inherited:true},{name:"-webkit-ruby-position",inherited:true},{name:"-webkit-tap-highlight-color",inherited:true},{name:"-webkit-text-combine",inherited:true},{name:"-webkit-text-decorations-in-effect",inherited:true},{longhands:["-webkit-text-emphasis-style","-webkit-text-emphasis-color"],name:"-webkit-text-emphasis",inherited:true},{name:"-webkit-text-emphasis-color",inherited:true},{name:"-webkit-text-emphasis-position",inherited:true},{name:"-webkit-text-emphasis-style",inherited:true},{name:"-webkit-text-fill-color",inherited:true},{name:"-webkit-text-orientation",inherited:true},{name:"-webkit-text-security",inherited:true},{longhands:["-webkit-text-stroke-width","-webkit-text-stroke-color"],name:"-webkit-text-stroke",inherited:true},{name:"-webkit-text-stroke-color",inherited:true},{name:"-webkit-text-stroke-width",inherited:true},{name:"-webkit-transform-origin-x"},{name:"-webkit-transform-origin-y"},{name:"-webkit-transform-origin-z"},{name:"-webkit-user-drag"},{name:"-webkit-user-modify",inherited:true},{name:"-webkit-writing-mode",inherited:true},{name:"align-content"},{name:"align-items"},{name:"align-self"},{svg:true,name:"alignment-baseline"},{name:"all"},{longhands:["animation-duration","animation-timing-function","animation-delay","animation-iteration-count","animation-direction","animation-fill-mode","animation-play-state","animation-name"],name:"animation"},{name:"animation-delay"},{name:"animation-direction"},{name:"animation-duration"},{name:"animation-fill-mode"},{name:"animation-iteration-count"},{name:"animation-name"},{name:"animation-play-state"},{name:"animation-timing-function"},{name:"backdrop-filter"},{name:"backface-visibility"},{longhands:["background-image","background-position-x","background-position-y","background-size","background-repeat-x","background-repeat-y","background-attachment","background-origin","background-clip","background-color"],name:"background"},{name:"background-attachment"},{name:"background-blend-mode"},{name:"background-clip"},{name:"background-color"},{name:"background-image"},{name:"background-origin"},{longhands:["background-position-x","background-position-y"],name:"background-position"},{name:"background-position-x"},{name:"background-position-y"},{longhands:["background-repeat-x","background-repeat-y"],name:"background-repeat"},{name:"background-repeat-x"},{name:"background-repeat-y"},{name:"background-size"},{name:"baseline-shift",svg:true},{name:"block-size"},{longhands:["border-top-color","border-top-style","border-top-width","border-right-color","border-right-style","border-right-width","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat"],name:"border"},{longhands:["border-block-start-color","border-block-start-style","border-block-start-width","border-block-end-color","border-block-end-style","border-block-end-width"],name:"border-block"},{longhands:["border-block-start-color","border-block-end-color"],name:"border-block-color"},{longhands:["border-block-end-width","border-block-end-style","border-block-end-color"],name:"border-block-end"},{name:"border-block-end-color"},{name:"border-block-end-style"},{name:"border-block-end-width"},{longhands:["border-block-start-width","border-block-start-style","border-block-start-color"],name:"border-block-start"},{name:"border-block-start-color"},{name:"border-block-start-style"},{name:"border-block-start-width"},{longhands:["border-block-start-style","border-block-end-style"],name:"border-block-style"},{longhands:["border-block-start-width","border-block-end-width"],name:"border-block-width"},{longhands:["border-bottom-width","border-bottom-style","border-bottom-color"],name:"border-bottom"},{name:"border-bottom-color"},{name:"border-bottom-left-radius"},{name:"border-bottom-right-radius"},{name:"border-bottom-style"},{name:"border-bottom-width"},{name:"border-collapse",inherited:true},{longhands:["border-top-color","border-right-color","border-bottom-color","border-left-color"],name:"border-color"},{longhands:["border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat"],name:"border-image"},{name:"border-image-outset"},{name:"border-image-repeat"},{name:"border-image-slice"},{name:"border-image-source"},{name:"border-image-width"},{longhands:["border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-end-color","border-inline-end-style","border-inline-end-width"],name:"border-inline"},{longhands:["border-inline-start-color","border-inline-end-color"],name:"border-inline-color"},{longhands:["border-inline-end-width","border-inline-end-style","border-inline-end-color"],name:"border-inline-end"},{name:"border-inline-end-color"},{name:"border-inline-end-style"},{name:"border-inline-end-width"},{longhands:["border-inline-start-width","border-inline-start-style","border-inline-start-color"],name:"border-inline-start"},{name:"border-inline-start-color"},{name:"border-inline-start-style"},{name:"border-inline-start-width"},{longhands:["border-inline-start-style","border-inline-end-style"],name:"border-inline-style"},{longhands:["border-inline-start-width","border-inline-end-width"],name:"border-inline-width"},{longhands:["border-left-width","border-left-style","border-left-color"],name:"border-left"},{name:"border-left-color"},{name:"border-left-style"},{name:"border-left-width"},{longhands:["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],name:"border-radius"},{longhands:["border-right-width","border-right-style","border-right-color"],name:"border-right"},{name:"border-right-color"},{name:"border-right-style"},{name:"border-right-width"},{longhands:["-webkit-border-horizontal-spacing","-webkit-border-vertical-spacing"],name:"border-spacing",inherited:true},{longhands:["border-top-style","border-right-style","border-bottom-style","border-left-style"],name:"border-style"},{longhands:["border-top-width","border-top-style","border-top-color"],name:"border-top"},{name:"border-top-color"},{name:"border-top-left-radius"},{name:"border-top-right-radius"},{name:"border-top-style"},{name:"border-top-width"},{longhands:["border-top-width","border-right-width","border-bottom-width","border-left-width"],name:"border-width"},{name:"bottom"},{name:"box-shadow"},{name:"box-sizing"},{name:"break-after"},{name:"break-before"},{name:"break-inside"},{svg:true,name:"buffered-rendering"},{name:"caption-side",inherited:true},{name:"caret-color",inherited:true},{name:"clear"},{name:"clip"},{name:"clip-path"},{name:"clip-rule",svg:true,inherited:true},{name:"color",inherited:true},{name:"color-interpolation",svg:true,inherited:true},{svg:true,name:"color-interpolation-filters",inherited:true},{name:"color-rendering",svg:true,inherited:true},{name:"color-scheme",inherited:true},{name:"column-count"},{name:"column-fill"},{name:"column-gap"},{longhands:["column-rule-width","column-rule-style","column-rule-color"],name:"column-rule"},{name:"column-rule-color"},{name:"column-rule-style"},{name:"column-rule-width"},{name:"column-span"},{name:"column-width"},{longhands:["column-width","column-count"],name:"columns"},{name:"contain"},{name:"content"},{name:"counter-increment"},{name:"counter-reset"},{name:"cursor",inherited:true},{svg:true,name:"cx"},{svg:true,name:"cy"},{name:"d",svg:true},{name:"direction",inherited:true},{name:"display"},{name:"dominant-baseline",svg:true,inherited:true},{name:"empty-cells",inherited:true},{name:"fill",svg:true,inherited:true},{svg:true,inherited:true,name:"fill-opacity"},{name:"fill-rule",svg:true,inherited:true},{name:"filter"},{longhands:["flex-grow","flex-shrink","flex-basis"],name:"flex"},{name:"flex-basis"},{name:"flex-direction"},{longhands:["flex-direction","flex-wrap"],name:"flex-flow"},{name:"flex-grow"},{name:"flex-shrink"},{name:"flex-wrap"},{name:"float"},{name:"flood-color",svg:true},{name:"flood-opacity",svg:true},{longhands:["font-style","font-variant-ligatures","font-variant-caps","font-variant-numeric","font-variant-east-asian","font-weight","font-stretch","font-size","line-height","font-family"],name:"font",inherited:true},{name:"font-display"},{name:"font-family",inherited:true},{name:"font-feature-settings",inherited:true},{name:"font-kerning",inherited:true},{name:"font-size",inherited:true},{name:"font-size-adjust",inherited:true},{name:"font-stretch",inherited:true},{name:"font-style",inherited:true},{longhands:["font-variant-ligatures","font-variant-caps","font-variant-numeric","font-variant-east-asian"],name:"font-variant",inherited:true},{inherited:true,name:"font-variant-caps"},{inherited:true,name:"font-variant-east-asian"},{name:"font-variant-ligatures",inherited:true},{inherited:true,name:"font-variant-numeric"},{name:"font-variation-settings",inherited:true},{name:"font-weight",inherited:true},{name:"forced-color-adjust",inherited:true},{longhands:["row-gap","column-gap"],name:"gap"},{longhands:["grid-template-rows","grid-template-columns","grid-template-areas","grid-auto-flow","grid-auto-rows","grid-auto-columns"],name:"grid"},{longhands:["grid-row-start","grid-column-start","grid-row-end","grid-column-end"],name:"grid-area"},{name:"grid-auto-columns"},{name:"grid-auto-flow"},{name:"grid-auto-rows"},{longhands:["grid-column-start","grid-column-end"],name:"grid-column"},{name:"grid-column-end"},{longhands:["column-gap"],name:"grid-column-gap"},{name:"grid-column-start"},{longhands:["row-gap","column-gap"],name:"grid-gap"},{longhands:["grid-row-start","grid-row-end"],name:"grid-row"},{name:"grid-row-end"},{longhands:["row-gap"],name:"grid-row-gap"},{name:"grid-row-start"},{longhands:["grid-template-rows","grid-template-columns","grid-template-areas"],name:"grid-template"},{name:"grid-template-areas"},{name:"grid-template-columns"},{name:"grid-template-rows"},{name:"height"},{name:"hyphens",inherited:true},{name:"image-orientation",inherited:true},{name:"image-rendering",inherited:true},{name:"inline-size"},{longhands:["top","right","bottom","left"],name:"inset"},{longhands:["inset-block-start","inset-block-end"],name:"inset-block"},{name:"inset-block-end"},{name:"inset-block-start"},{longhands:["inset-inline-start","inset-inline-end"],name:"inset-inline"},{name:"inset-inline-end"},{name:"inset-inline-start"},{name:"isolation"},{name:"justify-content"},{name:"justify-items"},{name:"justify-self"},{name:"left"},{inherited:true,name:"letter-spacing"},{name:"lighting-color",svg:true},{name:"line-break",inherited:true},{name:"line-height",inherited:true},{name:"line-height-step",inherited:true},{longhands:["list-style-position","list-style-image","list-style-type"],name:"list-style",inherited:true},{name:"list-style-image",inherited:true},{name:"list-style-position",inherited:true},{name:"list-style-type",inherited:true},{longhands:["margin-top","margin-right","margin-bottom","margin-left"],name:"margin"},{longhands:["margin-block-start","margin-block-end"],name:"margin-block"},{name:"margin-block-end"},{name:"margin-block-start"},{name:"margin-bottom"},{longhands:["margin-inline-start","margin-inline-end"],name:"margin-inline"},{name:"margin-inline-end"},{name:"margin-inline-start"},{name:"margin-left"},{name:"margin-right"},{name:"margin-top"},{longhands:["marker-start","marker-mid","marker-end"],name:"marker",inherited:true},{svg:true,inherited:true,name:"marker-end"},{svg:true,inherited:true,name:"marker-mid"},{svg:true,inherited:true,name:"marker-start"},{svg:true,name:"mask"},{name:"mask-source-type"},{svg:true,name:"mask-type"},{name:"max-block-size"},{name:"max-height"},{name:"max-inline-size"},{name:"max-width"},{name:"max-zoom"},{name:"min-block-size"},{name:"min-height"},{name:"min-inline-size"},{name:"min-width"},{name:"min-zoom"},{name:"mix-blend-mode"},{name:"object-fit"},{name:"object-position"},{longhands:["offset-position","offset-path","offset-distance","offset-rotate","offset-anchor"],name:"offset"},{name:"offset-anchor"},{name:"offset-distance"},{name:"offset-path"},{name:"offset-position"},{name:"offset-rotate"},{name:"opacity"},{name:"order"},{name:"orientation"},{name:"orphans",inherited:true},{longhands:["outline-color","outline-style","outline-width"],name:"outline"},{name:"outline-color"},{name:"outline-offset"},{name:"outline-style"},{name:"outline-width"},{longhands:["overflow-x","overflow-y"],name:"overflow"},{name:"overflow-anchor",inherited:false},{name:"overflow-block"},{name:"overflow-inline"},{name:"overflow-wrap",inherited:true},{name:"overflow-x"},{name:"overflow-y"},{longhands:["overscroll-behavior-x","overscroll-behavior-y"],name:"overscroll-behavior"},{name:"overscroll-behavior-x"},{name:"overscroll-behavior-y"},{longhands:["padding-top","padding-right","padding-bottom","padding-left"],name:"padding"},{longhands:["padding-block-start","padding-block-end"],name:"padding-block"},{name:"padding-block-end"},{name:"padding-block-start"},{name:"padding-bottom"},{longhands:["padding-inline-start","padding-inline-end"],name:"padding-inline"},{name:"padding-inline-end"},{name:"padding-inline-start"},{name:"padding-left"},{name:"padding-right"},{name:"padding-top"},{name:"page"},{longhands:["break-after"],name:"page-break-after"},{longhands:["break-before"],name:"page-break-before"},{longhands:["break-inside"],name:"page-break-inside"},{svg:true,inherited:true,name:"paint-order"},{name:"perspective"},{name:"perspective-origin"},{longhands:["align-content","justify-content"],name:"place-content"},{longhands:["align-items","justify-items"],name:"place-items"},{longhands:["align-self","justify-self"],name:"place-self"},{name:"pointer-events",inherited:true},{name:"position"},{name:"quotes",inherited:true},{svg:true,name:"r"},{name:"resize"},{name:"right"},{name:"rotate"},{name:"row-gap"},{name:"rx",svg:true},{name:"ry",svg:true},{name:"scale"},{name:"scroll-behavior"},{name:"scroll-customization"},{longhands:["scroll-margin-top","scroll-margin-right","scroll-margin-bottom","scroll-margin-left"],name:"scroll-margin"},{longhands:["scroll-margin-block-start","scroll-margin-block-end"],name:"scroll-margin-block"},{name:"scroll-margin-block-end"},{name:"scroll-margin-block-start"},{name:"scroll-margin-bottom"},{longhands:["scroll-margin-inline-start","scroll-margin-inline-end"],name:"scroll-margin-inline"},{name:"scroll-margin-inline-end"},{name:"scroll-margin-inline-start"},{name:"scroll-margin-left"},{name:"scroll-margin-right"},{name:"scroll-margin-top"},{longhands:["scroll-padding-top","scroll-padding-right","scroll-padding-bottom","scroll-padding-left"],name:"scroll-padding"},{longhands:["scroll-padding-block-start","scroll-padding-block-end"],name:"scroll-padding-block"},{name:"scroll-padding-block-end"},{name:"scroll-padding-block-start"},{name:"scroll-padding-bottom"},{longhands:["scroll-padding-inline-start","scroll-padding-inline-end"],name:"scroll-padding-inline"},{name:"scroll-padding-inline-end"},{name:"scroll-padding-inline-start"},{name:"scroll-padding-left"},{name:"scroll-padding-right"},{name:"scroll-padding-top"},{name:"scroll-snap-align"},{name:"scroll-snap-stop"},{name:"scroll-snap-type"},{name:"shape-image-threshold"},{name:"shape-margin"},{name:"shape-outside"},{name:"shape-rendering",svg:true,inherited:true},{name:"size"},{name:"speak",inherited:true},{name:"src"},{name:"stop-color",svg:true},{name:"stop-opacity",svg:true},{name:"stroke",svg:true,inherited:true},{name:"stroke-dasharray",svg:true,inherited:true},{name:"stroke-dashoffset",svg:true,inherited:true},{name:"stroke-linecap",svg:true,inherited:true},{name:"stroke-linejoin",svg:true,inherited:true},{name:"stroke-miterlimit",svg:true,inherited:true},{svg:true,inherited:true,name:"stroke-opacity"},{svg:true,inherited:true,name:"stroke-width"},{name:"tab-size",inherited:true},{name:"table-layout"},{name:"text-align",inherited:true},{name:"text-align-last",inherited:true},{name:"text-anchor",svg:true,inherited:true},{name:"text-combine-upright",inherited:true},{longhands:["text-decoration-line","text-decoration-style","text-decoration-color"],name:"text-decoration"},{name:"text-decoration-color"},{name:"text-decoration-line"},{name:"text-decoration-skip-ink",inherited:true},{name:"text-decoration-style"},{name:"text-indent",inherited:true},{name:"text-justify",inherited:true},{name:"text-orientation",inherited:true},{name:"text-overflow"},{name:"text-rendering",inherited:true},{name:"text-shadow",inherited:true},{name:"text-size-adjust",inherited:true},{name:"text-transform",inherited:true},{name:"text-underline-position",inherited:true},{name:"top"},{name:"touch-action"},{name:"transform"},{name:"transform-box"},{name:"transform-origin"},{name:"transform-style"},{longhands:["transition-property","transition-duration","transition-timing-function","transition-delay"],name:"transition"},{name:"transition-delay"},{name:"transition-duration"},{name:"transition-property"},{name:"transition-timing-function"},{name:"translate"},{name:"unicode-bidi"},{name:"unicode-range"},{name:"user-select",inherited:true},{name:"user-zoom"},{svg:true,name:"vector-effect"},{name:"vertical-align"},{name:"viewport-fit"},{name:"visibility",inherited:true},{name:"white-space",inherited:true},{name:"widows",inherited:true},{name:"width"},{name:"will-change"},{name:"word-break",inherited:true},{inherited:true,name:"word-spacing"},{name:"writing-mode",inherited:true},{svg:true,name:"x"},{svg:true,name:"y"},{name:"z-index"},{name:"zoom"}];SDK.FilmStripModel=class{constructor(e,t){this.reset(e,t)}reset(e,t){this._zeroTime=t||e.minimumRecordTime();this._spanTime=e.maximumRecordTime()-this._zeroTime;this._frames=[];const n=SDK.TracingModel.browserMainThread(e);if(!n)return;const s=n.events();for(let e=0;e<s.length;++e){const t=s[e];if(t.startTime<this._zeroTime)continue;if(!t.hasCategory(SDK.FilmStripModel._category))continue;if(t.name===SDK.FilmStripModel.TraceEvents.CaptureFrame){const e=t.args["data"];if(e)this._frames.push(SDK.FilmStripModel.Frame._fromEvent(this,t,this._frames.length))}else if(t.name===SDK.FilmStripModel.TraceEvents.Screenshot){this._frames.push(SDK.FilmStripModel.Frame._fromSnapshot(this,t,this._frames.length))}}}frames(){return this._frames}zeroTime(){return this._zeroTime}spanTime(){return this._spanTime}frameByTimestamp(e){const t=this._frames.upperBound(e,(e,t)=>e-t.timestamp)-1;return t>=0?this._frames[t]:null}};SDK.FilmStripModel._category="disabled-by-default-devtools.screenshot";SDK.FilmStripModel.TraceEvents={CaptureFrame:"CaptureFrame",Screenshot:"Screenshot"};SDK.FilmStripModel.Frame=class{constructor(e,t,n){this._model=e;this.timestamp=t;this.index=n;this._imageData=null;this._snapshot=null}static _fromEvent(e,t,n){const s=new SDK.FilmStripModel.Frame(e,t.startTime,n);s._imageData=t.args["data"];return s}static _fromSnapshot(e,t,n){const s=new SDK.FilmStripModel.Frame(e,t.startTime,n);s._snapshot=t;return s}model(){return this._model}imageDataPromise(){if(this._imageData||!this._snapshot)return Promise.resolve(this._imageData);return this._snapshot.objectPromise()}};SDK.ConsoleModel=class extends Common.Object{constructor(){super();this._messages=[];this._messageByExceptionId=new Map;this._warnings=0;this._errors=0;this._violations=0;this._pageLoadSequenceNumber=0;SDK.targetManager.observeTargets(this)}targetAdded(e){const t=e.model(SDK.ResourceTreeModel);if(!t||t.cachedResourcesLoaded()){this._initTarget(e);return}const n=t.addEventListener(SDK.ResourceTreeModel.Events.CachedResourcesLoaded,()=>{Common.EventTarget.removeEventListeners([n]);this._initTarget(e)})}_initTarget(e){const t=[];const n=e.model(SDK.CPUProfilerModel);if(n){t.push(n.addEventListener(SDK.CPUProfilerModel.Events.ConsoleProfileStarted,this._consoleProfileStarted.bind(this,n)));t.push(n.addEventListener(SDK.CPUProfilerModel.Events.ConsoleProfileFinished,this._consoleProfileFinished.bind(this,n)))}const s=e.model(SDK.ResourceTreeModel);if(s&&!e.parentTarget()){t.push(s.addEventListener(SDK.ResourceTreeModel.Events.MainFrameNavigated,this._mainFrameNavigated,this))}const i=e.model(SDK.RuntimeModel);if(i){t.push(i.addEventListener(SDK.RuntimeModel.Events.ExceptionThrown,this._exceptionThrown.bind(this,i)));t.push(i.addEventListener(SDK.RuntimeModel.Events.ExceptionRevoked,this._exceptionRevoked.bind(this,i)));t.push(i.addEventListener(SDK.RuntimeModel.Events.ConsoleAPICalled,this._consoleAPICalled.bind(this,i)));if(!e.parentTarget()){t.push(i.debuggerModel().addEventListener(SDK.DebuggerModel.Events.GlobalObjectCleared,this._clearIfNecessary,this))}t.push(i.addEventListener(SDK.RuntimeModel.Events.QueryObjectRequested,this._queryObjectRequested.bind(this,i)))}e[SDK.ConsoleModel._events]=t}targetRemoved(e){const t=e.model(SDK.RuntimeModel);if(t)this._messageByExceptionId.delete(t);Common.EventTarget.removeEventListeners(e[SDK.ConsoleModel._events]||[])}async evaluateCommandInConsole(e,t,n,s,i){const o=await e.evaluate({expression:n,objectGroup:"console",includeCommandLineAPI:s,silent:false,returnByValue:false,generatePreview:true},Common.settings.moduleSetting("consoleUserActivationEval").get(),i);Host.userMetrics.actionTaken(Host.UserMetrics.Action.ConsoleEvaluated);if(o.error)return;await Common.console.showPromise();this.dispatchEventToListeners(SDK.ConsoleModel.Events.CommandEvaluated,{result:o.object,commandMessage:t,exceptionDetails:o.exceptionDetails})}addCommandMessage(e,t){const n=new SDK.ConsoleMessage(e.runtimeModel,SDK.ConsoleMessage.MessageSource.JS,null,t,SDK.ConsoleMessage.MessageType.Command);n.setExecutionContextId(e.id);this.addMessage(n);return n}addMessage(e){e._pageLoadSequenceNumber=this._pageLoadSequenceNumber;if(e.source===SDK.ConsoleMessage.MessageSource.ConsoleAPI&&e.type===SDK.ConsoleMessage.MessageType.Clear)this._clearIfNecessary();this._messages.push(e);const t=e.runtimeModel();if(e._exceptionId&&t){let n=this._messageByExceptionId.get(t);if(!n){n=new Map;this._messageByExceptionId.set(t,n)}n.set(e._exceptionId,e)}this._incrementErrorWarningCount(e);this.dispatchEventToListeners(SDK.ConsoleModel.Events.MessageAdded,e)}_exceptionThrown(e,t){const n=t.data;const s=SDK.ConsoleMessage.fromException(e,n.details,undefined,n.timestamp,undefined);s.setExceptionId(n.details.exceptionId);this.addMessage(s)}_exceptionRevoked(e,t){const n=t.data;const s=this._messageByExceptionId.get(e);const i=s?s.get(n):null;if(!i)return;this._errors--;i.level=SDK.ConsoleMessage.MessageLevel.Verbose;this.dispatchEventToListeners(SDK.ConsoleModel.Events.MessageUpdated,i)}_consoleAPICalled(e,t){const n=t.data;let s=SDK.ConsoleMessage.MessageLevel.Info;if(n.type===SDK.ConsoleMessage.MessageType.Debug)s=SDK.ConsoleMessage.MessageLevel.Verbose;else if(n.type===SDK.ConsoleMessage.MessageType.Error||n.type===SDK.ConsoleMessage.MessageType.Assert)s=SDK.ConsoleMessage.MessageLevel.Error;else if(n.type===SDK.ConsoleMessage.MessageType.Warning)s=SDK.ConsoleMessage.MessageLevel.Warning;else if(n.type===SDK.ConsoleMessage.MessageType.Info||n.type===SDK.ConsoleMessage.MessageType.Log)s=SDK.ConsoleMessage.MessageLevel.Info;let i="";if(n.args.length&&n.args[0].unserializableValue)i=n.args[0].unserializableValue;else if(n.args.length&&(typeof n.args[0].value!=="object"||n.args[0].value===null))i=n.args[0].value+"";else if(n.args.length&&n.args[0].description)i=n.args[0].description;const o=n.stackTrace&&n.stackTrace.callFrames.length?n.stackTrace.callFrames[0]:null;const r=new SDK.ConsoleMessage(e,SDK.ConsoleMessage.MessageSource.ConsoleAPI,s,i,n.type,o?o.url:undefined,o?o.lineNumber:undefined,o?o.columnNumber:undefined,n.args,n.stackTrace,n.timestamp,n.executionContextId,undefined,undefined,n.context);this.addMessage(r)}_queryObjectRequested(e,t){const n=new SDK.ConsoleMessage(e,SDK.ConsoleMessage.MessageSource.ConsoleAPI,SDK.ConsoleMessage.MessageLevel.Info,"",SDK.ConsoleMessage.MessageType.QueryObjectResult,undefined,undefined,undefined,[t.data.objects]);this.addMessage(n)}_clearIfNecessary(){if(!Common.moduleSetting("preserveConsoleLog").get())this._clear();++this._pageLoadSequenceNumber}_mainFrameNavigated(e){if(Common.moduleSetting("preserveConsoleLog").get())Common.console.log(Common.UIString("Navigated to %s",e.data.url))}_consoleProfileStarted(e,t){const n=t.data;this._addConsoleProfileMessage(e,SDK.ConsoleMessage.MessageType.Profile,n.scriptLocation,Common.UIString("Profile '%s' started.",n.title))}_consoleProfileFinished(e,t){const n=t.data;this._addConsoleProfileMessage(e,SDK.ConsoleMessage.MessageType.ProfileEnd,n.scriptLocation,Common.UIString("Profile '%s' finished.",n.title))}_addConsoleProfileMessage(e,t,n,s){const i=[{functionName:"",scriptId:n.scriptId,url:n.script()?n.script().contentURL():"",lineNumber:n.lineNumber,columnNumber:n.columnNumber||0}];this.addMessage(new SDK.ConsoleMessage(e.runtimeModel(),SDK.ConsoleMessage.MessageSource.ConsoleAPI,SDK.ConsoleMessage.MessageLevel.Info,s,t,undefined,undefined,undefined,i))}_incrementErrorWarningCount(e){if(e.source===SDK.ConsoleMessage.MessageSource.Violation){this._violations++;return}switch(e.level){case SDK.ConsoleMessage.MessageLevel.Warning:this._warnings++;break;case SDK.ConsoleMessage.MessageLevel.Error:this._errors++;break}}messages(){return this._messages}requestClearMessages(){for(const e of SDK.targetManager.models(SDK.LogModel))e.requestClear();for(const e of SDK.targetManager.models(SDK.RuntimeModel))e.discardConsoleEntries();this._clear()}_clear(){this._messages=[];this._messageByExceptionId.clear();this._errors=0;this._warnings=0;this._violations=0;this.dispatchEventToListeners(SDK.ConsoleModel.Events.ConsoleCleared)}errors(){return this._errors}warnings(){return this._warnings}violations(){return this._violations}async saveToTempVariable(e,t){if(!t||!e){a(null);return}const n=e;const s=await n.globalObject("",false);if(!!s.exceptionDetails||!s.object){a(s.object||null);return}const i=s.object;const o=await i.callFunction(r,[SDK.RemoteObject.toCallArgument(t)]);i.release();if(o.wasThrown||!o.object||o.object.type!=="string"){a(o.object||null)}else{const e=o.object.value;const t=this.addCommandMessage(n,e);this.evaluateCommandInConsole(n,t,e,false,false)}if(o.object)o.object.release();function r(e){const t="temp";let n=1;while(t+n in this)++n;const s=t+n;this[s]=e;return s}function a(e){let t=Common.UIString("Failed to save to temp variable.");if(e)t+=" "+e.description;Common.console.error(t)}}};SDK.ConsoleModel.Events={ConsoleCleared:Symbol("ConsoleCleared"),MessageAdded:Symbol("MessageAdded"),MessageUpdated:Symbol("MessageUpdated"),CommandEvaluated:Symbol("CommandEvaluated")};SDK.ConsoleMessage=class{constructor(e,t,n,s,i,o,r,a,l,c,d,h,u,m,p){this._runtimeModel=e;this.source=t;this.level=n;this.messageText=s;this.type=i||SDK.ConsoleMessage.MessageType.Log;this.url=o||undefined;this.line=r||0;this.column=a||0;this.parameters=l;this.stackTrace=c;this.timestamp=d||Date.now();this.executionContextId=h||0;this.scriptId=u||null;this.workerId=m||null;if(!this.executionContextId&&this._runtimeModel){if(this.scriptId)this.executionContextId=this._runtimeModel.executionContextIdForScriptId(this.scriptId);else if(this.stackTrace)this.executionContextId=this._runtimeModel.executionContextForStackTrace(this.stackTrace)}if(p)this.context=p.match(/[^#]*/)[0]}static fromException(e,t,n,s,i){return new SDK.ConsoleMessage(e,SDK.ConsoleMessage.MessageSource.JS,SDK.ConsoleMessage.MessageLevel.Error,SDK.RuntimeModel.simpleTextFromException(t),n,i||t.url,t.lineNumber,t.columnNumber,t.exception?[SDK.RemoteObject.fromLocalObject(t.text),t.exception]:undefined,t.stackTrace,s,t.executionContextId,t.scriptId)}runtimeModel(){return this._runtimeModel}target(){return this._runtimeModel?this._runtimeModel.target():null}setOriginatingMessage(e){this._originatingConsoleMessage=e;this.executionContextId=e.executionContextId}setExecutionContextId(e){this.executionContextId=e}setExceptionId(e){this._exceptionId=e}originatingMessage(){return this._originatingConsoleMessage}isGroupMessage(){return this.type===SDK.ConsoleMessage.MessageType.StartGroup||this.type===SDK.ConsoleMessage.MessageType.StartGroupCollapsed||this.type===SDK.ConsoleMessage.MessageType.EndGroup}isGroupStartMessage(){return this.type===SDK.ConsoleMessage.MessageType.StartGroup||this.type===SDK.ConsoleMessage.MessageType.StartGroupCollapsed}isErrorOrWarning(){return this.level===SDK.ConsoleMessage.MessageLevel.Warning||this.level===SDK.ConsoleMessage.MessageLevel.Error}isGroupable(){const e=this.level===SDK.ConsoleMessage.MessageLevel.Error&&(this.source===SDK.ConsoleMessage.MessageSource.JS||this.source===SDK.ConsoleMessage.MessageSource.Network);return this.source!==SDK.ConsoleMessage.MessageSource.ConsoleAPI&&this.type!==SDK.ConsoleMessage.MessageType.Command&&this.type!==SDK.ConsoleMessage.MessageType.Result&&this.type!==SDK.ConsoleMessage.MessageType.System&&!e}groupCategoryKey(){return[this.source,this.level,this.type,this._pageLoadSequenceNumber].join(":")}isEqual(e){if(!e)return false;if(!this._isEqualStackTraces(this.stackTrace,e.stackTrace))return false;if(this.parameters){if(!e.parameters||this.parameters.length!==e.parameters.length)return false;for(let t=0;t<e.parameters.length;++t){if(e.parameters[t].type==="object"&&e.parameters[t].subtype!=="error")return false;if(this.parameters[t].type!==e.parameters[t].type||this.parameters[t].value!==e.parameters[t].value||this.parameters[t].description!==e.parameters[t].description)return false}}return this.runtimeModel()===e.runtimeModel()&&this.source===e.source&&this.type===e.type&&this.level===e.level&&this.line===e.line&&this.url===e.url&&this.messageText===e.messageText&&this.request===e.request&&this.executionContextId===e.executionContextId}_isEqualStackTraces(e,t){if(!e!==!t)return false;if(!e)return true;const n=e.callFrames;const s=t.callFrames;if(n.length!==s.length)return false;for(let e=0,t=n.length;e<t;++e){if(n[e].url!==s[e].url||n[e].functionName!==s[e].functionName||n[e].lineNumber!==s[e].lineNumber||n[e].columnNumber!==s[e].columnNumber)return false}return this._isEqualStackTraces(e.parent,t.parent)}};SDK.ConsoleMessage.MessageSource={XML:"xml",JS:"javascript",Network:"network",ConsoleAPI:"console-api",Storage:"storage",AppCache:"appcache",Rendering:"rendering",CSS:"css",Security:"security",Deprecation:"deprecation",Worker:"worker",Violation:"violation",Intervention:"intervention",Recommendation:"recommendation",Other:"other"};SDK.ConsoleMessage.MessageType={Log:"log",Debug:"debug",Info:"info",Error:"error",Warning:"warning",Dir:"dir",DirXML:"dirxml",Table:"table",Trace:"trace",Clear:"clear",StartGroup:"startGroup",StartGroupCollapsed:"startGroupCollapsed",EndGroup:"endGroup",Assert:"assert",Result:"result",Profile:"profile",ProfileEnd:"profileEnd",Command:"command",System:"system",QueryObjectResult:"queryObjectResult"};SDK.ConsoleMessage.MessageLevel={Verbose:"verbose",Info:"info",Warning:"warning",Error:"error"};SDK.ConsoleMessage.MessageSourceDisplayName=new Map([[SDK.ConsoleMessage.MessageSource.XML,"xml"],[SDK.ConsoleMessage.MessageSource.JS,"javascript"],[SDK.ConsoleMessage.MessageSource.Network,"network"],[SDK.ConsoleMessage.MessageSource.ConsoleAPI,"console-api"],[SDK.ConsoleMessage.MessageSource.Storage,"storage"],[SDK.ConsoleMessage.MessageSource.AppCache,"appcache"],[SDK.ConsoleMessage.MessageSource.Rendering,"rendering"],[SDK.ConsoleMessage.MessageSource.CSS,"css"],[SDK.ConsoleMessage.MessageSource.Security,"security"],[SDK.ConsoleMessage.MessageSource.Deprecation,"deprecation"],[SDK.ConsoleMessage.MessageSource.Worker,"worker"],[SDK.ConsoleMessage.MessageSource.Violation,"violation"],[SDK.ConsoleMessage.MessageSource.Intervention,"intervention"],[SDK.ConsoleMessage.MessageSource.Recommendation,"recommendation"],[SDK.ConsoleMessage.MessageSource.Other,"other"]]);SDK.ConsoleModel._events=Symbol("SDK.ConsoleModel.events");SDK.consoleModel;self["NdbSdk"]=self["NdbSdk"]||{};Protocol.inspectorBackend.registerCommand("NodeRuntime.notifyWhenWaitingForDisconnect",[{name:"enabled",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerEvent("NodeRuntime.waitingForDisconnect",[]);NdbSdk.NodeRuntimeModel=class extends SDK.SDKModel{constructor(e){super(e);this._agent=e.nodeRuntimeAgent();this.target().registerNodeRuntimeDispatcher(new NdbSdk.NodeRuntimeDispatcher(this));this._agent.notifyWhenWaitingForDisconnect(true)}_waitingForDisconnect(){this.dispatchEventToListeners(NdbSdk.NodeRuntimeModel.Events.WaitingForDisconnect,this.target())}};NdbSdk.NodeRuntimeModel.Events={WaitingForDisconnect:Symbol("WaitingForDisconnect")};NdbSdk.NodeRuntimeDispatcher=class{constructor(e){this._nodeRuntimeModel=e}waitingForDisconnect(){this._nodeRuntimeModel._waitingForDisconnect()}};Protocol.inspectorBackend.registerCommand("NodeWorker.enable",[{name:"waitForDebuggerOnStart",type:"boolean",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("NodeWorker.disable",[],[],false);Protocol.inspectorBackend.registerCommand("NodeWorker.sendMessageToWorker",[{name:"message",type:"string",optional:false},{name:"sessionId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerCommand("NodeWorker.detach",[{name:"sessionId",type:"string",optional:false}],[],false);Protocol.inspectorBackend.registerEvent("NodeWorker.attachedToWorker",["sessionId","workerInfo","waitingForDebugger"]);Protocol.inspectorBackend.registerEvent("NodeWorker.detachedFromWorker",["sessionId"]);Protocol.inspectorBackend.registerEvent("NodeWorker.receivedMessageFromWorker",["sessionId","message"]);NdbSdk.connectionSymbol=Symbol("connection");NdbSdk.NodeWorkerModel=class extends SDK.SDKModel{constructor(e){super(e);this._sessions=new Map;this._targets=new Map;this._agent=e.nodeWorkerAgent();this.target().registerNodeWorkerDispatcher(new NdbSdk.NodeWorkerDispatcher(this));this._agent.invoke_enable({waitForDebuggerOnStart:true})}sendMessageToWorker(e,t){return this._agent.sendMessageToWorker(e,t)}detach(e){return this._agent.detach(e)}dispose(){this._sessions.clear();for(const e of this._targets.values()){SDK.targetManager.removeTarget(e);e.dispose()}this._targets.clear()}_attachedToWorker(e,t,n){const s=this.target().id()+"#"+t.workerId;const i=new NdbSdk.NodeWorkerConnection(e,this);this._sessions.set(e,i);const o=SDK.targetManager.createTarget(s,t.title,SDK.Target.Type.Node,this.target(),undefined,false,i);o[NdbSdk.connectionSymbol]=i;this._targets.set(e,o);o.runtimeAgent().runIfWaitingForDebugger()}_detachedFromWorker(e){const t=this._sessions.get(e);if(t){this._sessions.delete(e);const t=this._targets.get(e);if(t){SDK.targetManager.removeTarget(t);t.dispose();this._targets.delete(e)}}}_receivedMessageFromWorker(e,t){const n=this._sessions.get(e);if(n)n.receivedMessageFromWorker(t)}};NdbSdk.NodeWorkerConnection=class{constructor(e,t){this._onMessage=null;this._onDisconnect=null;this._sessionId=e;this._nodeWorkerModel=t}setOnMessage(e){this._onMessage=e}setOnDisconnect(e){this._onDisconnect=e}sendRawMessage(e){this._nodeWorkerModel.sendMessageToWorker(e,this._sessionId)}disconnect(){return this._nodeWorkerModel.detach(this._sessionId)}receivedMessageFromWorker(e){if(this._onMessage)this._onMessage(e)}detachedFromWorker(){if(this._onDisconnect)this._onDisconnect()}};NdbSdk.NodeWorkerDispatcher=class{constructor(e){this._nodeWorkerModel=e}attachedToWorker(e,t,n){this._nodeWorkerModel._attachedToWorker(e,t,n)}detachedFromWorker(e){this._nodeWorkerModel._detachedFromWorker(e)}receivedMessageFromWorker(e,t){this._nodeWorkerModel._receivedMessageFromWorker(e,t)}};self["Services"]=self["Services"]||{};Services.ServiceManager=class{createRemoteService(e){if(!this._remoteConnection){const e=Runtime.queryParam("service-backend");if(!e){console.error("No endpoint address specified");return Promise.resolve(null)}this._remoteConnection=new Services.ServiceManager.Connection(new Services.ServiceManager.RemoteServicePort(e))}return this._remoteConnection._createService(e)}createAppService(e,t){let n=e+".js";const s=Runtime.queryParam("remoteBase");const i=Runtime.queryParam("debugFrontend");const o=Host.isUnderTest();const r=[];if(s)r.push("remoteBase="+s);if(i)r.push("debugFrontend="+i);if(o)r.push("isUnderTest=true");if(r.length)n+=`?${r.join("&")}`;const a=new Worker(n);const l=new Services.ServiceManager.Connection(new Services.ServiceManager.WorkerServicePort(a));return l._createService(t)}};Services.ServiceManager.Connection=class{constructor(e){this._port=e;this._port.setHandlers(this._onMessage.bind(this),this._connectionClosed.bind(this));this._lastId=1;this._callbacks=new Map;this._services=new Map}_createService(e){return this._sendCommand(e+".create").then(t=>{if(!t){console.error("Could not initialize service: "+e);return null}const n=new Services.ServiceManager.Service(this,e,t.id);this._services.set(e+":"+t.id,n);return n})}_serviceDisposed(e){this._services.delete(e._serviceName+":"+e._objectId);if(!this._services.size){this._port.close()}}_sendCommand(e,t){const n=this._lastId++;const s=JSON.stringify({id:n,method:e,params:t||{}});return this._port.send(s).then(e=>{if(!e)return Promise.resolve(null);return new Promise(e=>this._callbacks.set(n,e))})}_onMessage(e){let t;try{t=JSON.parse(e)}catch(e){console.error(e);return}if(t.id){if(t.error)console.error("Service error: "+t.error);this._callbacks.get(t.id)(t.error?null:t.result);this._callbacks.delete(t.id);return}const n=t.method.split(".");const s=n[0];const i=n[1];const o=this._services.get(s+":"+t.params.id);if(!o){console.error("Unable to lookup stub for "+s+":"+t.params.id);return}o._dispatchNotification(i,t.params)}_connectionClosed(){for(const e of this._callbacks.values())e(null);this._callbacks.clear();for(const e of this._services.values())e._dispatchNotification("disposed");this._services.clear()}};Services.ServiceManager.Service=class{constructor(e,t,n){this._connection=e;this._serviceName=t;this._objectId=n;this._notificationHandlers=new Map}dispose(){const e={id:this._objectId};return this._connection._sendCommand(this._serviceName+".dispose",e).then(()=>{this._connection._serviceDisposed(this)})}on(e,t){this._notificationHandlers.set(e,t)}send(e,t){t=t||{};t.id=this._objectId;return this._connection._sendCommand(this._serviceName+"."+e,t)}_dispatchNotification(e,t){const n=this._notificationHandlers.get(e);if(!n){console.error("Could not report notification '"+e+"' on '"+this._objectId+"'");return}n(t)}};Services.ServiceManager.RemoteServicePort=class{constructor(e){this._url=e}setHandlers(e,t){this._messageHandler=e;this._closeHandler=t}_open(){if(!this._connectionPromise)this._connectionPromise=new Promise(e.bind(this));return this._connectionPromise;function e(e){let t;try{t=new WebSocket(this._url);t.onmessage=s.bind(this);t.onclose=i.bind(this);t.onopen=n.bind(this)}catch(t){e(false)}function n(){this._socket=t;e(true)}function s(e){this._messageHandler(e.data)}function i(){if(!this._socket)e(false);this._socketClosed(!!this._socket)}}}send(e){return this._open().then(()=>{if(this._socket){this._socket.send(e);return true}return false})}close(){return this._open().then(()=>{if(this._socket){this._socket.close();this._socketClosed(true)}return true})}_socketClosed(e){this._socket=null;delete this._connectionPromise;if(e)this._closeHandler()}};Services.ServiceManager.WorkerServicePort=class{constructor(e){this._worker=e;let t;this._workerPromise=new Promise(e=>t=e);this._worker.onmessage=n.bind(this);this._worker.onclose=this._closeHandler;function n(e){if(e.data==="workerReady"){t(true);return}this._messageHandler(e.data)}}setHandlers(e,t){this._messageHandler=e;this._closeHandler=t}send(e){return this._workerPromise.then(()=>{try{this._worker.postMessage(e);return true}catch(e){return false}})}close(){return this._workerPromise.then(()=>{if(this._worker)this._worker.terminate();return false})}};Services.serviceManager=new Services.ServiceManager;self["Workspace"]=self["Workspace"]||{};Workspace.FileManager=class extends Common.Object{constructor(){super();this._saveCallbacks=new Map;InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.SavedURL,this._savedURL,this);InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.CanceledSaveURL,this._canceledSavedURL,this);InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.AppendedToURL,this._appendedToURL,this)}save(e,t,n){const s=new Promise(t=>this._saveCallbacks.set(e,t));InspectorFrontendHost.save(e,t,n);return s}_savedURL(e){const t=e.data.url;const n=this._saveCallbacks.get(t);this._saveCallbacks.delete(t);if(n)n({fileSystemPath:e.data.fileSystemPath})}_canceledSavedURL(e){const t=e.data;const n=this._saveCallbacks.get(t);this._saveCallbacks.delete(t);if(n)n(null)}append(e,t){InspectorFrontendHost.append(e,t)}close(e){InspectorFrontendHost.close(e)}_appendedToURL(e){const t=e.data;this.dispatchEventToListeners(Workspace.FileManager.Events.AppendedToURL,t)}};Workspace.FileManager.Events={AppendedToURL:Symbol("AppendedToURL")};Workspace.fileManager;Workspace.UISourceCode=class extends Common.Object{constructor(e,t,n){super();this._project=e;this._url=t;const s=t.asParsedURL();if(s){this._origin=s.securityOrigin();this._parentURL=this._origin+s.folderPathComponents;this._name=s.lastPathComponent;if(s.queryParams)this._name+="?"+s.queryParams}else{this._origin="";this._parentURL="";this._name=t}this._contentType=n;this._requestContentPromise=null;this._decorations=null;this._hasCommits=false;this._messages=null;this._contentLoaded=false;this._content=null;this._contentEncoded;this._forceLoadOnCheckContent=false;this._checkingContent=false;this._lastAcceptedContent=null;this._workingCopy=null;this._workingCopyGetter=null}requestMetadata(){return this._project.requestMetadata(this)}name(){return this._name}mimeType(){return this._project.mimeType(this)}url(){return this._url}parentURL(){return this._parentURL}origin(){return this._origin}fullDisplayName(){return this._project.fullDisplayName(this)}displayName(e){if(!this._name)return Common.UIString("(index)");let t=this._name;try{if(this.project().type()===Workspace.projectTypes.FileSystem)t=unescape(t);else t=decodeURI(t)}catch(e){}return e?t:t.trimEnd(100)}canRename(){return this._project.canRename()}rename(e){let t;const n=new Promise(e=>t=e);this._project.rename(this,e,s.bind(this));return n;function s(e,n,s,i){if(e){this._updateName(n,s,i)}t(e)}}remove(){this._project.deleteFile(this)}_updateName(e,t,n){const s=this._url;this._url=this._url.substring(0,this._url.length-this._name.length)+e;this._name=e;if(t)this._url=t;if(n)this._contentType=n;this.dispatchEventToListeners(Workspace.UISourceCode.Events.TitleChanged,this);this.project().workspace().dispatchEventToListeners(Workspace.Workspace.Events.UISourceCodeRenamed,{oldURL:s,uiSourceCode:this})}contentURL(){return this.url()}contentType(){return this._contentType}async contentEncoded(){await this.requestContent();return this._contentEncoded||false}project(){return this._project}requestContent(){if(this._requestContentPromise)return this._requestContentPromise;if(this._contentLoaded){this._requestContentPromise=Promise.resolve(this._content)}else{let e;this._requestContentPromise=new Promise(t=>e=t);this._project.requestFileContent(this,(t,n)=>{if(!this._contentLoaded){this._contentLoaded=true;this._content=t;this._contentEncoded=n}e(this._content)})}return this._requestContentPromise}checkContentUpdated(){if(!this._contentLoaded&&!this._forceLoadOnCheckContent)return;if(!this._project.canSetFileContent()||this._checkingContent)return;this._checkingContent=true;this._project.requestFileContent(this,e.bind(this));async function e(e,t){this._checkingContent=false;if(e===null){const e=this.workingCopy();this._contentCommitted("",false);this.setWorkingCopy(e);return}if(this._lastAcceptedContent===e)return;if(this._content===e){this._lastAcceptedContent=null;return}if(!this.isDirty()||this._workingCopy===e){this._contentCommitted(e,false);return}await Common.Revealer.reveal(this);await new Promise(e=>setTimeout(e,0));const n=window.confirm(Common.UIString("This file was changed externally. Would you like to reload it?"));if(n)this._contentCommitted(e,false);else this._lastAcceptedContent=e}}forceLoadOnCheckContent(){this._forceLoadOnCheckContent=true}_commitContent(e){if(this._project.canSetFileContent())this._project.setFileContent(this,e,false);this._contentCommitted(e,true)}_contentCommitted(e,t){this._lastAcceptedContent=null;this._content=e;this._contentLoaded=true;this._requestContentPromise=null;this._hasCommits=true;this._innerResetWorkingCopy();const n={uiSourceCode:this,content:e,encoded:this._contentEncoded};this.dispatchEventToListeners(Workspace.UISourceCode.Events.WorkingCopyCommitted,n);this._project.workspace().dispatchEventToListeners(Workspace.Workspace.Events.WorkingCopyCommitted,n);if(t)this._project.workspace().dispatchEventToListeners(Workspace.Workspace.Events.WorkingCopyCommittedByUser,n)}addRevision(e){this._commitContent(e)}hasCommits(){return this._hasCommits}workingCopy(){if(this._workingCopyGetter){this._workingCopy=this._workingCopyGetter();this._workingCopyGetter=null}if(this.isDirty())return this._workingCopy;return this._content||""}resetWorkingCopy(){this._innerResetWorkingCopy();this._workingCopyChanged()}_innerResetWorkingCopy(){this._workingCopy=null;this._workingCopyGetter=null}setWorkingCopy(e){this._workingCopy=e;this._workingCopyGetter=null;this._workingCopyChanged()}setContent(e,t){this._contentEncoded=t;if(this._project.canSetFileContent())this._project.setFileContent(this,e,t);this._contentCommitted(e,true)}setWorkingCopyGetter(e){this._workingCopyGetter=e;this._workingCopyChanged()}_workingCopyChanged(){this._removeAllMessages();this.dispatchEventToListeners(Workspace.UISourceCode.Events.WorkingCopyChanged,this);this._project.workspace().dispatchEventToListeners(Workspace.Workspace.Events.WorkingCopyChanged,{uiSourceCode:this})}removeWorkingCopyGetter(){if(!this._workingCopyGetter)return;this._workingCopy=this._workingCopyGetter();this._workingCopyGetter=null}commitWorkingCopy(){if(this.isDirty())this._commitContent(this.workingCopy())}isDirty(){return this._workingCopy!==null||this._workingCopyGetter!==null}extension(){return Common.ParsedURL.extractExtension(this._name)}content(){return this._content}searchInContent(e,t,n){const s=this.content();if(!s)return this._project.searchInFileContent(this,e,t,n);return Promise.resolve(Common.ContentProvider.performSearchInContent(s,e,t,n))}contentLoaded(){return this._contentLoaded}uiLocation(e,t){if(typeof t==="undefined")t=0;return new Workspace.UILocation(this,e,t)}messages(){return this._messages?new Set(this._messages):new Set}addLineMessage(e,t,n,s){return this.addMessage(e,t,new TextUtils.TextRange(n,s||0,n,s||0))}addMessage(e,t,n){const s=new Workspace.UISourceCode.Message(this,e,t,n);if(!this._messages)this._messages=new Set;this._messages.add(s);this.dispatchEventToListeners(Workspace.UISourceCode.Events.MessageAdded,s);return s}removeMessage(e){if(this._messages&&this._messages.delete(e))this.dispatchEventToListeners(Workspace.UISourceCode.Events.MessageRemoved,e)}_removeAllMessages(){if(!this._messages)return;for(const e of this._messages)this.dispatchEventToListeners(Workspace.UISourceCode.Events.MessageRemoved,e);this._messages=null}addLineDecoration(e,t,n){this.addDecoration(TextUtils.TextRange.createFromLocation(e,0),t,n)}addDecoration(e,t,n){const s=new Workspace.UISourceCode.LineMarker(e,t,n);if(!this._decorations)this._decorations=new Multimap;this._decorations.set(t,s);this.dispatchEventToListeners(Workspace.UISourceCode.Events.LineDecorationAdded,s)}removeDecorationsForType(e){if(!this._decorations)return;const t=this._decorations.get(e);this._decorations.deleteAll(e);t.forEach(e=>{this.dispatchEventToListeners(Workspace.UISourceCode.Events.LineDecorationRemoved,e)})}allDecorations(){return this._decorations?this._decorations.valuesArray():[]}removeAllDecorations(){if(!this._decorations)return;const e=this._decorations.valuesArray();this._decorations.clear();e.forEach(e=>this.dispatchEventToListeners(Workspace.UISourceCode.Events.LineDecorationRemoved,e))}decorationsForType(e){return this._decorations?this._decorations.get(e):null}};Workspace.UISourceCode.Events={WorkingCopyChanged:Symbol("WorkingCopyChanged"),WorkingCopyCommitted:Symbol("WorkingCopyCommitted"),TitleChanged:Symbol("TitleChanged"),MessageAdded:Symbol("MessageAdded"),MessageRemoved:Symbol("MessageRemoved"),LineDecorationAdded:Symbol("LineDecorationAdded"),LineDecorationRemoved:Symbol("LineDecorationRemoved")};Workspace.UILocation=class{constructor(e,t,n){this.uiSourceCode=e;this.lineNumber=t;this.columnNumber=n}linkText(e){let t=this.uiSourceCode.displayName(e);if(typeof this.lineNumber==="number")t+=":"+(this.lineNumber+1);return t}id(){return this.uiSourceCode.project().id()+":"+this.uiSourceCode.url()+":"+this.lineNumber+":"+this.columnNumber}toUIString(){return this.uiSourceCode.url()+":"+(this.lineNumber+1)}static comparator(e,t){return e.compareTo(t)}compareTo(e){if(this.uiSourceCode.url()!==e.uiSourceCode.url())return this.uiSourceCode.url()>e.uiSourceCode.url()?1:-1;if(this.lineNumber!==e.lineNumber)return this.lineNumber-e.lineNumber;return this.columnNumber-e.columnNumber}};Workspace.UISourceCode.Message=class{constructor(e,t,n,s){this._uiSourceCode=e;this._level=t;this._text=n;this._range=s}uiSourceCode(){return this._uiSourceCode}level(){return this._level}text(){return this._text}range(){return this._range}lineNumber(){return this._range.startLine}columnNumber(){return this._range.startColumn}isEqual(e){return this._uiSourceCode===e._uiSourceCode&&this.text()===e.text()&&this.level()===e.level()&&this.range().equal(e.range())}remove(){this._uiSourceCode.removeMessage(this)}};Workspace.UISourceCode.Message.Level={Error:"Error",Warning:"Warning"};Workspace.UISourceCode.LineMarker=class{constructor(e,t,n){this._range=e;this._type=t;this._data=n}range(){return this._range}type(){return this._type}data(){return this._data}};Workspace.UISourceCodeMetadata=class{constructor(e,t){this.modificationTime=e;this.contentSize=t}};Workspace.ProjectSearchConfig=function(){};Workspace.ProjectSearchConfig.prototype={query(){},ignoreCase(){},isRegex(){},queries(){},filePathMatchesFileQuery(e){}};Workspace.Project=function(){};Workspace.Project.prototype={workspace(){},id(){},type(){},isServiceProject(){},displayName(){},requestMetadata(e){},requestFileContent(e,t){},canSetFileContent(){},setFileContent(e,t,n){},fullDisplayName(e){},mimeType(e){},canRename(){},rename(e,t,n){},excludeFolder(e){},canExcludeFolder(e){},createFile(e,t,n,s){},canCreateFile(){},deleteFile(e){},remove(){},searchInFileContent(e,t,n,s){},findFilesMatchingSearchRequest(e,t,n){},indexContent(e){},uiSourceCodeForURL(e){},uiSourceCodes(){}};Workspace.projectTypes={Debugger:"debugger",Formatter:"formatter",Network:"network",FileSystem:"filesystem",ContentScripts:"contentscripts",Service:"service"};Workspace.ProjectStore=class{constructor(e,t,n,s){this._workspace=e;this._id=t;this._type=n;this._displayName=s;this._uiSourceCodesMap=new Map;this._uiSourceCodesList=[];this._project=this}id(){return this._id}type(){return this._type}displayName(){return this._displayName}workspace(){return this._workspace}createUISourceCode(e,t){return new Workspace.UISourceCode(this._project,e,t)}addUISourceCode(e){const t=e.url();if(this.uiSourceCodeForURL(t))return false;this._uiSourceCodesMap.set(t,{uiSourceCode:e,index:this._uiSourceCodesList.length});this._uiSourceCodesList.push(e);this._workspace.dispatchEventToListeners(Workspace.Workspace.Events.UISourceCodeAdded,e);return true}removeUISourceCode(e){const t=this.uiSourceCodeForURL(e);if(!t)return;const n=this._uiSourceCodesMap.get(e);const s=this._uiSourceCodesList[this._uiSourceCodesList.length-1];this._uiSourceCodesList[n.index]=s;const i=this._uiSourceCodesMap.get(s.url());i.index=n.index;this._uiSourceCodesList.splice(this._uiSourceCodesList.length-1,1);this._uiSourceCodesMap.delete(e);this._workspace.dispatchEventToListeners(Workspace.Workspace.Events.UISourceCodeRemoved,n.uiSourceCode)}removeProject(){this._workspace._removeProject(this._project);this._uiSourceCodesMap=new Map;this._uiSourceCodesList=[]}uiSourceCodeForURL(e){const t=this._uiSourceCodesMap.get(e);return t?t.uiSourceCode:null}uiSourceCodes(){return this._uiSourceCodesList}renameUISourceCode(e,t){const n=e.url();const s=e.parentURL()?e.parentURL()+"/"+t:t;const i=this._uiSourceCodesMap.get(n);this._uiSourceCodesMap.set(s,i);this._uiSourceCodesMap.delete(n)}};Workspace.Workspace=class extends Common.Object{constructor(){super();this._projects=new Map;this._hasResourceContentTrackingExtensions=false}uiSourceCode(e,t){const n=this._projects.get(e);return n?n.uiSourceCodeForURL(t):null}uiSourceCodeForURL(e){for(const t of this._projects.values()){const n=t.uiSourceCodeForURL(e);if(n)return n}return null}uiSourceCodesForProjectType(e){let t=[];for(const n of this._projects.values()){if(n.type()===e)t=t.concat(n.uiSourceCodes())}return t}addProject(e){console.assert(!this._projects.has(e.id()),`A project with id ${e.id()} already exists!`);this._projects.set(e.id(),e);this.dispatchEventToListeners(Workspace.Workspace.Events.ProjectAdded,e)}_removeProject(e){this._projects.delete(e.id());this.dispatchEventToListeners(Workspace.Workspace.Events.ProjectRemoved,e)}project(e){return this._projects.get(e)||null}projects(){return this._projects.valuesArray()}projectsForType(e){function t(t){return t.type()===e}return this.projects().filter(t)}uiSourceCodes(){let e=[];for(const t of this._projects.values())e=e.concat(t.uiSourceCodes());return e}setHasResourceContentTrackingExtensions(e){this._hasResourceContentTrackingExtensions=e}hasResourceContentTrackingExtensions(){return this._hasResourceContentTrackingExtensions}};Workspace.Workspace.Events={UISourceCodeAdded:Symbol("UISourceCodeAdded"),UISourceCodeRemoved:Symbol("UISourceCodeRemoved"),UISourceCodeRenamed:Symbol("UISourceCodeRenamed"),WorkingCopyChanged:Symbol("WorkingCopyChanged"),WorkingCopyCommitted:Symbol("WorkingCopyCommitted"),WorkingCopyCommittedByUser:Symbol("WorkingCopyCommittedByUser"),ProjectAdded:Symbol("ProjectAdded"),ProjectRemoved:Symbol("ProjectRemoved")};Workspace.workspace;self["Bindings"]=self["Bindings"]||{};Bindings.LiveLocation=function(){};Bindings.LiveLocation.prototype={update(){},uiLocation(){},dispose(){},isBlackboxed(){}};Bindings.LiveLocationWithPool=class{constructor(e,t){this._updateDelegate=e;this._locationPool=t;this._locationPool._add(this)}update(){this._updateDelegate(this)}uiLocation(){throw"Not implemented"}dispose(){this._locationPool._delete(this);this._updateDelegate=null}isBlackboxed(){throw"Not implemented"}};Bindings.LiveLocationPool=class{constructor(){this._locations=new Set}_add(e){this._locations.add(e)}_delete(e){this._locations.delete(e)}disposeAll(){for(const e of this._locations)e.dispose()}};Bindings.ResourceMapping=class{constructor(e,t){this._workspace=t;this._modelToInfo=new Map;e.observeModels(SDK.ResourceTreeModel,this)}modelAdded(e){const t=new Bindings.ResourceMapping.ModelInfo(this._workspace,e);this._modelToInfo.set(e,t)}modelRemoved(e){const t=this._modelToInfo.get(e);t.dispose();this._modelToInfo.delete(e)}_infoForTarget(e){const t=e.model(SDK.ResourceTreeModel);return t?this._modelToInfo.get(t):null}cssLocationToUILocation(e){const t=e.header();if(!t)return null;const n=this._infoForTarget(e.cssModel().target());if(!n)return null;const s=n._project.uiSourceCodeForURL(e.url);if(!s)return null;const i=t[Bindings.ResourceMapping._offsetSymbol]||TextUtils.TextRange.createFromLocation(t.startLine,t.startColumn);const o=e.lineNumber+i.startLine-t.startLine;let r=e.columnNumber;if(e.lineNumber===t.startLine)r+=i.startColumn-t.startColumn;return s.uiLocation(o,r)}jsLocationToUILocation(e){const t=e.script();if(!t)return null;const n=this._infoForTarget(e.debuggerModel.target());if(!n)return null;const s=n._project.uiSourceCodeForURL(t.sourceURL);if(!s)return null;const i=t[Bindings.ResourceMapping._offsetSymbol]||TextUtils.TextRange.createFromLocation(t.lineOffset,t.columnOffset);const o=e.lineNumber+i.startLine-t.lineOffset;let r=e.columnNumber;if(e.lineNumber===t.lineOffset)r+=i.startColumn-t.columnOffset;return s.uiLocation(o,r)}uiLocationToJSLocations(e,t,n){if(!e[Bindings.ResourceMapping._symbol])return[];const s=Bindings.NetworkProject.targetForUISourceCode(e);if(!s)return[];const i=s.model(SDK.DebuggerModel);if(!i)return[];const o=i.createRawLocationByURL(e.url(),t,n);return o?[o]:[]}_resetForTest(e){const t=e.model(SDK.ResourceTreeModel);const n=t?this._modelToInfo.get(t):null;if(n)n._resetForTest()}};Bindings.ResourceMapping.ModelInfo=class{constructor(e,t){const n=t.target();this._project=new Bindings.ContentProviderBasedProject(e,"resources:"+n.id(),Workspace.projectTypes.Network,"",false);Bindings.NetworkProject.setTargetForProject(this._project,n);this._bindings=new Map;const s=n.model(SDK.CSSModel);this._cssModel=s;this._eventListeners=[t.addEventListener(SDK.ResourceTreeModel.Events.ResourceAdded,this._resourceAdded,this),t.addEventListener(SDK.ResourceTreeModel.Events.FrameWillNavigate,this._frameWillNavigate,this),t.addEventListener(SDK.ResourceTreeModel.Events.FrameDetached,this._frameDetached,this),s.addEventListener(SDK.CSSModel.Events.StyleSheetChanged,this._styleSheetChanged,this)]}_styleSheetChanged(e){const t=this._cssModel.styleSheetHeaderForId(e.data.styleSheetId);if(!t||!t.isInline)return;const n=this._bindings.get(t.resourceURL());if(!n)return;n._styleSheetChanged(t,e.data.edit)}_acceptsResource(e){const t=e.resourceType();if(t!==Common.resourceTypes.Image&&t!==Common.resourceTypes.Font&&t!==Common.resourceTypes.Document&&t!==Common.resourceTypes.Manifest)return false;if(t===Common.resourceTypes.Image&&e.mimeType&&!e.mimeType.startsWith("image"))return false;if(t===Common.resourceTypes.Font&&e.mimeType&&!e.mimeType.includes("font"))return false;if((t===Common.resourceTypes.Image||t===Common.resourceTypes.Font)&&e.contentURL().startsWith("data:"))return false;return true}_resourceAdded(e){const t=e.data;if(!this._acceptsResource(t))return;let n=this._bindings.get(t.url);if(!n){n=new Bindings.ResourceMapping.Binding(this._project,t);this._bindings.set(t.url,n)}else{n.addResource(t)}}_removeFrameResources(e){for(const t of e.resources()){if(!this._acceptsResource(t))continue;const e=this._bindings.get(t.url);if(e._resources.size===1){e.dispose();this._bindings.delete(t.url)}else{e.removeResource(t)}}}_frameWillNavigate(e){const t=e.data;this._removeFrameResources(t)}_frameDetached(e){const t=e.data;this._removeFrameResources(t)}_resetForTest(){for(const e of this._bindings.valuesArray())e.dispose();this._bindings.clear()}dispose(){Common.EventTarget.removeEventListeners(this._eventListeners);for(const e of this._bindings.valuesArray())e.dispose();this._bindings.clear();this._project.removeProject()}};Bindings.ResourceMapping.Binding=class{constructor(e,t){this._resources=new Set([t]);this._project=e;this._uiSourceCode=this._project.createUISourceCode(t.url,t.contentType());this._uiSourceCode[Bindings.ResourceMapping._symbol]=true;Bindings.NetworkProject.setInitialFrameAttribution(this._uiSourceCode,t.frameId);this._project.addUISourceCodeWithProvider(this._uiSourceCode,this,Bindings.resourceMetadata(t),t.mimeType);this._edits=[]}_inlineStyles(){const e=Bindings.NetworkProject.targetForUISourceCode(this._uiSourceCode);const t=e.model(SDK.CSSModel);const n=[];if(t){for(const e of t.styleSheetIdsForURL(this._uiSourceCode.url())){const s=t.styleSheetHeaderForId(e);if(s)n.push(s)}}return n}_inlineScripts(){const e=Bindings.NetworkProject.targetForUISourceCode(this._uiSourceCode);const t=e.model(SDK.DebuggerModel);if(!t)return[];return t.scriptsForSourceURL(this._uiSourceCode.url())}async _styleSheetChanged(e,t){this._edits.push({stylesheet:e,edit:t});if(this._edits.length>1)return;const n=await this._uiSourceCode.requestContent();if(n!==null)this._innerStyleSheetChanged(n);this._edits=[]}_innerStyleSheetChanged(e){const t=this._inlineScripts();const n=this._inlineStyles();let s=new TextUtils.Text(e);for(const e of this._edits){const i=e.edit;const o=e.stylesheet;const r=o[Bindings.ResourceMapping._offsetSymbol]||TextUtils.TextRange.createFromLocation(o.startLine,o.startColumn);const a=i.oldRange.relativeFrom(r.startLine,r.startColumn);const l=i.newRange.relativeFrom(r.startLine,r.startColumn);s=new TextUtils.Text(s.replaceRange(a,i.newText));for(const e of t){const t=e[Bindings.ResourceMapping._offsetSymbol]||TextUtils.TextRange.createFromLocation(e.lineOffset,e.columnOffset);if(!t.follows(a))continue;e[Bindings.ResourceMapping._offsetSymbol]=t.rebaseAfterTextEdit(a,l);Bindings.debuggerWorkspaceBinding.updateLocations(e)}for(const e of n){const t=e[Bindings.ResourceMapping._offsetSymbol]||TextUtils.TextRange.createFromLocation(e.startLine,e.startColumn);if(!t.follows(a))continue;e[Bindings.ResourceMapping._offsetSymbol]=t.rebaseAfterTextEdit(a,l);Bindings.cssWorkspaceBinding.updateLocations(e)}}this._uiSourceCode.addRevision(s.value())}addResource(e){this._resources.add(e);Bindings.NetworkProject.addFrameAttribution(this._uiSourceCode,e.frameId)}removeResource(e){this._resources.delete(e);Bindings.NetworkProject.removeFrameAttribution(this._uiSourceCode,e.frameId)}dispose(){this._project.removeFile(this._uiSourceCode.url())}contentURL(){return this._resources.firstValue().contentURL()}contentType(){return this._resources.firstValue().contentType()}contentEncoded(){return this._resources.firstValue().contentEncoded()}requestContent(){return this._resources.firstValue().requestContent()}searchInContent(e,t,n){return this._resources.firstValue().searchInContent(e,t,n)}};Bindings.ResourceMapping._symbol=Symbol("Bindings.ResourceMapping._symbol");Bindings.ResourceMapping._offsetSymbol=Symbol("Bindings.ResourceMapping._offsetSymbol");Bindings.CompilerScriptMapping=class{constructor(e,t,n){this._debuggerModel=e;this._sourceMapManager=this._debuggerModel.sourceMapManager();this._workspace=t;this._debuggerWorkspaceBinding=n;const s=e.target();this._regularProject=new Bindings.ContentProviderBasedProject(t,"jsSourceMaps::"+s.id(),Workspace.projectTypes.Network,"",false);this._contentScriptsProject=new Bindings.ContentProviderBasedProject(t,"jsSourceMaps:extensions:"+s.id(),Workspace.projectTypes.ContentScripts,"",false);Bindings.NetworkProject.setTargetForProject(this._regularProject,s);Bindings.NetworkProject.setTargetForProject(this._contentScriptsProject,s);this._regularBindings=new Map;this._contentScriptsBindings=new Map;this._stubUISourceCodes=new Map;this._stubProject=new Bindings.ContentProviderBasedProject(t,"jsSourceMaps:stub:"+s.id(),Workspace.projectTypes.Service,"",true);this._eventListeners=[this._sourceMapManager.addEventListener(SDK.SourceMapManager.Events.SourceMapWillAttach,this._sourceMapWillAttach,this),this._sourceMapManager.addEventListener(SDK.SourceMapManager.Events.SourceMapFailedToAttach,this._sourceMapFailedToAttach,this),this._sourceMapManager.addEventListener(SDK.SourceMapManager.Events.SourceMapAttached,this._sourceMapAttached,this),this._sourceMapManager.addEventListener(SDK.SourceMapManager.Events.SourceMapDetached,this._sourceMapDetached,this)]}_addStubUISourceCode(e){const t=this._stubProject.addContentProvider(e.sourceURL+":sourcemap",Common.StaticContentProvider.fromString(e.sourceURL,Common.resourceTypes.Script,"\n\n\n\n\n// Please wait a bit.\n// Compiled script is not shown while source map is being loaded!"),"text/javascript");this._stubUISourceCodes.set(e,t)}_removeStubUISourceCode(e){const t=this._stubUISourceCodes.get(e);this._stubUISourceCodes.delete(e);this._stubProject.removeFile(t.url());this._debuggerWorkspaceBinding.updateLocations(e)}static uiSourceCodeOrigin(e){const t=e[Bindings.CompilerScriptMapping._sourceMapSymbol];if(!t)return null;return t.compiledURL()}mapsToSourceCode(e){const t=e.script();const n=t?this._sourceMapManager.sourceMapForClient(t):null;if(!n)return true;return!!n.findEntry(e.lineNumber,e.columnNumber)}uiSourceCodeForURL(e,t){return t?this._contentScriptsProject.uiSourceCodeForURL(e):this._regularProject.uiSourceCodeForURL(e)}rawLocationToUILocation(e){const t=e.script();if(!t)return null;const n=e.lineNumber-t.lineOffset;let s=e.columnNumber;if(!n)s-=t.columnOffset;const i=this._stubUISourceCodes.get(t);if(i)return new Workspace.UILocation(i,n,s);const o=this._sourceMapManager.sourceMapForClient(t);if(!o)return null;const r=o.findEntry(n,s);if(!r||!r.sourceURL)return null;const a=t.isContentScript()?this._contentScriptsProject.uiSourceCodeForURL(r.sourceURL):this._regularProject.uiSourceCodeForURL(r.sourceURL);if(!a)return null;return a.uiLocation(r.sourceLineNumber,r.sourceColumnNumber)}uiLocationToRawLocations(e,t,n){const s=e[Bindings.CompilerScriptMapping._sourceMapSymbol];if(!s)return[];const i=this._sourceMapManager.clientsForSourceMap(s);if(!i.length)return[];const o=s.sourceLineMapping(e.url(),t,n);if(!o)return[];return i.map(e=>this._debuggerModel.createRawLocation(e,o.lineNumber+e.lineOffset,!o.lineNumber?o.columnNumber+e.columnOffset:o.columnNumber))}_sourceMapWillAttach(e){const t=e.data;this._addStubUISourceCode(t);this._debuggerWorkspaceBinding.updateLocations(t)}_sourceMapFailedToAttach(e){const t=e.data;this._removeStubUISourceCode(t)}_sourceMapAttached(e){const t=e.data.client;const n=e.data.sourceMap;this._removeStubUISourceCode(t);if(Bindings.blackboxManager.isBlackboxedURL(t.sourceURL,t.isContentScript())){this._sourceMapAttachedForTest(n);return}this._populateSourceMapSources(t,n);this._sourceMapAttachedForTest(n)}_sourceMapDetached(e){const t=e.data.client;const n=t[Bindings.CompilerScriptMapping._frameIdSymbol];const s=e.data.sourceMap;const i=t.isContentScript()?this._contentScriptsBindings:this._regularBindings;for(const e of s.sourceURLs()){const t=i.get(e);if(t){t.removeSourceMap(s,n);if(!t._uiSourceCode)i.delete(e)}}this._debuggerWorkspaceBinding.updateLocations(t)}sourceMapForScript(e){return this._sourceMapManager.sourceMapForClient(e)}_sourceMapAttachedForTest(e){}_populateSourceMapSources(e,t){const n=Bindings.frameIdForScript(e);e[Bindings.CompilerScriptMapping._frameIdSymbol]=n;const s=e.isContentScript()?this._contentScriptsProject:this._regularProject;const i=e.isContentScript()?this._contentScriptsBindings:this._regularBindings;for(const e of t.sourceURLs()){let o=i.get(e);if(!o){o=new Bindings.CompilerScriptMapping.Binding(s,e);i.set(e,o)}o.addSourceMap(t,n)}this._debuggerWorkspaceBinding.updateLocations(e)}static uiLineHasMapping(e,t){const n=e[Bindings.CompilerScriptMapping._sourceMapSymbol];if(!n)return true;return!!n.sourceLineMapping(e.url(),t,0)}dispose(){Common.EventTarget.removeEventListeners(this._eventListeners);this._regularProject.dispose();this._contentScriptsProject.dispose();this._stubProject.dispose()}};Bindings.CompilerScriptMapping._frameIdSymbol=Symbol("Bindings.CompilerScriptMapping._frameIdSymbol");Bindings.CompilerScriptMapping._sourceMapSymbol=Symbol("Bindings.CompilerScriptMapping._sourceMapSymbol");Bindings.CompilerScriptMapping.Binding=class{constructor(e,t){this._project=e;this._url=t;this._referringSourceMaps=[];this._activeSourceMap=null;this._uiSourceCode=null}_recreateUISourceCodeIfNeeded(e){const t=this._referringSourceMaps.peekLast();if(this._activeSourceMap===t)return;this._activeSourceMap=t;const n=this._project.createUISourceCode(this._url,Common.resourceTypes.SourceMapScript);n[Bindings.CompilerScriptMapping._sourceMapSymbol]=t;const s=t.sourceContentProvider(this._url,Common.resourceTypes.SourceMapScript);const i=Common.ResourceType.mimeFromURL(this._url)||"text/javascript";const o=t.embeddedContentByURL(this._url);const r=typeof o==="string"?new Workspace.UISourceCodeMetadata(null,o.length):null;if(this._uiSourceCode){Bindings.NetworkProject.cloneInitialFrameAttribution(this._uiSourceCode,n);this._project.removeFile(this._uiSourceCode.url())}else{Bindings.NetworkProject.setInitialFrameAttribution(n,e)}this._uiSourceCode=n;this._project.addUISourceCodeWithProvider(this._uiSourceCode,s,r,i)}addSourceMap(e,t){if(this._uiSourceCode)Bindings.NetworkProject.addFrameAttribution(this._uiSourceCode,t);this._referringSourceMaps.push(e);this._recreateUISourceCodeIfNeeded(t)}removeSourceMap(e,t){Bindings.NetworkProject.removeFrameAttribution(this._uiSourceCode,t);const n=this._referringSourceMaps.lastIndexOf(e);if(n!==-1)this._referringSourceMaps.splice(n,1);if(!this._referringSourceMaps.length){this._project.removeFile(this._uiSourceCode.url());this._uiSourceCode=null}else{this._recreateUISourceCodeIfNeeded(t)}}};Bindings.ResourceScriptMapping=class{constructor(e,t,n){this._debuggerModel=e;this._workspace=t;this._debuggerWorkspaceBinding=n;this._uiSourceCodeToScriptFile=new Map;this._projects=new Map;this._acceptedScripts=new Set;const s=e.runtimeModel();this._eventListeners=[this._debuggerModel.addEventListener(SDK.DebuggerModel.Events.ParsedScriptSource,this._parsedScriptSource,this),this._debuggerModel.addEventListener(SDK.DebuggerModel.Events.GlobalObjectCleared,this._globalObjectCleared,this),s.addEventListener(SDK.RuntimeModel.Events.ExecutionContextDestroyed,this._executionContextDestroyed,this)]}_project(e){const t=e[Bindings.ResourceScriptMapping._frameIdSymbol];const n=e.isContentScript()?"js:extensions:":"js::";const s=n+this._debuggerModel.target().id()+":"+t;let i=this._projects.get(s);if(!i){const t=e.isContentScript()?Workspace.projectTypes.ContentScripts:Workspace.projectTypes.Network;i=new Bindings.ContentProviderBasedProject(this._workspace,s,t,"",false);Bindings.NetworkProject.setTargetForProject(i,this._debuggerModel.target());this._projects.set(s,i)}return i}rawLocationToUILocation(e){const t=e.script();if(!t)return null;const n=this._project(t);const s=n.uiSourceCodeForURL(t.sourceURL);if(!s)return null;const i=this._uiSourceCodeToScriptFile.get(s);if(!i)return null;if(i.hasDivergedFromVM()&&!i.isMergingToVM()||i.isDivergingFromVM())return null;if(!i._hasScripts([t]))return null;const o=e.lineNumber-(t.isInlineScriptWithSourceURL()?t.lineOffset:0);let r=e.columnNumber||0;if(t.isInlineScriptWithSourceURL()&&!o&&r)r-=t.columnOffset;return s.uiLocation(o,r)}uiLocationToRawLocations(e,t,n){const s=this._uiSourceCodeToScriptFile.get(e);if(!s)return[];const i=s._script;if(i.isInlineScriptWithSourceURL()){return[this._debuggerModel.createRawLocation(i,t+i.lineOffset,t?n:n+i.columnOffset)]}return[this._debuggerModel.createRawLocation(i,t,n)]}_acceptsScript(e){if(!e.sourceURL||e.isLiveEdit()||e.isInlineScript()&&!e.hasSourceURL)return false;if(e.isContentScript()&&!e.hasSourceURL){const t=new Common.ParsedURL(e.sourceURL);if(!t.isValid)return false}return true}_parsedScriptSource(e){const t=e.data;if(!this._acceptsScript(t))return;this._acceptedScripts.add(t);const n=t.originalContentProvider();const s=Bindings.frameIdForScript(t);t[Bindings.ResourceScriptMapping._frameIdSymbol]=s;const i=t.sourceURL;const o=this._project(t);const r=o.uiSourceCodeForURL(i);if(r){const e=this._uiSourceCodeToScriptFile.get(r);this._removeScript(e._script)}const a=o.createUISourceCode(i,n.contentType());Bindings.NetworkProject.setInitialFrameAttribution(a,s);const l=Bindings.metadataForURL(this._debuggerModel.target(),s,i);const c=new Bindings.ResourceScriptFile(this,a,[t]);this._uiSourceCodeToScriptFile.set(a,c);o.addUISourceCodeWithProvider(a,n,l,"text/javascript");this._debuggerWorkspaceBinding.updateLocations(t)}scriptFile(e){return this._uiSourceCodeToScriptFile.get(e)||null}_removeScript(e){if(!this._acceptedScripts.has(e))return;this._acceptedScripts.delete(e);const t=this._project(e);const n=t.uiSourceCodeForURL(e.sourceURL);const s=this._uiSourceCodeToScriptFile.get(n);s.dispose();this._uiSourceCodeToScriptFile.delete(n);t.removeFile(e.sourceURL);this._debuggerWorkspaceBinding.updateLocations(e)}_executionContextDestroyed(e){const t=e.data;const n=this._debuggerModel.scriptsForExecutionContext(t);for(const e of n)this._removeScript(e)}_globalObjectCleared(e){const t=Array.from(this._acceptedScripts);for(const e of t)this._removeScript(e)}resetForTest(){const e=Array.from(this._acceptedScripts);for(const t of e)this._removeScript(t)}dispose(){Common.EventTarget.removeEventListeners(this._eventListeners);const e=Array.from(this._acceptedScripts);for(const t of e)this._removeScript(t);for(const e of this._projects.values())e.removeProject();this._projects.clear()}};Bindings.ResourceScriptFile=class extends Common.Object{constructor(e,t,n){super();console.assert(n.length);this._resourceScriptMapping=e;this._uiSourceCode=t;if(this._uiSourceCode.contentType().isScript())this._script=n[n.length-1];this._uiSourceCode.addEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this);this._uiSourceCode.addEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this)}_hasScripts(e){return this._script&&this._script===e[0]}_isDiverged(){if(this._uiSourceCode.isDirty())return true;if(!this._script)return false;if(typeof this._scriptSource==="undefined")return false;const e=this._uiSourceCode.workingCopy();if(!e)return false;if(!e.startsWith(this._scriptSource.trimRight()))return true;const t=this._uiSourceCode.workingCopy().substr(this._scriptSource.length);return!!t.length&&!t.match(SDK.Script.sourceURLRegex)}_workingCopyChanged(e){this._update()}_workingCopyCommitted(e){if(this._uiSourceCode.project().canSetFileContent())return;if(!this._script)return;const t=this._resourceScriptMapping._debuggerModel;const n=Bindings.breakpointManager.breakpointLocationsForUISourceCode(this._uiSourceCode).map(e=>e.breakpoint);const s=this._uiSourceCode.workingCopy();t.setScriptSource(this._script.scriptId,s,i.bind(this));async function i(e,t){if(!e&&!t)this._scriptSource=s;this._update();if(!e&&!t){n.map(e=>e.refreshInDebugger());return}if(!t){Common.console.addMessage(Common.UIString("LiveEdit failed: %s",e),Common.Console.MessageLevel.Warning);return}const i=Common.UIString("LiveEdit compile failed: %s",t.text);this._uiSourceCode.addLineMessage(Workspace.UISourceCode.Message.Level.Error,i,t.lineNumber,t.columnNumber)}}_update(){if(this._isDiverged()&&!this._hasDivergedFromVM)this._divergeFromVM();else if(!this._isDiverged()&&this._hasDivergedFromVM)this._mergeToVM()}_divergeFromVM(){this._isDivergingFromVM=true;this._resourceScriptMapping._debuggerWorkspaceBinding.updateLocations(this._script);delete this._isDivergingFromVM;this._hasDivergedFromVM=true;this.dispatchEventToListeners(Bindings.ResourceScriptFile.Events.DidDivergeFromVM,this._uiSourceCode)}_mergeToVM(){delete this._hasDivergedFromVM;this._isMergingToVM=true;this._resourceScriptMapping._debuggerWorkspaceBinding.updateLocations(this._script);delete this._isMergingToVM;this.dispatchEventToListeners(Bindings.ResourceScriptFile.Events.DidMergeToVM,this._uiSourceCode)}hasDivergedFromVM(){return this._hasDivergedFromVM}isDivergingFromVM(){return this._isDivergingFromVM}isMergingToVM(){return this._isMergingToVM}checkMapping(){if(!this._script||typeof this._scriptSource!=="undefined"){this._mappingCheckedForTest();return}this._script.requestContent().then(e.bind(this));function e(e){this._scriptSource=e;this._update();this._mappingCheckedForTest()}}_mappingCheckedForTest(){}dispose(){this._uiSourceCode.removeEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this);this._uiSourceCode.removeEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this)}addSourceMapURL(e){if(!this._script)return;this._script.debuggerModel.setSourceMapURL(this._script,e)}hasSourceMapURL(){return this._script&&!!this._script.sourceMapURL}};Bindings.ResourceScriptMapping._frameIdSymbol=Symbol("frameid");Bindings.ResourceScriptFile.Events={DidMergeToVM:Symbol("DidMergeToVM"),DidDivergeFromVM:Symbol("DidDivergeFromVM")};Bindings.SASSSourceMapping=class{constructor(e,t,n){this._sourceMapManager=t;this._project=new Bindings.ContentProviderBasedProject(n,"cssSourceMaps:"+e.id(),Workspace.projectTypes.Network,"",false);Bindings.NetworkProject.setTargetForProject(this._project,e);this._eventListeners=[this._sourceMapManager.addEventListener(SDK.SourceMapManager.Events.SourceMapAttached,this._sourceMapAttached,this),this._sourceMapManager.addEventListener(SDK.SourceMapManager.Events.SourceMapDetached,this._sourceMapDetached,this),this._sourceMapManager.addEventListener(SDK.SourceMapManager.Events.SourceMapChanged,this._sourceMapChanged,this)]}_sourceMapAttachedForTest(e){}_sourceMapAttached(e){const t=e.data.client;const n=e.data.sourceMap;for(const e of n.sourceURLs()){let s=this._project.uiSourceCodeForURL(e);if(s){Bindings.NetworkProject.addFrameAttribution(s,t.frameId);continue}const i=n.sourceContentProvider(e,Common.resourceTypes.SourceMapStyleSheet);const o=Common.ResourceType.mimeFromURL(e)||i.contentType().canonicalMimeType();const r=n.embeddedContentByURL(e);const a=typeof r==="string"?new Workspace.UISourceCodeMetadata(null,r.length):null;s=this._project.createUISourceCode(e,i.contentType());Bindings.NetworkProject.setInitialFrameAttribution(s,t.frameId);s[Bindings.SASSSourceMapping._sourceMapSymbol]=n;this._project.addUISourceCodeWithProvider(s,i,a,o)}Bindings.cssWorkspaceBinding.updateLocations(t);this._sourceMapAttachedForTest(n)}_sourceMapDetached(e){const t=e.data.client;const n=e.data.sourceMap;const s=this._sourceMapManager.clientsForSourceMap(n);for(const e of n.sourceURLs()){if(s.length){const n=this._project.uiSourceCodeForURL(e);Bindings.NetworkProject.removeFrameAttribution(n,t.frameId)}else{this._project.removeFile(e)}}Bindings.cssWorkspaceBinding.updateLocations(t)}_sourceMapChanged(e){const t=e.data.sourceMap;const n=e.data.newSources;const s=this._sourceMapManager.clientsForSourceMap(t);for(const e of n.keys()){const t=this._project.uiSourceCodeForURL(e);if(!t){console.error("Failed to update source for "+e);continue}const s=n.get(e);t.setWorkingCopy(s)}for(const e of s)Bindings.cssWorkspaceBinding.updateLocations(e)}rawLocationToUILocation(e){const t=e.header();if(!t)return null;const n=this._sourceMapManager.sourceMapForClient(t);if(!n)return null;const s=n.findEntry(e.lineNumber,e.columnNumber);if(!s||!s.sourceURL)return null;const i=this._project.uiSourceCodeForURL(s.sourceURL);if(!i)return null;return i.uiLocation(s.sourceLineNumber||0,s.sourceColumnNumber)}uiLocationToRawLocations(e){const t=e.uiSourceCode[Bindings.SASSSourceMapping._sourceMapSymbol];if(!t)return[];const n=t.findReverseEntries(e.uiSourceCode.url(),e.lineNumber,e.columnNumber);const s=[];for(const e of this._sourceMapManager.clientsForSourceMap(t))s.pushAll(n.map(t=>new SDK.CSSLocation(e,t.lineNumber,t.columnNumber)));return s}dispose(){this._project.dispose();Common.EventTarget.removeEventListeners(this._eventListeners)}};Bindings.SASSSourceMapping._sourceMapSymbol=Symbol("sourceMap");Bindings.StylesSourceMapping=class{constructor(e,t){this._cssModel=e;const n=this._cssModel.target();this._project=new Bindings.ContentProviderBasedProject(t,"css:"+n.id(),Workspace.projectTypes.Network,"",false);Bindings.NetworkProject.setTargetForProject(this._project,n);this._styleFiles=new Map;this._eventListeners=[this._cssModel.addEventListener(SDK.CSSModel.Events.StyleSheetAdded,this._styleSheetAdded,this),this._cssModel.addEventListener(SDK.CSSModel.Events.StyleSheetRemoved,this._styleSheetRemoved,this),this._cssModel.addEventListener(SDK.CSSModel.Events.StyleSheetChanged,this._styleSheetChanged,this)]}rawLocationToUILocation(e){const t=e.header();if(!t||!this._acceptsHeader(t))return null;const n=this._styleFiles.get(t.resourceURL());if(!n)return null;let s=e.lineNumber;let i=e.columnNumber;if(t.isInline&&t.hasSourceURL){s-=t.lineNumberInSource(0);i-=t.columnNumberInSource(s,0)}return n._uiSourceCode.uiLocation(s,i)}uiLocationToRawLocations(e){const t=e.uiSourceCode[Bindings.StyleFile._symbol];if(!t)return[];const n=[];for(const s of t._headers){let t=e.lineNumber;let i=e.columnNumber;if(s.isInline&&s.hasSourceURL){i=s.columnNumberInSource(t,i);t=s.lineNumberInSource(t)}n.push(new SDK.CSSLocation(s,t,i))}return n}_acceptsHeader(e){if(e.isInline&&!e.hasSourceURL&&e.origin!=="inspector")return false;if(!e.resourceURL())return false;return true}_styleSheetAdded(e){const t=e.data;if(!this._acceptsHeader(t))return;const n=t.resourceURL();let s=this._styleFiles.get(n);if(!s){s=new Bindings.StyleFile(this._cssModel,this._project,t);this._styleFiles.set(n,s)}else{s.addHeader(t)}}_styleSheetRemoved(e){const t=e.data;if(!this._acceptsHeader(t))return;const n=t.resourceURL();const s=this._styleFiles.get(n);if(s._headers.size===1){s.dispose();this._styleFiles.delete(n)}else{s.removeHeader(t)}}_styleSheetChanged(e){const t=this._cssModel.styleSheetHeaderForId(e.data.styleSheetId);if(!t||!this._acceptsHeader(t))return;const n=this._styleFiles.get(t.resourceURL());n._styleSheetChanged(t)}dispose(){for(const e of this._styleFiles.values())e.dispose();this._styleFiles.clear();Common.EventTarget.removeEventListeners(this._eventListeners);this._project.removeProject()}};Bindings.StyleFile=class{constructor(e,t,n){this._cssModel=e;this._project=t;this._headers=new Set([n]);const s=e.target();const i=n.resourceURL();const o=Bindings.metadataForURL(s,n.frameId,i);this._uiSourceCode=this._project.createUISourceCode(i,n.contentType());this._uiSourceCode[Bindings.StyleFile._symbol]=this;Bindings.NetworkProject.setInitialFrameAttribution(this._uiSourceCode,n.frameId);this._project.addUISourceCodeWithProvider(this._uiSourceCode,this,o,"text/css");this._eventListeners=[this._uiSourceCode.addEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged,this._workingCopyChanged,this),this._uiSourceCode.addEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted,this._workingCopyCommitted,this)];this._throttler=new Common.Throttler(Bindings.StyleFile.updateTimeout);this._terminated=false}addHeader(e){this._headers.add(e);Bindings.NetworkProject.addFrameAttribution(this._uiSourceCode,e.frameId)}removeHeader(e){this._headers.delete(e);Bindings.NetworkProject.removeFrameAttribution(this._uiSourceCode,e.frameId)}_styleSheetChanged(e){console.assert(this._headers.has(e));if(this._isUpdatingHeaders||!this._headers.has(e))return;const t=this._mirrorContent.bind(this,e,true);this._throttler.schedule(t,false)}_workingCopyCommitted(e){if(this._isAddingRevision)return;const t=this._mirrorContent.bind(this,this._uiSourceCode,true);this._throttler.schedule(t,true)}_workingCopyChanged(e){if(this._isAddingRevision)return;const t=this._mirrorContent.bind(this,this._uiSourceCode,false);this._throttler.schedule(t,false)}async _mirrorContent(e,t){if(this._terminated){this._styleFileSyncedForTest();return}let n=null;if(e===this._uiSourceCode){n=this._uiSourceCode.workingCopy()}else{n=await e.requestContent()}if(n===null||this._terminated){this._styleFileSyncedForTest();return}if(e!==this._uiSourceCode){this._isAddingRevision=true;this._uiSourceCode.addRevision(n);this._isAddingRevision=false}this._isUpdatingHeaders=true;const s=[];for(const i of this._headers){if(i===e)continue;s.push(this._cssModel.setStyleSheetText(i.id,n,t))}await Promise.all(s);this._isUpdatingHeaders=false;this._styleFileSyncedForTest()}_styleFileSyncedForTest(){}dispose(){if(this._terminated)return;this._terminated=true;this._project.removeFile(this._uiSourceCode.url());Common.EventTarget.removeEventListeners(this._eventListeners)}contentURL(){return this._headers.firstValue().originalContentProvider().contentURL()}contentType(){return this._headers.firstValue().originalContentProvider().contentType()}contentEncoded(){return this._headers.firstValue().originalContentProvider().contentEncoded()}requestContent(){return this._headers.firstValue().originalContentProvider().requestContent()}searchInContent(e,t,n){return this._headers.firstValue().originalContentProvider().searchInContent(e,t,n)}};Bindings.StyleFile._symbol=Symbol("Bindings.StyleFile._symbol");Bindings.StyleFile.updateTimeout=200;Bindings.CSSWorkspaceBinding=class{constructor(e,t){this._workspace=t;this._modelToInfo=new Map;this._sourceMappings=[];e.observeModels(SDK.CSSModel,this)}modelAdded(e){this._modelToInfo.set(e,new Bindings.CSSWorkspaceBinding.ModelInfo(e,this._workspace))}modelRemoved(e){this._modelToInfo.get(e)._dispose();this._modelToInfo.delete(e)}updateLocations(e){this._modelToInfo.get(e.cssModel())._updateLocations(e)}createLiveLocation(e,t,n){return this._modelToInfo.get(e.cssModel())._createLiveLocation(e,t,n)}propertyUILocation(e,t){const n=e.ownerStyle;if(!n||n.type!==SDK.CSSStyleDeclaration.Type.Regular||!n.styleSheetId)return null;const s=n.cssModel().styleSheetHeaderForId(n.styleSheetId);if(!s)return null;const i=t?e.nameRange():e.valueRange();if(!i)return null;const o=i.startLine;const r=i.startColumn;const a=new SDK.CSSLocation(s,s.lineNumberInSource(o),s.columnNumberInSource(o,r));return this.rawLocationToUILocation(a)}rawLocationToUILocation(e){for(let t=this._sourceMappings.length-1;t>=0;--t){const n=this._sourceMappings[t].rawLocationToUILocation(e);if(n)return n}return this._modelToInfo.get(e.cssModel())._rawLocationToUILocation(e)}uiLocationToRawLocations(e){for(let t=this._sourceMappings.length-1;t>=0;--t){const n=this._sourceMappings[t].uiLocationToRawLocations(e);if(n.length)return n}const t=[];for(const n of this._modelToInfo.values())t.pushAll(n._uiLocationToRawLocations(e));return t}addSourceMapping(e){this._sourceMappings.push(e)}};Bindings.CSSWorkspaceBinding.SourceMapping=function(){};Bindings.CSSWorkspaceBinding.SourceMapping.prototype={rawLocationToUILocation(e){},uiLocationToRawLocations(e){}};Bindings.CSSWorkspaceBinding.ModelInfo=class{constructor(e,t){this._eventListeners=[e.addEventListener(SDK.CSSModel.Events.StyleSheetAdded,this._styleSheetAdded,this),e.addEventListener(SDK.CSSModel.Events.StyleSheetRemoved,this._styleSheetRemoved,this)];this._stylesSourceMapping=new Bindings.StylesSourceMapping(e,t);const n=e.sourceMapManager();this._sassSourceMapping=new Bindings.SASSSourceMapping(e.target(),n,t);this._locations=new Multimap;this._unboundLocations=new Multimap}_createLiveLocation(e,t,n){const s=new Bindings.CSSWorkspaceBinding.LiveLocation(e,this,t,n);const i=e.header();if(i){s._header=i;this._locations.set(i,s);s.update()}else{this._unboundLocations.set(e.url,s)}return s}_disposeLocation(e){if(e._header)this._locations.delete(e._header,e);else this._unboundLocations.delete(e._url,e)}_updateLocations(e){for(const t of this._locations.get(e))t.update()}_styleSheetAdded(e){const t=e.data;if(!t.sourceURL)return;for(const e of this._unboundLocations.get(t.sourceURL)){e._header=t;this._locations.set(t,e);e.update()}this._unboundLocations.deleteAll(t.sourceURL)}_styleSheetRemoved(e){const t=e.data;for(const e of this._locations.get(t)){e._header=null;this._unboundLocations.set(e._url,e);e.update()}this._locations.deleteAll(t)}_rawLocationToUILocation(e){let t=null;t=t||this._sassSourceMapping.rawLocationToUILocation(e);t=t||this._stylesSourceMapping.rawLocationToUILocation(e);t=t||Bindings.resourceMapping.cssLocationToUILocation(e);return t}_uiLocationToRawLocations(e){const t=this._sassSourceMapping.uiLocationToRawLocations(e);if(t.length)return t;return this._stylesSourceMapping.uiLocationToRawLocations(e)}_dispose(){Common.EventTarget.removeEventListeners(this._eventListeners);this._stylesSourceMapping.dispose();this._sassSourceMapping.dispose()}};Bindings.CSSWorkspaceBinding.LiveLocation=class extends Bindings.LiveLocationWithPool{constructor(e,t,n,s){super(n,s);this._url=e.url;this._lineNumber=e.lineNumber;this._columnNumber=e.columnNumber;this._info=t;this._header=null}uiLocation(){if(!this._header)return null;const e=new SDK.CSSLocation(this._header,this._lineNumber,this._columnNumber);return Bindings.cssWorkspaceBinding.rawLocationToUILocation(e)}dispose(){super.dispose();this._info._disposeLocation(this)}isBlackboxed(){return false}};Bindings.cssWorkspaceBinding;Bindings.DebuggerWorkspaceBinding=class{constructor(e,t){this._workspace=t;this._sourceMappings=[];this._debuggerModelToData=new Map;e.addModelListener(SDK.DebuggerModel,SDK.DebuggerModel.Events.GlobalObjectCleared,this._globalObjectCleared,this);e.addModelListener(SDK.DebuggerModel,SDK.DebuggerModel.Events.DebuggerResumed,this._debuggerResumed,this);e.observeModels(SDK.DebuggerModel,this)}addSourceMapping(e){this._sourceMappings.push(e)}modelAdded(e){this._debuggerModelToData.set(e,new Bindings.DebuggerWorkspaceBinding.ModelData(e,this))}modelRemoved(e){const t=this._debuggerModelToData.get(e);t._dispose();this._debuggerModelToData.remove(e)}updateLocations(e){const t=this._debuggerModelToData.get(e.debuggerModel);if(t)t._updateLocations(e)}createLiveLocation(e,t,n){const s=this._debuggerModelToData.get(e.script().debuggerModel);return s._createLiveLocation(e,t,n)}createStackTraceTopFrameLiveLocation(e,t,n){console.assert(e.length);const s=new Bindings.DebuggerWorkspaceBinding.StackTraceTopFrameLocation(e,this,t,n);s.update();return s}createCallFrameLiveLocation(e,t,n){const s=e.script();if(!s)return null;const i=e.debuggerModel;const o=this.createLiveLocation(e,t,n);this._registerCallFrameLiveLocation(i,o);return o}rawLocationToUILocation(e){for(let t=0;t<this._sourceMappings.length;++t){const n=this._sourceMappings[t].rawLocationToUILocation(e);if(n)return n}const t=this._debuggerModelToData.get(e.debuggerModel);return t._rawLocationToUILocation(e)}uiSourceCodeForSourceMapSourceURL(e,t,n){const s=this._debuggerModelToData.get(e);if(!s)return null;return s._compilerMapping.uiSourceCodeForURL(t,n)}uiLocationToRawLocations(e,t,n){let s=[];for(let i=0;i<this._sourceMappings.length&&!s.length;++i)s=this._sourceMappings[i].uiLocationToRawLocations(e,t,n);if(s.length)return s;for(const i of this._debuggerModelToData.values())s.push(...i._uiLocationToRawLocations(e,t,n));return s}normalizeUILocation(e){const t=this.uiLocationToRawLocations(e.uiSourceCode,e.lineNumber,e.columnNumber);for(const e of t){const t=this.rawLocationToUILocation(e);if(t)return t}return e}scriptFile(e,t){const n=this._debuggerModelToData.get(t);return n?n._resourceMapping.scriptFile(e):null}sourceMapForScript(e){const t=this._debuggerModelToData.get(e.debuggerModel);if(!t)return null;return t._compilerMapping.sourceMapForScript(e)}_globalObjectCleared(e){const t=e.data;this._reset(t)}_reset(e){const t=this._debuggerModelToData.get(e);t.callFrameLocations.valuesArray().forEach(e=>this._removeLiveLocation(e));t.callFrameLocations.clear()}_resetForTest(e){const t=e.model(SDK.DebuggerModel);const n=this._debuggerModelToData.get(t);n._resourceMapping.resetForTest()}_registerCallFrameLiveLocation(e,t){const n=this._debuggerModelToData.get(e).callFrameLocations;n.add(t)}_removeLiveLocation(e){const t=this._debuggerModelToData.get(e._script.debuggerModel);if(t)t._disposeLocation(e)}_debuggerResumed(e){const t=e.data;this._reset(t)}};Bindings.DebuggerWorkspaceBinding.ModelData=class{constructor(e,t){this._debuggerModel=e;this._debuggerWorkspaceBinding=t;this.callFrameLocations=new Set;const n=t._workspace;this._defaultMapping=new Bindings.DefaultScriptMapping(e,n,t);this._resourceMapping=new Bindings.ResourceScriptMapping(e,n,t);this._compilerMapping=new Bindings.CompilerScriptMapping(e,n,t);this._locations=new Multimap;e.setBeforePausedCallback(this._beforePaused.bind(this))}_createLiveLocation(e,t,n){const s=e.script();console.assert(s);const i=new Bindings.DebuggerWorkspaceBinding.Location(s,e,this._debuggerWorkspaceBinding,t,n);this._locations.set(s,i);i.update();return i}_disposeLocation(e){this._locations.delete(e._script,e)}_updateLocations(e){for(const t of this._locations.get(e))t.update()}_rawLocationToUILocation(e){let t=null;t=t||this._compilerMapping.rawLocationToUILocation(e);t=t||this._resourceMapping.rawLocationToUILocation(e);t=t||Bindings.resourceMapping.jsLocationToUILocation(e);t=t||this._defaultMapping.rawLocationToUILocation(e);return t}_uiLocationToRawLocations(e,t,n){let s=this._compilerMapping.uiLocationToRawLocations(e,t,n);s=s.length?s:this._resourceMapping.uiLocationToRawLocations(e,t,n);s=s.length?s:Bindings.resourceMapping.uiLocationToJSLocations(e,t,n);s=s.length?s:this._defaultMapping.uiLocationToRawLocations(e,t,n);return s}_beforePaused(e){return!!this._compilerMapping.mapsToSourceCode(e.callFrames[0].location())}_dispose(){this._debuggerModel.setBeforePausedCallback(null);this._compilerMapping.dispose();this._resourceMapping.dispose();this._defaultMapping.dispose()}};Bindings.DebuggerWorkspaceBinding.Location=class extends Bindings.LiveLocationWithPool{constructor(e,t,n,s,i){super(s,i);this._script=e;this._rawLocation=t;this._binding=n}uiLocation(){const e=this._rawLocation;return this._binding.rawLocationToUILocation(e)}dispose(){super.dispose();this._binding._removeLiveLocation(this)}isBlackboxed(){const e=this.uiLocation();return e?Bindings.blackboxManager.isBlackboxedUISourceCode(e.uiSourceCode):false}};Bindings.DebuggerWorkspaceBinding.StackTraceTopFrameLocation=class extends Bindings.LiveLocationWithPool{constructor(e,t,n,s){super(n,s);this._updateScheduled=true;this._current=null;this._locations=e.map(e=>t.createLiveLocation(e,this._scheduleUpdate.bind(this),s));this._updateLocation()}uiLocation(){return this._current.uiLocation()}isBlackboxed(){return this._current.isBlackboxed()}dispose(){super.dispose();for(const e of this._locations)e.dispose();this._locations=null;this._current=null}_scheduleUpdate(){if(this._updateScheduled)return;this._updateScheduled=true;setImmediate(this._updateLocation.bind(this))}_updateLocation(){this._updateScheduled=false;if(!this._locations)return;this._current=this._locations.find(e=>!e.isBlackboxed())||this._locations[0];this.update()}};Bindings.DebuggerSourceMapping=function(){};Bindings.DebuggerSourceMapping.prototype={rawLocationToUILocation(e){},uiLocationToRawLocations(e,t,n){}};Bindings.debuggerWorkspaceBinding;Bindings.BreakpointManager=class extends Common.Object{constructor(e,t,n){super();this._storage=new Bindings.BreakpointManager.Storage;this._workspace=e;this._targetManager=t;this._debuggerWorkspaceBinding=n;this._breakpointsForUISourceCode=new Map;this._breakpointByStorageId=new Map;this._workspace.addEventListener(Workspace.Workspace.Events.UISourceCodeAdded,this._uiSourceCodeAdded,this)}static _breakpointStorageId(e,t,n){if(!e)return"";return e+":"+t+":"+n}copyBreakpoints(e,t){const n=this._storage.breakpointItems(e);for(const e of n)this.setBreakpoint(t,e.lineNumber,e.columnNumber,e.condition,e.enabled)}_restoreBreakpoints(e){const t=e.url();if(!t)return;this._storage.mute();const n=this._storage.breakpointItems(t);for(const t of n)this._innerSetBreakpoint(e,t.lineNumber,t.columnNumber,t.condition,t.enabled);this._storage.unmute()}_uiSourceCodeAdded(e){const t=e.data;this._restoreBreakpoints(t)}setBreakpoint(e,t,n,s,i){let o=new Workspace.UILocation(e,t,n);const r=this._debuggerWorkspaceBinding.normalizeUILocation(o);if(r.id()!==o.id()){Common.Revealer.reveal(r);o=r}return this._innerSetBreakpoint(o.uiSourceCode,o.lineNumber,o.columnNumber,s,i)}_innerSetBreakpoint(e,t,n,s,i){const o=Bindings.BreakpointManager._breakpointStorageId(e.url(),t,n);let r=this._breakpointByStorageId.get(o);if(r){r._updateState(s,i);r.setPrimaryUISourceCode(e);r._updateBreakpoint();return r}r=new Bindings.BreakpointManager.Breakpoint(this,e,e.url(),t,n,s,i);this._breakpointByStorageId.set(o,r);return r}findBreakpoint(e){const t=this._breakpointsForUISourceCode.get(e.uiSourceCode);return t?t.get(e.id())||null:null}possibleBreakpoints(e,t){const n=Bindings.debuggerWorkspaceBinding.uiLocationToRawLocations(e,t.startLine,t.startColumn);const s=Bindings.debuggerWorkspaceBinding.uiLocationToRawLocations(e,t.endLine,t.endColumn);const i=new Map;for(const e of s)i.set(e.debuggerModel,e);let o=null;let r=null;for(const e of n){const t=i.get(e.debuggerModel);if(t){o=e;r=t;break}}if(!o||!r)return Promise.resolve([]);return o.debuggerModel.getPossibleBreakpoints(o,r,false).then(a.bind(this));function a(t){let n=t.map(e=>this._debuggerWorkspaceBinding.rawLocationToUILocation(e));n=n.filter(t=>t&&t.uiSourceCode===e);n.sort(Workspace.UILocation.comparator);if(!n.length)return[];const s=[n[0]];let i=n[0];for(let e=1;e<n.length;++e){if(n[e].id()===i.id())continue;s.push(n[e]);i=n[e]}return s}}breakpointLocationsForUISourceCode(e){const t=this._breakpointsForUISourceCode.get(e);return t?Array.from(t.values()):[]}allBreakpointLocations(){let e=[];for(const t of this._breakpointsForUISourceCode.values())e=e.concat(Array.from(t.values()));return e}_removeBreakpoint(e,t){if(t)this._storage._removeBreakpoint(e);this._breakpointByStorageId.delete(e._breakpointStorageId())}_uiLocationAdded(e,t){let n=this._breakpointsForUISourceCode.get(t.uiSourceCode);if(!n){n=new Map;this._breakpointsForUISourceCode.set(t.uiSourceCode,n)}const s={breakpoint:e,uiLocation:t};n.set(t.id(),s);this.dispatchEventToListeners(Bindings.BreakpointManager.Events.BreakpointAdded,s)}_uiLocationRemoved(e,t){const n=this._breakpointsForUISourceCode.get(t.uiSourceCode);if(!n)return;const s=n.get(t.id())||null;if(!s)return;n.delete(t.id());if(n.size===0)this._breakpointsForUISourceCode.delete(t.uiSourceCode);this.dispatchEventToListeners(Bindings.BreakpointManager.Events.BreakpointRemoved,{breakpoint:e,uiLocation:t})}};Bindings.BreakpointManager.Events={BreakpointAdded:Symbol("breakpoint-added"),BreakpointRemoved:Symbol("breakpoint-removed")};Bindings.BreakpointManager.BreakpointLocation;Bindings.BreakpointManager.Breakpoint=class{constructor(e,t,n,s,i,o,r){this._breakpointManager=e;this._url=n;this._lineNumber=s;this._columnNumber=i;this._defaultUILocation=null;this._uiLocations=new Set;this._condition;this._enabled;this._isRemoved;this._currentState=null;this._modelBreakpoints=new Map;this._updateState(o,r);this.setPrimaryUISourceCode(t);this._breakpointManager._targetManager.observeModels(SDK.DebuggerModel,this)}refreshInDebugger(){if(this._isRemoved)return;for(const e of this._modelBreakpoints.values())e._refreshBreakpoint()}modelAdded(e){const t=this._breakpointManager._debuggerWorkspaceBinding;this._modelBreakpoints.set(e,new Bindings.BreakpointManager.ModelBreakpoint(e,this,t))}modelRemoved(e){const t=this._modelBreakpoints.remove(e);t._cleanUpAfterDebuggerIsGone();t._removeEventListeners()}setPrimaryUISourceCode(e){if(this._uiLocations.size===0&&this._defaultUILocation)this._breakpointManager._uiLocationRemoved(this,this._defaultUILocation);if(e)this._defaultUILocation=e.uiLocation(this._lineNumber,this._columnNumber);else this._defaultUILocation=null;if(this._uiLocations.size===0&&this._defaultUILocation&&!this._isRemoved)this._breakpointManager._uiLocationAdded(this,this._defaultUILocation)}url(){return this._url}lineNumber(){return this._lineNumber}columnNumber(){return this._columnNumber}_uiLocationAdded(e){if(this._isRemoved)return;if(this._uiLocations.size===0&&this._defaultUILocation)this._breakpointManager._uiLocationRemoved(this,this._defaultUILocation);this._uiLocations.add(e);this._breakpointManager._uiLocationAdded(this,e)}_uiLocationRemoved(e){this._uiLocations.delete(e);this._breakpointManager._uiLocationRemoved(this,e);if(this._uiLocations.size===0&&this._defaultUILocation&&!this._isRemoved)this._breakpointManager._uiLocationAdded(this,this._defaultUILocation)}enabled(){return this._enabled}setEnabled(e){this._updateState(this._condition,e)}condition(){return this._condition}setCondition(e){this._updateState(e,this._enabled)}_updateState(e,t){if(this._enabled===t&&this._condition===e)return;this._enabled=t;this._condition=e;this._breakpointManager._storage._updateBreakpoint(this);this._updateBreakpoint()}_updateBreakpoint(){if(this._uiLocations.size===0&&this._defaultUILocation)this._breakpointManager._uiLocationRemoved(this,this._defaultUILocation);if(this._uiLocations.size===0&&this._defaultUILocation&&!this._isRemoved)this._breakpointManager._uiLocationAdded(this,this._defaultUILocation);const e=this._modelBreakpoints.valuesArray();for(let t=0;t<e.length;++t)e[t]._scheduleUpdateInDebugger()}remove(e){this._isRemoved=true;const t=!e;const n=this._modelBreakpoints.valuesArray();for(let e=0;e<n.length;++e){n[e]._scheduleUpdateInDebugger();n[e]._removeEventListeners()}this._breakpointManager._removeBreakpoint(this,t);this._breakpointManager._targetManager.unobserveModels(SDK.DebuggerModel,this);this.setPrimaryUISourceCode(null)}_breakpointStorageId(){return Bindings.BreakpointManager._breakpointStorageId(this._url,this._lineNumber,this._columnNumber)}_resetLocations(){this.setPrimaryUISourceCode(null);const e=this._modelBreakpoints.valuesArray();for(let t=0;t<e.length;++t)e[t]._resetLocations()}};Bindings.BreakpointManager.ModelBreakpoint=class{constructor(e,t,n){this._debuggerModel=e;this._breakpoint=t;this._debuggerWorkspaceBinding=n;this._liveLocations=new Bindings.LiveLocationPool;this._uiLocations=new Map;this._debuggerModel.addEventListener(SDK.DebuggerModel.Events.DebuggerWasDisabled,this._cleanUpAfterDebuggerIsGone,this);this._debuggerModel.addEventListener(SDK.DebuggerModel.Events.DebuggerWasEnabled,this._scheduleUpdateInDebugger,this);this._hasPendingUpdate=false;this._isUpdating=false;this._cancelCallback=false;this._currentState=null;if(this._debuggerModel.debuggerEnabled())this._scheduleUpdateInDebugger()}_resetLocations(){for(const e of this._uiLocations.values())this._breakpoint._uiLocationRemoved(e);this._uiLocations.clear();this._liveLocations.disposeAll()}_scheduleUpdateInDebugger(){if(this._isUpdating){this._hasPendingUpdate=true;return}this._isUpdating=true;this._updateInDebugger(this._didUpdateInDebugger.bind(this))}_didUpdateInDebugger(){this._isUpdating=false;if(this._hasPendingUpdate){this._hasPendingUpdate=false;this._scheduleUpdateInDebugger()}}_scriptDiverged(){const e=this._breakpoint._defaultUILocation;const t=e?e.uiSourceCode:null;if(!t)return false;const n=this._debuggerWorkspaceBinding.scriptFile(t,this._debuggerModel);return!!n&&n.hasDivergedFromVM()}async _updateInDebugger(e){if(this._debuggerModel.target().isDisposed()){this._cleanUpAfterDebuggerIsGone();e();return}const t=this._breakpoint._defaultUILocation;const n=t?t.uiSourceCode:null;const s=this._breakpoint._lineNumber;const i=this._breakpoint._columnNumber;const o=this._breakpoint.condition();let r=null;if(n){const e=Bindings.debuggerWorkspaceBinding.uiLocationToRawLocations(n,s,i);r=e.find(e=>e.debuggerModel===this._debuggerModel)}let a;if(this._breakpoint._isRemoved||!this._breakpoint.enabled()||this._scriptDiverged()){a=null}else if(r){const e=r.script();if(e.sourceURL){a=new Bindings.BreakpointManager.Breakpoint.State(e.sourceURL,null,null,r.lineNumber,r.columnNumber,o)}else{a=new Bindings.BreakpointManager.Breakpoint.State(null,e.scriptId,e.hash,r.lineNumber,r.columnNumber,o)}}else if(this._breakpoint._currentState&&this._breakpoint._currentState.url){const e=this._breakpoint._currentState;a=new Bindings.BreakpointManager.Breakpoint.State(e.url,null,null,e.lineNumber,e.columnNumber,o)}else if(n){a=new Bindings.BreakpointManager.Breakpoint.State(n.url(),null,null,s,i,o)}if(this._debuggerId&&Bindings.BreakpointManager.Breakpoint.State.equals(a,this._currentState)){e();return}this._breakpoint._currentState=a;if(this._debuggerId){await this._refreshBreakpoint();e();return}if(!a){e();return}let l;this._currentState=a;if(a.url){l=await this._debuggerModel.setBreakpointByURL(a.url,a.lineNumber,a.columnNumber,a.condition)}else if(a.scriptId&&a.scriptHash){l=await this._debuggerModel.setBreakpointInAnonymousScript(a.scriptId,a.scriptHash,a.lineNumber,a.columnNumber,a.condition)}if(l&&l.breakpointId)this._didSetBreakpointInDebugger(e,l.breakpointId,l.locations);else this._didSetBreakpointInDebugger(e,null,[])}async _refreshBreakpoint(){if(!this._debuggerId)return;this._resetLocations();await this._debuggerModel.removeBreakpoint(this._debuggerId);this._didRemoveFromDebugger();this._currentState=null;this._scheduleUpdateInDebugger()}_didSetBreakpointInDebugger(e,t,n){if(this._cancelCallback){this._cancelCallback=false;e();return}if(!t){this._breakpoint.remove(true);e();return}this._debuggerId=t;this._debuggerModel.addBreakpointListener(this._debuggerId,this._breakpointResolved,this);for(let e=0;e<n.length;++e){if(!this._addResolvedLocation(n[e]))break}e()}_didRemoveFromDebugger(){if(this._cancelCallback){this._cancelCallback=false;return}this._resetLocations();this._debuggerModel.removeBreakpointListener(this._debuggerId,this._breakpointResolved,this);delete this._debuggerId}_breakpointResolved(e){this._addResolvedLocation(e.data)}_locationUpdated(e){const t=this._uiLocations.get(e);if(t)this._breakpoint._uiLocationRemoved(t);let n=e.uiLocation();if(n){const e=this._breakpoint._breakpointManager.findBreakpoint(n);if(e&&e.uiLocation!==e.breakpoint._defaultUILocation)n=null}if(n){this._uiLocations.set(e,n);this._breakpoint._uiLocationAdded(n)}else{this._uiLocations.delete(e)}}_addResolvedLocation(e){const t=this._debuggerWorkspaceBinding.rawLocationToUILocation(e);if(!t)return false;const n=this._breakpoint._breakpointManager.findBreakpoint(t);if(n&&n.breakpoint!==this._breakpoint){this._breakpoint.remove(false);return false}this._debuggerWorkspaceBinding.createLiveLocation(e,this._locationUpdated.bind(this),this._liveLocations);return true}_cleanUpAfterDebuggerIsGone(){if(this._isUpdating)this._cancelCallback=true;this._resetLocations();this._currentState=null;if(this._debuggerId)this._didRemoveFromDebugger()}_removeEventListeners(){this._debuggerModel.removeEventListener(SDK.DebuggerModel.Events.DebuggerWasDisabled,this._cleanUpAfterDebuggerIsGone,this);this._debuggerModel.removeEventListener(SDK.DebuggerModel.Events.DebuggerWasEnabled,this._scheduleUpdateInDebugger,this)}};Bindings.BreakpointManager.Breakpoint.State=class{constructor(e,t,n,s,i,o){this.url=e;this.scriptId=t;this.scriptHash=n;this.lineNumber=s;this.columnNumber=i;this.condition=o}static equals(e,t){if(!e||!t)return false;return e.url===t.url&&e.scriptId===t.scriptId&&e.scriptHash===t.scriptHash&&e.lineNumber===t.lineNumber&&e.columnNumber===t.columnNumber&&e.condition===t.condition}};Bindings.BreakpointManager.Storage=class{constructor(){this._setting=Common.settings.createLocalSetting("breakpoints",[]);this._breakpoints=new Map;const e=this._setting.get();for(const t of e){t.columnNumber=t.columnNumber||0;this._breakpoints.set(Bindings.BreakpointManager._breakpointStorageId(t.url,t.lineNumber,t.columnNumber),t)}this._muted}mute(){this._muted=true}unmute(){delete this._muted}breakpointItems(e){return Array.from(this._breakpoints.values()).filter(t=>t.url===e)}_updateBreakpoint(e){if(this._muted||!e._breakpointStorageId())return;this._breakpoints.set(e._breakpointStorageId(),new Bindings.BreakpointManager.Storage.Item(e));this._save()}_removeBreakpoint(e){if(this._muted)return;this._breakpoints.delete(e._breakpointStorageId());this._save()}_save(){this._setting.set(Array.from(this._breakpoints.values()))}};Bindings.BreakpointManager.Storage.Item=class{constructor(e){this.url=e._url;this.lineNumber=e.lineNumber();this.columnNumber=e.columnNumber();this.condition=e.condition();this.enabled=e.enabled()}};Bindings.breakpointManager;Bindings.ContentProviderBasedProject=class extends Workspace.ProjectStore{constructor(e,t,n,s,i){super(e,t,n,s);this._contentProviders={};this._isServiceProject=i;e.addProject(this)}requestFileContent(e,t){const n=this._contentProviders[e.url()];(async()=>{t(await n.requestContent(),await n.contentEncoded())})()}isServiceProject(){return this._isServiceProject}requestMetadata(e){return Promise.resolve(e[Bindings.ContentProviderBasedProject._metadata])}canSetFileContent(){return false}async setFileContent(e,t,n){}fullDisplayName(e){let t=e.parentURL().replace(/^(?:https?|file)\:\/\//,"");try{t=decodeURI(t)}catch(e){}return t+"/"+e.displayName(true)}mimeType(e){return e[Bindings.ContentProviderBasedProject._mimeType]}canRename(){return false}rename(e,t,n){const s=e.url();this.performRename(s,t,i.bind(this));function i(t,i){if(t&&i){const t=s.split("/");t[t.length-1]=i;const n=t.join("/");this._contentProviders[n]=this._contentProviders[s];delete this._contentProviders[s];this.renameUISourceCode(e,i)}n(t,i)}}excludeFolder(e){}canExcludeFolder(e){return false}createFile(e,t,n,s){}canCreateFile(){return false}deleteFile(e){}remove(){}performRename(e,t,n){n(false)}searchInFileContent(e,t,n,s){const i=this._contentProviders[e.url()];return i.searchInContent(t,n,s)}async findFilesMatchingSearchRequest(e,t,n){const s=[];n.setTotalWork(t.length);await Promise.all(t.map(i.bind(this)));n.done();return s;async function i(t){const i=this._contentProviders[t];let o=true;for(const t of e.queries().slice()){const n=await i.searchInContent(t,!e.ignoreCase(),e.isRegex());if(!n.length){o=false;break}}if(o)s.push(t);n.worked(1)}}indexContent(e){setImmediate(e.done.bind(e))}addUISourceCodeWithProvider(e,t,n,s){e[Bindings.ContentProviderBasedProject._mimeType]=s;this._contentProviders[e.url()]=t;e[Bindings.ContentProviderBasedProject._metadata]=n;this.addUISourceCode(e)}addContentProvider(e,t,n){const s=this.createUISourceCode(e,t.contentType());this.addUISourceCodeWithProvider(s,t,null,n);return s}removeFile(e){delete this._contentProviders[e];this.removeUISourceCode(e)}reset(){this._contentProviders={};this.removeProject();this.workspace().addProject(this)}dispose(){this._contentProviders={};this.removeProject()}};Bindings.ContentProviderBasedProject._metadata=Symbol("ContentProviderBasedProject.Metadata");Bindings.ContentProviderBasedProject._mimeType=Symbol("Bindings.ContentProviderBasedProject._mimeType");Bindings.DefaultScriptMapping=class{constructor(e,t,n){this._debuggerModel=e;this._debuggerWorkspaceBinding=n;this._project=new Bindings.ContentProviderBasedProject(t,"debugger:"+e.target().id(),Workspace.projectTypes.Debugger,"",true);this._eventListeners=[e.addEventListener(SDK.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this),e.addEventListener(SDK.DebuggerModel.Events.ParsedScriptSource,this._parsedScriptSource,this),e.addEventListener(SDK.DebuggerModel.Events.DiscardedAnonymousScriptSource,this._discardedScriptSource,this)];this._scriptSymbol=Symbol("symbol")}static scriptForUISourceCode(e){const t=e[Bindings.DefaultScriptMapping._scriptsSymbol];return t?t.values().next().value:null}rawLocationToUILocation(e){const t=e.script();if(!t)return null;const n=t[Bindings.DefaultScriptMapping._uiSourceCodeSymbol];const s=e.lineNumber-(t.isInlineScriptWithSourceURL()?t.lineOffset:0);let i=e.columnNumber||0;if(t.isInlineScriptWithSourceURL()&&!s&&i)i-=t.columnOffset;return n.uiLocation(s,i)}uiLocationToRawLocations(e,t,n){const s=e[this._scriptSymbol];if(!s)return[];if(s.isInlineScriptWithSourceURL()){return[this._debuggerModel.createRawLocation(s,t+s.lineOffset,t?n:n+s.columnOffset)]}return[this._debuggerModel.createRawLocation(s,t,n)]}_parsedScriptSource(e){const t=e.data;const n=Common.ParsedURL.extractName(t.sourceURL);const s="debugger:///VM"+t.scriptId+(n?" "+n:"");const i=this._project.createUISourceCode(s,Common.resourceTypes.Script);i[this._scriptSymbol]=t;if(!i[Bindings.DefaultScriptMapping._scriptsSymbol])i[Bindings.DefaultScriptMapping._scriptsSymbol]=new Set([t]);else i[Bindings.DefaultScriptMapping._scriptsSymbol].add(t);t[Bindings.DefaultScriptMapping._uiSourceCodeSymbol]=i;this._project.addUISourceCodeWithProvider(i,t,null,"text/javascript");this._debuggerWorkspaceBinding.updateLocations(t)}_discardedScriptSource(e){const t=e.data;const n=t[Bindings.DefaultScriptMapping._uiSourceCodeSymbol];if(!n)return;delete t[Bindings.DefaultScriptMapping._uiSourceCodeSymbol];delete n[this._scriptSymbol];n[Bindings.DefaultScriptMapping._scriptsSymbol].delete(t);if(!n[Bindings.DefaultScriptMapping._scriptsSymbol].size)delete n[Bindings.DefaultScriptMapping._scriptsSymbol];this._project.removeUISourceCode(n.url())}_debuggerReset(){this._project.reset()}dispose(){Common.EventTarget.removeEventListeners(this._eventListeners);this._debuggerReset();this._project.dispose()}};Bindings.DefaultScriptMapping._scriptsSymbol=Symbol("symbol");Bindings.DefaultScriptMapping._uiSourceCodeSymbol=Symbol("uiSourceCodeSymbol");Bindings.ChunkedReader=function(){};Bindings.ChunkedReader.prototype={fileSize(){},loadedSize(){},fileName(){},cancel(){},error(){}};Bindings.ChunkedFileReader=class{constructor(e,t,n){this._file=e;this._fileSize=e.size;this._loadedSize=0;this._chunkSize=t;this._chunkTransferredCallback=n;this._decoder=new TextDecoder;this._isCanceled=false;this._error=null}read(e){if(this._chunkTransferredCallback)this._chunkTransferredCallback(this);this._output=e;this._reader=new FileReader;this._reader.onload=this._onChunkLoaded.bind(this);this._reader.onerror=this._onError.bind(this);this._loadChunk();return new Promise(e=>this._transferFinished=e)}cancel(){this._isCanceled=true}loadedSize(){return this._loadedSize}fileSize(){return this._fileSize}fileName(){return this._file.name}error(){return this._error}_onChunkLoaded(e){if(this._isCanceled)return;if(e.target.readyState!==FileReader.DONE)return;const t=this._reader.result;this._loadedSize+=t.byteLength;const n=this._loadedSize===this._fileSize;const s=this._decoder.decode(t,{stream:!n});this._output.write(s);if(this._isCanceled)return;if(this._chunkTransferredCallback)this._chunkTransferredCallback(this);if(n){this._file=null;this._reader=null;this._output.close();this._transferFinished(!this._error);return}this._loadChunk()}_loadChunk(){const e=this._loadedSize;const t=Math.min(this._fileSize,e+this._chunkSize);const n=this._file.slice(e,t);this._reader.readAsArrayBuffer(n)}_onError(e){this._error=e.target.error;this._transferFinished(false)}};Bindings.FileOutputStream=class{async open(e){this._closed=false;this._writeCallbacks=[];this._fileName=e;const t=await Workspace.fileManager.save(this._fileName,"",true);if(t)Workspace.fileManager.addEventListener(Workspace.FileManager.Events.AppendedToURL,this._onAppendDone,this);return!!t}write(e){return new Promise(t=>{this._writeCallbacks.push(t);Workspace.fileManager.append(this._fileName,e)})}close(){this._closed=true;if(this._writeCallbacks.length)return;Workspace.fileManager.removeEventListener(Workspace.FileManager.Events.AppendedToURL,this._onAppendDone,this);Workspace.fileManager.close(this._fileName)}_onAppendDone(e){if(e.data!==this._fileName)return;this._writeCallbacks.shift()();if(this._writeCallbacks.length)return;if(!this._closed)return;Workspace.fileManager.removeEventListener(Workspace.FileManager.Events.AppendedToURL,this._onAppendDone,this);Workspace.fileManager.close(this._fileName)}};Bindings.BlackboxManager=class{constructor(e){this._debuggerWorkspaceBinding=e;SDK.targetManager.addModelListener(SDK.DebuggerModel,SDK.DebuggerModel.Events.GlobalObjectCleared,this._clearCacheIfNeeded.bind(this),this);Common.moduleSetting("skipStackFramesPattern").addChangeListener(this._patternChanged.bind(this));Common.moduleSetting("skipContentScripts").addChangeListener(this._patternChanged.bind(this));this._listeners=new Set;this._isBlackboxedURLCache=new Map;SDK.targetManager.observeModels(SDK.DebuggerModel,this)}addChangeListener(e){this._listeners.add(e)}removeChangeListener(e){this._listeners.delete(e)}modelAdded(e){this._setBlackboxPatterns(e);const t=e.sourceMapManager();t.addEventListener(SDK.SourceMapManager.Events.SourceMapAttached,this._sourceMapAttached,this);t.addEventListener(SDK.SourceMapManager.Events.SourceMapDetached,this._sourceMapDetached,this)}modelRemoved(e){this._clearCacheIfNeeded();const t=e.sourceMapManager();t.removeEventListener(SDK.SourceMapManager.Events.SourceMapAttached,this._sourceMapAttached,this);t.removeEventListener(SDK.SourceMapManager.Events.SourceMapDetached,this._sourceMapDetached,this)}_clearCacheIfNeeded(){if(this._isBlackboxedURLCache.size>1024)this._isBlackboxedURLCache.clear()}_setBlackboxPatterns(e){const t=Common.moduleSetting("skipStackFramesPattern").getAsArray();const n=[];for(const e of t){if(!e.disabled&&e.pattern)n.push(e.pattern)}return e.setBlackboxPatterns(n)}isBlackboxedUISourceCode(e){const t=e.project().type();const n=t===Workspace.projectTypes.ContentScripts;if(n&&Common.moduleSetting("skipContentScripts").get())return true;const s=this._uiSourceCodeURL(e);return s?this.isBlackboxedURL(s):false}isBlackboxedURL(e,t){if(this._isBlackboxedURLCache.has(e))return!!this._isBlackboxedURLCache.get(e);if(t&&Common.moduleSetting("skipContentScripts").get())return true;const n=Common.moduleSetting("skipStackFramesPattern").asRegExp();const s=n&&n.test(e)||false;this._isBlackboxedURLCache.set(e,s);return s}_sourceMapAttached(e){const t=e.data.client;const n=e.data.sourceMap;this._updateScriptRanges(t,n)}_sourceMapDetached(e){const t=e.data.client;this._updateScriptRanges(t,null)}async _updateScriptRanges(e,t){let n=false;if(!Bindings.blackboxManager.isBlackboxedURL(e.sourceURL,e.isContentScript()))n=t?t.sourceURLs().some(e=>this.isBlackboxedURL(e)):false;if(!n){if(e[Bindings.BlackboxManager._blackboxedRanges]&&await e.setBlackboxedRanges([]))delete e[Bindings.BlackboxManager._blackboxedRanges];this._debuggerWorkspaceBinding.updateLocations(e);return}const s=t.mappings();const i=[];let o=false;if(s[0].lineNumber!==0||s[0].columnNumber!==0){i.push({lineNumber:0,columnNumber:0});o=true}for(const e of s){if(e.sourceURL&&o!==this.isBlackboxedURL(e.sourceURL)){i.push({lineNumber:e.lineNumber,columnNumber:e.columnNumber});o=!o}}const r=e[Bindings.BlackboxManager._blackboxedRanges]||[];if(!a(r,i)&&await e.setBlackboxedRanges(i))e[Bindings.BlackboxManager._blackboxedRanges]=i;this._debuggerWorkspaceBinding.updateLocations(e);function a(e,t){if(e.length!==t.length)return false;for(let n=0;n<e.length;++n){if(e[n].lineNumber!==t[n].lineNumber||e[n].columnNumber!==t[n].columnNumber)return false}return true}}_uiSourceCodeURL(e){return e.project().type()===Workspace.projectTypes.Debugger?null:e.url()}canBlackboxUISourceCode(e){const t=this._uiSourceCodeURL(e);return t?!!this._urlToRegExpString(t):false}blackboxUISourceCode(e){const t=this._uiSourceCodeURL(e);if(t)this._blackboxURL(t)}unblackboxUISourceCode(e){const t=this._uiSourceCodeURL(e);if(t)this._unblackboxURL(t)}blackboxContentScripts(){Common.moduleSetting("skipContentScripts").set(true)}unblackboxContentScripts(){Common.moduleSetting("skipContentScripts").set(false)}_blackboxURL(e){const t=Common.moduleSetting("skipStackFramesPattern").getAsArray();const n=this._urlToRegExpString(e);if(!n)return;let s=false;for(let e=0;e<t.length;++e){const i=t[e];if(i.pattern===n){i.disabled=false;s=true;break}}if(!s)t.push({pattern:n});Common.moduleSetting("skipStackFramesPattern").setAsArray(t)}_unblackboxURL(e){let t=Common.moduleSetting("skipStackFramesPattern").getAsArray();const n=Bindings.blackboxManager._urlToRegExpString(e);if(!n)return;t=t.filter(function(e){return e.pattern!==n});for(let n=0;n<t.length;++n){const s=t[n];if(s.disabled)continue;try{const t=new RegExp(s.pattern);if(t.test(e))s.disabled=true}catch(e){}}Common.moduleSetting("skipStackFramesPattern").setAsArray(t)}async _patternChanged(){this._isBlackboxedURLCache.clear();const e=[];for(const t of SDK.targetManager.models(SDK.DebuggerModel)){e.push(this._setBlackboxPatterns(t));const n=t.sourceMapManager();for(const s of t.scripts())e.push(this._updateScriptRanges(s,n.sourceMapForClient(s)))}await Promise.all(e);const t=Array.from(this._listeners);for(const e of t)e();this._patternChangeFinishedForTests()}_patternChangeFinishedForTests(){}_urlToRegExpString(e){const t=new Common.ParsedURL(e);if(t.isAboutBlank()||t.isDataURL())return"";if(!t.isValid)return"^"+e.escapeForRegExp()+"$";let n=t.lastPathComponent;if(n)n="/"+n;else if(t.folderPathComponents)n=t.folderPathComponents+"/";if(!n)n=t.host;if(!n)return"";const s=t.scheme;let i="";if(s&&s!=="http"&&s!=="https"){i="^"+s+"://";if(s==="chrome-extension")i+=t.host+"\\b";i+=".*"}return i+n.escapeForRegExp()+(e.endsWith(n)?"$":"\\b")}};Bindings.BlackboxManager._blackboxedRanges=Symbol("blackboxedRanged");Bindings.blackboxManager;Bindings.NetworkProjectManager=class extends Common.Object{};Bindings.NetworkProjectManager.Events={FrameAttributionAdded:Symbol("FrameAttributionAdded"),FrameAttributionRemoved:Symbol("FrameAttributionRemoved")};Bindings.NetworkProject=class{static _resolveFrame(e,t){const n=Bindings.NetworkProject.targetForUISourceCode(e);const s=n&&n.model(SDK.ResourceTreeModel);return s?s.frameForId(t):null}static setInitialFrameAttribution(e,t){const n=Bindings.NetworkProject._resolveFrame(e,t);if(!n)return;const s=new Map;s.set(t,{frame:n,count:1});e[Bindings.NetworkProject._frameAttributionSymbol]=s}static cloneInitialFrameAttribution(e,t){const n=e[Bindings.NetworkProject._frameAttributionSymbol];if(!n)return;const s=new Map;t[Bindings.NetworkProject._frameAttributionSymbol]=s;for(const e of n.keys()){const t=n.get(e);s.set(e,{frame:t.frame,count:t.count})}}static addFrameAttribution(e,t){const n=Bindings.NetworkProject._resolveFrame(e,t);if(!n)return;const s=e[Bindings.NetworkProject._frameAttributionSymbol];const i=s.get(t)||{frame:n,count:0};i.count+=1;s.set(t,i);if(i.count!==1)return;const o={uiSourceCode:e,frame:n};Bindings.networkProjectManager.dispatchEventToListeners(Bindings.NetworkProjectManager.Events.FrameAttributionAdded,o)}static removeFrameAttribution(e,t){const n=e[Bindings.NetworkProject._frameAttributionSymbol];if(!n)return;const s=n.get(t);console.assert(s,"Failed to remove frame attribution for url: "+e.url());s.count-=1;if(s.count>0)return;n.delete(t);const i={uiSourceCode:e,frame:s.frame};Bindings.networkProjectManager.dispatchEventToListeners(Bindings.NetworkProjectManager.Events.FrameAttributionRemoved,i)}static targetForUISourceCode(e){return e.project()[Bindings.NetworkProject._targetSymbol]||null}static setTargetForProject(e,t){e[Bindings.NetworkProject._targetSymbol]=t}static framesForUISourceCode(e){const t=Bindings.NetworkProject.targetForUISourceCode(e);const n=t&&t.model(SDK.ResourceTreeModel);const s=e[Bindings.NetworkProject._frameAttributionSymbol];if(!n||!s)return[];const i=Array.from(s.keys()).map(e=>n.frameForId(e));return i.filter(e=>!!e)}};Bindings.NetworkProject._targetSymbol=Symbol("target");Bindings.NetworkProject._frameAttributionSymbol=Symbol("Bindings.NetworkProject._frameAttributionSymbol");Bindings.PresentationConsoleMessageManager=class{constructor(){SDK.targetManager.observeModels(SDK.DebuggerModel,this);SDK.consoleModel.addEventListener(SDK.ConsoleModel.Events.ConsoleCleared,this._consoleCleared,this);SDK.consoleModel.addEventListener(SDK.ConsoleModel.Events.MessageAdded,e=>this._consoleMessageAdded(e.data));SDK.consoleModel.messages().forEach(this._consoleMessageAdded,this)}modelAdded(e){e[Bindings.PresentationConsoleMessageManager._symbol]=new Bindings.PresentationConsoleMessageHelper(e)}modelRemoved(e){e[Bindings.PresentationConsoleMessageManager._symbol]._consoleCleared()}_consoleMessageAdded(e){if(!e.isErrorOrWarning()||!e.runtimeModel()||e.source===SDK.ConsoleMessage.MessageSource.Violation)return;const t=e.runtimeModel().debuggerModel();t[Bindings.PresentationConsoleMessageManager._symbol]._consoleMessageAdded(e)}_consoleCleared(){for(const e of SDK.targetManager.models(SDK.DebuggerModel))e[Bindings.PresentationConsoleMessageManager._symbol]._consoleCleared()}};Bindings.PresentationConsoleMessageManager._symbol=Symbol("PresentationConsoleMessageHelper");Bindings.PresentationConsoleMessageHelper=class{constructor(e){this._debuggerModel=e;this._pendingConsoleMessages={};this._presentationConsoleMessages=[];e.addEventListener(SDK.DebuggerModel.Events.ParsedScriptSource,e=>setImmediate(this._parsedScriptSource.bind(this,e)));e.addEventListener(SDK.DebuggerModel.Events.GlobalObjectCleared,this._debuggerReset,this);this._locationPool=new Bindings.LiveLocationPool}_consoleMessageAdded(e){const t=this._rawLocation(e);if(t)this._addConsoleMessageToScript(e,t);else this._addPendingConsoleMessage(e)}_rawLocation(e){if(e.scriptId)return this._debuggerModel.createRawLocationByScriptId(e.scriptId,e.line,e.column);const t=e.stackTrace&&e.stackTrace.callFrames?e.stackTrace.callFrames[0]:null;if(t){return this._debuggerModel.createRawLocationByScriptId(t.scriptId,t.lineNumber,t.columnNumber)}if(e.url)return this._debuggerModel.createRawLocationByURL(e.url,e.line,e.column);return null}_addConsoleMessageToScript(e,t){this._presentationConsoleMessages.push(new Bindings.PresentationConsoleMessage(e,t,this._locationPool))}_addPendingConsoleMessage(e){if(!e.url)return;if(!this._pendingConsoleMessages[e.url])this._pendingConsoleMessages[e.url]=[];this._pendingConsoleMessages[e.url].push(e)}_parsedScriptSource(e){const t=e.data;const n=this._pendingConsoleMessages[t.sourceURL];if(!n)return;const s=[];for(let e=0;e<n.length;e++){const i=n[e];const o=this._rawLocation(i);if(!o)continue;if(t.scriptId===o.scriptId)this._addConsoleMessageToScript(i,o);else s.push(i)}if(s.length)this._pendingConsoleMessages[t.sourceURL]=s;else delete this._pendingConsoleMessages[t.sourceURL]}_consoleCleared(){this._pendingConsoleMessages={};this._debuggerReset()}_debuggerReset(){for(const e of this._presentationConsoleMessages)e.dispose();this._presentationConsoleMessages=[];this._locationPool.disposeAll()}};Bindings.PresentationConsoleMessage=class{constructor(e,t,n){this._text=e.messageText;this._level=e.level===SDK.ConsoleMessage.MessageLevel.Error?Workspace.UISourceCode.Message.Level.Error:Workspace.UISourceCode.Message.Level.Warning;Bindings.debuggerWorkspaceBinding.createLiveLocation(t,this._updateLocation.bind(this),n)}_updateLocation(e){if(this._uiMessage)this._uiMessage.remove();const t=e.uiLocation();if(!t)return;this._uiMessage=t.uiSourceCode.addLineMessage(this._level,this._text,t.lineNumber,t.columnNumber)}dispose(){if(this._uiMessage)this._uiMessage.remove()}};Bindings.resourceForURL=function(e){for(const t of SDK.targetManager.models(SDK.ResourceTreeModel)){const n=t.resourceForURL(e);if(n)return n}return null};Bindings.forAllResources=function(e){for(const t of SDK.targetManager.models(SDK.ResourceTreeModel))t.forAllResources(e)};Bindings.displayNameForURL=function(e){if(!e)return"";const t=Bindings.resourceForURL(e);if(t)return t.displayName;const n=Workspace.workspace.uiSourceCodeForURL(e);if(n)return n.displayName();const s=SDK.targetManager.mainTarget();const i=s&&s.inspectedURL();if(!i)return e.trimURL("");const o=i.asParsedURL();const r=o?o.lastPathComponent:o;const a=i.indexOf(r);if(a!==-1&&a+r.length===i.length){const t=i.substring(0,a);if(e.startsWith(t))return e.substring(a)}if(!o)return e;const l=e.trimURL(o.host);return l==="/"?o.host+"/":l};Bindings.metadataForURL=function(e,t,n){const s=e.model(SDK.ResourceTreeModel);if(!s)return null;const i=s.frameForId(t);if(!i)return null;return Bindings.resourceMetadata(i.resourceForURL(n))};Bindings.resourceMetadata=function(e){if(!e||typeof e.contentSize()!=="number"&&!e.lastModified())return null;return new Workspace.UISourceCodeMetadata(e.lastModified(),e.contentSize())};Bindings.frameIdForScript=function(e){const t=e.executionContext();if(t)return t.frameId||"";const n=e.debuggerModel.target().model(SDK.ResourceTreeModel);if(!n||!n.mainFrame)return"";return n.mainFrame.id};Bindings.TempFile=class{constructor(){this._lastBlob=null}write(e){if(this._lastBlob)e.unshift(this._lastBlob);this._lastBlob=new Blob(e,{type:"text/plain"})}read(){return this.readRange()}size(){return this._lastBlob?this._lastBlob.size:0}async readRange(e,t){if(!this._lastBlob){Common.console.error("Attempt to read a temp file that was never written");return Promise.resolve("")}const n=typeof e==="number"||typeof t==="number"?this._lastBlob.slice(e,t):this._lastBlob;const s=new FileReader;try{await new Promise((e,t)=>{s.onloadend=e;s.onerror=t;s.readAsText(n)})}catch(e){Common.console.error("Failed to read from temp file: "+e.message)}return s.result}copyToOutputStream(e,t){if(!this._lastBlob){e.close();return Promise.resolve(null)}const n=new Bindings.ChunkedFileReader(this._lastBlob,10*1e3*1e3,t);return n.read(e).then(e=>e?null:n.error())}remove(){this._lastBlob=null}};Bindings.TempFileBackingStorage=class{constructor(){this._file=null;this._strings;this._stringsLength;this.reset()}appendString(e){this._strings.push(e);this._stringsLength+=e.length;const t=10*1024*1024;if(this._stringsLength>t)this._flush()}appendAccessibleString(e){this._flush();const t=this._file.size();this._strings.push(e);this._flush();return this._file.readRange.bind(this._file,t,this._file.size())}_flush(){if(!this._strings.length)return;if(!this._file)this._file=new Bindings.TempFile;this._stringsLength=0;this._file.write(this._strings.splice(0))}finishWriting(){this._flush()}reset(){if(this._file)this._file.remove();this._file=null;this._strings=[];this._stringsLength=0}writeToStream(e){return this._file?this._file.copyToOutputStream(e):Promise.resolve(null)}};Bindings.TempFileBackingStorage.Chunk;self["DomExtension"]=self["DomExtension"]||{};Node.prototype.rangeOfWord=function(e,t,n,s){let i;let o=0;let r;let a=0;if(!n)n=this;if(!s||s==="backward"||s==="both"){let s=this;while(s){if(s===n){if(!i)i=n;break}if(s.nodeType===Node.TEXT_NODE){const n=s===this?e-1:s.nodeValue.length-1;for(let e=n;e>=0;--e){if(t.indexOf(s.nodeValue[e])!==-1){i=s;o=e+1;break}}}if(i)break;s=s.traversePreviousNode(n)}if(!i){i=n;o=0}}else{i=this;o=e}if(!s||s==="forward"||s==="both"){let s=this;while(s){if(s===n){if(!r)r=n;break}if(s.nodeType===Node.TEXT_NODE){const n=s===this?e:0;for(let e=n;e<s.nodeValue.length;++e){if(t.indexOf(s.nodeValue[e])!==-1){r=s;a=e;break}}}if(r)break;s=s.traverseNextNode(n)}if(!r){r=n;a=n.nodeType===Node.TEXT_NODE?n.nodeValue.length:n.childNodes.length}}else{r=this;a=e}const l=this.ownerDocument.createRange();l.setStart(i,o);l.setEnd(r,a);return l};Node.prototype.traverseNextTextNode=function(e){let t=this.traverseNextNode(e);if(!t)return null;const n={STYLE:1,SCRIPT:1};while(t&&(t.nodeType!==Node.TEXT_NODE||n[t.parentElement.nodeName]))t=t.traverseNextNode(e);return t};Element.prototype.positionAt=function(e,t,n){let s={x:0,y:0};if(n)s=n.boxInWindow(this.ownerDocument.defaultView);if(typeof e==="number")this.style.setProperty("left",s.x+e+"px");else this.style.removeProperty("left");if(typeof t==="number")this.style.setProperty("top",s.y+t+"px");else this.style.removeProperty("top");if(typeof e==="number"||typeof t==="number")this.style.setProperty("position","absolute");else this.style.removeProperty("position")};Element.prototype.isScrolledToBottom=function(){return Math.abs(this.scrollTop+this.clientHeight-this.scrollHeight)<=2};Node.prototype.enclosingNodeOrSelfWithNodeNameInArray=function(e){for(let t=this;t&&t!==this.ownerDocument;t=t.parentNodeOrShadowHost()){for(let n=0;n<e.length;++n){if(t.nodeName.toLowerCase()===e[n].toLowerCase())return t}}return null};Node.prototype.enclosingNodeOrSelfWithNodeName=function(e){return this.enclosingNodeOrSelfWithNodeNameInArray([e])};Node.prototype.enclosingNodeOrSelfWithClass=function(e,t){return this.enclosingNodeOrSelfWithClassList([e],t)};Node.prototype.enclosingNodeOrSelfWithClassList=function(e,t){for(let n=this;n&&n!==t&&n!==this.ownerDocument;n=n.parentNodeOrShadowHost()){if(n.nodeType===Node.ELEMENT_NODE){let t=true;for(let s=0;s<e.length&&t;++s){if(!n.classList.contains(e[s]))t=false}if(t)return n}}return null};Node.prototype.enclosingShadowRoot=function(){let e=this.parentNodeOrShadowHost();while(e){if(e instanceof ShadowRoot)return e;e=e.parentNodeOrShadowHost()}return null};Node.prototype.hasSameShadowRoot=function(e){return this.enclosingShadowRoot()===e.enclosingShadowRoot()};Node.prototype.parentElementOrShadowHost=function(){if(this.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&this.host)return this.host;const e=this.parentNode;if(!e)return null;if(e.nodeType===Node.ELEMENT_NODE)return e;if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return e.host;return null};Node.prototype.parentNodeOrShadowHost=function(){if(this.parentNode)return this.parentNode;if(this.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&this.host)return this.host;return null};Node.prototype.getComponentSelection=function(){let e=this.parentNode;while(e&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)e=e.parentNode;return e instanceof ShadowRoot?e.getSelection():this.window().getSelection()};Node.prototype.hasSelection=function(){if(this instanceof Element){const e=this.querySelectorAll("slot");for(const t of e){if(Array.prototype.some.call(t.assignedNodes(),e=>e.hasSelection()))return true}}const e=this.getComponentSelection();if(e.type!=="Range")return false;return e.containsNode(this,true)||e.anchorNode.isSelfOrDescendant(this)||e.focusNode.isSelfOrDescendant(this)};Node.prototype.window=function(){return this.ownerDocument.defaultView};Element.prototype.removeChildren=function(){if(this.firstChild)this.textContent=""};function createElement(e,t){return document.createElement(e,{is:t})}function createTextNode(e){return document.createTextNode(e)}Document.prototype.createElementWithClass=function(e,t,n){const s=this.createElement(e,{is:n});if(t)s.className=t;return s};function createElementWithClass(e,t,n){return document.createElementWithClass(e,t,n)}Document.prototype.createSVGElement=function(e,t){const n=this.createElementNS("http://www.w3.org/2000/svg",e);if(t)n.setAttribute("class",t);return n};function createSVGElement(e,t){return document.createSVGElement(e,t)}function createDocumentFragment(){return document.createDocumentFragment()}Element.prototype.createChild=function(e,t,n){const s=this.ownerDocument.createElementWithClass(e,t,n);this.appendChild(s);return s};DocumentFragment.prototype.createChild=Element.prototype.createChild;Element.prototype.createTextChild=function(e){const t=this.ownerDocument.createTextNode(e);this.appendChild(t);return t};DocumentFragment.prototype.createTextChild=Element.prototype.createTextChild;Element.prototype.createTextChildren=function(e){for(let e=0,t=arguments.length;e<t;++e)this.createTextChild(arguments[e])};DocumentFragment.prototype.createTextChildren=Element.prototype.createTextChildren;Element.prototype.totalOffsetLeft=function(){return this.totalOffset().left};Element.prototype.totalOffsetTop=function(){return this.totalOffset().top};Element.prototype.totalOffset=function(){const e=this.getBoundingClientRect();return{left:e.left,top:e.top}};Element.prototype.createSVGChild=function(e,t){const n=this.ownerDocument.createSVGElement(e,t);this.appendChild(n);return n};var AnchorBox=class{constructor(e,t,n,s){this.x=e||0;this.y=t||0;this.width=n||0;this.height=s||0}contains(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height}};AnchorBox.prototype.relativeTo=function(e){return new AnchorBox(this.x-e.x,this.y-e.y,this.width,this.height)};AnchorBox.prototype.relativeToElement=function(e){return this.relativeTo(e.boxInWindow(e.ownerDocument.defaultView))};AnchorBox.prototype.equals=function(e){return!!e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height};Element.prototype.boxInWindow=function(e){e=e||this.ownerDocument.defaultView;const t=new AnchorBox;let n=this;let s=this.ownerDocument.defaultView;while(s&&n){t.x+=n.totalOffsetLeft();t.y+=n.totalOffsetTop();if(s===e)break;n=s.frameElement;s=s.parent}t.width=Math.min(this.offsetWidth,e.innerWidth-t.x);t.height=Math.min(this.offsetHeight,e.innerHeight-t.y);return t};Event.prototype.consume=function(e){this.stopImmediatePropagation();if(e)this.preventDefault();this.handled=true};Text.prototype.select=function(e,t){e=e||0;t=t||this.textContent.length;if(e<0)e=t+e;const n=this.getComponentSelection();n.removeAllRanges();const s=this.ownerDocument.createRange();s.setStart(this,e);s.setEnd(this,t);n.addRange(s);return this};Element.prototype.selectionLeftOffset=function(){const e=this.getComponentSelection();if(!e.containsNode(this,true))return null;let t=e.anchorOffset;let n=e.anchorNode;while(n!==this){while(n.previousSibling){n=n.previousSibling;t+=n.textContent.length}n=n.parentNodeOrShadowHost()}return t};Node.prototype.appendChildren=function(e){for(let e=0,t=arguments.length;e<t;++e)this.appendChild(arguments[e])};Node.prototype.deepTextContent=function(){return this.childTextNodes().map(function(e){return e.textContent}).join("")};Node.prototype.childTextNodes=function(){let e=this.traverseNextTextNode(this);const t=[];const n={STYLE:1,SCRIPT:1};while(e){if(!n[e.parentElement.nodeName])t.push(e);e=e.traverseNextTextNode(this)}return t};Node.prototype.isAncestor=function(e){if(!e)return false;let t=e.parentNodeOrShadowHost();while(t){if(this===t)return true;t=t.parentNodeOrShadowHost()}return false};Node.prototype.isDescendant=function(e){return!!e&&e.isAncestor(this)};Node.prototype.isSelfOrAncestor=function(e){return!!e&&(e===this||this.isAncestor(e))};Node.prototype.isSelfOrDescendant=function(e){return!!e&&(e===this||this.isDescendant(e))};Node.prototype.traverseNextNode=function(e){if(this.shadowRoot)return this.shadowRoot;const t=this instanceof HTMLSlotElement?this.assignedNodes():[];if(t.length)return t[0];if(this.firstChild)return this.firstChild;let n=this;while(n){if(e&&n===e)return null;const t=s(n);if(t)return t;n=n.assignedSlot||n.parentNodeOrShadowHost()}function s(e){if(!e.assignedSlot)return e.nextSibling;const t=e.assignedSlot.assignedNodes();const n=Array.prototype.indexOf.call(t,e);if(n+1<t.length)return t[n+1];return null}return null};Node.prototype.traversePreviousNode=function(e){if(e&&this===e)return null;let t=this.previousSibling;while(t&&t.lastChild)t=t.lastChild;if(t)return t;return this.parentNodeOrShadowHost()};Node.prototype.setTextContentTruncatedIfNeeded=function(e,t){const n=1e4;if(typeof e==="string"&&e.length>n){this.textContent=typeof t==="string"?t:e.trimMiddle(n);return true}this.textContent=e;return false};Event.prototype.deepElementFromPoint=function(){if(!this.which&&!this.pageX&&!this.pageY&&!this.clientX&&!this.clientY&&!this.movementX&&!this.movementY)return null;const e=this.target&&this.target.getComponentRoot();return e?e.deepElementFromPoint(this.pageX,this.pageY):null};Document.prototype.deepElementFromPoint=function(e,t){let n=this;let s=null;while(n){const i=n.elementFromPoint(e,t);if(!i||s===i)break;s=i;n=s.shadowRoot}return s};DocumentFragment.prototype.deepElementFromPoint=Document.prototype.deepElementFromPoint;Document.prototype.deepActiveElement=function(){let e=this.activeElement;while(e&&e.shadowRoot&&e.shadowRoot.activeElement)e=e.shadowRoot.activeElement;return e};DocumentFragment.prototype.deepActiveElement=Document.prototype.deepActiveElement;Element.prototype.hasFocus=function(){const e=this.getComponentRoot();return!!e&&this.isSelfOrAncestor(e.activeElement)};Node.prototype.getComponentRoot=function(){let e=this;while(e&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&e.nodeType!==Node.DOCUMENT_NODE)e=e.parentNode;return e};function isEnterKey(e){return e.keyCode!==229&&e.key==="Enter"}function isEscKey(e){return e.keyCode===27}(function(){const e=DOMTokenList.prototype.toggle;DOMTokenList.prototype["toggle"]=function(t,n){if(arguments.length===1)n=!this.contains(t);return e.call(this,t,!!n)}})();self["UI"]=self["UI"]||{};UI.XElement=class extends HTMLElement{static get observedAttributes(){return["flex","padding","padding-top","padding-bottom","padding-left","padding-right","margin","margin-top","margin-bottom","margin-left","margin-right","overflow","overflow-x","overflow-y","font-size","color","background","background-color","border","border-top","border-bottom","border-left","border-right","max-width","max-height"]}attributeChangedCallback(e,t,n){if(e==="flex"){if(n===null)this.style.removeProperty("flex");else if(n==="initial"||n==="auto"||n==="none"||n.indexOf(" ")!==-1)this.style.setProperty("flex",n);else this.style.setProperty("flex","0 0 "+n);return}if(n===null){this.style.removeProperty(e);if(e.startsWith("padding-")||e.startsWith("margin-")||e.startsWith("border-")||e.startsWith("background-")||e.startsWith("overflow-")){const t=e.substring(0,e.indexOf("-"));const n=this.getAttribute(t);if(n!==null)this.style.setProperty(t,n)}}else{this.style.setProperty(e,n)}}};UI._XBox=class extends UI.XElement{constructor(e){super();this.style.setProperty("display","flex");this.style.setProperty("flex-direction",e);this.style.setProperty("justify-content","flex-start")}static get observedAttributes(){return UI.XElement.observedAttributes.concat(["x-start","x-center","x-stretch","x-baseline","justify-content"])}attributeChangedCallback(e,t,n){if(e==="x-start"||e==="x-center"||e==="x-stretch"||e==="x-baseline"){if(n===null)this.style.removeProperty("align-items");else this.style.setProperty("align-items",e==="x-start"?"flex-start":e.substr(2));return}super.attributeChangedCallback(e,t,n)}};UI.XVBox=class extends UI._XBox{constructor(){super("column")}};UI.XHBox=class extends UI._XBox{constructor(){super("row")}};UI.XCBox=class extends UI.XElement{constructor(){super();this.style.setProperty("display","flex");this.style.setProperty("flex-direction","column");this.style.setProperty("justify-content","center");this.style.setProperty("align-items","center")}};UI.XDiv=class extends UI.XElement{constructor(){super();this.style.setProperty("display","block")}};UI.XSpan=class extends UI.XElement{constructor(){super();this.style.setProperty("display","inline")}};UI.XText=class extends UI.XElement{constructor(){super();this.style.setProperty("display","inline");this.style.setProperty("white-space","pre")}};self.customElements.define("x-vbox",UI.XVBox);self.customElements.define("x-hbox",UI.XHBox);self.customElements.define("x-cbox",UI.XCBox);self.customElements.define("x-div",UI.XDiv);self.customElements.define("x-span",UI.XSpan);self.customElements.define("x-text",UI.XText);UI.Widget=class extends Common.Object{constructor(e,t){super();this.contentElement=createElementWithClass("div","widget");if(e){this.element=createElementWithClass("div","vbox flex-auto");this._shadowRoot=UI.createShadowRootWithCoreStyles(this.element,undefined,t);this._shadowRoot.appendChild(this.contentElement)}else{this.element=this.contentElement}this._isWebComponent=e;this.element.__widget=this;this._visible=false;this._isRoot=false;this._isShowing=false;this._children=[];this._hideOnDetach=false;this._notificationDepth=0;this._invalidationsSuspended=0;this._defaultFocusedChild=null}static _incrementWidgetCounter(e,t){const n=(t.__widgetCounter||0)+(t.__widget?1:0);if(!n)return;while(e){e.__widgetCounter=(e.__widgetCounter||0)+n;e=e.parentElementOrShadowHost()}}static _decrementWidgetCounter(e,t){const n=(t.__widgetCounter||0)+(t.__widget?1:0);if(!n)return;while(e){e.__widgetCounter-=n;e=e.parentElementOrShadowHost()}}static __assert(e,t){if(!e)throw new Error(t)}static focusWidgetForNode(e){while(e){if(e.__widget)break;e=e.parentNodeOrShadowHost()}if(!e)return;let t=e.__widget;while(t._parentWidget){t._parentWidget._defaultFocusedChild=t;t=t._parentWidget}}markAsRoot(){UI.Widget.__assert(!this.element.parentElement,"Attempt to mark as root attached node");this._isRoot=true}parentWidget(){return this._parentWidget}children(){return this._children}childWasDetached(e){}isShowing(){return this._isShowing}shouldHideOnDetach(){if(!this.element.parentElement)return false;if(this._hideOnDetach)return true;for(const e of this._children){if(e.shouldHideOnDetach())return true}return false}setHideOnDetach(){this._hideOnDetach=true}_inNotification(){return!!this._notificationDepth||this._parentWidget&&this._parentWidget._inNotification()}_parentIsShowing(){if(this._isRoot)return true;return!!this._parentWidget&&this._parentWidget.isShowing()}_callOnVisibleChildren(e){const t=this._children.slice();for(let n=0;n<t.length;++n){if(t[n]._parentWidget===this&&t[n]._visible)e.call(t[n])}}_processWillShow(){this._callOnVisibleChildren(this._processWillShow);this._isShowing=true}_processWasShown(){if(this._inNotification())return;this.restoreScrollPositions();this._notify(this.wasShown);this._callOnVisibleChildren(this._processWasShown)}_processWillHide(){if(this._inNotification())return;this.storeScrollPositions();this._callOnVisibleChildren(this._processWillHide);this._notify(this.willHide);this._isShowing=false}_processWasHidden(){this._callOnVisibleChildren(this._processWasHidden)}_processOnResize(){if(this._inNotification())return;if(!this.isShowing())return;this._notify(this.onResize);this._callOnVisibleChildren(this._processOnResize)}_notify(e){++this._notificationDepth;try{e.call(this)}finally{--this._notificationDepth}}wasShown(){}willHide(){}onResize(){}onLayout(){}ownerViewDisposed(){}show(e,t){UI.Widget.__assert(e,"Attempt to attach widget with no parent element");if(!this._isRoot){let t=e;while(t&&!t.__widget)t=t.parentElementOrShadowHost();UI.Widget.__assert(t,"Attempt to attach widget to orphan node");this._attach(t.__widget)}this._showWidget(e,t)}_attach(e){if(e===this._parentWidget)return;if(this._parentWidget)this.detach();this._parentWidget=e;this._parentWidget._children.push(this);this._isRoot=false}showWidget(){if(this._visible)return;UI.Widget.__assert(this.element.parentElement,"Attempt to show widget that is not hidden using hideWidget().");this._showWidget(this.element.parentElement,this.element.nextSibling)}_showWidget(e,t){let n=e;while(n&&!n.__widget)n=n.parentElementOrShadowHost();if(this._isRoot){UI.Widget.__assert(!n,"Attempt to show root widget under another widget")}else{UI.Widget.__assert(n&&n.__widget===this._parentWidget,"Attempt to show under node belonging to alien widget")}const s=this._visible;if(s&&this.element.parentElement===e)return;this._visible=true;if(!s&&this._parentIsShowing())this._processWillShow();this.element.classList.remove("hidden");if(this.element.parentElement!==e){UI.Widget._incrementWidgetCounter(e,this.element);if(t)UI.Widget._originalInsertBefore.call(e,this.element,t);else UI.Widget._originalAppendChild.call(e,this.element)}if(!s&&this._parentIsShowing())this._processWasShown();if(this._parentWidget&&this._hasNonZeroConstraints())this._parentWidget.invalidateConstraints();else this._processOnResize()}hideWidget(){if(!this._visible)return;this._hideWidget(false)}_hideWidget(e){this._visible=false;const t=this.element.parentElement;if(this._parentIsShowing())this._processWillHide();if(e){UI.Widget._decrementWidgetCounter(t,this.element);UI.Widget._originalRemoveChild.call(t,this.element)}else{this.element.classList.add("hidden")}if(this._parentIsShowing())this._processWasHidden();if(this._parentWidget&&this._hasNonZeroConstraints())this._parentWidget.invalidateConstraints()}detach(e){if(!this._parentWidget&&!this._isRoot)return;const t=e||!this.shouldHideOnDetach();if(this._visible){this._hideWidget(t)}else if(t&&this.element.parentElement){const e=this.element.parentElement;UI.Widget._decrementWidgetCounter(e,this.element);UI.Widget._originalRemoveChild.call(e,this.element)}if(this._parentWidget){const e=this._parentWidget._children.indexOf(this);UI.Widget.__assert(e>=0,"Attempt to remove non-child widget");this._parentWidget._children.splice(e,1);if(this._parentWidget._defaultFocusedChild===this)this._parentWidget._defaultFocusedChild=null;this._parentWidget.childWasDetached(this);this._parentWidget=null}else{UI.Widget.__assert(this._isRoot,"Removing non-root widget from DOM")}}detachChildWidgets(){const e=this._children.slice();for(let t=0;t<e.length;++t)e[t].detach()}elementsToRestoreScrollPositionsFor(){return[this.element]}storeScrollPositions(){const e=this.elementsToRestoreScrollPositionsFor();for(let t=0;t<e.length;++t){const n=e[t];n._scrollTop=n.scrollTop;n._scrollLeft=n.scrollLeft}}restoreScrollPositions(){const e=this.elementsToRestoreScrollPositionsFor();for(let t=0;t<e.length;++t){const n=e[t];if(n._scrollTop)n.scrollTop=n._scrollTop;if(n._scrollLeft)n.scrollLeft=n._scrollLeft}}doResize(){if(!this.isShowing())return;if(!this._inNotification())this._callOnVisibleChildren(this._processOnResize)}doLayout(){if(!this.isShowing())return;this._notify(this.onLayout);this.doResize()}registerRequiredCSS(e){UI.appendStyle(this._isWebComponent?this._shadowRoot:this.element,e)}printWidgetHierarchy(){const e=[];this._collectWidgetHierarchy("",e);console.log(e.join("\n"))}_collectWidgetHierarchy(e,t){t.push(e+"["+this.element.className+"]"+(this._children.length?" {":""));for(let n=0;n<this._children.length;++n)this._children[n]._collectWidgetHierarchy(e+"    ",t);if(this._children.length)t.push(e+"}")}setDefaultFocusedElement(e){this._defaultFocusedElement=e}setDefaultFocusedChild(e){UI.Widget.__assert(e._parentWidget===this,"Attempt to set non-child widget as default focused.");this._defaultFocusedChild=e}focus(){if(!this.isShowing())return;const e=this._defaultFocusedElement;if(e){if(!e.hasFocus())e.focus();return}if(this._defaultFocusedChild&&this._defaultFocusedChild._visible){this._defaultFocusedChild.focus()}else{for(const e of this._children){if(e._visible){e.focus();return}}let e=this.contentElement.traverseNextNode(this.contentElement);while(e){if(e instanceof UI.XWidget){e.focus();return}e=e.traverseNextNode(this.contentElement)}}}hasFocus(){return this.element.hasFocus()}calculateConstraints(){return new UI.Constraints}constraints(){if(typeof this._constraints!=="undefined")return this._constraints;if(typeof this._cachedConstraints==="undefined")this._cachedConstraints=this.calculateConstraints();return this._cachedConstraints}setMinimumAndPreferredSizes(e,t,n,s){this._constraints=new UI.Constraints(new UI.Size(e,t),new UI.Size(n,s));this.invalidateConstraints()}setMinimumSize(e,t){this._constraints=new UI.Constraints(new UI.Size(e,t));this.invalidateConstraints()}_hasNonZeroConstraints(){const e=this.constraints();return!!(e.minimum.width||e.minimum.height||e.preferred.width||e.preferred.height)}suspendInvalidations(){++this._invalidationsSuspended}resumeInvalidations(){--this._invalidationsSuspended;if(!this._invalidationsSuspended&&this._invalidationsRequested)this.invalidateConstraints()}invalidateConstraints(){if(this._invalidationsSuspended){this._invalidationsRequested=true;return}this._invalidationsRequested=false;const e=this._cachedConstraints;delete this._cachedConstraints;const t=this.constraints();if(!t.isEqual(e)&&this._parentWidget)this._parentWidget.invalidateConstraints();else this.doLayout()}};UI.Widget._originalAppendChild=Element.prototype.appendChild;UI.Widget._originalInsertBefore=Element.prototype.insertBefore;UI.Widget._originalRemoveChild=Element.prototype.removeChild;UI.Widget._originalRemoveChildren=Element.prototype.removeChildren;UI.VBox=class extends UI.Widget{constructor(e,t){super(e,t);this.contentElement.classList.add("vbox")}calculateConstraints(){let e=new UI.Constraints;function t(){const t=this.constraints();e=e.widthToMax(t);e=e.addHeight(t)}this._callOnVisibleChildren(t);return e}};UI.HBox=class extends UI.Widget{constructor(e){super(e);this.contentElement.classList.add("hbox")}calculateConstraints(){let e=new UI.Constraints;function t(){const t=this.constraints();e=e.addWidth(t);e=e.heightToMax(t)}this._callOnVisibleChildren(t);return e}};UI.VBoxWithResizeCallback=class extends UI.VBox{constructor(e){super();this._resizeCallback=e}onResize(){this._resizeCallback()}};UI.WidgetFocusRestorer=class{constructor(e){this._widget=e;this._previous=e.element.ownerDocument.deepActiveElement();e.focus()}restore(){if(!this._widget)return;if(this._widget.hasFocus()&&this._previous)this._previous.focus();this._previous=null;this._widget=null}};Element.prototype.appendChild=function(e){UI.Widget.__assert(!e.__widget||e.parentElement===this,"Attempt to add widget via regular DOM operation.");return UI.Widget._originalAppendChild.call(this,e)};Element.prototype.insertBefore=function(e,t){UI.Widget.__assert(!e.__widget||e.parentElement===this,"Attempt to add widget via regular DOM operation.");return UI.Widget._originalInsertBefore.call(this,e,t)};Element.prototype.removeChild=function(e){UI.Widget.__assert(!e.__widgetCounter&&!e.__widget,"Attempt to remove element containing widget via regular DOM operation");return UI.Widget._originalRemoveChild.call(this,e)};Element.prototype.removeChildren=function(){UI.Widget.__assert(!this.__widgetCounter,"Attempt to remove element containing widget via regular DOM operation");UI.Widget._originalRemoveChildren.call(this)};UI.View=function(){};UI.View.prototype={viewId(){},title(){},isCloseable(){},isTransient(){},toolbarItems(){},widget(){},disposeView(){}};UI.View._symbol=Symbol("view");UI.View._widgetSymbol=Symbol("widget");UI.SimpleView=class extends UI.VBox{constructor(e,t){super(t);this._title=e;this._toolbarItems=[];this[UI.View._symbol]=this}viewId(){return this._title}title(){return this._title}isCloseable(){return false}isTransient(){return false}toolbarItems(){return Promise.resolve(this.syncToolbarItems())}syncToolbarItems(){return this._toolbarItems}widget(){return Promise.resolve(this)}addToolbarItem(e){this._toolbarItems.push(e)}revealView(){return UI.viewManager.revealView(this)}disposeView(){}};UI.ProvidedView=class{constructor(e){this._extension=e}viewId(){return this._extension.descriptor()["id"]}title(){return this._extension.title()}isCloseable(){return this._extension.descriptor()["persistence"]==="closeable"}isTransient(){return this._extension.descriptor()["persistence"]==="transient"}toolbarItems(){const e=this._extension.descriptor()["actionIds"];if(e){const t=e.split(",").map(e=>UI.Toolbar.createActionButtonForId(e.trim()));return Promise.resolve(t)}if(this._extension.descriptor()["hasToolbar"])return this.widget().then(e=>e.toolbarItems());return Promise.resolve([])}async widget(){this._widgetRequested=true;const e=await this._extension.instance();if(!(e instanceof UI.Widget))throw new Error("view className should point to a UI.Widget");e[UI.View._symbol]=this;return e}async disposeView(){if(!this._widgetRequested)return;const e=await this.widget();e.ownerViewDisposed()}};UI.ViewLocation=function(){};UI.ViewLocation.prototype={appendApplicableItems(e){},appendView(e,t){},showView(e,t,n){},removeView(e){},widget(){}};UI.TabbedViewLocation=function(){};UI.TabbedViewLocation.prototype={tabbedPane(){},enableMoreTabsButton(){}};UI.ViewLocationResolver=function(){};UI.ViewLocationResolver.prototype={resolveLocation(e){}};UI.ViewManager=class{constructor(){this._views=new Map;this._locationNameByViewId=new Map;for(const e of self.runtime.extensions("view")){const t=e.descriptor();this._views.set(t["id"],new UI.ProvidedView(e));this._locationNameByViewId.set(t["id"],t["location"])}}static _populateToolbar(e,t){if(!t.length)return;const n=new UI.Toolbar("");e.insertBefore(n.element,e.firstChild);for(const e of t)n.appendToolbarItem(e)}revealView(e){const t=e[UI.ViewManager._Location.symbol];if(!t)return Promise.resolve();t._reveal();return t.showView(e)}view(e){return this._views.get(e)}materializedWidget(e){const t=this.view(e);return t?t[UI.View._widgetSymbol]:null}showView(e,t,n){const s=this._views.get(e);if(!s){console.error("Could not find view for id: '"+e+"' "+(new Error).stack);return Promise.resolve()}const i=this._locationNameByViewId.get(e);const o=s[UI.ViewManager._Location.symbol];if(o){o._reveal();return o.showView(s,undefined,t,n)}return this.resolveLocation(i).then(i=>{if(!i)throw new Error("Could not resolve location for view: "+e);i._reveal();return i.showView(s,undefined,t,n)})}resolveLocation(e){if(!e)return Promise.resolve(null);const t=self.runtime.extensions(UI.ViewLocationResolver).filter(t=>t.descriptor()["name"]===e);if(!t.length)throw new Error("Unresolved location: "+e);const n=t[0];return n.instance().then(t=>t.resolveLocation(e))}createTabbedLocation(e,t,n,s,i){return new UI.ViewManager._TabbedLocation(this,e,t,n,s,i)}createStackLocation(e,t){return new UI.ViewManager._StackLocation(this,e,t)}hasViewsForLocation(e){return!!this._viewsForLocation(e).length}_viewsForLocation(e){const t=[];for(const n of this._views.keys()){if(this._locationNameByViewId.get(n)===e)t.push(this._views.get(n))}return t}};UI.ViewManager._ContainerWidget=class extends UI.VBox{constructor(e){super();this.element.classList.add("flex-auto","view-container","overflow-auto");this._view=e;this.element.tabIndex=-1;this.setDefaultFocusedElement(this.element)}_materialize(){if(this._materializePromise)return this._materializePromise;const e=[];e.push(this._view.toolbarItems().then(UI.ViewManager._populateToolbar.bind(UI.ViewManager,this.element)));e.push(this._view.widget().then(e=>{const t=this.element.hasFocus();this.setDefaultFocusedElement(null);this._view[UI.View._widgetSymbol]=e;e.show(this.element);if(t)e.focus()}));this._materializePromise=Promise.all(e);return this._materializePromise}wasShown(){this._materialize().then(()=>{this._wasShownForTest()})}_wasShownForTest(){}};UI.ViewManager._ExpandableContainerWidget=class extends UI.VBox{constructor(e){super(true);this.element.classList.add("flex-none");this.registerRequiredCSS("ui/viewContainers.css");this._titleElement=createElementWithClass("div","expandable-view-title");UI.ARIAUtils.markAsLink(this._titleElement);this._titleExpandIcon=UI.Icon.create("smallicon-triangle-right","title-expand-icon");this._titleElement.appendChild(this._titleExpandIcon);this._titleElement.createTextChild(e.title());this._titleElement.tabIndex=0;this._titleElement.addEventListener("click",this._toggleExpanded.bind(this),false);this._titleElement.addEventListener("keydown",this._onTitleKeyDown.bind(this),false);this.contentElement.insertBefore(this._titleElement,this.contentElement.firstChild);this.contentElement.createChild("slot");this._view=e;e[UI.ViewManager._ExpandableContainerWidget._symbol]=this}_materialize(){if(this._materializePromise)return this._materializePromise;const e=[];e.push(this._view.toolbarItems().then(UI.ViewManager._populateToolbar.bind(UI.ViewManager,this._titleElement)));e.push(this._view.widget().then(e=>{this._widget=e;this._view[UI.View._widgetSymbol]=e;e.show(this.element)}));this._materializePromise=Promise.all(e);return this._materializePromise}_expand(){if(this._titleElement.classList.contains("expanded"))return this._materialize();this._titleElement.classList.add("expanded");UI.ARIAUtils.setExpanded(this._titleElement,true);this._titleExpandIcon.setIconType("smallicon-triangle-down");return this._materialize().then(()=>this._widget.show(this.element))}_collapse(){if(!this._titleElement.classList.contains("expanded"))return;this._titleElement.classList.remove("expanded");UI.ARIAUtils.setExpanded(this._titleElement,false);this._titleExpandIcon.setIconType("smallicon-triangle-right");this._materialize().then(()=>this._widget.detach())}_toggleExpanded(){if(this._titleElement.classList.contains("expanded"))this._collapse();else this._expand()}_onTitleKeyDown(e){if(isEnterKey(e)||e.keyCode===UI.KeyboardShortcut.Keys.Space.code){this._toggleExpanded()}else if(e.key==="ArrowLeft"){this._collapse()}else if(e.key==="ArrowRight"){if(!this._titleElement.classList.contains("expanded"))this._expand();else if(this._widget)this._widget.focus()}}};UI.ViewManager._ExpandableContainerWidget._symbol=Symbol("container");UI.ViewManager._Location=class{constructor(e,t,n){this._manager=e;this._revealCallback=n;this._widget=t}widget(){return this._widget}_reveal(){if(this._revealCallback)this._revealCallback()}};UI.ViewManager._Location.symbol=Symbol("location");UI.ViewManager._TabbedLocation=class extends UI.ViewManager._Location{constructor(e,t,n,s,i,o){const r=new UI.TabbedPane;if(i)r.setAllowTabReorder(true);super(e,r,t);this._tabbedPane=r;this._allowReorder=i;this._tabbedPane.addEventListener(UI.TabbedPane.Events.TabSelected,this._tabSelected,this);this._tabbedPane.addEventListener(UI.TabbedPane.Events.TabClosed,this._tabClosed,this);this._closeableTabSetting=Common.settings.createSetting(n+"-closeableTabs",{});this._tabOrderSetting=Common.settings.createSetting(n+"-tabOrder",{});this._tabbedPane.addEventListener(UI.TabbedPane.Events.TabOrderChanged,this._persistTabOrder,this);if(s)this._lastSelectedTabSetting=Common.settings.createSetting(n+"-selectedTab","");this._defaultTab=o;this._views=new Map;if(n)this.appendApplicableItems(n)}widget(){return this._tabbedPane}tabbedPane(){return this._tabbedPane}enableMoreTabsButton(){const e=new UI.ToolbarMenuButton(this._appendTabsToMenu.bind(this));this._tabbedPane.leftToolbar().appendToolbarItem(e);this._tabbedPane.disableOverflowMenu();return e}appendApplicableItems(e){const t=this._manager._viewsForLocation(e);if(this._allowReorder){let e=0;const n=this._tabOrderSetting.get();const s=new Map;for(const i of t)s.set(i.viewId(),n[i.viewId()]||++e*UI.ViewManager._TabbedLocation.orderStep);t.sort((e,t)=>s.get(e.viewId())-s.get(t.viewId()))}for(const e of t){const t=e.viewId();this._views.set(t,e);e[UI.ViewManager._Location.symbol]=this;if(e.isTransient())continue;if(!e.isCloseable())this._appendTab(e);else if(this._closeableTabSetting.get()[t])this._appendTab(e)}if(this._defaultTab&&this._tabbedPane.hasTab(this._defaultTab))this._tabbedPane.selectTab(this._defaultTab);else if(this._lastSelectedTabSetting&&this._tabbedPane.hasTab(this._lastSelectedTabSetting.get()))this._tabbedPane.selectTab(this._lastSelectedTabSetting.get())}_appendTabsToMenu(e){const t=Array.from(this._views.values());t.sort((e,t)=>e.title().localeCompare(t.title()));for(const n of t){const t=Common.UIString(n.title());e.defaultSection().appendItem(t,this.showView.bind(this,n,undefined,true))}}_appendTab(e,t){this._tabbedPane.appendTab(e.viewId(),e.title(),new UI.ViewManager._ContainerWidget(e),undefined,false,e.isCloseable()||e.isTransient(),t)}appendView(e,t){if(this._tabbedPane.hasTab(e.viewId()))return;const n=e[UI.ViewManager._Location.symbol];if(n&&n!==this)n.removeView(e);e[UI.ViewManager._Location.symbol]=this;this._manager._views.set(e.viewId(),e);this._views.set(e.viewId(),e);let s=undefined;const i=this._tabbedPane.tabIds();if(this._allowReorder){const t=this._tabOrderSetting.get();const n=t[e.viewId()];for(let e=0;n&&e<i.length;++e){if(t[i[e]]&&t[i[e]]>n){s=e;break}}}else if(t){for(let e=0;e<i.length;++e){if(i[e]===t.viewId()){s=e;break}}}this._appendTab(e,s);if(e.isCloseable()){const t=this._closeableTabSetting.get();const n=e.viewId();if(!t[n]){t[n]=true;this._closeableTabSetting.set(t)}}this._persistTabOrder()}showView(e,t,n,s){this.appendView(e,t);this._tabbedPane.selectTab(e.viewId(),n);if(!s)this._tabbedPane.focus();const i=this._tabbedPane.tabView(e.viewId());return i._materialize()}removeView(e){if(!this._tabbedPane.hasTab(e.viewId()))return;delete e[UI.ViewManager._Location.symbol];this._manager._views.delete(e.viewId());this._tabbedPane.closeTab(e.viewId());this._views.delete(e.viewId())}_tabSelected(e){const t=e.data.tabId;if(this._lastSelectedTabSetting&&e.data["isUserGesture"])this._lastSelectedTabSetting.set(t)}_tabClosed(e){const t=e.data["tabId"];const n=this._closeableTabSetting.get();if(n[t]){delete n[t];this._closeableTabSetting.set(n)}this._views.get(t).disposeView()}_persistTabOrder(){const e=this._tabbedPane.tabIds();const t={};for(let n=0;n<e.length;n++)t[e[n]]=(n+1)*UI.ViewManager._TabbedLocation.orderStep;const n=this._tabOrderSetting.get();const s=Object.keys(n);s.sort((e,t)=>n[e]-n[t]);let i=0;for(const e of s){if(e in t){i=t[e];continue}t[e]=++i}this._tabOrderSetting.set(t)}};UI.ViewManager._TabbedLocation.orderStep=10;UI.ViewManager._StackLocation=class extends UI.ViewManager._Location{constructor(e,t,n){const s=new UI.VBox;super(e,s,t);this._vbox=s;this._expandableContainers=new Map;if(n)this.appendApplicableItems(n)}appendView(e,t){const n=e[UI.ViewManager._Location.symbol];if(n&&n!==this)n.removeView(e);let s=this._expandableContainers.get(e.viewId());if(!s){e[UI.ViewManager._Location.symbol]=this;this._manager._views.set(e.viewId(),e);s=new UI.ViewManager._ExpandableContainerWidget(e);let n=null;if(t){const e=t[UI.ViewManager._ExpandableContainerWidget._symbol];n=e?e.element:null}s.show(this._vbox.contentElement,n);this._expandableContainers.set(e.viewId(),s)}}showView(e,t){this.appendView(e,t);const n=this._expandableContainers.get(e.viewId());return n._expand()}removeView(e){const t=this._expandableContainers.get(e.viewId());if(!t)return;t.detach();this._expandableContainers.delete(e.viewId());delete e[UI.ViewManager._Location.symbol];this._manager._views.delete(e.viewId())}appendApplicableItems(e){for(const t of this._manager._viewsForLocation(e))this.appendView(t)}};UI.viewManager;UI.TreeOutline=class extends Common.Object{constructor(){super();this._createRootElement();this.selectedTreeElement=null;this.expandTreeElementsWhenArrowing=false;this._comparator=null;this.contentElement=this._rootElement._childrenListNode;this.contentElement.addEventListener("keydown",this._treeKeyDown.bind(this),false);this._preventTabOrder=false;this._showSelectionOnKeyboardFocus=false;this._focusable=true;this.setFocusable(this._focusable);if(this._focusable)this.contentElement.setAttribute("tabIndex",-1);this.element=this.contentElement;UI.ARIAUtils.markAsTree(this.element)}setShowSelectionOnKeyboardFocus(e,t){this.contentElement.classList.toggle("hide-selection-when-blurred",e);this._preventTabOrder=!!t;this._showSelectionOnKeyboardFocus=e}_createRootElement(){this._rootElement=new UI.TreeElement;this._rootElement.treeOutline=this;this._rootElement.root=true;this._rootElement.selectable=false;this._rootElement.expanded=true;this._rootElement._childrenListNode.classList.remove("children")}rootElement(){return this._rootElement}firstChild(){return this._rootElement.firstChild()}_lastDescendent(){let e=this._rootElement.lastChild();while(e.expanded&&e.childCount())e=e.lastChild();return e}appendChild(e){this._rootElement.appendChild(e)}insertChild(e,t){this._rootElement.insertChild(e,t)}removeChild(e){this._rootElement.removeChild(e)}removeChildren(){this._rootElement.removeChildren()}treeElementFromPoint(e,t){const n=this.contentElement.ownerDocument.deepElementFromPoint(e,t);if(!n)return null;const s=n.enclosingNodeOrSelfWithNodeNameInArray(["ol","li"]);if(s)return s.parentTreeElement||s.treeElement;return null}treeElementFromEvent(e){return e?this.treeElementFromPoint(e.pageX,e.pageY):null}setComparator(e){this._comparator=e}setFocusable(e){if(e){this._focusable=true;this.contentElement.setAttribute("tabIndex",-1);if(this.selectedTreeElement)this.selectedTreeElement._setFocusable(true)}else{this._focusable=false;this.contentElement.removeAttribute("tabIndex");if(this.selectedTreeElement)this.selectedTreeElement._setFocusable(false)}}focus(){if(this.selectedTreeElement)this.selectedTreeElement.listItemElement.focus();else this.contentElement.focus()}useLightSelectionColor(){this._useLightSelectionColor=true}_bindTreeElement(e){if(e.treeOutline)console.error("Binding element for the second time: "+(new Error).stack);e.treeOutline=this;e.onbind()}_unbindTreeElement(e){if(!e.treeOutline)console.error("Unbinding element that was not bound: "+(new Error).stack);e.deselect();e.onunbind();e.treeOutline=null}selectPrevious(){let e=this.selectedTreeElement.traversePreviousTreeElement(true);while(e&&!e.selectable)e=e.traversePreviousTreeElement(!this.expandTreeElementsWhenArrowing);if(!e)return false;e.select(false,true);return true}selectNext(){let e=this.selectedTreeElement.traverseNextTreeElement(true);while(e&&!e.selectable)e=e.traverseNextTreeElement(!this.expandTreeElementsWhenArrowing);if(!e)return false;e.select(false,true);return true}forceSelect(){if(this.selectedTreeElement)this.selectedTreeElement.deselect();this._selectFirst()}_selectFirst(){let e=this.firstChild();while(e&&!e.selectable)e=e.traverseNextTreeElement(true);if(!e)return false;e.select(false,true);return true}_selectLast(){let e=this._lastDescendent();while(e&&!e.selectable)e=e.traversePreviousTreeElement(true);if(!e)return false;e.select(false,true);return true}_treeKeyDown(e){if(!this.selectedTreeElement||e.shiftKey||e.metaKey||e.ctrlKey||UI.isEditing())return;let t=false;if(e.key==="ArrowUp"&&!e.altKey){t=this.selectPrevious()}else if(e.key==="ArrowDown"&&!e.altKey){t=this.selectNext()}else if(e.key==="ArrowLeft"){t=this.selectedTreeElement.collapseOrAscend(e.altKey)}else if(e.key==="ArrowRight"){if(!this.selectedTreeElement.revealed()){this.selectedTreeElement.reveal();t=true}else{t=this.selectedTreeElement.descendOrExpand(e.altKey)}}else if(e.keyCode===8||e.keyCode===46){t=this.selectedTreeElement.ondelete()}else if(isEnterKey(e)){t=this.selectedTreeElement.onenter()}else if(e.keyCode===UI.KeyboardShortcut.Keys.Space.code){t=this.selectedTreeElement.onspace()}else if(e.key==="Home"){t=this._selectFirst()}else if(e.key==="End"){t=this._selectLast()}if(t)e.consume(true)}_deferredScrollIntoView(e,t){if(!this._treeElementToScrollIntoView)this.element.window().requestAnimationFrame(n.bind(this));this._treeElementToScrollIntoView=e;this._centerUponScrollIntoView=t;function n(){this._treeElementToScrollIntoView.listItemElement.scrollIntoViewIfNeeded(this._centerUponScrollIntoView);delete this._treeElementToScrollIntoView;delete this._centerUponScrollIntoView}}};UI.TreeOutline.Events={ElementAttached:Symbol("ElementAttached"),ElementsDetached:Symbol("ElementsDetached"),ElementExpanded:Symbol("ElementExpanded"),ElementCollapsed:Symbol("ElementCollapsed"),ElementSelected:Symbol("ElementSelected")};UI.TreeOutlineInShadow=class extends UI.TreeOutline{constructor(){super();this.contentElement.classList.add("tree-outline");this.element=createElement("div");this._shadowRoot=UI.createShadowRootWithCoreStyles(this.element,"ui/treeoutline.css");this._disclosureElement=this._shadowRoot.createChild("div","tree-outline-disclosure");this._disclosureElement.appendChild(this.contentElement);this._renderSelection=true}registerRequiredCSS(e){UI.appendStyle(this._shadowRoot,e)}hideOverflow(){this._disclosureElement.classList.add("tree-outline-disclosure-hide-overflow")}makeDense(){this.contentElement.classList.add("tree-outline-dense")}};UI.TreeElement=class{constructor(e,t){this.treeOutline=null;this.parent=null;this.previousSibling=null;this.nextSibling=null;this._boundOnFocus=this._onFocus.bind(this);this._boundOnBlur=this._onBlur.bind(this);this._listItemNode=createElement("li");this._titleElement=this._listItemNode.createChild("span","tree-element-title");this._listItemNode.treeElement=this;if(e)this.title=e;this._listItemNode.addEventListener("mousedown",this._handleMouseDown.bind(this),false);this._listItemNode.addEventListener("click",this._treeElementToggled.bind(this),false);this._listItemNode.addEventListener("dblclick",this._handleDoubleClick.bind(this),false);UI.ARIAUtils.markAsTreeitem(this._listItemNode);this._childrenListNode=createElement("ol");this._childrenListNode.parentTreeElement=this;this._childrenListNode.classList.add("children");UI.ARIAUtils.markAsGroup(this._childrenListNode);this._hidden=false;this._selectable=true;this.expanded=false;this.selected=false;this.setExpandable(t||false);this._collapsible=true}hasAncestor(e){if(!e)return false;let t=this.parent;while(t){if(e===t)return true;t=t.parent}return false}hasAncestorOrSelf(e){return this===e||this.hasAncestor(e)}children(){return this._children||[]}childCount(){return this._children?this._children.length:0}firstChild(){return this._children?this._children[0]:null}lastChild(){return this._children?this._children[this._children.length-1]:null}childAt(e){return this._children?this._children[e]:null}indexOfChild(e){return this._children?this._children.indexOf(e):-1}appendChild(e){if(!this._children)this._children=[];let t;if(this.treeOutline&&this.treeOutline._comparator)t=this._children.lowerBound(e,this.treeOutline._comparator);else t=this._children.length;this.insertChild(e,t)}insertChild(e,t){if(!this._children)this._children=[];if(!e)throw"child can't be undefined or null";console.assert(!e.parent,"Attempting to insert a child that is already in the tree, reparenting is not supported.");const n=t>0?this._children[t-1]:null;if(n){n.nextSibling=e;e.previousSibling=n}else{e.previousSibling=null}const s=this._children[t];if(s){s.previousSibling=e;e.nextSibling=s}else{e.nextSibling=null}this._children.splice(t,0,e);this.setExpandable(true);e.parent=this;if(this.treeOutline)this.treeOutline._bindTreeElement(e);for(let t=e.firstChild();this.treeOutline&&t;t=t.traverseNextTreeElement(false,e,true))this.treeOutline._bindTreeElement(t);e.onattach();e._ensureSelection();if(this.treeOutline)this.treeOutline.dispatchEventToListeners(UI.TreeOutline.Events.ElementAttached,e);const i=e.nextSibling?e.nextSibling._listItemNode:null;this._childrenListNode.insertBefore(e._listItemNode,i);this._childrenListNode.insertBefore(e._childrenListNode,i);if(e.selected)e.select();if(e.expanded)e.expand()}removeChildAtIndex(e){if(e<0||e>=this._children.length)throw"childIndex out of range";const t=this._children[e];this._children.splice(e,1);const n=t.parent;if(this.treeOutline&&this.treeOutline.selectedTreeElement&&this.treeOutline.selectedTreeElement.hasAncestorOrSelf(t)){if(t.nextSibling)t.nextSibling.select(true);else if(t.previousSibling)t.previousSibling.select(true);else if(n)n.select(true)}if(t.previousSibling)t.previousSibling.nextSibling=t.nextSibling;if(t.nextSibling)t.nextSibling.previousSibling=t.previousSibling;t.parent=null;if(this.treeOutline)this.treeOutline._unbindTreeElement(t);for(let e=t.firstChild();this.treeOutline&&e;e=e.traverseNextTreeElement(false,t,true))this.treeOutline._unbindTreeElement(e);t._detach();if(this.treeOutline)this.treeOutline.dispatchEventToListeners(UI.TreeOutline.Events.ElementsDetached)}removeChild(e){if(!e)throw"child can't be undefined or null";if(e.parent!==this)return;const t=this._children.indexOf(e);if(t===-1)throw"child not found in this node's children";this.removeChildAtIndex(t)}removeChildren(){if(!this.root&&this.treeOutline&&this.treeOutline.selectedTreeElement&&this.treeOutline.selectedTreeElement.hasAncestorOrSelf(this))this.select(true);for(let e=0;this._children&&e<this._children.length;++e){const t=this._children[e];t.previousSibling=null;t.nextSibling=null;t.parent=null;if(this.treeOutline)this.treeOutline._unbindTreeElement(t);for(let e=t.firstChild();this.treeOutline&&e;e=e.traverseNextTreeElement(false,t,true))this.treeOutline._unbindTreeElement(e);t._detach()}this._children=[];if(this.treeOutline)this.treeOutline.dispatchEventToListeners(UI.TreeOutline.Events.ElementsDetached)}get selectable(){if(this._hidden)return false;return this._selectable}set selectable(e){this._selectable=e}get listItemElement(){return this._listItemNode}titleElement(){return this._titleElement}get childrenListElement(){return this._childrenListNode}get title(){return this._title}set title(e){if(this._title===e)return;this._title=e;if(typeof e==="string"){this._titleElement.textContent=e;this.tooltip=e}else{this._titleElement=e;this.tooltip=""}this._listItemNode.removeChildren();if(this._leadingIconsElement)this._listItemNode.appendChild(this._leadingIconsElement);this._listItemNode.appendChild(this._titleElement);if(this._trailingIconsElement)this._listItemNode.appendChild(this._trailingIconsElement);this._ensureSelection()}titleAsText(){if(!this._title)return"";if(typeof this._title==="string")return this._title;return this._title.textContent}startEditingTitle(e){UI.InplaceEditor.startEditing(this._titleElement,e);this.treeOutline._shadowRoot.getSelection().selectAllChildren(this._titleElement)}setLeadingIcons(e){if(!this._leadingIconsElement&&!e.length)return;if(!this._leadingIconsElement){this._leadingIconsElement=createElementWithClass("div","leading-icons");this._leadingIconsElement.classList.add("icons-container");this._listItemNode.insertBefore(this._leadingIconsElement,this._titleElement);this._ensureSelection()}this._leadingIconsElement.removeChildren();for(const t of e)this._leadingIconsElement.appendChild(t)}setTrailingIcons(e){if(!this._trailingIconsElement&&!e.length)return;if(!this._trailingIconsElement){this._trailingIconsElement=createElementWithClass("div","trailing-icons");this._trailingIconsElement.classList.add("icons-container");this._listItemNode.appendChild(this._trailingIconsElement);this._ensureSelection()}this._trailingIconsElement.removeChildren();for(const t of e)this._trailingIconsElement.appendChild(t)}get tooltip(){return this._tooltip||""}set tooltip(e){if(this._tooltip===e)return;this._tooltip=e;this._listItemNode.title=e}isExpandable(){return this._expandable}setExpandable(e){if(this._expandable===e)return;this._expandable=e;this._listItemNode.classList.toggle("parent",e);if(!e){this.collapse();UI.ARIAUtils.unsetExpanded(this._listItemNode)}else{UI.ARIAUtils.setExpanded(this._listItemNode,false)}}setCollapsible(e){if(this._collapsible===e)return;this._collapsible=e;this._listItemNode.classList.toggle("always-parent",!e);if(!e)this.expand()}get hidden(){return this._hidden}set hidden(e){if(this._hidden===e)return;this._hidden=e;this._listItemNode.classList.toggle("hidden",e);this._childrenListNode.classList.toggle("hidden",e)}invalidateChildren(){if(this._children){this.removeChildren();this._children=null}}_ensureSelection(){if(!this.treeOutline||!this.treeOutline._renderSelection)return;if(!this._selectionElement)this._selectionElement=createElementWithClass("div","selection fill");this._listItemNode.insertBefore(this._selectionElement,this.listItemElement.firstChild)}_treeElementToggled(e){const t=e.currentTarget;if(t.treeElement!==this||t.hasSelection())return;console.assert(!!this.treeOutline);const n=this.treeOutline?this.treeOutline._showSelectionOnKeyboardFocus:false;const s=this.toggleOnClick&&(n||!this.selectable);const i=this.isEventWithinDisclosureTriangle(e);if(!s&&!i)return;if(this.expanded){if(e.altKey)this.collapseRecursively();else this.collapse()}else{if(e.altKey)this.expandRecursively();else this.expand()}e.consume()}_handleMouseDown(e){const t=e.currentTarget;if(!t)return;if(!this.selectable)return;if(t.treeElement!==this)return;if(this.isEventWithinDisclosureTriangle(e))return;this.selectOnMouseDown(e)}_handleDoubleClick(e){const t=e.currentTarget;if(!t||t.treeElement!==this)return;const n=this.ondblclick(e);if(n)return;if(this._expandable&&!this.expanded)this.expand()}_detach(){this._listItemNode.remove();this._childrenListNode.remove()}collapse(){if(!this.expanded||!this._collapsible)return;this._listItemNode.classList.remove("expanded");this._childrenListNode.classList.remove("expanded");UI.ARIAUtils.setExpanded(this._listItemNode,false);this.expanded=false;this.oncollapse();if(this.treeOutline)this.treeOutline.dispatchEventToListeners(UI.TreeOutline.Events.ElementCollapsed,this)}collapseRecursively(){let e=this;while(e){if(e.expanded)e.collapse();e=e.traverseNextTreeElement(false,this,true)}}collapseChildren(){if(!this._children)return;for(const e of this._children)e.collapseRecursively()}expand(){if(!this._expandable||this.expanded&&this._children)return;this.expanded=true;this._populateIfNeeded();this._listItemNode.classList.add("expanded");this._childrenListNode.classList.add("expanded");UI.ARIAUtils.setExpanded(this._listItemNode,true);if(this.treeOutline){this.onexpand();this.treeOutline.dispatchEventToListeners(UI.TreeOutline.Events.ElementExpanded,this)}}async expandRecursively(e){let t=this;const n={};let s=0;if(isNaN(e))e=3;while(t){await t._populateIfNeeded();if(s<e)t.expand();t=t.traverseNextTreeElement(false,this,s>=e,n);s+=n.depthChange}}collapseOrAscend(e){if(this.expanded&&this._collapsible){if(e)this.collapseRecursively();else this.collapse();return true}if(!this.parent||this.parent.root)return false;if(!this.parent.selectable){this.parent.collapse();return true}let t=this.parent;while(t&&!t.selectable)t=t.parent;if(!t)return false;t.select(false,true);return true}descendOrExpand(e){if(!this._expandable)return false;if(!this.expanded){if(e)this.expandRecursively();else this.expand();return true}let t=this.firstChild();while(t&&!t.selectable)t=t.nextSibling;if(!t)return false;t.select(false,true);return true}reveal(e){let t=this.parent;while(t&&!t.root){if(!t.expanded)t.expand();t=t.parent}this.treeOutline._deferredScrollIntoView(this,!!e)}revealed(){let e=this.parent;while(e&&!e.root){if(!e.expanded)return false;e=e.parent}return true}selectOnMouseDown(e){if(this.select(false,true))e.consume(true);if(this._listItemNode.draggable&&this._selectionElement){const e=this.treeOutline.element.getBoundingClientRect().left-this._listItemNode.getBoundingClientRect().left;this._selectionElement.style.setProperty("margin-left",e+"px")}}select(e,t){if(!this.treeOutline||!this.selectable||this.selected){if(!e)this.listItemElement.focus();return false}const n=this.treeOutline.selectedTreeElement;this.treeOutline.selectedTreeElement=null;if(this.treeOutline._rootElement===this){if(n)n.deselect();if(!e)this.listItemElement.focus();return false}this.selected=true;this.treeOutline.selectedTreeElement=this;if(this.treeOutline._focusable)this._setFocusable(true);if(!e||this.treeOutline.contentElement.hasFocus())this.listItemElement.focus();this._listItemNode.classList.add("selected");this.treeOutline.dispatchEventToListeners(UI.TreeOutline.Events.ElementSelected,this);if(n)n.deselect();return this.onselect(t)}_setFocusable(e){if(e){this._listItemNode.setAttribute("tabIndex",this.treeOutline&&this.treeOutline._preventTabOrder?-1:0);this._listItemNode.addEventListener("focus",this._boundOnFocus,false);this._listItemNode.addEventListener("blur",this._boundOnBlur,false)}else{this._listItemNode.removeAttribute("tabIndex");this._listItemNode.removeEventListener("focus",this._boundOnFocus,false);this._listItemNode.removeEventListener("blur",this._boundOnBlur,false)}}_onFocus(){if(this.treeOutline._useLightSelectionColor)return;if(!this.treeOutline.contentElement.classList.contains("hide-selection-when-blurred"))this._listItemNode.classList.add("force-white-icons")}_onBlur(){if(this.treeOutline._useLightSelectionColor)return;if(!this.treeOutline.contentElement.classList.contains("hide-selection-when-blurred"))this._listItemNode.classList.remove("force-white-icons")}revealAndSelect(e){this.reveal(true);this.select(e)}deselect(){const e=this._listItemNode.hasFocus();this.selected=false;this._listItemNode.classList.remove("selected");this._setFocusable(false);if(this.treeOutline&&this.treeOutline.selectedTreeElement===this){this.treeOutline.selectedTreeElement=null;if(e)this.treeOutline.focus()}}async _populateIfNeeded(){if(this.treeOutline&&this._expandable&&!this._children){this._children=[];await this.onpopulate()}}async onpopulate(){}onenter(){return false}ondelete(){return false}onspace(){return false}onbind(){}onunbind(){}onattach(){}onexpand(){}oncollapse(){}ondblclick(e){return false}onselect(e){return false}traverseNextTreeElement(e,t,n,s){if(!n)this._populateIfNeeded();if(s)s.depthChange=0;let i=e?this.revealed()?this.firstChild():null:this.firstChild();if(i&&(!e||e&&this.expanded)){if(s)s.depthChange=1;return i}if(this===t)return null;i=e?this.revealed()?this.nextSibling:null:this.nextSibling;if(i)return i;i=this;while(i&&!i.root&&!(e?i.revealed()?i.nextSibling:null:i.nextSibling)&&i.parent!==t){if(s)s.depthChange-=1;i=i.parent}if(!i||i.root)return null;return e?i.revealed()?i.nextSibling:null:i.nextSibling}traversePreviousTreeElement(e,t){let n=e?this.revealed()?this.previousSibling:null:this.previousSibling;if(!t&&n)n._populateIfNeeded();while(n&&(e?n.revealed()&&n.expanded?n.lastChild():null:n.lastChild())){if(!t)n._populateIfNeeded();n=e?n.revealed()&&n.expanded?n.lastChild():null:n.lastChild()}if(n)return n;if(!this.parent||this.parent.root)return null;return this.parent}isEventWithinDisclosureTriangle(e){const t=window.getComputedStyle(this._listItemNode).paddingLeft;console.assert(t.endsWith("px"));const n=parseFloat(t);const s=this._listItemNode.totalOffsetLeft()+n;return e.pageX>=s&&e.pageX<=s+UI.TreeElement._ArrowToggleWidth&&this._expandable}};UI.TreeElement._ArrowToggleWidth=10;(function(){const e=new Image;e.src="Images/treeoutlineTriangles.svg";UI.TreeElement._imagePreload=e})();UI.InspectorView=class extends UI.VBox{constructor(){super();UI.GlassPane.setContainer(this.element);this.setMinimumSize(240,72);this._drawerSplitWidget=new UI.SplitWidget(false,true,"Inspector.drawerSplitViewState",200,200);this._drawerSplitWidget.hideSidebar();this._drawerSplitWidget.hideDefaultResizer();this._drawerSplitWidget.enableShowModeSaving();this._drawerSplitWidget.show(this.element);if(Runtime.experiments.isEnabled("splitInDrawer")){this._innerDrawerSplitWidget=new UI.SplitWidget(true,true,"Inspector.drawerSidebarSplitViewState",200,200);this._drawerSplitWidget.setSidebarWidget(this._innerDrawerSplitWidget);this._drawerSidebarTabbedLocation=UI.viewManager.createTabbedLocation(this._showDrawer.bind(this,false),"drawer-sidebar",true,true);this._drawerSidebarTabbedPane=this._drawerSidebarTabbedLocation.tabbedPane();this._drawerSidebarTabbedPane.addEventListener(UI.TabbedPane.Events.TabSelected,this._drawerTabSelected,this);this._innerDrawerSplitWidget.setSidebarWidget(this._drawerSidebarTabbedPane)}this._drawerTabbedLocation=UI.viewManager.createTabbedLocation(this._showDrawer.bind(this,false),"drawer-view",true,true);const e=this._drawerTabbedLocation.enableMoreTabsButton();e.setTitle(ls`More Tools`);this._drawerTabbedPane=this._drawerTabbedLocation.tabbedPane();this._drawerTabbedPane.setMinimumSize(0,27);const t=new UI.ToolbarButton(Common.UIString("Close drawer"),"largeicon-delete");t.addEventListener(UI.ToolbarButton.Events.Click,this._closeDrawer,this);this._drawerSplitWidget.installResizer(this._drawerTabbedPane.headerElement());this._drawerTabbedPane.addEventListener(UI.TabbedPane.Events.TabSelected,this._drawerTabSelected,this);if(this._drawerSidebarTabbedPane){this._innerDrawerSplitWidget.setMainWidget(this._drawerTabbedPane);this._drawerSidebarTabbedPane.rightToolbar().appendToolbarItem(t);this._drawerSplitWidget.installResizer(this._drawerSidebarTabbedPane.headerElement())}else{this._drawerSplitWidget.setSidebarWidget(this._drawerTabbedPane);this._drawerTabbedPane.rightToolbar().appendToolbarItem(t)}this._tabbedLocation=UI.viewManager.createTabbedLocation(InspectorFrontendHost.bringToFront.bind(InspectorFrontendHost),"panel",true,true,Runtime.queryParam("panel"));this._tabbedPane=this._tabbedLocation.tabbedPane();this._tabbedPane.registerRequiredCSS("ui/inspectorViewTabbedPane.css");this._tabbedPane.addEventListener(UI.TabbedPane.Events.TabSelected,this._tabSelected,this);this._tabbedPane.setAccessibleName(Common.UIString("Panels"));Host.userMetrics.setLaunchPanel(this._tabbedPane.selectedTabId);if(Host.isUnderTest())this._tabbedPane.setAutoSelectFirstItemOnShow(false);this._drawerSplitWidget.setMainWidget(this._tabbedPane);this._keyDownBound=this._keyDown.bind(this);InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.ShowPanel,n.bind(this));function n(e){const t=e.data;this.showPanel(t)}}static instance(){return self.runtime.sharedInstance(UI.InspectorView)}wasShown(){this.element.ownerDocument.addEventListener("keydown",this._keyDownBound,false)}willHide(){this.element.ownerDocument.removeEventListener("keydown",this._keyDownBound,false)}resolveLocation(e){if(e==="drawer-view")return this._drawerTabbedLocation;if(e==="panel")return this._tabbedLocation;if(e==="drawer-sidebar")return this._drawerSidebarTabbedLocation;return null}createToolbars(){this._tabbedPane.leftToolbar().appendItemsAtLocation("main-toolbar-left");this._tabbedPane.rightToolbar().appendItemsAtLocation("main-toolbar-right")}addPanel(e){this._tabbedLocation.appendView(e)}hasPanel(e){return this._tabbedPane.hasTab(e)}panel(e){return UI.viewManager.view(e).widget()}onSuspendStateChanged(e){this._currentPanelLocked=e;this._tabbedPane.setCurrentTabLocked(this._currentPanelLocked);this._tabbedPane.leftToolbar().setEnabled(!this._currentPanelLocked);this._tabbedPane.rightToolbar().setEnabled(!this._currentPanelLocked)}canSelectPanel(e){return!this._currentPanelLocked||this._tabbedPane.selectedTabId===e}showPanel(e){return UI.viewManager.showView(e)}setPanelIcon(e,t){this._tabbedPane.setTabIcon(e,t)}currentPanelDeprecated(){return UI.viewManager.materializedWidget(this._tabbedPane.selectedTabId||"")}_showDrawer(e){if(this._drawerTabbedPane.isShowing())return;this._drawerSplitWidget.showBoth();if(e)this._focusRestorer=new UI.WidgetFocusRestorer(this._drawerTabbedPane);else this._focusRestorer=null}drawerVisible(){return this._drawerTabbedPane.isShowing()}_closeDrawer(){if(!this._drawerTabbedPane.isShowing())return;if(this._focusRestorer)this._focusRestorer.restore();this._drawerSplitWidget.hideSidebar(true)}setDrawerMinimized(e){this._drawerSplitWidget.setSidebarMinimized(e);this._drawerSplitWidget.setResizable(!e)}isDrawerMinimized(){return this._drawerSplitWidget.isSidebarMinimized()}closeDrawerTab(e,t){this._drawerTabbedPane.closeTab(e,t)}_keyDown(e){const t=e;if(!UI.KeyboardShortcut.eventHasCtrlOrMeta(t)||e.altKey||e.shiftKey)return;const n=Common.moduleSetting("shortcutPanelSwitch").get();if(n){let n=-1;if(e.keyCode>48&&e.keyCode<58)n=e.keyCode-49;else if(e.keyCode>96&&e.keyCode<106&&t.location===KeyboardEvent.DOM_KEY_LOCATION_NUMPAD)n=e.keyCode-97;if(n!==-1){const t=this._tabbedPane.tabIds()[n];if(t){if(!UI.Dialog.hasInstance()&&!this._currentPanelLocked)this.showPanel(t);e.consume(true)}}}}onResize(){UI.GlassPane.containerMoved(this.element)}topResizerElement(){return this._tabbedPane.headerElement()}toolbarItemResized(){this._tabbedPane.headerResized()}_tabSelected(e){const t=e.data["tabId"];Host.userMetrics.panelShown(t)}_drawerTabSelected(e){const t=e.data["tabId"];Host.userMetrics.drawerShown(t)}setOwnerSplit(e){this._ownerSplitWidget=e}minimize(){if(this._ownerSplitWidget)this._ownerSplitWidget.setSidebarMinimized(true)}restore(){if(this._ownerSplitWidget)this._ownerSplitWidget.setSidebarMinimized(false)}};UI.inspectorView;UI.InspectorView.ActionDelegate=class{handleAction(e,t){switch(t){case"main.toggle-drawer":if(UI.inspectorView.drawerVisible())UI.inspectorView._closeDrawer();else UI.inspectorView._showDrawer(true);return true;case"main.next-tab":UI.inspectorView._tabbedPane.selectNextTab();UI.inspectorView._tabbedPane.focus();return true;case"main.previous-tab":UI.inspectorView._tabbedPane.selectPrevTab();UI.inspectorView._tabbedPane.focus();return true}return false}};UI.ActionRegistry=class{constructor(){this._actionsById=new Map;this._registerActions()}_registerActions(){self.runtime.extensions("action").forEach(e,this);function e(e){if(!e.canInstantiate())return;const t=e.descriptor()["actionId"];console.assert(t);console.assert(!this._actionsById.get(t));const n=new UI.Action(e);if(!n.category()||n.title())this._actionsById.set(t,n);else console.error(`Category actions require a title for command menu: ${t}`)}}availableActions(){return this.applicableActions(this._actionsById.keysArray(),UI.context)}applicableActions(e,t){const n=[];e.forEach(function(e){const t=this._actionsById.get(e);if(t)n.push(t._extension)},this);return t.applicableExtensions(n).valuesArray().map(s.bind(this));function s(e){return this.action(e.descriptor()["actionId"])}}action(e){return this._actionsById.get(e)||null}};UI.Action=class extends Common.Object{constructor(e){super();this._extension=e;this._enabled=true;this._toggled=false}id(){return this._extension.descriptor()["actionId"]}execute(){return this._extension.instance().then(e.bind(this));function e(e){const t=this._extension.descriptor()["actionId"];const n=e;return n.handleAction(UI.context,t)}}icon(){return this._extension.descriptor()["iconClass"]||""}toggledIcon(){return this._extension.descriptor()["toggledIconClass"]||""}toggleWithRedColor(){return!!this._extension.descriptor()["toggleWithRedColor"]}setEnabled(e){if(this._enabled===e)return;this._enabled=e;this.dispatchEventToListeners(UI.Action.Events.Enabled,e)}enabled(){return this._enabled}category(){return this._extension.descriptor()["category"]||""}tags(){return this._extension.descriptor()["tags"]||""}title(){let e=this._extension.title();const t=this._extension.descriptor()["options"];if(t){for(const n of t){if(n["value"]!==this._toggled)e=n["title"]}}return e}toggled(){return this._toggled}setToggled(e){if(this._toggled===e)return;this._toggled=e;this.dispatchEventToListeners(UI.Action.Events.Toggled,e)}};UI.Action.Events={Enabled:Symbol("Enabled"),Toggled:Symbol("Toggled")};UI.ActionDelegate=function(){};UI.ActionDelegate.prototype={handleAction(e,t){}};UI.actionRegistry;UI.ShortcutRegistry=class{constructor(e,t){this._actionRegistry=e;this._defaultKeyToActions=new Multimap;this._defaultActionToShortcut=new Multimap;this._registerBindings(t)}_applicableActions(e){return this._actionRegistry.applicableActions(this._defaultActionsForKey(e).valuesArray(),UI.context)}_defaultActionsForKey(e){return this._defaultKeyToActions.get(String(e))}globalShortcutKeys(){const e=[];for(const t of this._defaultKeyToActions.keysArray()){const n=this._defaultKeyToActions.get(t).valuesArray();const s=this._actionRegistry.applicableActions(n,new UI.Context);if(s.length)e.push(Number(t))}return e}shortcutDescriptorsForAction(e){return this._defaultActionToShortcut.get(e).valuesArray()}keysForActions(e){const t=[];for(let n=0;n<e.length;++n){const s=this.shortcutDescriptorsForAction(e[n]);for(let e=0;e<s.length;++e)t.push(s[e].key)}return t}shortcutTitleForAction(e){const t=this.shortcutDescriptorsForAction(e);if(t.length)return t[0].name}handleShortcut(e){this.handleKey(UI.KeyboardShortcut.makeKeyFromEvent(e),e.key,e)}eventMatchesAction(e,t){console.assert(this._defaultActionToShortcut.has(t),"Unknown action "+t);const n=UI.KeyboardShortcut.makeKeyFromEvent(e);return this._defaultActionToShortcut.get(t).valuesArray().some(e=>e.key===n)}addShortcutListener(e,t,n,s){console.assert(this._defaultActionToShortcut.has(t),"Unknown action "+t);e.addEventListener("keydown",e=>{if(!this.eventMatchesAction(e,t)||!n.call(null))return;e.consume(true)},s)}async handleKey(e,t,n){const s=e>>8;const i=this._applicableActions(e);if(!i.length||o())return;if(n)n.consume(true);if(UI.Dialog.hasInstance())return;for(const e of i){if(await e.execute())return}function o(){if(!n||!UI.isEditing()||/^F\d+|Control|Shift|Alt|Meta|Escape|Win|U\+001B$/.test(t))return false;if(!s)return true;const i=UI.KeyboardShortcut.Modifiers;if(Host.isMac()){if(UI.KeyboardShortcut.makeKey("z",i.Meta)===e)return true;if(UI.KeyboardShortcut.makeKey("z",i.Meta|i.Shift)===e)return true}else{if(UI.KeyboardShortcut.makeKey("z",i.Ctrl)===e)return true;if(UI.KeyboardShortcut.makeKey("y",i.Ctrl)===e)return true;if(!Host.isWin()&&UI.KeyboardShortcut.makeKey("z",i.Ctrl|i.Shift)===e)return true}if((s&(i.Ctrl|i.Alt))===(i.Ctrl|i.Alt))return Host.isWin();return!r(i.Ctrl)&&!r(i.Alt)&&!r(i.Meta)}function r(e){return!!(s&e)}}registerShortcut(e,t){const n=UI.KeyboardShortcut.makeDescriptorFromBindingShortcut(t);if(!n)return;this._defaultActionToShortcut.set(e,n);this._defaultKeyToActions.set(String(n.key),e)}_registerBindings(e){const t=self.runtime.extensions("action");t.forEach(n,this);function n(e){const t=e.descriptor();const n=t["bindings"];for(let e=0;n&&e<n.length;++e){if(!s(n[e].platform))continue;const i=n[e]["shortcut"].split(/\s+/);i.forEach(this.registerShortcut.bind(this,t["actionId"]))}}function s(e){if(!e)return true;const t=e.split(",");let n=false;const s=Host.platform();for(let e=0;!n&&e<t.length;++e)n=t[e]===s;return n}}};UI.ShortcutRegistry.ForwardedShortcut=class{};UI.ShortcutRegistry.ForwardedShortcut.instance=new UI.ShortcutRegistry.ForwardedShortcut;UI.shortcutRegistry;UI.Context=class{constructor(){this._flavors=new Map;this._eventDispatchers=new Map}setFlavor(e,t){const n=this._flavors.get(e)||null;if(n===t)return;if(t)this._flavors.set(e,t);else this._flavors.remove(e);this._dispatchFlavorChange(e,t)}_dispatchFlavorChange(e,t){for(const n of self.runtime.extensions(UI.ContextFlavorListener)){if(n.hasContextType(e)){n.instance().then(e=>e.flavorChanged(t))}}const n=this._eventDispatchers.get(e);if(!n)return;n.dispatchEventToListeners(UI.Context.Events.FlavorChanged,t)}addFlavorChangeListener(e,t,n){let s=this._eventDispatchers.get(e);if(!s){s=new Common.Object;this._eventDispatchers.set(e,s)}s.addEventListener(UI.Context.Events.FlavorChanged,t,n)}removeFlavorChangeListener(e,t,n){const s=this._eventDispatchers.get(e);if(!s)return;s.removeEventListener(UI.Context.Events.FlavorChanged,t,n);if(!s.hasEventListeners(UI.Context.Events.FlavorChanged))this._eventDispatchers.remove(e)}flavor(e){return this._flavors.get(e)||null}flavors(){return new Set(this._flavors.keys())}applicableExtensions(e){const t=new Set;const n=this.flavors();e.forEach(function(e){if(self.runtime.isExtensionApplicableToContextTypes(e,n))t.add(e)});return t}};UI.Context.Events={FlavorChanged:Symbol("FlavorChanged")};UI.ContextFlavorListener=function(){};UI.ContextFlavorListener.prototype={flavorChanged(e){}};UI.context=new UI.Context;UI.ContextMenuItem=class{constructor(e,t,n,s,i){this._type=t;this._label=n;this._disabled=s;this._checked=i;this._contextMenu=e;if(t==="item"||t==="checkbox")this._id=e?e._nextId():0}id(){return this._id}type(){return this._type}isEnabled(){return!this._disabled}setEnabled(e){this._disabled=!e}_buildDescriptor(){switch(this._type){case"item":const e={type:"item",id:this._id,label:this._label,enabled:!this._disabled};if(this._customElement)e.element=this._customElement;if(this._shortcut)e.shortcut=this._shortcut;return e;case"separator":return{type:"separator"};case"checkbox":return{type:"checkbox",id:this._id,label:this._label,checked:!!this._checked,enabled:!this._disabled}}throw new Error("Invalid item type:"+this._type)}setShortcut(e){this._shortcut=e}};UI.ContextMenuSection=class{constructor(e){this._contextMenu=e;this._items=[]}appendItem(e,t,n){const s=new UI.ContextMenuItem(this._contextMenu,"item",e,n);this._items.push(s);this._contextMenu._setHandler(s.id(),t);return s}appendCustomItem(e){const t=new UI.ContextMenuItem(this._contextMenu,"item","<custom>");t._customElement=e;this._items.push(t);return t}appendAction(e,t,n){const s=UI.actionRegistry.action(e);if(!s){if(!n)console.error(`Action ${e} was not defined`);return}if(!t)t=s.title();const i=this.appendItem(t,s.execute.bind(s));const o=UI.shortcutRegistry.shortcutTitleForAction(e);if(o)i.setShortcut(o)}appendSubMenuItem(e,t){const n=new UI.ContextSubMenu(this._contextMenu,e,t);n._init();this._items.push(n);return n}appendCheckboxItem(e,t,n,s){const i=new UI.ContextMenuItem(this._contextMenu,"checkbox",e,s,n);this._items.push(i);this._contextMenu._setHandler(i.id(),t);return i}};UI.ContextSubMenu=class extends UI.ContextMenuItem{constructor(e,t,n){super(e,"subMenu",t,n);this._sections=new Map;this._sectionList=[]}_init(){UI.ContextMenu._groupWeights.forEach(e=>this.section(e))}section(e){let t=e?this._sections.get(e):null;if(!t){t=new UI.ContextMenuSection(this._contextMenu);if(e){this._sections.set(e,t);this._sectionList.push(t)}else{this._sectionList.splice(UI.ContextMenu._groupWeights.indexOf("default"),0,t)}}return t}headerSection(){return this.section("header")}newSection(){return this.section("new")}revealSection(){return this.section("reveal")}clipboardSection(){return this.section("clipboard")}editSection(){return this.section("edit")}debugSection(){return this.section("debug")}viewSection(){return this.section("view")}defaultSection(){return this.section("default")}saveSection(){return this.section("save")}footerSection(){return this.section("footer")}_buildDescriptor(){const e={type:"subMenu",label:this._label,enabled:!this._disabled,subItems:[]};const t=this._sectionList.filter(e=>!!e._items.length);for(const n of t){for(const t of n._items)e.subItems.push(t._buildDescriptor());if(n!==t.peekLast())e.subItems.push({type:"separator"})}return e}appendItemsAtLocation(e){for(const t of self.runtime.extensions("context-menu-item")){const n=t.descriptor()["location"]||"";if(!n.startsWith(e+"/"))continue;const s=n.substr(e.length+1);if(!s||s.includes("/"))continue;this.section(s).appendAction(t.descriptor()["actionId"])}}};UI.ContextMenuItem._uniqueSectionName=0;UI.ContextMenu=class extends UI.ContextSubMenu{constructor(e,t,n,s){super(null);this._contextMenu=this;super._init();this._defaultSection=this.defaultSection();this._pendingPromises=[];this._pendingTargets=[];this._event=e;this._useSoftMenu=!!t;this._x=n===undefined?e.x:n;this._y=s===undefined?e.y:s;this._handlers={};this._id=0;const i=e.deepElementFromPoint();if(i)this.appendApplicableItems(i)}static initialize(){InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.SetUseSoftMenu,e);function e(e){UI.ContextMenu._useSoftMenu=e.data}}static installHandler(e){e.body.addEventListener("contextmenu",t,false);function t(e){const t=new UI.ContextMenu(e);t.show()}}_nextId(){return this._id++}show(){Promise.all(this._pendingPromises).then(e.bind(this)).then(this._innerShow.bind(this));UI.ContextMenu._pendingMenu=this;function e(e){if(UI.ContextMenu._pendingMenu!==this)return;delete UI.ContextMenu._pendingMenu;for(let t=0;t<e.length;++t){const n=e[t];const s=this._pendingTargets[t];for(let e=0;e<n.length;++e){const t=n[e];t.appendApplicableItems(this._event,this,s)}}this._pendingPromises=[];this._pendingTargets=[]}this._event.consume(true)}discard(){if(this._softMenu)this._softMenu.discard()}_innerShow(){const e=this._buildMenuDescriptors();if(this._useSoftMenu||UI.ContextMenu._useSoftMenu||InspectorFrontendHost.isHostedMode()){this._softMenu=new UI.SoftContextMenu(e,this._itemSelected.bind(this));this._softMenu.show(this._event.target.ownerDocument,new AnchorBox(this._x,this._y,0,0))}else{InspectorFrontendHost.showContextMenuAtPoint(this._x,this._y,e,this._event.target.ownerDocument);function t(){InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.ContextMenuCleared,this._menuCleared,this);InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.ContextMenuItemSelected,this._onItemSelected,this)}setImmediate(t.bind(this))}}_setHandler(e,t){if(t)this._handlers[e]=t}_buildMenuDescriptors(){return super._buildDescriptor().subItems}_onItemSelected(e){this._itemSelected(e.data)}_itemSelected(e){if(this._handlers[e])this._handlers[e].call(this);this._menuCleared()}_menuCleared(){InspectorFrontendHost.events.removeEventListener(InspectorFrontendHostAPI.Events.ContextMenuCleared,this._menuCleared,this);InspectorFrontendHost.events.removeEventListener(InspectorFrontendHostAPI.Events.ContextMenuItemSelected,this._onItemSelected,this)}appendApplicableItems(e){this._pendingPromises.push(self.runtime.allInstances(UI.ContextMenu.Provider,e));this._pendingTargets.push(e)}};UI.ContextMenu._groupWeights=["header","new","reveal","edit","clipboard","debug","view","default","save","footer"];UI.ContextMenu.Provider=function(){};UI.ContextMenu.Provider.prototype={appendApplicableItems(e,t,n){}};UI.GlassPane=class{constructor(){this._widget=new UI.Widget(true);this._widget.markAsRoot();this.element=this._widget.element;this.contentElement=this._widget.contentElement;this._arrowElement=UI.Icon.create("","arrow hidden");this.element.shadowRoot.appendChild(this._arrowElement);this.registerRequiredCSS("ui/glassPane.css");this.setPointerEventsBehavior(UI.GlassPane.PointerEventsBehavior.PierceGlassPane);this._onMouseDownBound=this._onMouseDown.bind(this);this._onClickOutsideCallback=null;this._maxSize=null;this._positionX=null;this._positionY=null;this._anchorBox=null;this._anchorBehavior=UI.GlassPane.AnchorBehavior.PreferTop;this._sizeBehavior=UI.GlassPane.SizeBehavior.SetExactSize;this._marginBehavior=UI.GlassPane.MarginBehavior.DefaultMargin}isShowing(){return this._widget.isShowing()}registerRequiredCSS(e){this._widget.registerRequiredCSS(e)}setDefaultFocusedElement(e){this._widget.setDefaultFocusedElement(e)}setDimmed(e){this.element.classList.toggle("dimmed-pane",e)}setPointerEventsBehavior(e){this.element.classList.toggle("no-pointer-events",e!==UI.GlassPane.PointerEventsBehavior.BlockedByGlassPane);this.contentElement.classList.toggle("no-pointer-events",e===UI.GlassPane.PointerEventsBehavior.PierceContents)}setOutsideClickCallback(e){this._onClickOutsideCallback=e}setMaxContentSize(e){this._maxSize=e;this._positionContent()}setSizeBehavior(e){this._sizeBehavior=e;this._positionContent()}setContentPosition(e,t){this._positionX=e;this._positionY=t;this._positionContent()}setContentAnchorBox(e){this._anchorBox=e;this._positionContent()}setAnchorBehavior(e){this._anchorBehavior=e}setMarginBehavior(e){this._marginBehavior=e;this._arrowElement.classList.toggle("hidden",e!==UI.GlassPane.MarginBehavior.Arrow)}show(e){if(this.isShowing())return;this.element.style.zIndex=3e3+1e3*UI.GlassPane._panes.size;e.body.addEventListener("mousedown",this._onMouseDownBound,true);this._widget.show(e.body);UI.GlassPane._panes.add(this);this._positionContent()}hide(){if(!this.isShowing())return;UI.GlassPane._panes.delete(this);this.element.ownerDocument.body.removeEventListener("mousedown",this._onMouseDownBound,true);this._widget.detach()}_onMouseDown(e){if(!this._onClickOutsideCallback)return;const t=e.deepElementFromPoint();if(!t||this.contentElement.isSelfOrAncestor(t))return;this._onClickOutsideCallback.call(null,e)}_positionContent(){if(!this.isShowing())return;const e=this._marginBehavior===UI.GlassPane.MarginBehavior.Arrow;const t=e?8:this._marginBehavior===UI.GlassPane.MarginBehavior.NoMargin?0:3;const n=UI.measuredScrollbarWidth(this.element.ownerDocument);const s=10;const i=UI.GlassPane._containers.get(this.element.ownerDocument);if(this._sizeBehavior===UI.GlassPane.SizeBehavior.MeasureContent){this.contentElement.positionAt(0,0);this.contentElement.style.width="";this.contentElement.style.maxWidth="";this.contentElement.style.height="";this.contentElement.style.maxHeight=""}const o=i.offsetWidth;const r=i.offsetHeight;let a=o-t*2;let l=r-t*2;let c=t;let d=t;if(this._maxSize){a=Math.min(a,this._maxSize.width);l=Math.min(l,this._maxSize.height)}if(this._sizeBehavior===UI.GlassPane.SizeBehavior.MeasureContent){const e=this.contentElement.getBoundingClientRect();const t=l<e.height?n:0;const s=a<e.width?n:0;a=Math.min(a,e.width+t);l=Math.min(l,e.height+s)}if(this._anchorBox){const n=this._anchorBox.relativeToElement(i);let h=this._anchorBehavior;this._arrowElement.classList.remove("arrow-none","arrow-top","arrow-bottom","arrow-left","arrow-right");if(h===UI.GlassPane.AnchorBehavior.PreferTop||h===UI.GlassPane.AnchorBehavior.PreferBottom){const u=n.y-2*t;const m=r-n.y-n.height-2*t;if(h===UI.GlassPane.AnchorBehavior.PreferTop&&u<l&&m>u)h=UI.GlassPane.AnchorBehavior.PreferBottom;if(h===UI.GlassPane.AnchorBehavior.PreferBottom&&m<l&&u>m)h=UI.GlassPane.AnchorBehavior.PreferTop;let p;let g=true;if(h===UI.GlassPane.AnchorBehavior.PreferTop){d=Math.max(t,n.y-l-t);const e=n.y-d-t;if(this._sizeBehavior===UI.GlassPane.SizeBehavior.MeasureContent){if(l>e){this._arrowElement.classList.add("arrow-none");g=false}}else{l=Math.min(l,e)}this._arrowElement.setIconType("mediumicon-arrow-bottom");this._arrowElement.classList.add("arrow-bottom");p=n.y-t}else{d=n.y+n.height+t;const e=r-d-t;if(this._sizeBehavior===UI.GlassPane.SizeBehavior.MeasureContent){if(l>e){this._arrowElement.classList.add("arrow-none");d=r-t-l;g=false}}else{l=Math.min(l,e)}this._arrowElement.setIconType("mediumicon-arrow-top");this._arrowElement.classList.add("arrow-top");p=n.y+n.height+t}c=Math.max(t,Math.min(n.x,o-a-t));if(!g)c=Math.min(c+s,o-a-t);else if(e&&c-s>=t)c-=s;a=Math.min(a,o-c-t);if(2*s>=a){this._arrowElement.classList.add("arrow-none")}else{let e=n.x+Math.min(50,Math.floor(n.width/2));e=Number.constrain(e,c+s,c+a-s);this._arrowElement.positionAt(e,p,i)}}else{const u=n.x-2*t;const m=o-n.x-n.width-2*t;if(h===UI.GlassPane.AnchorBehavior.PreferLeft&&u<a&&m>u)h=UI.GlassPane.AnchorBehavior.PreferRight;if(h===UI.GlassPane.AnchorBehavior.PreferRight&&m<a&&u>m)h=UI.GlassPane.AnchorBehavior.PreferLeft;let p;let g=true;if(h===UI.GlassPane.AnchorBehavior.PreferLeft){c=Math.max(t,n.x-a-t);const e=n.x-c-t;if(this._sizeBehavior===UI.GlassPane.SizeBehavior.MeasureContent){if(a>e){this._arrowElement.classList.add("arrow-none");g=false}}else{a=Math.min(a,e)}this._arrowElement.setIconType("mediumicon-arrow-right");this._arrowElement.classList.add("arrow-right");p=n.x-t}else{c=n.x+n.width+t;const e=o-c-t;if(this._sizeBehavior===UI.GlassPane.SizeBehavior.MeasureContent){if(a>e){this._arrowElement.classList.add("arrow-none");c=o-t-a;g=false}}else{a=Math.min(a,e)}this._arrowElement.setIconType("mediumicon-arrow-left");this._arrowElement.classList.add("arrow-left");p=n.x+n.width+t}d=Math.max(t,Math.min(n.y,r-l-t));if(!g)d=Math.min(d+s,r-l-t);else if(e&&d-s>=t)d-=s;l=Math.min(l,r-d-t);if(2*s>=l){this._arrowElement.classList.add("arrow-none")}else{let e=n.y+Math.min(50,Math.floor(n.height/2));e=Number.constrain(e,d+s,d+l-s);this._arrowElement.positionAt(p,e,i)}}}else{c=this._positionX!==null?this._positionX:(o-a)/2;d=this._positionY!==null?this._positionY:(r-l)/2;a=Math.min(a,o-c-t);l=Math.min(l,r-d-t);this._arrowElement.classList.add("arrow-none")}this.contentElement.style.width=a+"px";if(this._sizeBehavior===UI.GlassPane.SizeBehavior.SetExactWidthMaxHeight)this.contentElement.style.maxHeight=l+"px";else this.contentElement.style.height=l+"px";this.contentElement.positionAt(c,d,i);this._widget.doResize()}widget(){return this._widget}static setContainer(e){UI.GlassPane._containers.set(e.ownerDocument,e);UI.GlassPane.containerMoved(e)}static container(e){return UI.GlassPane._containers.get(e)}static containerMoved(e){for(const t of UI.GlassPane._panes){if(t.isShowing()&&t.element.ownerDocument===e.ownerDocument)t._positionContent()}}};UI.GlassPane.PointerEventsBehavior={BlockedByGlassPane:Symbol("BlockedByGlassPane"),PierceGlassPane:Symbol("PierceGlassPane"),PierceContents:Symbol("PierceContents")};UI.GlassPane.AnchorBehavior={PreferTop:Symbol("PreferTop"),PreferBottom:Symbol("PreferBottom"),PreferLeft:Symbol("PreferLeft"),PreferRight:Symbol("PreferRight")};UI.GlassPane.SizeBehavior={SetExactSize:Symbol("SetExactSize"),SetExactWidthMaxHeight:Symbol("SetExactWidthMaxHeight"),MeasureContent:Symbol("MeasureContent")};UI.GlassPane.MarginBehavior={Arrow:Symbol("Arrow"),DefaultMargin:Symbol("DefaultMargin"),NoMargin:Symbol("NoMargin")};UI.GlassPane._containers=new Map;UI.GlassPane._panes=new Set;UI.Dialog=class extends UI.GlassPane{constructor(e){super();this.registerRequiredCSS("ui/dialog.css");this.contentElement.tabIndex=0;this.contentElement.addEventListener("focus",()=>this.widget().focus(),false);this.contentElement.addEventListener("keydown",this._onKeyDown.bind(this),false);this.widget().setDefaultFocusedElement(this.contentElement);this.setPointerEventsBehavior(UI.GlassPane.PointerEventsBehavior.BlockedByGlassPane);this.setOutsideClickCallback(e=>{this.hide();e.consume(true)});UI.ARIAUtils.markAsDialog(this.contentElement,e);this._tabIndexMap=new Map;this._focusRestorer=null;this._closeOnEscape=true}static hasInstance(){return!!UI.Dialog._instance}show(e){const t=e instanceof Document?e:(e||UI.inspectorView.element).ownerDocument;if(UI.Dialog._instance)UI.Dialog._instance.hide();UI.Dialog._instance=this;this._disableTabIndexOnElements(t);super.show(t);this._focusRestorer=new UI.WidgetFocusRestorer(this.widget())}hide(){this._focusRestorer.restore();super.hide();this._restoreTabIndexOnElements();delete UI.Dialog._instance}setCloseOnEscape(e){this._closeOnEscape=e}addCloseButton(){const e=this.contentElement.createChild("div","dialog-close-button","dt-close-button");e.gray=true;e.addEventListener("click",()=>this.hide(),false)}_disableTabIndexOnElements(e){this._tabIndexMap.clear();for(let t=e;t;t=t.traverseNextNode(e)){if(t instanceof HTMLElement){const e=t;const n=e.tabIndex;if(n>=0){this._tabIndexMap.set(e,n);e.tabIndex=-1}}}}_restoreTabIndexOnElements(){for(const e of this._tabIndexMap.keys())e.tabIndex=this._tabIndexMap.get(e);this._tabIndexMap.clear()}_onKeyDown(e){if(this._closeOnEscape&&e.keyCode===UI.KeyboardShortcut.Keys.Esc.code&&UI.KeyboardShortcut.hasNoModifiers(e)){e.consume(true);this.hide()}}};UI.SyntaxHighlighter=class{constructor(e,t){this._mimeType=e;this._stripExtraWhitespace=t}createSpan(e,t){const n=createElement("span");n.className="cm-"+t;if(this._stripExtraWhitespace&&t!=="whitespace")e=e.replace(/^[\n\r]*/,"").replace(/\s*$/,"");n.createTextChild(e);return n}syntaxHighlightNode(e){const t=e.textContent.split("\n");let n;let s;return self.runtime.extension(TextUtils.TokenizerFactory).instance().then(i.bind(this));function i(i){e.removeChildren();const r=i.createTokenizer(this._mimeType);for(let i=0;i<t.length;++i){s=t[i];n=0;r(s,o.bind(this));if(n<s.length){const t=s.substring(n,s.length);e.createTextChild(t)}if(i<t.length-1)e.createTextChild("\n")}}function o(t,i,o,r){if(!i)return;if(o>n){const t=s.substring(n,o);e.createTextChild(t)}e.appendChild(this.createSpan(t,i));n=r}}};UI.DropTarget=class{constructor(e,t,n,s){e.addEventListener("dragenter",this._onDragEnter.bind(this),true);e.addEventListener("dragover",this._onDragOver.bind(this),true);this._element=e;this._transferTypes=t;this._messageText=n;this._handleDrop=s;this._enabled=true}setEnabled(e){this._enabled=e}_onDragEnter(e){if(this._enabled&&this._hasMatchingType(e))e.consume(true)}_hasMatchingType(e){for(const t of this._transferTypes){const n=Array.from(e.dataTransfer.items).find(e=>{return t.kind===e.kind&&!!t.type.exec(e.type)});if(n)return true}return false}_onDragOver(e){if(!this._enabled||!this._hasMatchingType(e))return;e.dataTransfer.dropEffect="copy";e.consume(true);if(this._dragMaskElement)return;this._dragMaskElement=this._element.createChild("div","");const t=UI.createShadowRootWithCoreStyles(this._dragMaskElement,"ui/dropTarget.css");t.createChild("div","drop-target-message").textContent=this._messageText;this._dragMaskElement.addEventListener("drop",this._onDrop.bind(this),true);this._dragMaskElement.addEventListener("dragleave",this._onDragLeave.bind(this),true)}_onDrop(e){e.consume(true);this._removeMask();if(this._enabled)this._handleDrop(e.dataTransfer)}_onDragLeave(e){e.consume(true);this._removeMask()}_removeMask(){this._dragMaskElement.remove();delete this._dragMaskElement}};UI.DropTarget.Type={URI:{kind:"string",type:/text\/uri-list/},Folder:{kind:"file",type:/$^/},File:{kind:"file",type:/.*/},WebFile:{kind:"file",type:/[\w]+/},ImageFile:{kind:"file",type:/image\/.*/}};UI.EmptyWidget=class extends UI.VBox{constructor(e){super();this.registerRequiredCSS("ui/emptyWidget.css");this.element.classList.add("empty-view-scroller");this._contentElement=this.element.createChild("div","empty-view");this._textElement=this._contentElement.createChild("h2");this._textElement.textContent=e}appendParagraph(){return this._contentElement.createChild("p")}appendLink(e){return this._contentElement.appendChild(UI.XLink.create(e,"Learn more"))}set text(e){this._textElement.textContent=e}};UI.FilterBar=class extends UI.HBox{constructor(e,t){super();this.registerRequiredCSS("ui/filter.css");this._enabled=true;this.element.classList.add("filter-bar");this._stateSetting=Common.settings.createSetting("filterBar-"+e+"-toggled",!!t);this._filterButton=new UI.ToolbarSettingToggle(this._stateSetting,"largeicon-filter",Common.UIString("Filter"));this._filters=[];this._updateFilterBar();this._stateSetting.addChangeListener(this._updateFilterBar.bind(this))}filterButton(){return this._filterButton}addFilter(e){this._filters.push(e);this.element.appendChild(e.element());e.addEventListener(UI.FilterUI.Events.FilterChanged,this._filterChanged,this);this._updateFilterButton()}setEnabled(e){this._enabled=e;this._filterButton.setEnabled(e);this._updateFilterBar()}forceShowFilterBar(){this._alwaysShowFilters=true;this._updateFilterBar()}showOnce(){this._stateSetting.set(true)}_filterChanged(e){this._updateFilterButton()}wasShown(){super.wasShown();this._updateFilterBar()}_updateFilterBar(){if(!this.parentWidget()||this._showingWidget)return;if(this.visible()){this._showingWidget=true;this.showWidget();this._showingWidget=false}else{this.hideWidget()}}focus(){for(let e=0;e<this._filters.length;++e){if(this._filters[e]instanceof UI.TextFilterUI){const t=this._filters[e];t.focus();break}}}_updateFilterButton(){let e=false;for(const t of this._filters)e=e||t.isActive();this._filterButton.setDefaultWithRedColor(e);this._filterButton.setToggleWithRedColor(e)}clear(){this.element.removeChildren();this._filters=[];this._updateFilterButton()}setting(){return this._stateSetting}visible(){return this._alwaysShowFilters||this._stateSetting.get()&&this._enabled}};UI.FilterUI=function(){};UI.FilterUI.Events={FilterChanged:Symbol("FilterChanged")};UI.FilterUI.prototype={isActive(){},element(){}};UI.TextFilterUI=class extends Common.Object{constructor(){super();this._filterElement=createElement("div");this._filterElement.className="filter-text-filter";this._filterInputElement=this._filterElement.createChild("span","filter-input-field");this._prompt=new UI.TextPrompt;this._prompt.initialize(this._completions.bind(this)," ");this._proxyElement=this._prompt.attach(this._filterInputElement);this._proxyElement.title=Common.UIString("e.g. /small[\\d]+/ url:a.com/b");this._prompt.setPlaceholder(Common.UIString("Filter"));this._prompt.addEventListener(UI.TextPrompt.Events.TextChanged,this._valueChanged.bind(this));this._suggestionProvider=null}_completions(e,t,n){if(this._suggestionProvider)return this._suggestionProvider(e,t,n);return Promise.resolve([])}isActive(){return!!this._prompt.text()}element(){return this._filterElement}value(){return this._prompt.textWithCurrentSuggestion()}setValue(e){this._prompt.setText(e);this._valueChanged()}focus(){this._filterInputElement.focus()}setSuggestionProvider(e){this._prompt.clearAutocomplete();this._suggestionProvider=e}_valueChanged(){this.dispatchEventToListeners(UI.FilterUI.Events.FilterChanged,null)}};UI.NamedBitSetFilterUI=class extends Common.Object{constructor(e,t){super();this._filtersElement=createElementWithClass("div","filter-bitset-filter");this._filtersElement.title=Common.UIString("%sClick to select multiple types",UI.KeyboardShortcut.shortcutToString("",UI.KeyboardShortcut.Modifiers.CtrlOrMeta));this._allowedTypes={};this._typeFilterElements={};this._addBit(UI.NamedBitSetFilterUI.ALL_TYPES,Common.UIString("All"));this._filtersElement.createChild("div","filter-bitset-filter-divider");for(let t=0;t<e.length;++t)this._addBit(e[t].name,e[t].label,e[t].title);if(t){this._setting=t;t.addChangeListener(this._settingChanged.bind(this));this._settingChanged()}else{this._toggleTypeFilter(UI.NamedBitSetFilterUI.ALL_TYPES,false)}}reset(){this._toggleTypeFilter(UI.NamedBitSetFilterUI.ALL_TYPES,false)}isActive(){return!this._allowedTypes[UI.NamedBitSetFilterUI.ALL_TYPES]}element(){return this._filtersElement}accept(e){return!!this._allowedTypes[UI.NamedBitSetFilterUI.ALL_TYPES]||!!this._allowedTypes[e]}_settingChanged(){const e=this._setting.get();this._allowedTypes={};for(const t in this._typeFilterElements){if(e[t])this._allowedTypes[t]=true}this._update()}_update(){if(Object.keys(this._allowedTypes).length===0||this._allowedTypes[UI.NamedBitSetFilterUI.ALL_TYPES]){this._allowedTypes={};this._allowedTypes[UI.NamedBitSetFilterUI.ALL_TYPES]=true}for(const e in this._typeFilterElements)this._typeFilterElements[e].classList.toggle("selected",!!this._allowedTypes[e]);this.dispatchEventToListeners(UI.FilterUI.Events.FilterChanged,null)}_addBit(e,t,n){const s=this._filtersElement.createChild("span",e);s.typeName=e;s.createTextChild(t);if(n)s.title=n;s.addEventListener("click",this._onTypeFilterClicked.bind(this),false);this._typeFilterElements[e]=s}_onTypeFilterClicked(e){let t;if(Host.isMac())t=e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey;else t=e.ctrlKey&&!e.metaKey&&!e.altKey&&!e.shiftKey;this._toggleTypeFilter(e.target.typeName,t)}_toggleTypeFilter(e,t){if(t&&e!==UI.NamedBitSetFilterUI.ALL_TYPES)this._allowedTypes[UI.NamedBitSetFilterUI.ALL_TYPES]=false;else this._allowedTypes={};this._allowedTypes[e]=!this._allowedTypes[e];if(this._setting)this._setting.set(this._allowedTypes);else this._update()}};UI.NamedBitSetFilterUI.Item;UI.NamedBitSetFilterUI.ALL_TYPES="all";UI.CheckboxFilterUI=class extends Common.Object{constructor(e,t,n,s){super();this._filterElement=createElementWithClass("div","filter-checkbox-filter");this._activeWhenChecked=!!n;this._label=UI.CheckboxLabel.create(t);this._filterElement.appendChild(this._label);this._checkboxElement=this._label.checkboxElement;if(s)UI.SettingsUI.bindCheckbox(this._checkboxElement,s);else this._checkboxElement.checked=true;this._checkboxElement.addEventListener("change",this._fireUpdated.bind(this),false)}isActive(){return this._activeWhenChecked===this._checkboxElement.checked}checked(){return this._checkboxElement.checked}setChecked(e){this._checkboxElement.checked=e}element(){return this._filterElement}labelElement(){return this._label}_fireUpdated(){this.dispatchEventToListeners(UI.FilterUI.Events.FilterChanged,null)}setColor(e,t){this._label.backgroundColor=e;this._label.borderColor=t}};UI.FilterSuggestionBuilder=class{constructor(e,t){this._keys=e;this._valueSorter=t||((e,t)=>t.sort());this._valuesMap=new Map}completions(e,t,n){if(!t&&!n)return Promise.resolve([]);const s=t.startsWith("-");if(s)t=t.substring(1);const i=s?"-":"";const o=t.indexOf(":");const r=[];if(o===-1){const e=new RegExp("^"+t.escapeForRegExp(),"i");for(const t of this._keys){if(e.test(t))r.push({text:i+t+":"})}}else{const e=t.substring(0,o).toLowerCase();const n=t.substring(o+1);const s=new RegExp("^"+n.escapeForRegExp(),"i");const a=Array.from(this._valuesMap.get(e)||new Set);this._valueSorter(e,a);for(const t of a){if(s.test(t)&&t!==n)r.push({text:i+e+":"+t})}}return Promise.resolve(r)}addItem(e,t){if(!t)return;if(!this._valuesMap.get(e))this._valuesMap.set(e,new Set);this._valuesMap.get(e).add(t)}clear(){this._valuesMap.clear()}};UI.ForwardedInputEventHandler=class{constructor(){InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.KeyEventUnhandled,this._onKeyEventUnhandled,this)}_onKeyEventUnhandled(e){const t=e.data;const n=t.type;const s=t.key;const i=t.keyCode;const o=t.modifiers;if(n!=="keydown")return;UI.context.setFlavor(UI.ShortcutRegistry.ForwardedShortcut,UI.ShortcutRegistry.ForwardedShortcut.instance);UI.shortcutRegistry.handleKey(UI.KeyboardShortcut.makeKey(i,o),s);UI.context.setFlavor(UI.ShortcutRegistry.ForwardedShortcut,null)}};UI.forwardedEventHandler=new UI.ForwardedInputEventHandler;UI.Fragment=class{constructor(e){this._element=e;this._elementsById=new Map}element(){return this._element}$(e){return this._elementsById.get(e)}static build(e,...t){return UI.Fragment._render(UI.Fragment._template(e),t)}static cached(e,...t){let n=UI.Fragment._templateCache.get(e);if(!n){n=UI.Fragment._template(e);UI.Fragment._templateCache.set(e,n)}return UI.Fragment._render(n,t)}static _template(e){let t="";let n=true;for(let s=0;s<e.length-1;s++){t+=e[s];const i=e[s].lastIndexOf(">");const o=e[s].indexOf("<",i+1);if(i!==-1&&o===-1)n=true;else if(o!==-1)n=false;t+=n?UI.Fragment._textMarker:UI.Fragment._attributeMarker(s)}t+=e[e.length-1];const s=window.document.createElement("template");s.innerHTML=t;const i=s.ownerDocument.createTreeWalker(s.content,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null,false);let o=0;const r=[];const a=[];const l=[];while(i.nextNode()){const e=i.currentNode;if(e.nodeType===Node.ELEMENT_NODE&&e.hasAttributes()){if(e.hasAttribute("$")){l.push(e);a.push({elementId:e.getAttribute("$")});e.removeAttribute("$")}const t=[];for(let n=0;n<e.attributes.length;n++){const s=e.attributes[n].name;if(!UI.Fragment._attributeMarkerRegex.test(s)&&!UI.Fragment._attributeMarkerRegex.test(e.attributes[n].value))continue;t.push(s);l.push(e);const i={attr:{index:o}};i.attr.names=s.split(UI.Fragment._attributeMarkerRegex);o+=i.attr.names.length-1;i.attr.values=e.attributes[n].value.split(UI.Fragment._attributeMarkerRegex);o+=i.attr.values.length-1;a.push(i)}for(let n=0;n<t.length;n++)e.removeAttribute(t[n])}if(e.nodeType===Node.TEXT_NODE&&e.data.indexOf(UI.Fragment._textMarker)!==-1){const t=e.data.split(UI.Fragment._textMarkerRegex);e.data=t[t.length-1];for(let n=0;n<t.length-1;n++){if(t[n])e.parentNode.insertBefore(createTextNode(t[n]),e);const s=createElement("span");l.push(s);a.push({replaceNodeIndex:o++});e.parentNode.insertBefore(s,e)}}if(e.nodeType===Node.TEXT_NODE&&(!e.previousSibling||e.previousSibling.nodeType===Node.ELEMENT_NODE)&&(!e.nextSibling||e.nextSibling.nodeType===Node.ELEMENT_NODE)&&/^\s*$/.test(e.data))r.push(e)}for(let e=0;e<l.length;e++)l[e].classList.add(UI.Fragment._class(e));for(const e of r)e.remove();return{template:s,binds:a}}static _render(e,t){const n=e.template.ownerDocument.importNode(e.template.content,true);const s=n.firstChild===n.lastChild?n.firstChild:n;const i=new UI.Fragment(s);const o=[];for(let t=0;t<e.binds.length;t++){const e=UI.Fragment._class(t);const s=n.querySelector("."+e);s.classList.remove(e);o.push(s)}for(let n=0;n<e.binds.length;n++){const s=e.binds[n];const r=o[n];if("elementId"in s){i._elementsById.set(s.elementId,r)}else if("replaceNodeIndex"in s){const e=t[s.replaceNodeIndex];r.parentNode.replaceChild(this._nodeForValue(e),r)}else if("attr"in s){if(s.attr.names.length===2&&s.attr.values.length===1&&typeof t[s.attr.index]==="function"){t[s.attr.index].call(null,r)}else{let e=s.attr.names[0];for(let n=1;n<s.attr.names.length;n++){e+=t[s.attr.index+n-1];e+=s.attr.names[n]}if(e){let n=s.attr.values[0];for(let e=1;e<s.attr.values.length;e++){n+=t[s.attr.index+s.attr.names.length-1+e-1];n+=s.attr.values[e]}r.setAttribute(e,n)}}}else{throw new Error("Unexpected bind")}}return i}static _nodeForValue(e){if(e instanceof Node)return e;if(e instanceof UI.Fragment)return e._element;if(Array.isArray(e)){const t=createDocumentFragment();for(const n of e)t.appendChild(this._nodeForValue(n));return t}return createTextNode(""+e)}};UI.Fragment._Template;UI.Fragment._Bind;UI.Fragment._textMarker="{{template-text}}";UI.Fragment._textMarkerRegex=/{{template-text}}/;UI.Fragment._attributeMarker=(e=>"template-attribute"+e);UI.Fragment._attributeMarkerRegex=/template-attribute\d+/;UI.Fragment._class=(e=>"template-class-"+e);UI.Fragment._templateCache=new Map;UI.html=((e,...t)=>{return UI.Fragment.cached(e,...t).element()});UI.HistoryInput=class extends HTMLInputElement{constructor(){super();this._history=[""];this._historyPosition=0;this.addEventListener("keydown",this._onKeyDown.bind(this),false);this.addEventListener("input",this._onInput.bind(this),false)}static create(){if(!UI.HistoryInput._constructor)UI.HistoryInput._constructor=UI.registerCustomElement("input","history-input",UI.HistoryInput);return UI.HistoryInput._constructor()}_onInput(e){if(this._history.length===this._historyPosition+1)this._history[this._history.length-1]=this.value}_onKeyDown(e){if(e.keyCode===UI.KeyboardShortcut.Keys.Up.code){this._historyPosition=Math.max(this._historyPosition-1,0);this.value=this._history[this._historyPosition];this.dispatchEvent(new Event("input",{bubbles:true,cancelable:true}));e.consume(true)}else if(e.keyCode===UI.KeyboardShortcut.Keys.Down.code){this._historyPosition=Math.min(this._historyPosition+1,this._history.length-1);this.value=this._history[this._historyPosition];this.dispatchEvent(new Event("input",{bubbles:true,cancelable:true}));e.consume(true)}else if(e.keyCode===UI.KeyboardShortcut.Keys.Enter.code){this._saveToHistory()}}_saveToHistory(){if(this._history.length>1&&this._history[this._history.length-2]===this.value)return;this._history[this._history.length-1]=this.value;this._historyPosition=this._history.length-1;this._history.push("")}};UI.Icon=class extends HTMLSpanElement{constructor(){super();this._descriptor=null;this._spriteSheet=null;this._iconType=""}static create(e,t){if(!UI.Icon._constructor)UI.Icon._constructor=UI.registerCustomElement("span","ui-icon",UI.Icon);const n=UI.Icon._constructor();if(t)n.className=t;if(e)n.setIconType(e);return n}setIconType(e){if(this._descriptor){this.style.removeProperty("--spritesheet-position");this.style.removeProperty("width");this.style.removeProperty("height");this._toggleClasses(false);this._iconType="";this._descriptor=null;this._spriteSheet=null}const t=UI.Icon.Descriptors[e]||null;if(t){this._iconType=e;this._descriptor=t;this._spriteSheet=UI.Icon.SpriteSheets[this._descriptor.spritesheet];console.assert(this._spriteSheet,`ERROR: icon ${this._iconType} has unknown spritesheet: ${this._descriptor.spritesheet}`);this.style.setProperty("--spritesheet-position",this._propertyValue());this.style.setProperty("width",this._spriteSheet.cellWidth+"px");this.style.setProperty("height",this._spriteSheet.cellHeight+"px");this._toggleClasses(true)}else if(e){throw new Error(`ERROR: failed to find icon descriptor for type: ${e}`)}}_toggleClasses(e){this.classList.toggle("spritesheet-"+this._descriptor.spritesheet,e);this.classList.toggle(this._iconType,e);this.classList.toggle("icon-mask",e&&!!this._descriptor.isMask);this.classList.toggle("icon-invert",e&&!!this._descriptor.invert)}_propertyValue(){if(!this._descriptor.coordinates){if(!this._descriptor.position||!UI.Icon._positionRegex.test(this._descriptor.position))throw new Error(`ERROR: icon '${this._iconType}' has malformed position: '${this._descriptor.position}'`);const e=this._descriptor.position[0].toLowerCase().charCodeAt(0)-97;const t=parseInt(this._descriptor.position.substring(1),10)-1;this._descriptor.coordinates={x:-(this._spriteSheet.cellWidth+this._spriteSheet.padding)*e,y:(this._spriteSheet.cellHeight+this._spriteSheet.padding)*(t+1)-this._spriteSheet.padding}}return`${this._descriptor.coordinates.x}px ${this._descriptor.coordinates.y}px`}};UI.Icon._positionRegex=/^[a-z][1-9][0-9]*$/;UI.Icon.Descriptor;UI.Icon.SpriteSheet;UI.Icon.SpriteSheets={smallicons:{cellWidth:10,cellHeight:10,padding:10},mediumicons:{cellWidth:16,cellHeight:16,padding:0},largeicons:{cellWidth:28,cellHeight:24,padding:0},arrowicons:{cellWidth:19,cellHeight:19,padding:0}};UI.Icon.Descriptors={"smallicon-bezier":{position:"a5",spritesheet:"smallicons",isMask:true},"smallicon-checkmark":{position:"b5",spritesheet:"smallicons"},"smallicon-checkmark-square":{position:"b6",spritesheet:"smallicons",isMask:true},"smallicon-checkmark-behind":{position:"d6",spritesheet:"smallicons",isMask:true},"smallicon-command-result":{position:"a4",spritesheet:"smallicons"},"smallicon-contrast-ratio":{position:"a6",spritesheet:"smallicons",isMask:true},"smallicon-cross":{position:"b4",spritesheet:"smallicons"},"smallicon-device":{position:"c5",spritesheet:"smallicons"},"smallicon-error":{position:"c4",spritesheet:"smallicons"},"smallicon-expand-less":{position:"f5",spritesheet:"smallicons",isMask:true},"smallicon-expand-more":{position:"e6",spritesheet:"smallicons",isMask:true},"smallicon-green-arrow":{position:"a3",spritesheet:"smallicons"},"smallicon-green-ball":{position:"b3",spritesheet:"smallicons"},"smallicon-info":{position:"c3",spritesheet:"smallicons"},"smallicon-inline-breakpoint-conditional":{position:"d4",spritesheet:"smallicons"},"smallicon-inline-breakpoint":{position:"d5",spritesheet:"smallicons"},"smallicon-no":{position:"c6",spritesheet:"smallicons",isMask:true},"smallicon-orange-ball":{position:"d3",spritesheet:"smallicons"},"smallicon-red-ball":{position:"a2",spritesheet:"smallicons"},"smallicon-shadow":{position:"b2",spritesheet:"smallicons",isMask:true},"smallicon-step-in":{position:"c2",spritesheet:"smallicons"},"smallicon-step-out":{position:"d2",spritesheet:"smallicons"},"smallicon-text-prompt":{position:"e5",spritesheet:"smallicons"},"smallicon-thick-left-arrow":{position:"e4",spritesheet:"smallicons"},"smallicon-thick-right-arrow":{position:"e3",spritesheet:"smallicons"},"smallicon-triangle-down":{position:"e2",spritesheet:"smallicons",isMask:true},"smallicon-triangle-right":{position:"a1",spritesheet:"smallicons",isMask:true},"smallicon-triangle-up":{position:"b1",spritesheet:"smallicons",isMask:true},"smallicon-user-command":{position:"c1",spritesheet:"smallicons"},"smallicon-warning":{position:"d1",spritesheet:"smallicons"},"smallicon-network-product":{position:"e1",spritesheet:"smallicons"},"smallicon-clear-warning":{position:"f1",spritesheet:"smallicons",isMask:true},"smallicon-clear-info":{position:"f2",spritesheet:"smallicons"},"smallicon-clear-error":{position:"f3",spritesheet:"smallicons"},"smallicon-account-circle":{position:"f4",spritesheet:"smallicons"},"mediumicon-clear-storage":{position:"a4",spritesheet:"mediumicons",isMask:true},"mediumicon-cookie":{position:"b4",spritesheet:"mediumicons",isMask:true},"mediumicon-database":{position:"c4",spritesheet:"mediumicons",isMask:true},"mediumicon-info":{position:"c1",spritesheet:"mediumicons",isMask:true},"mediumicon-manifest":{position:"d4",spritesheet:"mediumicons",isMask:true},"mediumicon-service-worker":{position:"a3",spritesheet:"mediumicons",isMask:true},"mediumicon-table":{position:"b3",spritesheet:"mediumicons",isMask:true},"mediumicon-arrow-in-circle":{position:"c3",spritesheet:"mediumicons",isMask:true},"mediumicon-file-sync":{position:"d3",spritesheet:"mediumicons",invert:true},"mediumicon-file":{position:"a2",spritesheet:"mediumicons",invert:true},"mediumicon-gray-cross-active":{position:"b2",spritesheet:"mediumicons"},"mediumicon-gray-cross-hover":{position:"c2",spritesheet:"mediumicons"},"mediumicon-red-cross-active":{position:"d2",spritesheet:"mediumicons"},"mediumicon-red-cross-hover":{position:"a1",spritesheet:"mediumicons"},"mediumicon-search":{position:"b1",spritesheet:"mediumicons"},"mediumicon-replace":{position:"c5",spritesheet:"mediumicons",isMask:true},"mediumicon-account-circle":{position:"e4",spritesheet:"mediumicons",isMask:true},"mediumicon-warning-triangle":{position:"e1",spritesheet:"mediumicons"},"mediumicon-error-circle":{position:"e3",spritesheet:"mediumicons"},"mediumicon-info-circle":{position:"e2",spritesheet:"mediumicons"},"mediumicon-bug":{position:"d1",spritesheet:"mediumicons",isMask:true},"mediumicon-list":{position:"e5",spritesheet:"mediumicons",isMask:true},"mediumicon-warning":{position:"d5",spritesheet:"mediumicons",isMask:true},"mediumicon-sync":{position:"a5",spritesheet:"mediumicons",isMask:true},"mediumicon-fetch":{position:"b5",spritesheet:"mediumicons",isMask:true},"mediumicon-cloud":{position:"a6",spritesheet:"mediumicons",isMask:true},"mediumicon-bell":{position:"b6",spritesheet:"mediumicons",isMask:true},"badge-navigator-file-sync":{position:"a9",spritesheet:"largeicons"},"largeicon-activate-breakpoints":{position:"b9",spritesheet:"largeicons",isMask:true},"largeicon-add":{position:"a8",spritesheet:"largeicons",isMask:true},"largeicon-background-color":{position:"b8",spritesheet:"largeicons",isMask:true},"largeicon-box-shadow":{position:"a7",spritesheet:"largeicons",isMask:true},"largeicon-camera":{position:"b7",spritesheet:"largeicons",isMask:true},"largeicon-center":{position:"c9",spritesheet:"largeicons",isMask:true},"largeicon-checkmark":{position:"c8",spritesheet:"largeicons",isMask:true},"largeicon-chevron":{position:"c7",spritesheet:"largeicons",isMask:true},"largeicon-clear":{position:"a6",spritesheet:"largeicons",isMask:true},"largeicon-copy":{position:"b6",spritesheet:"largeicons",isMask:true},"largeicon-deactivate-breakpoints":{position:"c6",spritesheet:"largeicons",isMask:true},"largeicon-delete":{position:"d9",spritesheet:"largeicons",isMask:true},"largeicon-dock-to-bottom":{position:"d8",spritesheet:"largeicons",isMask:true},"largeicon-dock-to-left":{position:"d7",spritesheet:"largeicons",isMask:true},"largeicon-dock-to-right":{position:"d6",spritesheet:"largeicons",isMask:true},"largeicon-download":{position:"h6",spritesheet:"largeicons",isMask:true},"largeicon-edit":{position:"a5",spritesheet:"largeicons",isMask:true},"largeicon-eyedropper":{position:"b5",spritesheet:"largeicons",isMask:true},"largeicon-filter":{position:"c5",spritesheet:"largeicons",isMask:true},"largeicon-foreground-color":{position:"d5",spritesheet:"largeicons",isMask:true},"largeicon-hide-bottom-sidebar":{position:"e9",spritesheet:"largeicons",isMask:true},"largeicon-hide-left-sidebar":{position:"e8",spritesheet:"largeicons",isMask:true},"largeicon-hide-right-sidebar":{position:"e7",spritesheet:"largeicons",isMask:true},"largeicon-hide-top-sidebar":{position:"e6",spritesheet:"largeicons",isMask:true},"largeicon-large-list":{position:"e5",spritesheet:"largeicons",isMask:true},"largeicon-layout-editor":{position:"a4",spritesheet:"largeicons",isMask:true},"largeicon-load":{position:"h5",spritesheet:"largeicons",isMask:true},"largeicon-longclick-triangle":{position:"b4",spritesheet:"largeicons",isMask:true},"largeicon-menu":{position:"c4",spritesheet:"largeicons",isMask:true},"largeicon-navigator-domain":{position:"d4",spritesheet:"largeicons",isMask:true},"largeicon-navigator-file":{position:"e4",spritesheet:"largeicons",isMask:true},"largeicon-navigator-file-sync":{position:"f9",spritesheet:"largeicons",isMask:true},"largeicon-navigator-folder":{position:"f8",spritesheet:"largeicons",isMask:true},"largeicon-navigator-frame":{position:"f7",spritesheet:"largeicons",isMask:true},"largeicon-navigator-snippet":{position:"f6",spritesheet:"largeicons",isMask:true},"largeicon-navigator-worker":{position:"f5",spritesheet:"largeicons",isMask:true},"largeicon-node-search":{position:"f4",spritesheet:"largeicons",isMask:true},"largeicon-pan":{position:"a3",spritesheet:"largeicons",isMask:true},"largeicon-pause-animation":{position:"b3",spritesheet:"largeicons",isMask:true},"largeicon-pause":{position:"c3",spritesheet:"largeicons",isMask:true},"largeicon-pause-on-exceptions":{position:"d3",spritesheet:"largeicons",isMask:true},"largeicon-phone":{position:"e3",spritesheet:"largeicons",isMask:true},"largeicon-play-animation":{position:"f3",spritesheet:"largeicons",isMask:true},"largeicon-play-back":{position:"a2",spritesheet:"largeicons",isMask:true},"largeicon-play":{position:"b2",spritesheet:"largeicons",isMask:true},"largeicon-pretty-print":{position:"c2",spritesheet:"largeicons",isMask:true},"largeicon-refresh":{position:"d2",spritesheet:"largeicons",isMask:true},"largeicon-replay-animation":{position:"e2",spritesheet:"largeicons",isMask:true},"largeicon-resume":{position:"f2",spritesheet:"largeicons",isMask:true},"largeicon-rotate":{position:"g9",spritesheet:"largeicons",isMask:true},"largeicon-rotate-screen":{position:"g8",spritesheet:"largeicons",isMask:true},"largeicon-search":{position:"h4",spritesheet:"largeicons",isMask:true},"largeicon-settings-gear":{position:"g7",spritesheet:"largeicons",isMask:true},"largeicon-show-bottom-sidebar":{position:"g6",spritesheet:"largeicons",isMask:true},"largeicon-show-left-sidebar":{position:"g5",spritesheet:"largeicons",isMask:true},"largeicon-show-right-sidebar":{position:"g4",spritesheet:"largeicons",isMask:true},"largeicon-show-top-sidebar":{position:"g3",spritesheet:"largeicons",isMask:true},"largeicon-start-recording":{position:"g2",spritesheet:"largeicons",isMask:true},"largeicon-step-into":{position:"a1",spritesheet:"largeicons",isMask:true},"largeicon-step-out":{position:"b1",spritesheet:"largeicons",isMask:true},"largeicon-step-over":{position:"c1",spritesheet:"largeicons",isMask:true},"largeicon-step":{position:"h1",spritesheet:"largeicons",isMask:true},"largeicon-stop-recording":{position:"d1",spritesheet:"largeicons",isMask:true},"largeicon-terminate-execution":{position:"h2",spritesheet:"largeicons",isMask:true},"largeicon-text-shadow":{position:"e1",spritesheet:"largeicons",isMask:true},"largeicon-trash-bin":{position:"f1",spritesheet:"largeicons",isMask:true},"largeicon-undo":{position:"h7",spritesheet:"largeicons",isMask:true},"largeicon-undock":{position:"g1",spritesheet:"largeicons",isMask:true},"largeicon-visibility":{position:"h9",spritesheet:"largeicons",isMask:true},"largeicon-waterfall":{position:"h8",spritesheet:"largeicons",isMask:true},"mediumicon-arrow-top":{position:"a4",spritesheet:"arrowicons"},"mediumicon-arrow-bottom":{position:"a3",spritesheet:"arrowicons"},"mediumicon-arrow-left":{position:"a2",spritesheet:"arrowicons"},"mediumicon-arrow-right":{position:"a1",spritesheet:"arrowicons"}};UI.Infobar=class{constructor(e,t,n){this.element=createElementWithClass("div","flex-none");this._shadowRoot=UI.createShadowRootWithCoreStyles(this.element,"ui/infobar.css");this._contentElement=this._shadowRoot.createChild("div","infobar infobar-"+e);this._mainRow=this._contentElement.createChild("div","infobar-main-row");this._mainRow.createChild("div",e+"-icon icon");this._mainRowText=this._mainRow.createChild("div","infobar-main-title");this._mainRowText.textContent=t;this._detailsRows=this._contentElement.createChild("div","infobar-details-rows hidden");this._toggleElement=this._mainRow.createChild("div","infobar-toggle hidden");this._toggleElement.addEventListener("click",this._onToggleDetails.bind(this),false);this._toggleElement.textContent=Common.UIString("more");this._disableSetting=n||null;if(n){const e=this._mainRow.createChild("div","infobar-toggle");e.textContent=Common.UIString("never show");e.addEventListener("click",this._onDisable.bind(this),false)}this._closeButton=this._contentElement.createChild("div","close-button","dt-close-button");this._closeButton.addEventListener("click",this.dispose.bind(this),false);this._closeCallback=null}static create(e,t,n){if(n&&n.get())return null;return new UI.Infobar(e,t,n)}dispose(){this.element.remove();this._onResize();if(this._closeCallback)this._closeCallback.call(null)}setText(e){this._mainRowText.textContent=e;this._onResize()}setCloseCallback(e){this._closeCallback=e}setParentView(e){this._parentView=e}_onResize(){if(this._parentView)this._parentView.doResize()}_onDisable(){this._disableSetting.set(true);this.dispose()}_onToggleDetails(){this._detailsRows.classList.remove("hidden");this._toggleElement.remove();this._onResize()}createDetailsRowMessage(e){this._toggleElement.classList.remove("hidden");const t=this._detailsRows.createChild("div","infobar-details-row");const n=t.createChild("span","infobar-row-message");n.textContent=e||"";return n}};UI.Infobar.Type={Warning:"warning",Info:"info"};UI.InplaceEditor=class{static startEditing(e,t){if(!UI.InplaceEditor._defaultInstance)UI.InplaceEditor._defaultInstance=new UI.InplaceEditor;return UI.InplaceEditor._defaultInstance.startEditing(e,t)}editorContent(e){const t=e.element;if(t.tagName==="INPUT"&&t.type==="text")return t.value;return t.textContent}setUpEditor(e){const t=e.element;t.classList.add("editing");t.setAttribute("contenteditable","plaintext-only");const n=t.getAttribute("role");UI.ARIAUtils.markAsTextBox(t);e.oldRole=n;const s=t.getAttribute("tabIndex");if(typeof s!=="number"||s<0)t.tabIndex=0;this._focusRestorer=new UI.ElementFocusRestorer(t);e.oldTabIndex=s}closeEditor(e){const t=e.element;t.classList.remove("editing");t.removeAttribute("contenteditable");if(typeof e.oldRole!=="string")t.removeAttribute("role");else t.role=e.oldRole;if(typeof e.oldTabIndex!=="number")t.removeAttribute("tabIndex");else t.tabIndex=e.oldTabIndex;t.scrollTop=0;t.scrollLeft=0}cancelEditing(e){const t=e.element;if(t.tagName==="INPUT"&&t.type==="text")t.value=e.oldText;else t.textContent=e.oldText}augmentEditingHandle(e,t){}startEditing(e,t){if(!UI.markBeingEdited(e,true))return null;t=t||new UI.InplaceEditor.Config(function(){},function(){});const n={element:e,config:t};const s=t.commitHandler;const i=t.cancelHandler;const o=t.pasteHandler;const r=t.context;let a="";const l=this;this.setUpEditor(n);n.oldText=this.editorContent(n);function c(n){if(t.blurHandler&&!t.blurHandler(e,n))return;u.call(e)}function d(){UI.markBeingEdited(e,false);e.removeEventListener("blur",c,false);e.removeEventListener("keydown",f,true);if(o)e.removeEventListener("paste",g,true);if(l._focusRestorer)l._focusRestorer.restore();l.closeEditor(n)}function h(){l.cancelEditing(n);d();i(this,r)}function u(){d();s(this,l.editorContent(n),n.oldText,r,a)}function m(e){if(isEnterKey(e))return"commit";else if(e.keyCode===UI.KeyboardShortcut.Keys.Esc.code||e.key==="Escape")return"cancel";else if(e.key==="Tab")return"move-"+(e.shiftKey?"backward":"forward");return""}function p(t,n){if(t==="commit"){u.call(e);n.consume(true)}else if(t==="cancel"){h.call(e);n.consume(true)}else if(t&&t.startsWith("move-")){a=t.substring(5);if(n.key==="Tab")n.consume(true);c()}}function g(e){const t=o(e);p(t,e)}function f(e){let n=m(e);if(!n&&t.postKeydownFinishHandler)n=t.postKeydownFinishHandler(e);p(n,e)}e.addEventListener("blur",c,false);e.addEventListener("keydown",f,true);if(o)e.addEventListener("paste",g,true);const _={cancel:h.bind(e),commit:u.bind(e)};this.augmentEditingHandle(n,_);return _}};UI.InplaceEditor.Controller;UI.InplaceEditor.Config=class{constructor(e,t,n,s){this.commitHandler=e;this.cancelHandler=t;this.context=n;this.blurHandler=s;this.pasteHandler;this.postKeydownFinishHandler}setPasteHandler(e){this.pasteHandler=e}setPostKeydownFinishHandler(e){this.postKeydownFinishHandler=e}};UI.TextEditorFactory=function(){};UI.TextEditorFactory.prototype={createEditor(e){}};UI.TextEditor=function(){};UI.TextEditor.prototype={widget(){},fullRange(){},selection(){},setSelection(e){},text(e){},textWithCurrentSuggestion(){},setText(e){},line(e){},newlineAndIndent(){},addKeyDownHandler(e){},configureAutocomplete(e){},clearAutocomplete(){},visualCoordinates(e,t){},tokenAtTextPosition(e,t){},setPlaceholder(e){}};UI.TextEditor.Events={CursorChanged:Symbol("CursorChanged"),TextChanged:Symbol("TextChanged"),SuggestionChanged:Symbol("SuggestionChanged")};UI.TextEditor.Options;UI.AutocompleteConfig;UI.KeyboardShortcut=class{static makeKey(e,t){if(typeof e==="string")e=e.charCodeAt(0)-(/^[a-z]/.test(e)?32:0);t=t||UI.KeyboardShortcut.Modifiers.None;return UI.KeyboardShortcut._makeKeyFromCodeAndModifiers(e,t)}static makeKeyFromEvent(e){let t=UI.KeyboardShortcut.Modifiers.None;if(e.shiftKey)t|=UI.KeyboardShortcut.Modifiers.Shift;if(e.ctrlKey)t|=UI.KeyboardShortcut.Modifiers.Ctrl;if(e.altKey)t|=UI.KeyboardShortcut.Modifiers.Alt;if(e.metaKey)t|=UI.KeyboardShortcut.Modifiers.Meta;const n=e.keyCode||e["__keyCode"];return UI.KeyboardShortcut._makeKeyFromCodeAndModifiers(n,t)}static makeKeyFromEventIgnoringModifiers(e){const t=e.keyCode||e["__keyCode"];return UI.KeyboardShortcut._makeKeyFromCodeAndModifiers(t,UI.KeyboardShortcut.Modifiers.None)}static eventHasCtrlOrMeta(e){return Host.isMac()?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey}static hasNoModifiers(e){return!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey}static makeDescriptor(e,t){return{key:UI.KeyboardShortcut.makeKey(typeof e==="string"?e:e.code,t),name:UI.KeyboardShortcut.shortcutToString(e,t)}}static makeDescriptorFromBindingShortcut(e){const t=e.split(/\+(?!$)/);let n=0;let s;for(let i=0;i<t.length;++i){if(typeof UI.KeyboardShortcut.Modifiers[t[i]]!=="undefined"){n|=UI.KeyboardShortcut.Modifiers[t[i]];continue}console.assert(i===t.length-1,"Only one key other than modifier is allowed in shortcut <"+e+">");s=t[i];break}console.assert(s,"Modifiers-only shortcuts are not allowed (encountered <"+e+">)");if(!s)return null;const i=UI.KeyboardShortcut.Keys[s]||UI.KeyboardShortcut.KeyBindings[s];if(i&&i.shiftKey)n|=UI.KeyboardShortcut.Modifiers.Shift;return UI.KeyboardShortcut.makeDescriptor(i?i:s,n)}static shortcutToString(e,t){return UI.KeyboardShortcut._modifiersToString(t)+UI.KeyboardShortcut._keyName(e)}static _keyName(e){if(typeof e==="string")return e.toUpperCase();if(typeof e.name==="string")return e.name;return e.name[Host.platform()]||e.name.other||""}static _makeKeyFromCodeAndModifiers(e,t){return e&255|t<<8}static keyCodeAndModifiersFromKey(e){return{keyCode:e&255,modifiers:e>>8}}static _modifiersToString(e){const t=Host.isMac();const n=UI.KeyboardShortcut.Modifiers;const s=new Map([[n.Ctrl,t?"Ctrl ":"Ctrl + "],[n.Alt,t?"⌥ ":"Alt + "],[n.Shift,t?"⇧ ":"Shift + "],[n.Meta,t?"⌘ ":"Win + "]]);return[n.Meta,n.Ctrl,n.Alt,n.Shift].map(i).join("");function i(t){return e&t?s.get(t):""}}};UI.KeyboardShortcut.Modifiers={None:0,Shift:1,Ctrl:2,Alt:4,Meta:8,get CtrlOrMeta(){return Host.isMac()?this.Meta:this.Ctrl},get ShiftOrOption(){return Host.isMac()?this.Alt:this.Shift}};UI.KeyboardShortcut.Key;UI.KeyboardShortcut.Keys={Backspace:{code:8,name:"↤"},Tab:{code:9,name:{mac:"⇥",other:"Tab"}},Enter:{code:13,name:{mac:"↩",other:"Enter"}},Shift:{code:16,name:{mac:"⇧",other:"Shift"}},Ctrl:{code:17,name:"Ctrl"},Esc:{code:27,name:"Esc"},Space:{code:32,name:"Space"},PageUp:{code:33,name:{mac:"⇞",other:"PageUp"}},PageDown:{code:34,name:{mac:"⇟",other:"PageDown"}},End:{code:35,name:{mac:"↗",other:"End"}},Home:{code:36,name:{mac:"↖",other:"Home"}},Left:{code:37,name:"←"},Up:{code:38,name:"↑"},Right:{code:39,name:"→"},Down:{code:40,name:"↓"},Delete:{code:46,name:"Del"},Zero:{code:48,name:"0"},H:{code:72,name:"H"},N:{code:78,name:"N"},P:{code:80,name:"P"},Meta:{code:91,name:"Meta"},F1:{code:112,name:"F1"},F2:{code:113,name:"F2"},F3:{code:114,name:"F3"},F4:{code:115,name:"F4"},F5:{code:116,name:"F5"},F6:{code:117,name:"F6"},F7:{code:118,name:"F7"},F8:{code:119,name:"F8"},F9:{code:120,name:"F9"},F10:{code:121,name:"F10"},F11:{code:122,name:"F11"},F12:{code:123,name:"F12"},Semicolon:{code:186,name:";"},NumpadPlus:{code:107,name:"Numpad +"},NumpadMinus:{code:109,name:"Numpad -"},Numpad0:{code:96,name:"Numpad 0"},Plus:{code:187,name:"+"},Comma:{code:188,name:","},Minus:{code:189,name:"-"},Period:{code:190,name:"."},Slash:{code:191,name:"/"},QuestionMark:{code:191,name:"?"},Apostrophe:{code:192,name:"`"},Tilde:{code:192,name:"Tilde"},LeftSquareBracket:{code:219,name:"["},RightSquareBracket:{code:221,name:"]"},Backslash:{code:220,name:"\\"},SingleQuote:{code:222,name:"'"},get CtrlOrMeta(){return Host.isMac()?this.Meta:this.Ctrl}};UI.KeyboardShortcut.KeyBindings={};(function(){for(const e in UI.KeyboardShortcut.Keys){const t=UI.KeyboardShortcut.Keys[e];if(typeof t==="object"&&t["code"]){const n=typeof t["name"]==="string"?t["name"]:e;UI.KeyboardShortcut.KeyBindings[n]=t}}})();UI.KeyboardShortcut.Descriptor;UI.ListDelegate=function(){};UI.ListDelegate.prototype={createElementForItem(e){},heightForItem(e){},isItemSelectable(e){},selectedItemChanged(e,t,n,s){}};UI.ListMode={NonViewport:Symbol("UI.ListMode.NonViewport"),EqualHeightItems:Symbol("UI.ListMode.EqualHeightItems"),VariousHeightItems:Symbol("UI.ListMode.VariousHeightItems")};UI.ListControl=class{constructor(e,t,n){this.element=createElement("div");this.element.style.overflowY="auto";this._topElement=this.element.createChild("div");this._bottomElement=this.element.createChild("div");this._firstIndex=0;this._lastIndex=0;this._renderedHeight=0;this._topHeight=0;this._bottomHeight=0;this._model=e;this._model.addEventListener(UI.ListModel.Events.ItemsReplaced,this._replacedItemsInRange,this);this._itemToElement=new Map;this._selectedIndex=-1;this._selectedItem=null;this.element.tabIndex=-1;this.element.addEventListener("click",this._onClick.bind(this),false);this.element.addEventListener("keydown",this._onKeyDown.bind(this),false);this._delegate=t;this._mode=n||UI.ListMode.EqualHeightItems;this._fixedHeight=0;this._variableOffsets=new Int32Array(0);this._clearContents();if(this._mode!==UI.ListMode.NonViewport){this.element.addEventListener("scroll",()=>{this._updateViewport(this.element.scrollTop,this.element.offsetHeight)},false)}}setModel(e){this._itemToElement.clear();const t=this._model.length;this._model.removeEventListener(UI.ListModel.Events.ItemsReplaced,this._replacedItemsInRange,this);this._model=e;this._model.addEventListener(UI.ListModel.Events.ItemsReplaced,this._replacedItemsInRange,this);this.invalidateRange(0,t)}_replacedItemsInRange(e){const t=e.data;const n=t.index;const s=n+t.removed.length;const i=this._selectedItem;const o=i?this._itemToElement.get(i)||null:null;for(let e=0;e<t.removed.length;e++)this._itemToElement.delete(t.removed[e]);this._invalidate(n,s,t.inserted);if(this._selectedIndex>=s){this._selectedIndex+=t.inserted-(s-n);this._selectedItem=this._model.at(this._selectedIndex)}else if(this._selectedIndex>=n){let e=this._findFirstSelectable(n+t.inserted,+1,false);if(e===-1)e=this._findFirstSelectable(n-1,-1,false);this._select(e,i,o)}}refreshItem(e){const t=this._model.indexOf(e);if(t===-1){console.error("Item to refresh is not present");return}this.refreshItemByIndex(t)}refreshItemByIndex(e){const t=this._model.at(e);this._itemToElement.delete(t);this.invalidateRange(e,e+1);if(this._selectedIndex!==-1)this._select(this._selectedIndex,null,null)}invalidateRange(e,t){this._invalidate(e,t,t-e)}viewportResized(){if(this._mode===UI.ListMode.NonViewport)return;const e=this.element.scrollTop;const t=this.element.offsetHeight;this._clearViewport();this._updateViewport(Number.constrain(e,0,this._totalHeight()-t),t)}invalidateItemHeight(){if(this._mode!==UI.ListMode.EqualHeightItems){console.error("Only supported in equal height items mode");return}this._fixedHeight=0;if(this._model.length){this._itemToElement.clear();this._invalidate(0,this._model.length,this._model.length)}}itemForNode(e){while(e&&e.parentNodeOrShadowHost()!==this.element)e=e.parentNodeOrShadowHost();if(!e)return null;const t=e;const n=this._model.findIndex(e=>this._itemToElement.get(e)===t);return n!==-1?this._model.at(n):null}scrollItemIntoView(e,t){const n=this._model.indexOf(e);if(n===-1){console.error("Attempt to scroll onto missing item");return}this._scrollIntoView(n,t)}selectedItem(){return this._selectedItem}selectedIndex(){return this._selectedIndex}selectItem(e,t,n){let s=-1;if(e!==null){s=this._model.indexOf(e);if(s===-1){console.error("Attempt to select missing item");return}if(!this._delegate.isItemSelectable(e)){console.error("Attempt to select non-selectable item");return}}if(this._selectedIndex!==s)this._select(s);if(s!==-1&&!n)this._scrollIntoView(s,t)}selectPreviousItem(e,t){if(this._selectedIndex===-1&&!e)return false;let n=this._selectedIndex===-1?this._model.length-1:this._selectedIndex-1;n=this._findFirstSelectable(n,-1,!!e);if(n!==-1){this._scrollIntoView(n,t);this._select(n);return true}return false}selectNextItem(e,t){if(this._selectedIndex===-1&&!e)return false;let n=this._selectedIndex===-1?0:this._selectedIndex+1;n=this._findFirstSelectable(n,+1,!!e);if(n!==-1){this._scrollIntoView(n,t);this._select(n);return true}return false}selectItemPreviousPage(e){if(this._mode===UI.ListMode.NonViewport)return false;let t=this._selectedIndex===-1?this._model.length-1:this._selectedIndex;t=this._findPageSelectable(t,-1);if(t!==-1){this._scrollIntoView(t,e);this._select(t);return true}return false}selectItemNextPage(e){if(this._mode===UI.ListMode.NonViewport)return false;let t=this._selectedIndex===-1?0:this._selectedIndex;t=this._findPageSelectable(t,+1);if(t!==-1){this._scrollIntoView(t,e);this._select(t);return true}return false}_scrollIntoView(e,t){if(this._mode===UI.ListMode.NonViewport){this._elementAtIndex(e).scrollIntoViewIfNeeded(!!t);return}const n=this._offsetAtIndex(e);const s=this._offsetAtIndex(e+1);const i=this.element.offsetHeight;if(t){const e=(n+s)/2-i/2;this._updateViewport(Number.constrain(e,0,this._totalHeight()-i),i);return}const o=this.element.scrollTop;if(n<o)this._updateViewport(n,i);else if(s>o+i)this._updateViewport(s-i,i)}_onClick(e){const t=this.itemForNode(e.target);if(t&&this._delegate.isItemSelectable(t))this.selectItem(t)}_onKeyDown(e){let t=false;switch(e.key){case"ArrowUp":t=this.selectPreviousItem(true,false);break;case"ArrowDown":t=this.selectNextItem(true,false);break;case"PageUp":t=this.selectItemPreviousPage(false);break;case"PageDown":t=this.selectItemNextPage(false);break}if(t)e.consume()}_totalHeight(){return this._offsetAtIndex(this._model.length)}_indexAtOffset(e){if(this._mode===UI.ListMode.NonViewport)throw"There should be no offset conversions in non-viewport mode";if(!this._model.length||e<0)return 0;if(this._mode===UI.ListMode.VariousHeightItems){return Math.min(this._model.length-1,this._variableOffsets.lowerBound(e,undefined,0,this._model.length))}if(!this._fixedHeight)this._measureHeight();return Math.min(this._model.length-1,Math.floor(e/this._fixedHeight))}_elementAtIndex(e){const t=this._model.at(e);let n=this._itemToElement.get(t);if(!n){n=this._delegate.createElementForItem(t);this._itemToElement.set(t,n)}return n}_offsetAtIndex(e){if(this._mode===UI.ListMode.NonViewport)throw"There should be no offset conversions in non-viewport mode";if(!this._model.length)return 0;if(this._mode===UI.ListMode.VariousHeightItems)return this._variableOffsets[e];if(!this._fixedHeight)this._measureHeight();return e*this._fixedHeight}_measureHeight(){this._fixedHeight=this._delegate.heightForItem(this._model.at(0));if(!this._fixedHeight)this._fixedHeight=UI.measurePreferredSize(this._elementAtIndex(0),this.element).height}_select(e,t,n){if(t===undefined)t=this._selectedItem;if(n===undefined)n=this._itemToElement.get(t)||null;this._selectedIndex=e;this._selectedItem=e===-1?null:this._model.at(e);const s=this._selectedItem;const i=this._selectedIndex!==-1?this._elementAtIndex(e):null;if(n)UI.ARIAUtils.setSelected(n,false);if(i)UI.ARIAUtils.setSelected(i,true);UI.ARIAUtils.setActiveDescendant(this.element,i);this._delegate.selectedItemChanged(t,s,n,i)}_findFirstSelectable(e,t,n){const s=this._model.length;if(!s)return-1;for(let i=0;i<=s;i++){if(e<0||e>=s){if(!n)return-1;e=(e+s)%s}if(this._delegate.isItemSelectable(this._model.at(e)))return e;e+=t}return-1}_findPageSelectable(e,t){let n=-1;const s=this._offsetAtIndex(e);const i=this.element.offsetHeight-1;while(e>=0&&e<this._model.length){if(this._delegate.isItemSelectable(this._model.at(e))){if(Math.abs(this._offsetAtIndex(e)-s)>=i)return e;n=e}e+=t}return n}_reallocateVariableOffsets(e,t){if(this._variableOffsets.length<e){const n=new Int32Array(Math.max(e,this._variableOffsets.length*2));n.set(this._variableOffsets.slice(0,t),0);this._variableOffsets=n}else if(this._variableOffsets.length>=2*e){const n=new Int32Array(e);n.set(this._variableOffsets.slice(0,t),0);this._variableOffsets=n}}_invalidate(e,t,n){if(this._mode===UI.ListMode.NonViewport){this._invalidateNonViewportMode(e,t-e,n);return}if(this._mode===UI.ListMode.VariousHeightItems){this._reallocateVariableOffsets(this._model.length+1,e+1);for(let t=e+1;t<=this._model.length;t++)this._variableOffsets[t]=this._variableOffsets[t-1]+this._delegate.heightForItem(this._model.at(t-1))}const s=this.element.offsetHeight;const i=this._totalHeight();const o=this.element.scrollTop;if(this._renderedHeight<s||i<s){this._clearViewport();this._updateViewport(Number.constrain(o,0,i-s),s);return}const r=i-this._renderedHeight;if(t<=this._firstIndex){const s=this._topHeight+r;this._topElement.style.height=s+"px";this.element.scrollTop=o+r;this._topHeight=s;this._renderedHeight=i;const a=n-(t-e);this._firstIndex+=a;this._lastIndex+=a;return}if(e>=this._lastIndex){const e=this._bottomHeight+r;this._bottomElement.style.height=e+"px";this._bottomHeight=e;this._renderedHeight=i;return}this._clearViewport();this._updateViewport(Number.constrain(o,0,i-s),s)}_invalidateNonViewportMode(e,t,n){let s=this._topElement;for(let t=0;t<e;t++)s=s.nextElementSibling;while(t--)s.nextElementSibling.remove();while(n--)this.element.insertBefore(this._elementAtIndex(e+n),s.nextElementSibling)}_clearViewport(){if(this._mode===UI.ListMode.NonViewport){console.error("There should be no viewport updates in non-viewport mode");return}this._firstIndex=0;this._lastIndex=0;this._renderedHeight=0;this._topHeight=0;this._bottomHeight=0;this._clearContents()}_clearContents(){this._topElement.style.height="0";this._bottomElement.style.height="0";this.element.removeChildren();this.element.appendChild(this._topElement);this.element.appendChild(this._bottomElement)}_updateViewport(e,t){if(this._mode===UI.ListMode.NonViewport){console.error("There should be no viewport updates in non-viewport mode");return}const n=this._totalHeight();if(!n){this._firstIndex=0;this._lastIndex=0;this._topHeight=0;this._bottomHeight=0;this._renderedHeight=0;this._topElement.style.height="0";this._bottomElement.style.height="0";return}const s=this._indexAtOffset(e-t);const i=this._indexAtOffset(e+2*t)+1;while(this._firstIndex<Math.min(s,this._lastIndex)){this._elementAtIndex(this._firstIndex).remove();this._firstIndex++}while(this._lastIndex>Math.max(i,this._firstIndex)){this._elementAtIndex(this._lastIndex-1).remove();this._lastIndex--}this._firstIndex=Math.min(this._firstIndex,i);this._lastIndex=Math.max(this._lastIndex,s);for(let e=this._firstIndex-1;e>=s;e--){const t=this._elementAtIndex(e);this.element.insertBefore(t,this._topElement.nextSibling)}for(let e=this._lastIndex;e<i;e++){const t=this._elementAtIndex(e);this.element.insertBefore(t,this._bottomElement)}this._firstIndex=s;this._lastIndex=i;this._topHeight=this._offsetAtIndex(s);this._topElement.style.height=this._topHeight+"px";this._bottomHeight=n-this._offsetAtIndex(i);this._bottomElement.style.height=this._bottomHeight+"px";this._renderedHeight=n;this.element.scrollTop=e}};UI.ListModel=class extends Common.Object{constructor(e){super();this._items=e||[]}[Symbol.iterator](){return this._items[Symbol.iterator]()}get length(){return this._items.length}at(e){return this._items[e]}every(e){return this._items.every(e)}filter(e){return this._items.filter(e)}find(e){return this._items.find(e)}findIndex(e){return this._items.findIndex(e)}indexOf(e,t){return this._items.indexOf(e,t)}insert(e,t){this._items.splice(e,0,t);this._replaced(e,[],1)}insertWithComparator(e,t){this.insert(this._items.lowerBound(e,t),e)}join(e){return this._items.join(e)}remove(e){const t=this._items[e];this._items.splice(e,1);this._replaced(e,[t],0);return t}replace(e,t){const n=this._items[e];this._items[e]=t;this._replaced(e,[n],1);return n}replaceRange(e,t,n){let s;if(n.length<1e4){s=this._items.splice(e,t-e,...n)}else{s=this._items.slice(e,t);const i=this._items.slice(0,e);const o=this._items.slice(t);this._items=[].concat(i,n,o)}this._replaced(e,s,n.length);return s}replaceAll(e){const t=this._items.slice();this._items=e;this._replaced(0,t,e.length);return t}slice(e,t){return this._items.slice(e,t)}some(e){return this._items.some(e)}_replaced(e,t,n){this.dispatchEventToListeners(UI.ListModel.Events.ItemsReplaced,{index:e,removed:t,inserted:n})}};UI.ListModel.Events={ItemsReplaced:Symbol("ItemsReplaced")};UI.ListWidget=class extends UI.VBox{constructor(e){super(true,true);this.registerRequiredCSS("ui/listWidget.css");this._delegate=e;this._list=this.contentElement.createChild("div","list");this._lastSeparator=false;this._focusRestorer=null;this._items=[];this._editable=[];this._elements=[];this._editor=null;this._editItem=null;this._editElement=null;this._emptyPlaceholder=null;this._updatePlaceholder()}clear(){this._items=[];this._editable=[];this._elements=[];this._lastSeparator=false;this._list.removeChildren();this._updatePlaceholder();this._stopEditing()}appendItem(e,t){if(this._lastSeparator&&this._items.length)this._list.appendChild(createElementWithClass("div","list-separator"));this._lastSeparator=false;this._items.push(e);this._editable.push(t);const n=this._list.createChild("div","list-item");n.appendChild(this._delegate.renderItem(e,t));if(t){n.classList.add("editable");n.appendChild(this._createControls(e,n))}this._elements.push(n);this._updatePlaceholder()}appendSeparator(){this._lastSeparator=true}removeItem(e){if(this._editItem===this._items[e])this._stopEditing();const t=this._elements[e];const n=t.previousElementSibling;const s=n&&n.classList.contains("list-separator");const i=t.nextElementSibling;const o=i&&i.classList.contains("list-separator");if(s&&(o||!i))n.remove();if(o&&!n)i.remove();t.remove();this._elements.splice(e,1);this._items.splice(e,1);this._editable.splice(e,1);this._updatePlaceholder()}addNewItem(e,t){this._startEditing(t,null,this._elements[e]||null)}setEmptyPlaceholder(e){this._emptyPlaceholder=e;this._updatePlaceholder()}_createControls(e,t){const n=createElementWithClass("div","controls-container fill");n.createChild("div","controls-gradient");const s=n.createChild("div","controls-buttons");const i=new UI.Toolbar("",s);const o=new UI.ToolbarButton(Common.UIString("Edit"),"largeicon-edit");o.addEventListener(UI.ToolbarButton.Events.Click,a.bind(this));i.appendToolbarItem(o);const r=new UI.ToolbarButton(Common.UIString("Remove"),"largeicon-trash-bin");r.addEventListener(UI.ToolbarButton.Events.Click,l.bind(this));i.appendToolbarItem(r);return n;function a(){const n=this._elements.indexOf(t);const s=this._elements[n+1]||null;this._startEditing(e,t,s)}function l(){const e=this._elements.indexOf(t);this.element.focus();this._delegate.removeItemRequested(this._items[e],e)}}wasShown(){super.wasShown();this._stopEditing()}_updatePlaceholder(){if(!this._emptyPlaceholder)return;if(!this._elements.length&&!this._editor)this._list.appendChild(this._emptyPlaceholder);else this._emptyPlaceholder.remove()}_startEditing(e,t,n){if(t&&this._editElement===t)return;this._stopEditing();this._focusRestorer=new UI.ElementFocusRestorer(this.element);this._list.classList.add("list-editing");this._editItem=e;this._editElement=t;if(t)t.classList.add("hidden");const s=t?this._elements.indexOf(t):-1;this._editor=this._delegate.beginEdit(e);this._updatePlaceholder();this._list.insertBefore(this._editor.element,n);this._editor.beginEdit(e,s,t?Common.UIString("Save"):Common.UIString("Add"),this._commitEditing.bind(this),this._stopEditing.bind(this))}_commitEditing(){const e=this._editItem;const t=!this._editElement;const n=this._editor;this._stopEditing();this._delegate.commitEdit(e,n,t)}_stopEditing(){this._list.classList.remove("list-editing");if(this._focusRestorer)this._focusRestorer.restore();if(this._editElement)this._editElement.classList.remove("hidden");if(this._editor&&this._editor.element.parentElement)this._editor.element.remove();this._editor=null;this._editItem=null;this._editElement=null;this._updatePlaceholder()}};UI.ListWidget.Delegate=function(){};UI.ListWidget.Delegate.prototype={renderItem(e,t){},removeItemRequested(e,t){},beginEdit(e){},commitEdit(e,t,n){}};UI.ListWidget.Editor=class{constructor(){this.element=createElementWithClass("div","editor-container");this.element.addEventListener("keydown",t.bind(null,isEscKey,this._cancelClicked.bind(this)),false);this.element.addEventListener("keydown",t.bind(null,isEnterKey,this._commitClicked.bind(this)),false);this._contentElement=this.element.createChild("div","editor-content");const e=this.element.createChild("div","editor-buttons");this._commitButton=UI.createTextButton("",this._commitClicked.bind(this),"",true);e.appendChild(this._commitButton);this._cancelButton=UI.createTextButton(Common.UIString("Cancel"),this._cancelClicked.bind(this));this._cancelButton.addEventListener("keydown",t.bind(null,isEnterKey,this._cancelClicked.bind(this)),false);e.appendChild(this._cancelButton);function t(e,t,n){if(e(n)){n.consume(true);t()}}this._controls=[];this._controlByName=new Map;this._validators=[];this._commit=null;this._cancel=null;this._item=null;this._index=-1}contentElement(){return this._contentElement}createInput(e,t,n,s){const i=UI.createInput("",t);i.placeholder=n;i.addEventListener("input",this._validateControls.bind(this,false),false);i.addEventListener("blur",this._validateControls.bind(this,false),false);this._controlByName.set(e,i);this._controls.push(i);this._validators.push(s);return i}createSelect(e,t,n){const s=createElementWithClass("select","chrome-select");for(let e=0;e<t.length;++e){const n=s.createChild("option");n.value=t[e];n.textContent=t[e]}s.addEventListener("input",this._validateControls.bind(this,false),false);s.addEventListener("blur",this._validateControls.bind(this,false),false);this._controlByName.set(e,s);this._controls.push(s);this._validators.push(n);return s}control(e){return this._controlByName.get(e)}_validateControls(e){let t=true;for(let n=0;n<this._controls.length;++n){const s=this._controls[n];const i=this._validators[n].call(null,this._item,this._index,s);s.classList.toggle("error-input",!i&&!e);t&=i}this._commitButton.disabled=!t}beginEdit(e,t,n,s,i){this._commit=s;this._cancel=i;this._item=e;this._index=t;this._commitButton.textContent=n;this.element.scrollIntoViewIfNeeded(false);if(this._controls.length)this._controls[0].focus();this._validateControls(true)}_commitClicked(){if(this._commitButton.disabled)return;const e=this._commit;this._commit=null;this._cancel=null;this._item=null;this._index=-1;e()}_cancelClicked(){const e=this._cancel;this._commit=null;this._cancel=null;this._item=null;this._index=-1;e()}};UI.panels={};UI.Panel=class extends UI.VBox{constructor(e){super();this.element.classList.add("panel");this.element.setAttribute("aria-label",e);this.element.classList.add(e);this._panelName=e;UI.panels[e]=this}get name(){return this._panelName}searchableView(){return null}elementsToRestoreScrollPositionsFor(){return[]}showInfobar(e){e.setCloseCallback(this._onInfobarClosed.bind(this,e));if(this.element.firstChild)this.element.insertBefore(e.element,this.element.firstChild);else this.element.appendChild(e.element);e.setParentView(this);this.doResize()}_onInfobarClosed(e){e.element.remove();this.doResize()}};UI.PanelWithSidebar=class extends UI.Panel{constructor(e,t){super(e);this._panelSplitWidget=new UI.SplitWidget(true,false,this._panelName+"PanelSplitViewState",t||200);this._panelSplitWidget.show(this.element);this._mainWidget=new UI.VBox;this._panelSplitWidget.setMainWidget(this._mainWidget);this._sidebarWidget=new UI.VBox;this._sidebarWidget.setMinimumSize(100,25);this._panelSplitWidget.setSidebarWidget(this._sidebarWidget);this._sidebarWidget.element.classList.add("panel-sidebar")}panelSidebarElement(){return this._sidebarWidget.element}mainElement(){return this._mainWidget.element}splitWidget(){return this._panelSplitWidget}};UI.PopoverHelper=class{constructor(e,t){this._disableOnClick=false;this._hasPadding=false;this._getRequest=t;this._scheduledRequest=null;this._hidePopoverCallback=null;this._container=e;this._showTimeout=0;this._hideTimeout=0;this._hidePopoverTimer=null;this._showPopoverTimer=null;this._boundMouseDown=this._mouseDown.bind(this);this._boundMouseMove=this._mouseMove.bind(this);this._boundMouseOut=this._mouseOut.bind(this);this._container.addEventListener("mousedown",this._boundMouseDown,false);this._container.addEventListener("mousemove",this._boundMouseMove,false);this._container.addEventListener("mouseout",this._boundMouseOut,false);this.setTimeout(1e3)}setTimeout(e,t){this._showTimeout=e;this._hideTimeout=typeof t==="number"?t:e/2}setHasPadding(e){this._hasPadding=e}setDisableOnClick(e){this._disableOnClick=e}_eventInScheduledContent(e){return this._scheduledRequest?this._scheduledRequest.box.contains(e.clientX,e.clientY):false}_mouseDown(e){if(this._disableOnClick){this.hidePopover();return}if(this._eventInScheduledContent(e))return;this._startHidePopoverTimer(0);this._stopShowPopoverTimer();this._startShowPopoverTimer(e,0)}_mouseMove(e){if(this._eventInScheduledContent(e))return;this._startHidePopoverTimer(this._hideTimeout);this._stopShowPopoverTimer();if(e.which&&this._disableOnClick)return;this._startShowPopoverTimer(e,this.isPopoverVisible()?this._showTimeout*.6:this._showTimeout)}_popoverMouseMove(e){this._stopHidePopoverTimer()}_popoverMouseOut(e,t){if(!e.isShowing())return;if(t.relatedTarget&&!t.relatedTarget.isSelfOrDescendant(e.contentElement))this._startHidePopoverTimer(this._hideTimeout)}_mouseOut(e){if(!this.isPopoverVisible())return;if(!this._eventInScheduledContent(e))this._startHidePopoverTimer(this._hideTimeout)}_startHidePopoverTimer(e){if(!this._hidePopoverCallback||this._hidePopoverTimer)return;this._hidePopoverTimer=setTimeout(()=>{this._hidePopover();this._hidePopoverTimer=null},e)}_startShowPopoverTimer(e,t){this._scheduledRequest=this._getRequest.call(null,e);if(!this._scheduledRequest)return;this._showPopoverTimer=setTimeout(()=>{this._showPopoverTimer=null;this._stopHidePopoverTimer();this._hidePopover();this._showPopover(e.target.ownerDocument)},t)}_stopShowPopoverTimer(){if(!this._showPopoverTimer)return;clearTimeout(this._showPopoverTimer);this._showPopoverTimer=null}isPopoverVisible(){return!!this._hidePopoverCallback}hidePopover(){this._stopShowPopoverTimer();this._hidePopover()}_hidePopover(){if(!this._hidePopoverCallback)return;this._hidePopoverCallback.call(null);this._hidePopoverCallback=null}_showPopover(e){const t=new UI.GlassPane;t.registerRequiredCSS("ui/popover.css");t.setSizeBehavior(UI.GlassPane.SizeBehavior.MeasureContent);t.setMarginBehavior(UI.GlassPane.MarginBehavior.Arrow);const n=this._scheduledRequest;n.show.call(null,t).then(s=>{if(!s)return;if(this._scheduledRequest!==n){if(n.hide)n.hide.call(null);return}if(UI.PopoverHelper._popoverHelper){console.error("One popover is already visible");UI.PopoverHelper._popoverHelper.hidePopover()}UI.PopoverHelper._popoverHelper=this;t.contentElement.classList.toggle("has-padding",this._hasPadding);t.contentElement.addEventListener("mousemove",this._popoverMouseMove.bind(this),true);t.contentElement.addEventListener("mouseout",this._popoverMouseOut.bind(this,t),true);t.setContentAnchorBox(n.box);t.show(e);this._hidePopoverCallback=(()=>{if(n.hide)n.hide.call(null);t.hide();delete UI.PopoverHelper._popoverHelper})})}_stopHidePopoverTimer(){if(!this._hidePopoverTimer)return;clearTimeout(this._hidePopoverTimer);this._hidePopoverTimer=null;this._stopShowPopoverTimer()}dispose(){this._container.removeEventListener("mousedown",this._boundMouseDown,false);this._container.removeEventListener("mousemove",this._boundMouseMove,false);this._container.removeEventListener("mouseout",this._boundMouseOut,false)}};UI.PopoverRequest;UI.ProgressIndicator=class{constructor(){this.element=createElementWithClass("div","progress-indicator");this._shadowRoot=UI.createShadowRootWithCoreStyles(this.element,"ui/progressIndicator.css");this._contentElement=this._shadowRoot.createChild("div","progress-indicator-shadow-container");this._labelElement=this._contentElement.createChild("div","title");this._progressElement=this._contentElement.createChild("progress");this._progressElement.value=0;this._stopButton=this._contentElement.createChild("button","progress-indicator-shadow-stop-button");this._stopButton.addEventListener("click",this.cancel.bind(this));this._isCanceled=false;this._worked=0}show(e){e.appendChild(this.element)}done(){if(this._isDone)return;this._isDone=true;this.element.remove()}cancel(){this._isCanceled=true}isCanceled(){return this._isCanceled}setTitle(e){this._labelElement.textContent=e}setTotalWork(e){this._progressElement.max=e}setWorked(e,t){this._worked=e;this._progressElement.value=e;if(t)this.setTitle(t)}worked(e){this.setWorked(this._worked+(e||1))}};UI.ResizerWidget=class extends Common.Object{constructor(){super();this._isEnabled=true;this._elements=[];this._installDragOnMouseDownBound=this._installDragOnMouseDown.bind(this);this._cursor="nwse-resize"}isEnabled(){return this._isEnabled}setEnabled(e){this._isEnabled=e;this.updateElementCursors()}elements(){return this._elements.slice()}addElement(e){if(this._elements.indexOf(e)!==-1)return;this._elements.push(e);e.addEventListener("mousedown",this._installDragOnMouseDownBound,false);this._updateElementCursor(e)}removeElement(e){if(this._elements.indexOf(e)===-1)return;this._elements.remove(e);e.removeEventListener("mousedown",this._installDragOnMouseDownBound,false);e.style.removeProperty("cursor")}updateElementCursors(){this._elements.forEach(this._updateElementCursor.bind(this))}_updateElementCursor(e){if(this._isEnabled)e.style.setProperty("cursor",this.cursor());else e.style.removeProperty("cursor")}cursor(){return this._cursor}setCursor(e){this._cursor=e;this.updateElementCursors()}_installDragOnMouseDown(e){if(this._elements.indexOf(e.target)===-1)return false;UI.elementDragStart(e.target,this._dragStart.bind(this),this._drag.bind(this),this._dragEnd.bind(this),this.cursor(),e)}_dragStart(e){if(!this._isEnabled)return false;this._startX=e.pageX;this._startY=e.pageY;this.sendDragStart(this._startX,this._startY);return true}sendDragStart(e,t){this.dispatchEventToListeners(UI.ResizerWidget.Events.ResizeStart,{startX:e,currentX:e,startY:t,currentY:t})}_drag(e){if(!this._isEnabled){this._dragEnd(e);return true}this.sendDragMove(this._startX,e.pageX,this._startY,e.pageY,e.shiftKey);e.preventDefault();return false}sendDragMove(e,t,n,s,i){this.dispatchEventToListeners(UI.ResizerWidget.Events.ResizeUpdate,{startX:e,currentX:t,startY:n,currentY:s,shiftKey:i})}_dragEnd(e){this.dispatchEventToListeners(UI.ResizerWidget.Events.ResizeEnd);delete this._startX;delete this._startY}};UI.ResizerWidget.Events={ResizeStart:Symbol("ResizeStart"),ResizeUpdate:Symbol("ResizeUpdate"),ResizeEnd:Symbol("ResizeEnd")};UI.SimpleResizerWidget=class extends UI.ResizerWidget{constructor(){super();this._isVertical=true}isVertical(){return this._isVertical}setVertical(e){this._isVertical=e;this.updateElementCursors()}cursor(){return this._isVertical?"ns-resize":"ew-resize"}sendDragStart(e,t){const n=this._isVertical?t:e;this.dispatchEventToListeners(UI.ResizerWidget.Events.ResizeStart,{startPosition:n,currentPosition:n})}sendDragMove(e,t,n,s,i){if(this._isVertical){this.dispatchEventToListeners(UI.ResizerWidget.Events.ResizeUpdate,{startPosition:n,currentPosition:s,shiftKey:i})}else{this.dispatchEventToListeners(UI.ResizerWidget.Events.ResizeUpdate,{startPosition:e,currentPosition:t,shiftKey:i})}}};UI.RemoteDebuggingTerminatedScreen=class extends UI.VBox{constructor(e){super(true);this.registerRequiredCSS("ui/remoteDebuggingTerminatedScreen.css");const t=this.contentElement.createChild("div","message");const n=t.createChild("span","reason");n.textContent=e;t.appendChild(UI.formatLocalized("Debugging connection was closed. Reason: %s",[n]));this.contentElement.createChild("div","message").textContent=Common.UIString("Reconnect when ready by reopening DevTools.");const s=UI.createTextButton(Common.UIString("Reconnect DevTools"),()=>window.location.reload());this.contentElement.createChild("div","button").appendChild(s)}static show(e){const t=new UI.Dialog;t.setSizeBehavior(UI.GlassPane.SizeBehavior.MeasureContent);t.addCloseButton();t.setDimmed(true);new UI.RemoteDebuggingTerminatedScreen(e).show(t.contentElement);t.show()}};UI.ReportView=class extends UI.VBox{constructor(e){super(true);this.registerRequiredCSS("ui/reportView.css");this._contentBox=this.contentElement.createChild("div","report-content-box");this._headerElement=this._contentBox.createChild("div","report-header vbox");this._titleElement=this._headerElement.createChild("div","report-title");this._titleElement.textContent=e;UI.ARIAUtils.markAsHeading(this._titleElement,1);this._sectionList=this._contentBox.createChild("div","vbox")}setTitle(e){if(this._titleElement.textContent===e)return;this._titleElement.textContent=e}setSubtitle(e){if(this._subtitleElement&&this._subtitleElement.textContent===e)return;if(!this._subtitleElement)this._subtitleElement=this._headerElement.createChild("div","report-subtitle");this._subtitleElement.textContent=e}setURL(e){if(!this._urlElement)this._urlElement=this._headerElement.createChild("div","report-url link");this._urlElement.removeChildren();if(e)this._urlElement.appendChild(e)}createToolbar(){const e=new UI.Toolbar("");this._headerElement.appendChild(e.element);return e}appendSection(e,t){const n=new UI.ReportView.Section(e,t);n.show(this._sectionList);return n}sortSections(e){const t=this.children().slice();const n=t.every((t,n,s)=>!n||e(s[n-1],s[n])<=0);if(n)return;this.detachChildWidgets();t.sort(e);for(const e of t)e.show(this._sectionList)}setHeaderVisible(e){this._headerElement.classList.toggle("hidden",!e)}setBodyScrollable(e){this._contentBox.classList.toggle("no-scroll",!e)}};UI.ReportView.Section=class extends UI.VBox{constructor(e,t){super();this.element.classList.add("report-section");if(t)this.element.classList.add(t);this._headerElement=this.element.createChild("div","report-section-header");this._titleElement=this._headerElement.createChild("div","report-section-title");this.setTitle(e);UI.ARIAUtils.markAsHeading(this._titleElement,2);this._fieldList=this.element.createChild("div","vbox");this._fieldMap=new Map}title(){return this._titleElement.textContent}setTitle(e){if(this._titleElement.textContent!==e)this._titleElement.textContent=e;this._titleElement.classList.toggle("hidden",!this._titleElement.textContent)}createToolbar(){const e=new UI.Toolbar("");this._headerElement.appendChild(e.element);return e}appendField(e,t){let n=this._fieldMap.get(e);if(!n){n=this._fieldList.createChild("div","report-field");n.createChild("div","report-field-name").textContent=e;this._fieldMap.set(e,n);n.createChild("div","report-field-value")}if(t)n.lastElementChild.textContent=t;return n.lastElementChild}removeField(e){const t=this._fieldMap.get(e);if(t)t.remove();this._fieldMap.delete(e)}setFieldVisible(e,t){const n=this._fieldMap.get(e);if(n)n.classList.toggle("hidden",!t)}fieldValue(e){const t=this._fieldMap.get(e);return t?t.lastElementChild:null}appendRow(){return this._fieldList.createChild("div","report-row")}appendSelectableRow(){return this._fieldList.createChild("div","report-row report-row-selectable")}clearContent(){this._fieldList.removeChildren();this._fieldMap.clear()}markFieldListAsGroup(){UI.ARIAUtils.markAsGroup(this._fieldList);UI.ARIAUtils.setAccessibleName(this._fieldList,this.title())}};UI.RootView=class extends UI.VBox{constructor(){super();this.markAsRoot();this.element.classList.add("root-view");this.registerRequiredCSS("ui/rootView.css");this.element.setAttribute("spellcheck",false)}attachToDocument(e){e.defaultView.addEventListener("resize",this.doResize.bind(this),false);this._window=e.defaultView;this.doResize();this.show(e.body)}doResize(){if(this._window){const e=this.constraints().minimum;const t=UI.zoomManager.zoomFactor();const n=Math.min(0,this._window.innerWidth-e.width/t);this.element.style.marginRight=n+"px";const s=Math.min(0,this._window.innerHeight-e.height/t);this.element.style.marginBottom=s+"px"}super.doResize()}};UI.SearchableView=class extends UI.VBox{constructor(e,t){super(true);this.registerRequiredCSS("ui/searchableView.css");this.element[UI.SearchableView._symbol]=this;this._searchProvider=e;this._setting=t?Common.settings.createSetting(t,{}):null;this._replaceable=false;this.contentElement.createChild("slot");this._footerElementContainer=this.contentElement.createChild("div","search-bar hidden");this._footerElementContainer.style.order=100;this._footerElement=this._footerElementContainer.createChild("div","toolbar-search");const n=new UI.Toolbar("replace-toggle-toolbar",this._footerElement);this._replaceToggleButton=new UI.ToolbarToggle(Common.UIString("Replace"),"mediumicon-replace");this._replaceToggleButton.addEventListener(UI.ToolbarButton.Events.Click,this._toggleReplace,this);n.appendToolbarItem(this._replaceToggleButton);const s=this._footerElement.createChild("div","toolbar-search-inputs");const i=s.createChild("div","toolbar-search-control");this._searchInputElement=UI.HistoryInput.create();this._searchInputElement.classList.add("search-replace");this._searchInputElement.id="search-input-field";this._searchInputElement.placeholder=Common.UIString("Find");i.appendChild(this._searchInputElement);this._matchesElement=i.createChild("label","search-results-matches");this._matchesElement.setAttribute("for","search-input-field");const o=i.createChild("div","toolbar-search-navigation-controls");this._searchNavigationPrevElement=o.createChild("div","toolbar-search-navigation toolbar-search-navigation-prev");this._searchNavigationPrevElement.addEventListener("click",this._onPrevButtonSearch.bind(this),false);this._searchNavigationPrevElement.title=Common.UIString("Search previous");this._searchNavigationNextElement=o.createChild("div","toolbar-search-navigation toolbar-search-navigation-next");this._searchNavigationNextElement.addEventListener("click",this._onNextButtonSearch.bind(this),false);this._searchNavigationNextElement.title=Common.UIString("Search next");this._searchInputElement.addEventListener("keydown",this._onSearchKeyDown.bind(this),true);this._searchInputElement.addEventListener("input",this._onInput.bind(this),false);this._replaceInputElement=s.createChild("input","search-replace toolbar-replace-control hidden");this._replaceInputElement.addEventListener("keydown",this._onReplaceKeyDown.bind(this),true);this._replaceInputElement.placeholder=Common.UIString("Replace");this._buttonsContainer=this._footerElement.createChild("div","toolbar-search-buttons");const r=this._buttonsContainer.createChild("div","first-row-buttons");const a=new UI.Toolbar("toolbar-search-options",r);if(this._searchProvider.supportsCaseSensitiveSearch()){this._caseSensitiveButton=new UI.ToolbarToggle(Common.UIString("Match Case"));this._caseSensitiveButton.setText("Aa");this._caseSensitiveButton.addEventListener(UI.ToolbarButton.Events.Click,this._toggleCaseSensitiveSearch,this);a.appendToolbarItem(this._caseSensitiveButton)}if(this._searchProvider.supportsRegexSearch()){this._regexButton=new UI.ToolbarToggle(Common.UIString("Use Regular Expression"));this._regexButton.setText(".*");this._regexButton.addEventListener(UI.ToolbarButton.Events.Click,this._toggleRegexSearch,this);a.appendToolbarItem(this._regexButton)}const l=UI.createTextButton(Common.UIString("Cancel"),this.closeSearch.bind(this),"search-action-button");r.appendChild(l);this._secondRowButtons=this._buttonsContainer.createChild("div","second-row-buttons hidden");this._replaceButtonElement=UI.createTextButton(Common.UIString("Replace"),this._replace.bind(this),"search-action-button");this._replaceButtonElement.disabled=true;this._secondRowButtons.appendChild(this._replaceButtonElement);this._replaceAllButtonElement=UI.createTextButton(Common.UIString("Replace all"),this._replaceAll.bind(this),"search-action-button");this._secondRowButtons.appendChild(this._replaceAllButtonElement);this._replaceAllButtonElement.disabled=true;this._minimalSearchQuerySize=3;this._loadSetting()}static fromElement(e){let t=null;while(e&&!t){t=e[UI.SearchableView._symbol];e=e.parentElementOrShadowHost()}return t}_toggleCaseSensitiveSearch(){this._caseSensitiveButton.setToggled(!this._caseSensitiveButton.toggled());this._saveSetting();this._performSearch(false,true)}_toggleRegexSearch(){this._regexButton.setToggled(!this._regexButton.toggled());this._saveSetting();this._performSearch(false,true)}_toggleReplace(){this._replaceToggleButton.setToggled(!this._replaceToggleButton.toggled());this._updateSecondRowVisibility()}_saveSetting(){if(!this._setting)return;const e=this._setting.get()||{};e.caseSensitive=this._caseSensitiveButton.toggled();e.isRegex=this._regexButton.toggled();this._setting.set(e)}_loadSetting(){const e=this._setting?this._setting.get()||{}:{};if(this._searchProvider.supportsCaseSensitiveSearch())this._caseSensitiveButton.setToggled(!!e.caseSensitive);if(this._searchProvider.supportsRegexSearch())this._regexButton.setToggled(!!e.isRegex)}setMinimalSearchQuerySize(e){this._minimalSearchQuerySize=e}setPlaceholder(e){this._searchInputElement.placeholder=e}setReplaceable(e){this._replaceable=e}updateSearchMatchesCount(e){if(this._searchProvider.currentSearchMatches===e)return;this._searchProvider.currentSearchMatches=e;this._updateSearchMatchesCountAndCurrentMatchIndex(this._searchProvider.currentQuery?e:0,-1)}updateCurrentMatchIndex(e){this._updateSearchMatchesCountAndCurrentMatchIndex(this._searchProvider.currentSearchMatches,e)}isSearchVisible(){return this._searchIsVisible}closeSearch(){this.cancelSearch();if(this._footerElementContainer.hasFocus())this.focus()}_toggleSearchBar(e){this._footerElementContainer.classList.toggle("hidden",!e);this.doResize()}cancelSearch(){if(!this._searchIsVisible)return;this.resetSearch();delete this._searchIsVisible;this._toggleSearchBar(false)}resetSearch(){this._clearSearch();this._updateReplaceVisibility();this._matchesElement.textContent=""}refreshSearch(){if(!this._searchIsVisible)return;this.resetSearch();this._performSearch(false,false)}handleFindNextShortcut(){if(!this._searchIsVisible)return false;this._searchProvider.jumpToNextSearchResult();return true}handleFindPreviousShortcut(){if(!this._searchIsVisible)return false;this._searchProvider.jumpToPreviousSearchResult();return true}handleFindShortcut(){this.showSearchField();return true}handleCancelSearchShortcut(){if(!this._searchIsVisible)return false;this.closeSearch();return true}_updateSearchNavigationButtonState(e){this._replaceButtonElement.disabled=!e;this._replaceAllButtonElement.disabled=!e;this._searchNavigationPrevElement.classList.toggle("enabled",e);this._searchNavigationNextElement.classList.toggle("enabled",e)}_updateSearchMatchesCountAndCurrentMatchIndex(e,t){if(!this._currentQuery)this._matchesElement.textContent="";else if(e===0||t>=0)this._matchesElement.textContent=Common.UIString("%d of %d",t+1,e);else if(e===1)this._matchesElement.textContent=Common.UIString("1 match");else this._matchesElement.textContent=Common.UIString("%d matches",e);this._updateSearchNavigationButtonState(e>0)}showSearchField(){if(this._searchIsVisible)this.cancelSearch();let e;if(!this._searchInputElement.hasFocus()){const t=UI.inspectorView.element.window().getSelection();if(t.rangeCount)e=t.toString().replace(/\r?\n.*/,"")}this._toggleSearchBar(true);this._updateReplaceVisibility();if(e)this._searchInputElement.value=e;this._performSearch(false,false);this._searchInputElement.focus();this._searchInputElement.select();this._searchIsVisible=true}_updateReplaceVisibility(){this._replaceToggleButton.setVisible(this._replaceable);if(!this._replaceable){this._replaceToggleButton.setToggled(false);this._updateSecondRowVisibility()}}_onSearchKeyDown(e){if(isEscKey(e)){this.closeSearch();e.consume(true);return}if(!isEnterKey(e))return;if(!this._currentQuery)this._performSearch(true,true,e.shiftKey);else this._jumpToNextSearchResult(e.shiftKey)}_onReplaceKeyDown(e){if(isEnterKey(e))this._replace()}_jumpToNextSearchResult(e){if(!this._currentQuery)return;if(e)this._searchProvider.jumpToPreviousSearchResult();else this._searchProvider.jumpToNextSearchResult()}_onNextButtonSearch(e){if(!this._searchNavigationNextElement.classList.contains("enabled"))return;this._jumpToNextSearchResult();this._searchInputElement.focus()}_onPrevButtonSearch(e){if(!this._searchNavigationPrevElement.classList.contains("enabled"))return;this._jumpToNextSearchResult(true);this._searchInputElement.focus()}_onFindClick(e){if(!this._currentQuery)this._performSearch(true,true);else this._jumpToNextSearchResult();this._searchInputElement.focus()}_onPreviousClick(e){if(!this._currentQuery)this._performSearch(true,true,true);else this._jumpToNextSearchResult(true);this._searchInputElement.focus()}_clearSearch(){delete this._currentQuery;if(!!this._searchProvider.currentQuery){delete this._searchProvider.currentQuery;this._searchProvider.searchCanceled()}this._updateSearchMatchesCountAndCurrentMatchIndex(0,-1)}_performSearch(e,t,n){const s=this._searchInputElement.value;if(!s||!e&&s.length<this._minimalSearchQuerySize&&!this._currentQuery){this._clearSearch();return}this._currentQuery=s;this._searchProvider.currentQuery=s;const i=this._currentSearchConfig();this._searchProvider.performSearch(i,t,n)}_currentSearchConfig(){const e=this._searchInputElement.value;const t=this._caseSensitiveButton?this._caseSensitiveButton.toggled():false;const n=this._regexButton?this._regexButton.toggled():false;return new UI.SearchableView.SearchConfig(e,t,n)}_updateSecondRowVisibility(){const e=this._replaceToggleButton.toggled();this._footerElementContainer.classList.toggle("replaceable",e);this._secondRowButtons.classList.toggle("hidden",!e);this._replaceInputElement.classList.toggle("hidden",!e);if(e)this._replaceInputElement.focus();else this._searchInputElement.focus();this.doResize()}_replace(){const e=this._currentSearchConfig();this._searchProvider.replaceSelectionWith(e,this._replaceInputElement.value);delete this._currentQuery;this._performSearch(true,true)}_replaceAll(){const e=this._currentSearchConfig();this._searchProvider.replaceAllWith(e,this._replaceInputElement.value)}_onInput(e){if(this._valueChangedTimeoutId)clearTimeout(this._valueChangedTimeoutId);const t=this._searchInputElement.value.length<3?200:0;this._valueChangedTimeoutId=setTimeout(this._onValueChanged.bind(this),t)}_onValueChanged(){if(!this._searchIsVisible)return;delete this._valueChangedTimeoutId;this._performSearch(false,true)}};UI.SearchableView._symbol=Symbol("searchableView");UI.Searchable=function(){};UI.Searchable.prototype={searchCanceled(){},performSearch(e,t,n){},jumpToNextSearchResult(){},jumpToPreviousSearchResult(){},supportsCaseSensitiveSearch(){},supportsRegexSearch(){}};UI.Replaceable=function(){};UI.Replaceable.prototype={replaceSelectionWith(e,t){},replaceAllWith(e,t){}};UI.SearchableView.SearchConfig=class{constructor(e,t,n){this.query=e;this.caseSensitive=t;this.isRegex=n}toSearchRegex(e){let t=this.caseSensitive?"":"i";if(e)t+="g";const n=this.isRegex?"/"+this.query+"/":this.query;let s;try{if(/^\/.+\/$/.test(n)){s=new RegExp(n.substring(1,n.length-1),t);s.__fromRegExpQuery=true}}catch(e){}if(!s)s=createPlainTextSearchRegex(n,t);return s}};UI.SegmentedButton=class extends UI.HBox{constructor(){super(true);this._buttons=new Map;this._selected=null;this.registerRequiredCSS("ui/segmentedButton.css");this.contentElement.classList.add("segmented-button")}addSegment(e,t,n){const s=this.contentElement.createChild("button","segmented-button-segment");s.textContent=e;s.title=n;this._buttons.set(t,s);s.addEventListener("click",()=>this.select(t))}select(e){if(this._selected===e)return;this._selected=e;for(const e of this._buttons.keys())this._buttons.get(e).classList.toggle("segmented-button-segment-selected",e===this._selected)}selected(){return this._selected}};UI.SettingsUI={};UI.SettingsUI.createSettingCheckbox=function(e,t,n,s){const i=UI.CheckboxLabel.create(e);if(s)i.title=s;const o=i.checkboxElement;o.name=e;UI.SettingsUI.bindCheckbox(o,t);if(n)return i;const r=createElement("p");r.appendChild(i);return r};UI.SettingsUI.createSettingSelect=function(e,t,n){const s=createElement("p");const i=s.createChild("label");i.textContent=e;const o=s.createChild("select","chrome-select");UI.ARIAUtils.bindLabelToControl(i,o);for(let e=0;e<t.length;++e){const n=t[e];const s=n.raw?n.text:Common.UIString(n.text);o.add(new Option(s,n.value))}n.addChangeListener(r);r();o.addEventListener("change",a,false);return s;function r(){const e=n.get();for(let n=0;n<t.length;n++){if(t[n].value===e)o.selectedIndex=n}}function a(){n.set(t[o.selectedIndex].value)}};UI.SettingsUI.bindCheckbox=function(e,t){function n(){if(e.checked!==t.get())e.checked=t.get()}t.addChangeListener(n);n();function s(){if(t.get()!==e.checked)t.set(e.checked)}e.addEventListener("change",s,false)};UI.SettingsUI.createCustomSetting=function(e,t){const n=createElement("p");const s=n.createChild("fieldset");const i=s.createChild("label");i.textContent=e;UI.ARIAUtils.bindLabelToControl(i,t);s.appendChild(t);return n};UI.SettingsUI.createControlForSetting=function(e){if(!e.extension())return null;const t=e.extension().descriptor();const n=Common.UIString(e.title()||"");switch(t["settingType"]){case"boolean":return UI.SettingsUI.createSettingCheckbox(n,e);case"enum":if(Array.isArray(t["options"]))return UI.SettingsUI.createSettingSelect(n,t["options"],e);console.error("Enum setting defined without options");return null;default:console.error("Invalid setting type: "+t["settingType"]);return null}};UI.SettingUI=function(){};UI.SettingUI.prototype={settingElement(){}};UI.SoftContextMenu=class{constructor(e,t,n){this._items=e;this._itemSelectedCallback=t;this._parentMenu=n;this._highlightedMenuItemElement=null}show(e,t){if(!this._items.length)return;this._document=e;this._glassPane=new UI.GlassPane;this._glassPane.setPointerEventsBehavior(this._parentMenu?UI.GlassPane.PointerEventsBehavior.PierceGlassPane:UI.GlassPane.PointerEventsBehavior.BlockedByGlassPane);this._glassPane.registerRequiredCSS("ui/softContextMenu.css");this._glassPane.setContentAnchorBox(t);this._glassPane.setSizeBehavior(UI.GlassPane.SizeBehavior.MeasureContent);this._glassPane.setMarginBehavior(UI.GlassPane.MarginBehavior.NoMargin);this._glassPane.setAnchorBehavior(this._parentMenu?UI.GlassPane.AnchorBehavior.PreferRight:UI.GlassPane.AnchorBehavior.PreferBottom);this._contextMenuElement=this._glassPane.contentElement.createChild("div","soft-context-menu");this._contextMenuElement.tabIndex=-1;UI.ARIAUtils.markAsMenu(this._contextMenuElement);this._contextMenuElement.addEventListener("mouseup",e=>e.consume(),false);this._contextMenuElement.addEventListener("keydown",this._menuKeyDown.bind(this),false);for(let e=0;e<this._items.length;++e)this._contextMenuElement.appendChild(this._createMenuItem(this._items[e]));this._glassPane.show(e);this._focusRestorer=new UI.ElementFocusRestorer(this._contextMenuElement);if(!this._parentMenu){this._hideOnUserGesture=(e=>{this.discard();e.consume(true)});this._document.body.addEventListener("mousedown",this._hideOnUserGesture,false);this._document.defaultView.addEventListener("resize",this._hideOnUserGesture,false)}}discard(){if(this._subMenu)this._subMenu.discard();if(this._focusRestorer)this._focusRestorer.restore();if(this._glassPane){this._glassPane.hide();delete this._glassPane;if(this._hideOnUserGesture){this._document.body.removeEventListener("mousedown",this._hideOnUserGesture,false);this._document.defaultView.removeEventListener("resize",this._hideOnUserGesture,false);delete this._hideOnUserGesture}}if(this._parentMenu)delete this._parentMenu._subMenu}_createMenuItem(e){if(e.type==="separator")return this._createSeparator();if(e.type==="subMenu")return this._createSubMenu(e);const t=createElementWithClass("div","soft-context-menu-item");t.tabIndex=-1;UI.ARIAUtils.markAsMenuItem(t);const n=UI.Icon.create("smallicon-checkmark","checkmark");t.appendChild(n);if(!e.checked)n.style.opacity="0";if(e.element){const n=t.createChild("div","soft-context-menu-custom-item");n.appendChild(e.element);t._customElement=e.element;return t}if(!e.enabled)t.classList.add("soft-context-menu-disabled");t.createTextChild(e.label);t.createChild("span","soft-context-menu-shortcut").textContent=e.shortcut;t.addEventListener("mousedown",this._menuItemMouseDown.bind(this),false);t.addEventListener("mouseup",this._menuItemMouseUp.bind(this),false);t.addEventListener("mouseover",this._menuItemMouseOver.bind(this),false);t.addEventListener("mouseleave",this._menuItemMouseLeave.bind(this),false);t._actionId=e.id;let s=e.label;if(e.checked&&e.shortcut)s=ls`${e.label}, checked, ${e.shortcut}`;else if(e.shortcut)s=ls`${e.label}, ${e.shortcut}`;else if(e.checked)s=ls`${e.label}, checked`;UI.ARIAUtils.setAccessibleName(t,s);return t}_createSubMenu(e){const t=createElementWithClass("div","soft-context-menu-item");t._subItems=e.subItems;t.tabIndex=-1;UI.ARIAUtils.markAsMenuItem(t);const n=UI.Icon.create("smallicon-checkmark","soft-context-menu-item-checkmark");n.classList.add("checkmark");t.appendChild(n);n.style.opacity="0";t.createTextChild(e.label);if(Host.isMac()&&!UI.themeSupport.hasTheme()){const e=t.createChild("span","soft-context-menu-item-submenu-arrow");e.textContent="▶"}else{const e=UI.Icon.create("smallicon-triangle-right","soft-context-menu-item-submenu-arrow");t.appendChild(e)}t.addEventListener("mousedown",this._menuItemMouseDown.bind(this),false);t.addEventListener("mouseup",this._menuItemMouseUp.bind(this),false);t.addEventListener("mouseover",this._menuItemMouseOver.bind(this),false);t.addEventListener("mouseleave",this._menuItemMouseLeave.bind(this),false);return t}_createSeparator(){const e=createElementWithClass("div","soft-context-menu-separator");e._isSeparator=true;e.createChild("div","separator-line");return e}_menuItemMouseDown(e){e.consume(true)}_menuItemMouseUp(e){this._triggerAction(e.target,e);e.consume()}_root(){let e=this;while(e._parentMenu)e=e._parentMenu;return e}_triggerAction(e,t){if(!e._subItems){this._root().discard();t.consume(true);if(typeof e._actionId!=="undefined"){this._itemSelectedCallback(e._actionId);delete e._actionId}return}this._showSubMenu(e);t.consume()}_showSubMenu(e){if(e._subMenuTimer){clearTimeout(e._subMenuTimer);delete e._subMenuTimer}if(this._subMenu)return;this._subMenu=new UI.SoftContextMenu(e._subItems,this._itemSelectedCallback,this);const t=e.boxInWindow();t.y-=5;t.x+=3;t.width-=6;t.height+=10;this._subMenu.show(this._document,t)}_menuItemMouseOver(e){this._highlightMenuItem(e.target,true)}_menuItemMouseLeave(e){if(!this._subMenu||!e.relatedTarget){this._highlightMenuItem(null,true);return}const t=e.relatedTarget;if(t===this._contextMenuElement)this._highlightMenuItem(null,true)}_highlightMenuItem(e,t){if(this._highlightedMenuItemElement===e)return;if(this._subMenu)this._subMenu.discard();if(this._highlightedMenuItemElement){this._highlightedMenuItemElement.classList.remove("force-white-icons");this._highlightedMenuItemElement.classList.remove("soft-context-menu-item-mouse-over");if(this._highlightedMenuItemElement._subItems&&this._highlightedMenuItemElement._subMenuTimer){clearTimeout(this._highlightedMenuItemElement._subMenuTimer);delete this._highlightedMenuItemElement._subMenuTimer}}this._highlightedMenuItemElement=e;if(this._highlightedMenuItemElement){if(UI.themeSupport.hasTheme()||Host.isMac())this._highlightedMenuItemElement.classList.add("force-white-icons");this._highlightedMenuItemElement.classList.add("soft-context-menu-item-mouse-over");if(this._highlightedMenuItemElement._customElement)this._highlightedMenuItemElement._customElement.focus();else this._highlightedMenuItemElement.focus();if(t&&this._highlightedMenuItemElement._subItems&&!this._highlightedMenuItemElement._subMenuTimer){this._highlightedMenuItemElement._subMenuTimer=setTimeout(this._showSubMenu.bind(this,this._highlightedMenuItemElement),150)}}}_highlightPrevious(){let e=this._highlightedMenuItemElement?this._highlightedMenuItemElement.previousSibling:this._contextMenuElement.lastChild;while(e&&(e._isSeparator||e.classList.contains("soft-context-menu-disabled")))e=e.previousSibling;if(e)this._highlightMenuItem(e,false)}_highlightNext(){let e=this._highlightedMenuItemElement?this._highlightedMenuItemElement.nextSibling:this._contextMenuElement.firstChild;while(e&&(e._isSeparator||e.classList.contains("soft-context-menu-disabled")))e=e.nextSibling;if(e)this._highlightMenuItem(e,false)}_menuKeyDown(e){switch(e.key){case"ArrowUp":this._highlightPrevious();break;case"ArrowDown":this._highlightNext();break;case"ArrowLeft":if(this._parentMenu){this._highlightMenuItem(null,false);this.discard()}break;case"ArrowRight":if(!this._highlightedMenuItemElement)break;if(this._highlightedMenuItemElement._subItems){this._showSubMenu(this._highlightedMenuItemElement);this._subMenu._highlightNext()}break;case"Escape":this.discard();break;case"Enter":if(!isEnterKey(e))return;case" ":if(!this._highlightedMenuItemElement||this._highlightedMenuItemElement._customElement)return;this._triggerAction(this._highlightedMenuItemElement,e);if(this._highlightedMenuItemElement._subItems)this._subMenu._highlightNext();break}e.consume(true)}};UI.SoftDropDown=class{constructor(e,t){this._delegate=t;this._selectedItem=null;this._model=e;this._placeholderText=ls`(no item selected)`;this.element=createElementWithClass("button","soft-dropdown");UI.appendStyle(this.element,"ui/softDropDownButton.css");this._titleElement=this.element.createChild("span","title");const n=UI.Icon.create("smallicon-triangle-down");this.element.appendChild(n);this._glassPane=new UI.GlassPane;this._glassPane.setMarginBehavior(UI.GlassPane.MarginBehavior.NoMargin);this._glassPane.setAnchorBehavior(UI.GlassPane.AnchorBehavior.PreferBottom);this._glassPane.setOutsideClickCallback(this._hide.bind(this));this._glassPane.setPointerEventsBehavior(UI.GlassPane.PointerEventsBehavior.BlockedByGlassPane);this._list=new UI.ListControl(e,this,UI.ListMode.EqualHeightItems);this._list.element.classList.add("item-list");this._rowHeight=36;this._width=315;UI.createShadowRootWithCoreStyles(this._glassPane.contentElement,"ui/softDropDown.css").appendChild(this._list.element);this._listWasShowing200msAgo=false;this.element.addEventListener("mousedown",e=>{if(this._listWasShowing200msAgo)this._hide(e);else if(!this.element.disabled)this._show(e)},false);this.element.addEventListener("keydown",this._onKeyDown.bind(this),false);this.element.addEventListener("focusout",this._hide.bind(this),false);this._list.element.addEventListener("mousedown",e=>e.consume(true),false);this._list.element.addEventListener("mouseup",e=>{if(e.target===this._list.element)return;if(!this._listWasShowing200msAgo)return;this._selectHighlightedItem();this._hide(e)},false);e.addEventListener(UI.ListModel.Events.ItemsReplaced,this._itemsReplaced,this)}_show(e){if(this._glassPane.isShowing())return;this._glassPane.setContentAnchorBox(this.element.boxInWindow());this._glassPane.show(this.element.ownerDocument);this._updateGlasspaneSize();if(this._selectedItem)this._list.selectItem(this._selectedItem);this.element.focus();e.consume(true);setTimeout(()=>this._listWasShowing200msAgo=true,200)}_updateGlasspaneSize(){const e=this._rowHeight*Math.min(this._model.length,9);this._glassPane.setMaxContentSize(new UI.Size(this._width,e));this._list.viewportResized()}_hide(e){setTimeout(()=>this._listWasShowing200msAgo=false,200);this._glassPane.hide();this._list.selectItem(null);e.consume(true)}_onKeyDown(e){let t=false;switch(e.key){case"ArrowLeft":case"ArrowUp":t=this._list.selectPreviousItem(false,false);break;case"ArrowRight":case"ArrowDown":t=this._list.selectNextItem(false,false);break;case"PageUp":t=this._list.selectItemPreviousPage(false);break;case"PageDown":t=this._list.selectItemNextPage(false);break;case"Home":for(let e=0;e<this._model.length;e++){if(this.isItemSelectable(this._model.at(e))){this._list.selectItem(this._model.at(e));t=true;break}}break;case"End":for(let e=this._model.length-1;e>=0;e--){if(this.isItemSelectable(this._model.at(e))){this._list.selectItem(this._model.at(e));t=true;break}}break;case"Escape":this._hide(e);break;case"Tab":if(!this._glassPane.isShowing())break;this._selectHighlightedItem();this._hide(e);break;case"Enter":if(!this._glassPane.isShowing()){this._show(e);break}this._selectHighlightedItem();this._hide(e);break;case" ":this._show(e);break;default:if(e.key.length===1){const n=this._list.selectedIndex();const s=e.key.toUpperCase();for(let e=0;e<this._model.length;e++){const t=this._model.at((n+e+1)%this._model.length);if(this._delegate.titleFor(t).toUpperCase().startsWith(s)){this._list.selectItem(t);break}}t=true}break}if(t){e.consume(true);this._selectHighlightedItem()}}setWidth(e){this._width=e;this._updateGlasspaneSize()}setRowHeight(e){this._rowHeight=e}setPlaceholderText(e){this._placeholderText=e;if(!this._selectedItem)this._titleElement.textContent=this._placeholderText}_itemsReplaced(e){const t=e.data.removed;if(t.indexOf(this._selectedItem)!==-1){this._selectedItem=null;this._selectHighlightedItem()}this._updateGlasspaneSize()}selectItem(e){this._selectedItem=e;if(this._selectedItem)this._titleElement.textContent=this._delegate.titleFor(this._selectedItem);else this._titleElement.textContent=this._placeholderText;this._delegate.itemSelected(this._selectedItem)}createElementForItem(e){const t=createElementWithClass("div","item");t.addEventListener("mousemove",t=>{if((t.movementX||t.movementY)&&this._delegate.isItemSelectable(e))this._list.selectItem(e,false,true)});t.classList.toggle("disabled",!this._delegate.isItemSelectable(e));t.classList.toggle("highlighted",this._list.selectedItem()===e);t.appendChild(this._delegate.createElementForItem(e));return t}heightForItem(e){return this._rowHeight}isItemSelectable(e){return this._delegate.isItemSelectable(e)}selectedItemChanged(e,t,n,s){if(n)n.classList.remove("highlighted");if(s)s.classList.add("highlighted");this._delegate.highlightedItemChanged(e,t,n&&n.firstElementChild,s&&s.firstElementChild)}_selectHighlightedItem(){this.selectItem(this._list.selectedItem())}refreshItem(e){this._list.refreshItem(e)}};UI.SoftDropDown.Delegate=class{titleFor(e){}createElementForItem(e){}isItemSelectable(e){}itemSelected(e){}highlightedItemChanged(e,t,n,s){}};UI.SplitWidget=class extends UI.Widget{constructor(e,t,n,s,i,o){super(true);this.element.classList.add("split-widget");this.registerRequiredCSS("ui/splitWidget.css");this.contentElement.classList.add("shadow-split-widget");this._sidebarElement=this.contentElement.createChild("div","shadow-split-widget-contents shadow-split-widget-sidebar vbox");this._mainElement=this.contentElement.createChild("div","shadow-split-widget-contents shadow-split-widget-main vbox");this._mainElement.createChild("slot").name="insertion-point-main";this._sidebarElement.createChild("slot").name="insertion-point-sidebar";this._resizerElement=this.contentElement.createChild("div","shadow-split-widget-resizer");this._resizerElementSize=null;this._resizerWidget=new UI.SimpleResizerWidget;this._resizerWidget.setEnabled(true);this._resizerWidget.addEventListener(UI.ResizerWidget.Events.ResizeStart,this._onResizeStart,this);this._resizerWidget.addEventListener(UI.ResizerWidget.Events.ResizeUpdate,this._onResizeUpdate,this);this._resizerWidget.addEventListener(UI.ResizerWidget.Events.ResizeEnd,this._onResizeEnd,this);this._defaultSidebarWidth=s||200;this._defaultSidebarHeight=i||this._defaultSidebarWidth;this._constraintsInDip=!!o;this._resizeStartSizeDIP=0;this._setting=n?Common.settings.createSetting(n,{}):null;this._totalSizeCSS=0;this._totalSizeOtherDimensionCSS=0;this._mainWidget=null;this._sidebarWidget=null;this._animationFrameHandle=0;this._animationCallback=null;this._showHideSidebarButtonTitle="";this._showHideSidebarButton=null;this._isVertical=false;this._sidebarMinimized=false;this._detaching=false;this._sidebarSizeDIP=-1;this._savedSidebarSizeDIP=this._sidebarSizeDIP;this._secondIsSidebar=false;this._shouldSaveShowMode=false;this._savedVerticalMainSize=null;this._savedHorizontalMainSize=null;this.setSecondIsSidebar(t);this._innerSetVertical(e);this._showMode=UI.SplitWidget.ShowMode.Both;this._savedShowMode=this._showMode;this.installResizer(this._resizerElement)}isVertical(){return this._isVertical}setVertical(e){if(this._isVertical===e)return;this._innerSetVertical(e);if(this.isShowing())this._updateLayout()}_innerSetVertical(e){this.contentElement.classList.toggle("vbox",!e);this.contentElement.classList.toggle("hbox",e);this._isVertical=e;this._resizerElementSize=null;this._sidebarSizeDIP=-1;this._restoreSidebarSizeFromSettings();if(this._shouldSaveShowMode)this._restoreAndApplyShowModeFromSettings();this._updateShowHideSidebarButton();this._resizerWidget.setVertical(!e);this.invalidateConstraints()}_updateLayout(e){this._totalSizeCSS=0;this._totalSizeOtherDimensionCSS=0;this._mainElement.style.removeProperty("width");this._mainElement.style.removeProperty("height");this._sidebarElement.style.removeProperty("width");this._sidebarElement.style.removeProperty("height");this._innerSetSidebarSizeDIP(this._preferredSidebarSizeDIP(),!!e)}setMainWidget(e){if(this._mainWidget===e)return;this.suspendInvalidations();if(this._mainWidget)this._mainWidget.detach();this._mainWidget=e;if(e){e.element.slot="insertion-point-main";if(this._showMode===UI.SplitWidget.ShowMode.OnlyMain||this._showMode===UI.SplitWidget.ShowMode.Both)e.show(this.element)}this.resumeInvalidations()}setSidebarWidget(e){if(this._sidebarWidget===e)return;this.suspendInvalidations();if(this._sidebarWidget)this._sidebarWidget.detach();this._sidebarWidget=e;if(e){e.element.slot="insertion-point-sidebar";if(this._showMode===UI.SplitWidget.ShowMode.OnlySidebar||this._showMode===UI.SplitWidget.ShowMode.Both)e.show(this.element)}this.resumeInvalidations()}mainWidget(){return this._mainWidget}sidebarWidget(){return this._sidebarWidget}childWasDetached(e){if(this._detaching)return;if(this._mainWidget===e)this._mainWidget=null;if(this._sidebarWidget===e)this._sidebarWidget=null;this.invalidateConstraints()}isSidebarSecond(){return this._secondIsSidebar}enableShowModeSaving(){this._shouldSaveShowMode=true;this._restoreAndApplyShowModeFromSettings()}showMode(){return this._showMode}setSecondIsSidebar(e){if(e===this._secondIsSidebar)return;this._secondIsSidebar=e;if(!this._mainWidget||!this._mainWidget.shouldHideOnDetach()){if(e)this.contentElement.insertBefore(this._mainElement,this._sidebarElement);else this.contentElement.insertBefore(this._mainElement,this._resizerElement)}else if(!this._sidebarWidget||!this._sidebarWidget.shouldHideOnDetach()){if(e)this.contentElement.insertBefore(this._sidebarElement,this._resizerElement);else this.contentElement.insertBefore(this._sidebarElement,this._mainElement)}else{console.error("Could not swap split widget side. Both children widgets contain iframes.");this._secondIsSidebar=!e}}sidebarSide(){if(this._showMode!==UI.SplitWidget.ShowMode.Both)return null;return this._isVertical?this._secondIsSidebar?"right":"left":this._secondIsSidebar?"bottom":"top"}resizerElement(){return this._resizerElement}hideMain(e){this._showOnly(this._sidebarWidget,this._mainWidget,this._sidebarElement,this._mainElement,e);this._updateShowMode(UI.SplitWidget.ShowMode.OnlySidebar)}hideSidebar(e){this._showOnly(this._mainWidget,this._sidebarWidget,this._mainElement,this._sidebarElement,e);this._updateShowMode(UI.SplitWidget.ShowMode.OnlyMain)}setSidebarMinimized(e){this._sidebarMinimized=e;this.invalidateConstraints()}isSidebarMinimized(){return this._sidebarMinimized}_showOnly(e,t,n,s,i){this._cancelAnimation();function o(){if(e){if(e===this._mainWidget)this._mainWidget.show(this.element,this._sidebarWidget?this._sidebarWidget.element:null);else this._sidebarWidget.show(this.element)}if(t){this._detaching=true;t.detach();this._detaching=false}this._resizerElement.classList.add("hidden");n.classList.remove("hidden");n.classList.add("maximized");s.classList.add("hidden");s.classList.remove("maximized");this._removeAllLayoutProperties();this.doResize();this._showFinishedForTest()}if(i)this._animate(true,o.bind(this));else o.call(this);this._sidebarSizeDIP=-1;this.setResizable(false)}_showFinishedForTest(){}_removeAllLayoutProperties(){this._sidebarElement.style.removeProperty("flexBasis");this._mainElement.style.removeProperty("width");this._mainElement.style.removeProperty("height");this._sidebarElement.style.removeProperty("width");this._sidebarElement.style.removeProperty("height");this._resizerElement.style.removeProperty("left");this._resizerElement.style.removeProperty("right");this._resizerElement.style.removeProperty("top");this._resizerElement.style.removeProperty("bottom");this._resizerElement.style.removeProperty("margin-left");this._resizerElement.style.removeProperty("margin-right");this._resizerElement.style.removeProperty("margin-top");this._resizerElement.style.removeProperty("margin-bottom")}showBoth(e){if(this._showMode===UI.SplitWidget.ShowMode.Both)e=false;this._cancelAnimation();this._mainElement.classList.remove("maximized","hidden");this._sidebarElement.classList.remove("maximized","hidden");this._resizerElement.classList.remove("hidden");this.setResizable(true);this.suspendInvalidations();if(this._sidebarWidget)this._sidebarWidget.show(this.element);if(this._mainWidget)this._mainWidget.show(this.element,this._sidebarWidget?this._sidebarWidget.element:null);this.resumeInvalidations();this.setSecondIsSidebar(this._secondIsSidebar);this._sidebarSizeDIP=-1;this._updateShowMode(UI.SplitWidget.ShowMode.Both);this._updateLayout(e)}setResizable(e){this._resizerWidget.setEnabled(e)}isResizable(){return this._resizerWidget.isEnabled()}setSidebarSize(e){const t=UI.zoomManager.cssToDIP(e);this._savedSidebarSizeDIP=t;this._saveSetting();this._innerSetSidebarSizeDIP(t,false,true)}sidebarSize(){const e=Math.max(0,this._sidebarSizeDIP);return UI.zoomManager.dipToCSS(e)}_totalSizeDIP(){if(!this._totalSizeCSS){this._totalSizeCSS=this._isVertical?this.contentElement.offsetWidth:this.contentElement.offsetHeight;this._totalSizeOtherDimensionCSS=this._isVertical?this.contentElement.offsetHeight:this.contentElement.offsetWidth}return UI.zoomManager.cssToDIP(this._totalSizeCSS)}_updateShowMode(e){this._showMode=e;this._saveShowModeToSettings();this._updateShowHideSidebarButton();this.dispatchEventToListeners(UI.SplitWidget.Events.ShowModeChanged,e);this.invalidateConstraints()}_innerSetSidebarSizeDIP(e,t,n){if(this._showMode!==UI.SplitWidget.ShowMode.Both||!this.isShowing())return;e=this._applyConstraints(e,n);if(this._sidebarSizeDIP===e)return;if(!this._resizerElementSize){this._resizerElementSize=this._isVertical?this._resizerElement.offsetWidth:this._resizerElement.offsetHeight}this._removeAllLayoutProperties();const s=Math.round(UI.zoomManager.dipToCSS(e));const i=s+"px";const o=this._totalSizeCSS-s+"px";this._sidebarElement.style.flexBasis=i;if(this._isVertical){this._sidebarElement.style.width=i;this._mainElement.style.width=o;this._sidebarElement.style.height=this._totalSizeOtherDimensionCSS+"px";this._mainElement.style.height=this._totalSizeOtherDimensionCSS+"px"}else{this._sidebarElement.style.height=i;this._mainElement.style.height=o;this._sidebarElement.style.width=this._totalSizeOtherDimensionCSS+"px";this._mainElement.style.width=this._totalSizeOtherDimensionCSS+"px"}if(this._isVertical){if(this._secondIsSidebar){this._resizerElement.style.right=i;this._resizerElement.style.marginRight=-this._resizerElementSize/2+"px"}else{this._resizerElement.style.left=i;this._resizerElement.style.marginLeft=-this._resizerElementSize/2+"px"}}else{if(this._secondIsSidebar){this._resizerElement.style.bottom=i;this._resizerElement.style.marginBottom=-this._resizerElementSize/2+"px"}else{this._resizerElement.style.top=i;this._resizerElement.style.marginTop=-this._resizerElementSize/2+"px"}}this._sidebarSizeDIP=e;if(t){this._animate(false)}else{this.doResize();this.dispatchEventToListeners(UI.SplitWidget.Events.SidebarSizeChanged,this.sidebarSize())}}_animate(e,t){const n=50;this._animationCallback=t||null;let s;if(this._isVertical)s=this._secondIsSidebar?"margin-right":"margin-left";else s=this._secondIsSidebar?"margin-bottom":"margin-top";const i=e?"0":"-"+UI.zoomManager.dipToCSS(this._sidebarSizeDIP)+"px";const o=e?"-"+UI.zoomManager.dipToCSS(this._sidebarSizeDIP)+"px":"0";this.contentElement.style.setProperty(s,i);if(!e){suppressUnused(this._mainElement.offsetWidth);suppressUnused(this._sidebarElement.offsetWidth)}if(!e)this._sidebarWidget.doResize();this.contentElement.style.setProperty("transition",s+" "+n+"ms linear");const r=l.bind(this);let a;function l(){this._animationFrameHandle=0;if(!a){this.contentElement.style.setProperty(s,o);a=window.performance.now()}else if(window.performance.now()<a+n){if(this._mainWidget)this._mainWidget.doResize()}else{this._cancelAnimation();if(this._mainWidget)this._mainWidget.doResize();this.dispatchEventToListeners(UI.SplitWidget.Events.SidebarSizeChanged,this.sidebarSize());return}this._animationFrameHandle=this.contentElement.window().requestAnimationFrame(r)}this._animationFrameHandle=this.contentElement.window().requestAnimationFrame(r)}_cancelAnimation(){this.contentElement.style.removeProperty("margin-top");this.contentElement.style.removeProperty("margin-right");this.contentElement.style.removeProperty("margin-bottom");this.contentElement.style.removeProperty("margin-left");this.contentElement.style.removeProperty("transition");if(this._animationFrameHandle){this.contentElement.window().cancelAnimationFrame(this._animationFrameHandle);this._animationFrameHandle=0}if(this._animationCallback){this._animationCallback();this._animationCallback=null}}_applyConstraints(e,t){const n=this._totalSizeDIP();const s=this._constraintsInDip?1:UI.zoomManager.zoomFactor();let i=this._sidebarWidget?this._sidebarWidget.constraints():new UI.Constraints;let o=this.isVertical()?i.minimum.width:i.minimum.height;if(!o)o=UI.SplitWidget.MinPadding;o*=s;if(this._sidebarMinimized)e=o;let r=this.isVertical()?i.preferred.width:i.preferred.height;if(!r)r=UI.SplitWidget.MinPadding;r*=s;if(e<r)r=Math.max(e,o);r+=s;i=this._mainWidget?this._mainWidget.constraints():new UI.Constraints;let a=this.isVertical()?i.minimum.width:i.minimum.height;if(!a)a=UI.SplitWidget.MinPadding;a*=s;let l=this.isVertical()?i.preferred.width:i.preferred.height;if(!l)l=UI.SplitWidget.MinPadding;l*=s;const c=this.isVertical()?this._savedVerticalMainSize:this._savedHorizontalMainSize;if(c!==null)l=Math.min(l,c*s);if(t)l=a;const d=l+r;if(d<=n)return Number.constrain(e,r,n-l);if(a+o<=n){const t=d-n;const s=t*r/d;e=r-s;return Number.constrain(e,o,n-a)}return Math.max(0,n-a)}wasShown(){this._forceUpdateLayout();UI.zoomManager.addEventListener(UI.ZoomManager.Events.ZoomChanged,this._onZoomChanged,this)}willHide(){UI.zoomManager.removeEventListener(UI.ZoomManager.Events.ZoomChanged,this._onZoomChanged,this)}onResize(){this._updateLayout()}onLayout(){this._updateLayout()}calculateConstraints(){if(this._showMode===UI.SplitWidget.ShowMode.OnlyMain)return this._mainWidget?this._mainWidget.constraints():new UI.Constraints;if(this._showMode===UI.SplitWidget.ShowMode.OnlySidebar)return this._sidebarWidget?this._sidebarWidget.constraints():new UI.Constraints;let e=this._mainWidget?this._mainWidget.constraints():new UI.Constraints;let t=this._sidebarWidget?this._sidebarWidget.constraints():new UI.Constraints;const n=UI.SplitWidget.MinPadding;if(this._isVertical){e=e.widthToMax(n).addWidth(1);t=t.widthToMax(n);return e.addWidth(t).heightToMax(t)}else{e=e.heightToMax(n).addHeight(1);t=t.heightToMax(n);return e.widthToMax(t).addHeight(t)}}_onResizeStart(e){this._resizeStartSizeDIP=this._sidebarSizeDIP}_onResizeUpdate(e){const t=e.data.currentPosition-e.data.startPosition;const n=UI.zoomManager.cssToDIP(t);const s=this._secondIsSidebar?this._resizeStartSizeDIP-n:this._resizeStartSizeDIP+n;const i=this._applyConstraints(s,true);this._savedSidebarSizeDIP=i;this._saveSetting();this._innerSetSidebarSizeDIP(i,false,true);if(this.isVertical())this._savedVerticalMainSize=this._totalSizeDIP()-this._sidebarSizeDIP;else this._savedHorizontalMainSize=this._totalSizeDIP()-this._sidebarSizeDIP}_onResizeEnd(e){this._resizeStartSizeDIP=0}hideDefaultResizer(e){this.uninstallResizer(this._resizerElement);this._sidebarElement.classList.toggle("no-default-splitter",!!e)}installResizer(e){this._resizerWidget.addElement(e)}uninstallResizer(e){this._resizerWidget.removeElement(e)}hasCustomResizer(){const e=this._resizerWidget.elements();return e.length>1||e.length===1&&e[0]!==this._resizerElement}toggleResizer(e,t){if(t)this.installResizer(e);else this.uninstallResizer(e)}_settingForOrientation(){const e=this._setting?this._setting.get():{};return this._isVertical?e.vertical:e.horizontal}_preferredSidebarSizeDIP(){let e=this._savedSidebarSizeDIP;if(!e){e=this._isVertical?this._defaultSidebarWidth:this._defaultSidebarHeight;if(0<e&&e<1)e*=this._totalSizeDIP()}return e}_restoreSidebarSizeFromSettings(){const e=this._settingForOrientation();this._savedSidebarSizeDIP=e?e.size:0}_restoreAndApplyShowModeFromSettings(){const e=this._settingForOrientation();this._savedShowMode=e&&e.showMode?e.showMode:this._showMode;this._showMode=this._savedShowMode;switch(this._savedShowMode){case UI.SplitWidget.ShowMode.Both:this.showBoth();break;case UI.SplitWidget.ShowMode.OnlyMain:this.hideSidebar();break;case UI.SplitWidget.ShowMode.OnlySidebar:this.hideMain();break}}_saveShowModeToSettings(){this._savedShowMode=this._showMode;this._saveSetting()}_saveSetting(){if(!this._setting)return;const e=this._setting.get();const t=(this._isVertical?e.vertical:e.horizontal)||{};t.size=this._savedSidebarSizeDIP;if(this._shouldSaveShowMode)t.showMode=this._savedShowMode;if(this._isVertical)e.vertical=t;else e.horizontal=t;this._setting.set(e)}_forceUpdateLayout(){this._sidebarSizeDIP=-1;this._updateLayout()}_onZoomChanged(e){this._forceUpdateLayout()}createShowHideSidebarButton(e){this._showHideSidebarButtonTitle=Common.UIString(e);this._showHideSidebarButton=new UI.ToolbarButton("","");this._showHideSidebarButton.addEventListener(UI.ToolbarButton.Events.Click,t,this);this._updateShowHideSidebarButton();function t(e){if(this._showMode!==UI.SplitWidget.ShowMode.Both)this.showBoth(true);else this.hideSidebar(true)}return this._showHideSidebarButton}_updateShowHideSidebarButton(){if(!this._showHideSidebarButton)return;const e=this._showMode===UI.SplitWidget.ShowMode.OnlyMain;let t="";if(e){t=this.isVertical()?this.isSidebarSecond()?"largeicon-show-right-sidebar":"largeicon-show-left-sidebar":this.isSidebarSecond()?"largeicon-show-bottom-sidebar":"largeicon-show-top-sidebar"}else{t=this.isVertical()?this.isSidebarSecond()?"largeicon-hide-right-sidebar":"largeicon-hide-left-sidebar":this.isSidebarSecond()?"largeicon-hide-bottom-sidebar":"largeicon-hide-top-sidebar"}this._showHideSidebarButton.setGlyph(t);this._showHideSidebarButton.setTitle(e?Common.UIString("Show %s",this._showHideSidebarButtonTitle):Common.UIString("Hide %s",this._showHideSidebarButtonTitle))}};UI.SplitWidget.SettingForOrientation;UI.SplitWidget.ShowMode={Both:"Both",OnlyMain:"OnlyMain",OnlySidebar:"OnlySidebar"};UI.SplitWidget.Events={SidebarSizeChanged:Symbol("SidebarSizeChanged"),ShowModeChanged:Symbol("ShowModeChanged")};UI.SplitWidget.MinPadding=20;UI.TargetCrashedScreen=class extends UI.VBox{constructor(e){super(true);this.registerRequiredCSS("ui/targetCrashedScreen.css");this.contentElement.createChild("div","message").textContent=Common.UIString("DevTools was disconnected from the page.");this.contentElement.createChild("div","message").textContent=Common.UIString("Once page is reloaded, DevTools will automatically reconnect.");this._hideCallback=e}willHide(){this._hideCallback.call(null)}};UI.TextPrompt=class extends Common.Object{constructor(){super();this._proxyElement;this._proxyElementDisplay="inline-block";this._autocompletionTimeout=UI.TextPrompt.DefaultAutocompletionTimeout;this._title="";this._queryRange=null;this._previousText="";this._currentSuggestion=null;this._completionRequestId=0;this._ghostTextElement=createElementWithClass("span","auto-complete-text");this._ghostTextElement.setAttribute("contenteditable","false");UI.ARIAUtils.markAsHidden(this._ghostTextElement)}initialize(e,t){this._loadCompletions=e;this._completionStopCharacters=t||" =:[({;,!+-*/&|^<>."}setAutocompletionTimeout(e){this._autocompletionTimeout=e}renderAsBlock(){this._proxyElementDisplay="block"}attach(e){return this._attachInternal(e)}attachAndStartEditing(e,t){const n=this._attachInternal(e);this._startEditing(t);return n}_attachInternal(e){if(this._proxyElement)throw"Cannot attach an attached TextPrompt";this._element=e;this._boundOnKeyDown=this.onKeyDown.bind(this);this._boundOnInput=this.onInput.bind(this);this._boundOnMouseWheel=this.onMouseWheel.bind(this);this._boundClearAutocomplete=this.clearAutocomplete.bind(this);this._proxyElement=e.ownerDocument.createElement("span");UI.appendStyle(this._proxyElement,"ui/textPrompt.css");this._contentElement=this._proxyElement.createChild("div","text-prompt-root");this._proxyElement.style.display=this._proxyElementDisplay;e.parentElement.insertBefore(this._proxyElement,e);this._contentElement.appendChild(e);this._element.classList.add("text-prompt");UI.ARIAUtils.markAsTextBox(this._element);this._element.setAttribute("contenteditable","plaintext-only");this._element.addEventListener("keydown",this._boundOnKeyDown,false);this._element.addEventListener("input",this._boundOnInput,false);this._element.addEventListener("mousewheel",this._boundOnMouseWheel,false);this._element.addEventListener("selectstart",this._boundClearAutocomplete,false);this._element.addEventListener("blur",this._boundClearAutocomplete,false);this._suggestBox=new UI.SuggestBox(this,20);if(this._title)this._proxyElement.title=this._title;return this._proxyElement}detach(){this._removeFromElement();this._focusRestorer.restore();this._proxyElement.parentElement.insertBefore(this._element,this._proxyElement);this._proxyElement.remove();delete this._proxyElement;this._element.classList.remove("text-prompt");this._element.removeAttribute("contenteditable");this._element.removeAttribute("role")}textWithCurrentSuggestion(){const e=this.text();if(!this._queryRange||!this._currentSuggestion)return e;const t=this._currentSuggestion.text;return e.substring(0,this._queryRange.startColumn)+t+e.substring(this._queryRange.endColumn)}text(){let e=this._element.textContent;if(this._ghostTextElement.parentNode){const t=this._ghostTextElement.textContent;e=e.substring(0,e.length-t.length)}return e}setText(e){this.clearAutocomplete();this._element.textContent=e;this._previousText=this.text();if(this._element.hasFocus()){this.moveCaretToEndOfPrompt();this._element.scrollIntoView()}}focus(){this._element.focus()}title(){return this._title}setTitle(e){this._title=e;if(this._proxyElement)this._proxyElement.title=e}setPlaceholder(e){if(e){this._element.setAttribute("data-placeholder",e);UI.ARIAUtils.setPlaceholder(this._element,e)}else{this._element.removeAttribute("data-placeholder");UI.ARIAUtils.setPlaceholder(this._element,null)}}setEnabled(e){if(e)this._element.setAttribute("contenteditable","plaintext-only");else this._element.removeAttribute("contenteditable");this._element.classList.toggle("disabled",!e)}_removeFromElement(){this.clearAutocomplete();this._element.removeEventListener("keydown",this._boundOnKeyDown,false);this._element.removeEventListener("input",this._boundOnInput,false);this._element.removeEventListener("selectstart",this._boundClearAutocomplete,false);this._element.removeEventListener("blur",this._boundClearAutocomplete,false);if(this._isEditing)this._stopEditing();if(this._suggestBox)this._suggestBox.hide()}_startEditing(e){this._isEditing=true;this._contentElement.classList.add("text-prompt-editing");if(e){this._blurListener=e;this._element.addEventListener("blur",this._blurListener,false)}this._oldTabIndex=this._element.tabIndex;if(this._element.tabIndex<0)this._element.tabIndex=0;this._focusRestorer=new UI.ElementFocusRestorer(this._element);if(!this.text())this.autoCompleteSoon()}_stopEditing(){this._element.tabIndex=this._oldTabIndex;if(this._blurListener)this._element.removeEventListener("blur",this._blurListener,false);this._contentElement.classList.remove("text-prompt-editing");delete this._isEditing}onMouseWheel(e){}onKeyDown(e){let t=false;if(this.isSuggestBoxVisible()&&this._suggestBox.keyPressed(e)){e.consume(true);return}switch(e.key){case"Tab":t=this.tabKeyPressed(e);break;case"ArrowLeft":case"ArrowUp":case"PageUp":case"Home":this.clearAutocomplete();break;case"PageDown":case"ArrowRight":case"ArrowDown":case"End":if(this._isCaretAtEndOfPrompt())t=this.acceptAutoComplete();else this.clearAutocomplete();break;case"Escape":if(this.isSuggestBoxVisible()){this.clearAutocomplete();t=true}break;case" ":if(e.ctrlKey&&!e.metaKey&&!e.altKey&&!e.shiftKey){this.autoCompleteSoon(true);t=true}break}if(isEnterKey(e))e.preventDefault();if(t)e.consume(true)}_acceptSuggestionOnStopCharacters(e){if(!this._currentSuggestion||!this._queryRange||e.length!==1||!this._completionStopCharacters.includes(e))return false;const t=this.text().substring(this._queryRange.startColumn,this._queryRange.endColumn);if(t&&this._currentSuggestion.text.startsWith(t+e)){this._queryRange.endColumn+=1;return this.acceptAutoComplete()}return false}onInput(e){const t=this.text();if(e.data&&!this._acceptSuggestionOnStopCharacters(e.data)){const e=t.startsWith(this._previousText)||this._previousText.startsWith(t);if(this._queryRange&&e)this._queryRange.endColumn+=t.length-this._previousText.length}this._refreshGhostText();this._previousText=t;this.dispatchEventToListeners(UI.TextPrompt.Events.TextChanged);this.autoCompleteSoon()}acceptAutoComplete(){let e=false;if(this.isSuggestBoxVisible())e=this._suggestBox.acceptSuggestion();if(!e)e=this._acceptSuggestionInternal();return e}clearAutocomplete(){const e=this.textWithCurrentSuggestion();if(this.isSuggestBoxVisible())this._suggestBox.hide();this._clearAutocompleteTimeout();this._queryRange=null;this._refreshGhostText();if(e!==this.textWithCurrentSuggestion())this.dispatchEventToListeners(UI.TextPrompt.Events.TextChanged)}_refreshGhostText(){if(this._currentSuggestion&&this._currentSuggestion.hideGhostText){this._ghostTextElement.remove();return}if(this._queryRange&&this._currentSuggestion&&this._isCaretAtEndOfPrompt()&&this._currentSuggestion.text.startsWith(this.text().substring(this._queryRange.startColumn))){this._ghostTextElement.textContent=this._currentSuggestion.text.substring(this._queryRange.endColumn-this._queryRange.startColumn);this._element.appendChild(this._ghostTextElement)}else{this._ghostTextElement.remove()}}_clearAutocompleteTimeout(){if(this._completeTimeout){clearTimeout(this._completeTimeout);delete this._completeTimeout}this._completionRequestId++}autoCompleteSoon(e){const t=this.isSuggestBoxVisible()||e;if(!this._completeTimeout){this._completeTimeout=setTimeout(this.complete.bind(this,e),t?0:this._autocompletionTimeout)}}async complete(e){this._clearAutocompleteTimeout();const t=this._element.getComponentSelection();const n=t&&t.rangeCount?t.getRangeAt(0):null;if(!n)return;let s;if(!e&&!this._isCaretAtEndOfPrompt()&&!this.isSuggestBoxVisible())s=true;else if(!t.isCollapsed)s=true;if(s){this.clearAutocomplete();return}const i=n.startContainer.rangeOfWord(n.startOffset,this._completionStopCharacters,this._element,"backward");const o=i.cloneRange();o.collapse(true);o.setStartBefore(this._element);const r=++this._completionRequestId;const a=await this._loadCompletions(o.toString(),i.toString(),!!e);this._completionsReady(r,t,i,!!e,a)}disableDefaultSuggestionForEmptyInput(){this._disableDefaultSuggestionForEmptyInput=true}_boxForAnchorAtStart(e,t){const n=e.getRangeAt(0).cloneRange();const s=createElement("span");s.textContent="​";t.insertNode(s);const i=s.boxInWindow(window);s.remove();e.removeAllRanges();e.addRange(n);return i}_createRange(){return document.createRange()}additionalCompletions(e){return[]}_completionsReady(e,t,n,s,i){if(this._completionRequestId!==e)return;const o=n.toString();const r=new Set;i=i.filter(e=>!r.has(e.text)&&!!r.add(e.text));if(o||s){if(o)i=i.concat(this.additionalCompletions(o));else i=this.additionalCompletions(o).concat(i)}if(!i.length){this.clearAutocomplete();return}const a=t.getRangeAt(0);const l=this._createRange();l.setStart(n.startContainer,n.startOffset);l.setEnd(a.endContainer,a.endOffset);if(o+a.toString()!==l.toString())return;const c=this._createRange();c.setStart(this._element,0);c.setEnd(l.startContainer,l.startOffset);this._queryRange=new TextUtils.TextRange(0,c.toString().length,0,c.toString().length+l.toString().length);const d=!this._disableDefaultSuggestionForEmptyInput||!!this.text();if(this._suggestBox){this._suggestBox.updateSuggestions(this._boxForAnchorAtStart(t,l),i,d,!this._isCaretAtEndOfPrompt(),this.text())}}applySuggestion(e,t){this._currentSuggestion=e;this._refreshGhostText();if(t)this.dispatchEventToListeners(UI.TextPrompt.Events.TextChanged)}acceptSuggestion(){this._acceptSuggestionInternal()}_acceptSuggestionInternal(){if(!this._queryRange)return false;const e=this._currentSuggestion?this._currentSuggestion.text.length:0;const t=this._currentSuggestion?this._currentSuggestion.selectionRange:null;const n=t?t.endColumn:e;const s=t?t.startColumn:e;this._element.textContent=this.textWithCurrentSuggestion();this.setDOMSelection(this._queryRange.startColumn+s,this._queryRange.startColumn+n);this.clearAutocomplete();this.dispatchEventToListeners(UI.TextPrompt.Events.TextChanged);return true}setDOMSelection(e,t){this._element.normalize();const n=this._element.childNodes[0];if(!n||n===this._ghostTextElement)return;const s=this._createRange();s.setStart(n,e);s.setEnd(n,t);const i=this._element.getComponentSelection();i.removeAllRanges();i.addRange(s)}isSuggestBoxVisible(){return this._suggestBox&&this._suggestBox.visible()}isCaretInsidePrompt(){const e=this._element.getComponentSelection();const t=e&&e.rangeCount?e.getRangeAt(0):null;if(!t||!e.isCollapsed)return false;return t.startContainer.isSelfOrDescendant(this._element)}_isCaretAtEndOfPrompt(){const e=this._element.getComponentSelection();const t=e&&e.rangeCount?e.getRangeAt(0):null;if(!t||!e.isCollapsed)return false;let n=t.startContainer;if(!n.isSelfOrDescendant(this._element))return false;if(this._ghostTextElement.isAncestor(n))return true;if(n.nodeType===Node.TEXT_NODE&&t.startOffset<n.nodeValue.length)return false;let s=false;while(n){if(n.nodeType===Node.TEXT_NODE&&n.nodeValue.length){if(s&&!this._ghostTextElement.isAncestor(n))return false;s=true}n=n.traverseNextNode(this._element)}return true}moveCaretToEndOfPrompt(){const e=this._element.getComponentSelection();const t=this._createRange();let n=this._element;while(n.childNodes.length)n=n.lastChild;const s=n.nodeType===Node.TEXT_NODE?n.textContent.length:0;t.setStart(n,s);t.setEnd(n,s);e.removeAllRanges();e.addRange(t)}tabKeyPressed(e){return this.acceptAutoComplete()}proxyElementForTests(){return this._proxyElement||null}};UI.TextPrompt.DefaultAutocompletionTimeout=250;UI.TextPrompt.Events={TextChanged:Symbol("TextChanged")};UI.ThrottledWidget=class extends UI.VBox{constructor(e,t){super(e);this._updateThrottler=new Common.Throttler(t===undefined?100:t);this._updateWhenVisible=false}doUpdate(){return Promise.resolve()}update(){this._updateWhenVisible=!this.isShowing();if(this._updateWhenVisible)return;this._updateThrottler.schedule(e.bind(this));function e(){if(this.isShowing())return this.doUpdate();this._updateWhenVisible=true;return Promise.resolve()}}wasShown(){super.wasShown();if(this._updateWhenVisible)this.update()}};UI.Toolbar=class{constructor(e,t){this._items=[];this.element=t?t.createChild("div"):createElement("div");this.element.className=e;this.element.classList.add("toolbar");this._enabled=true;this._shadowRoot=UI.createShadowRootWithCoreStyles(this.element,"ui/toolbar.css");this._contentElement=this._shadowRoot.createChild("div","toolbar-shadow");this._insertionPoint=this._contentElement.createChild("slot")}static createActionButton(e,t,n,s){const i=new UI.ToolbarToggle(e.title(),e.icon(),e.toggledIcon());if(s)i.setText(e.title());i.setToggleWithRedColor(e.toggleWithRedColor());i.addEventListener(UI.ToolbarButton.Events.Click,e.execute,e);e.addEventListener(UI.Action.Events.Enabled,l);e.addEventListener(UI.Action.Events.Toggled,c);let o=null;let r=null;let a=null;c();i.setEnabled(e.enabled());return i;function l(e){i.setEnabled(e.data)}function c(){i.setToggled(e.toggled());if(e.title())UI.Tooltip.install(i.element,e.title(),e.id());d()}function d(){const s=e.toggled()?t||null:n||null;if(s&&s.length){if(!o){o=new UI.LongClickController(i.element,h);a=UI.Icon.create("largeicon-longclick-triangle","long-click-glyph");i.element.appendChild(a);r=s}}else{if(o){o.dispose();o=null;a.remove();a=null;r=null}}}function h(){let t=r.slice();const n=new UI.ToolbarToggle(e.title(),e.icon(),e.toggledIcon());n.addEventListener(UI.ToolbarButton.Events.Click,s);function s(e){i._clicked(e.data)}n.setToggled(e.toggled());t.push(n);const o=i.element.ownerDocument;o.documentElement.addEventListener("mouseup",g,false);const a=new UI.GlassPane;a.setPointerEventsBehavior(UI.GlassPane.PointerEventsBehavior.BlockedByGlassPane);a.show(o);const l=new UI.Toolbar("fill",a.contentElement);l._contentElement.classList.add("floating");const c=26;const d=i.element.boxInWindow().relativeToElement(UI.GlassPane.container(o));const h=d.y+c*t.length<o.documentElement.offsetHeight;if(h)t=t.reverse();l.element.style.height=c*t.length+"px";if(h)l.element.style.top=d.y-5+"px";else l.element.style.top=d.y-c*(t.length-1)-6+"px";l.element.style.left=d.x-5+"px";for(let e=0;e<t.length;++e){t[e].element.addEventListener("mousemove",m,false);t[e].element.addEventListener("mouseout",p,false);l.appendToolbarItem(t[e])}const u=h?0:t.length-1;t[u].element.classList.add("emulate-active");function m(e){if(e.which!==1)return;const t=e.target.enclosingNodeOrSelfWithClass("toolbar-item");t.classList.add("emulate-active")}function p(e){if(e.which!==1)return;const t=e.target.enclosingNodeOrSelfWithClass("toolbar-item");t.classList.remove("emulate-active")}function g(e){if(e.which!==1)return;a.hide();o.documentElement.removeEventListener("mouseup",g,false);for(let n=0;n<t.length;++n){if(t[n].element.classList.contains("emulate-active")){t[n].element.classList.remove("emulate-active");t[n]._clicked(e);break}}}}}static createActionButtonForId(e,t){const n=UI.actionRegistry.action(e);return UI.Toolbar.createActionButton(n,undefined,undefined,t)}gripElementForResize(){return this._contentElement}makeWrappable(e){this._contentElement.classList.add("wrappable");if(e)this._contentElement.classList.add("toolbar-grow-vertical")}makeVertical(){this._contentElement.classList.add("vertical")}makeBlueOnHover(){this._contentElement.classList.add("toolbar-blue-on-hover")}makeToggledGray(){this._contentElement.classList.add("toolbar-toggled-gray")}renderAsLinks(){this._contentElement.classList.add("toolbar-render-as-links")}empty(){return!this._items.length}setEnabled(e){this._enabled=e;for(const e of this._items)e._applyEnabledState(this._enabled&&e._enabled)}appendToolbarItem(e){this._items.push(e);e._toolbar=this;if(!this._enabled)e._applyEnabledState(false);this._contentElement.insertBefore(e.element,this._insertionPoint);this._hideSeparatorDupes()}appendSeparator(){this.appendToolbarItem(new UI.ToolbarSeparator)}appendSpacer(){this.appendToolbarItem(new UI.ToolbarSeparator(true))}appendText(e){this.appendToolbarItem(new UI.ToolbarText(e))}removeToolbarItems(){for(const e of this._items)delete e._toolbar;this._items=[];this._contentElement.removeChildren();this._insertionPoint=this._contentElement.createChild("slot")}setColor(e){const t=createElement("style");t.textContent=".toolbar-glyph { background-color: "+e+" !important }";this._shadowRoot.appendChild(t)}setToggledColor(e){const t=createElement("style");t.textContent=".toolbar-button.toolbar-state-on .toolbar-glyph { background-color: "+e+" !important }";this._shadowRoot.appendChild(t)}_hideSeparatorDupes(){if(!this._items.length)return;let e=false;let t;let n=false;for(let s=0;s<this._items.length;++s){if(this._items[s]instanceof UI.ToolbarSeparator){this._items[s].setVisible(!e);e=true;t=this._items[s];continue}if(this._items[s].visible()){e=false;t=null;n=true}}if(t&&t!==this._items.peekLast())t.setVisible(false);this.element.classList.toggle("hidden",!!t&&t.visible()&&!n)}async appendItemsAtLocation(e){const t=self.runtime.extensions(UI.ToolbarItem.Provider);const n=t.filter(t=>t.descriptor()["location"]===e);const s=await Promise.all(n.map(e=>{const t=e.descriptor();if(t["separator"])return new UI.ToolbarSeparator;if(t["actionId"])return UI.Toolbar.createActionButtonForId(t["actionId"],t["showLabel"]);return e.instance().then(e=>e.item())}));s.filter(e=>e).forEach(e=>this.appendToolbarItem(e))}};UI.ToolbarItem=class extends Common.Object{constructor(e){super();this.element=e;this.element.classList.add("toolbar-item");this._visible=true;this._enabled=true}setTitle(e){if(this._title===e)return;this._title=e;UI.ARIAUtils.setAccessibleName(this.element,e);UI.Tooltip.install(this.element,e)}setEnabled(e){if(this._enabled===e)return;this._enabled=e;this._applyEnabledState(this._enabled&&(!this._toolbar||this._toolbar._enabled))}_applyEnabledState(e){this.element.disabled=!e}visible(){return this._visible}setVisible(e){if(this._visible===e)return;this.element.classList.toggle("hidden",!e);this._visible=e;if(this._toolbar&&!(this instanceof UI.ToolbarSeparator))this._toolbar._hideSeparatorDupes()}setRightAligned(e){this.element.classList.toggle("toolbar-item-right-aligned",e)}};UI.ToolbarText=class extends UI.ToolbarItem{constructor(e){super(createElementWithClass("div","toolbar-text"));this.element.classList.add("toolbar-text");this.setText(e||"")}text(){return this.element.textContent}setText(e){this.element.textContent=e}};UI.ToolbarButton=class extends UI.ToolbarItem{constructor(e,t,n){super(createElementWithClass("button","toolbar-button"));this.element.addEventListener("click",this._clicked.bind(this),false);this.element.addEventListener("mousedown",this._mouseDown.bind(this),false);this._glyphElement=UI.Icon.create("","toolbar-glyph hidden");this.element.appendChild(this._glyphElement);this._textElement=this.element.createChild("div","toolbar-text hidden");this.setTitle(e);if(t)this.setGlyph(t);this.setText(n||"");this._title=""}setText(e){if(this._text===e)return;this._textElement.textContent=e;this._textElement.classList.toggle("hidden",!e);this._text=e}setGlyph(e){if(this._glyph===e)return;this._glyphElement.setIconType(e);this._glyphElement.classList.toggle("hidden",!e);this.element.classList.toggle("toolbar-has-glyph",!!e);this._glyph=e}setBackgroundImage(e){this.element.style.backgroundImage="url("+e+")"}setDarkText(){this.element.classList.add("dark-text")}turnIntoSelect(e){this.element.classList.add("toolbar-has-dropdown");const t=UI.Icon.create("smallicon-triangle-down","toolbar-dropdown-arrow");this.element.appendChild(t);if(e)this.element.style.width=e+"px"}_clicked(e){if(!this._enabled)return;this.dispatchEventToListeners(UI.ToolbarButton.Events.Click,e);e.consume()}_mouseDown(e){if(!this._enabled)return;this.dispatchEventToListeners(UI.ToolbarButton.Events.MouseDown,e)}};UI.ToolbarButton.Events={Click:Symbol("Click"),MouseDown:Symbol("MouseDown")};UI.ToolbarInput=class extends UI.ToolbarItem{constructor(e,t,n,s,i){super(createElementWithClass("div","toolbar-input"));const o=this.element.createChild("div","toolbar-input-prompt");o.addEventListener("focus",()=>this.element.classList.add("focused"));o.addEventListener("blur",()=>this.element.classList.remove("focused"));this._prompt=new UI.TextPrompt;this._proxyElement=this._prompt.attach(o);this._proxyElement.classList.add("toolbar-prompt-proxy");this._proxyElement.addEventListener("keydown",e=>this._onKeydownCallback(e));this._prompt.initialize(i||(()=>Promise.resolve([]))," ");if(s)this._prompt.setTitle(s);this._prompt.setPlaceholder(e);this._prompt.addEventListener(UI.TextPrompt.Events.TextChanged,this._onChangeCallback.bind(this));if(t)this.element.style.flexGrow=t;if(n)this.element.style.flexShrink=n;const r=this.element.createChild("div","toolbar-input-clear-button");r.appendChild(UI.Icon.create("mediumicon-gray-cross-hover","search-cancel-button"));r.addEventListener("click",()=>{this.setValue("",true);this._prompt.focus()});this._updateEmptyStyles()}_applyEnabledState(e){this._prompt.setEnabled(e)}setValue(e,t){this._prompt.setText(e);if(t)this._onChangeCallback();this._updateEmptyStyles()}value(){return this._prompt.textWithCurrentSuggestion()}_onKeydownCallback(e){if(!isEscKey(e)||!this._prompt.text())return;this.setValue("",true);e.consume(true)}_onChangeCallback(){this._updateEmptyStyles();this.dispatchEventToListeners(UI.ToolbarInput.Event.TextChanged,this._prompt.text())}_updateEmptyStyles(){this.element.classList.toggle("toolbar-input-empty",!this._prompt.text())}};UI.ToolbarInput.Event={TextChanged:Symbol("TextChanged")};UI.ToolbarToggle=class extends UI.ToolbarButton{constructor(e,t,n){super(e,t,"");this._toggled=false;this._untoggledGlyph=t;this._toggledGlyph=n;this.element.classList.add("toolbar-state-off");UI.ARIAUtils.setPressed(this.element,false)}toggled(){return this._toggled}setToggled(e){if(this._toggled===e)return;this._toggled=e;this.element.classList.toggle("toolbar-state-on",e);this.element.classList.toggle("toolbar-state-off",!e);UI.ARIAUtils.setPressed(this.element,e);if(this._toggledGlyph&&this._untoggledGlyph)this.setGlyph(e?this._toggledGlyph:this._untoggledGlyph)}setDefaultWithRedColor(e){this.element.classList.toggle("toolbar-default-with-red-color",e)}setToggleWithRedColor(e){this.element.classList.toggle("toolbar-toggle-with-red-color",e)}};UI.ToolbarMenuButton=class extends UI.ToolbarButton{constructor(e,t){super("","largeicon-menu");this._contextMenuHandler=e;this._useSoftMenu=!!t}_mouseDown(e){if(e.buttons!==1){super._mouseDown(e);return}if(!this._triggerTimeout)this._triggerTimeout=setTimeout(this._trigger.bind(this,e),200)}_trigger(e){delete this._triggerTimeout;if(this._lastTriggerTime&&Date.now()-this._lastTriggerTime<300)return;const t=new UI.ContextMenu(e,this._useSoftMenu,this.element.totalOffsetLeft(),this.element.totalOffsetTop()+this.element.offsetHeight);this._contextMenuHandler(t);t.show();this._lastTriggerTime=Date.now()}_clicked(e){if(this._triggerTimeout)clearTimeout(this._triggerTimeout);this._trigger(e)}};UI.ToolbarSettingToggle=class extends UI.ToolbarToggle{constructor(e,t,n,s){super(n,t);this._defaultTitle=n;this._toggledTitle=s||n;this._setting=e;this._settingChanged();this._setting.addChangeListener(this._settingChanged,this)}_settingChanged(){const e=this._setting.get();this.setToggled(e);this.setTitle(e?this._toggledTitle:this._defaultTitle)}_clicked(e){this._setting.set(!this.toggled());super._clicked(e)}};UI.ToolbarSeparator=class extends UI.ToolbarItem{constructor(e){super(createElementWithClass("div",e?"toolbar-spacer":"toolbar-divider"))}};UI.ToolbarItem.Provider=function(){};UI.ToolbarItem.Provider.prototype={item(){}};UI.ToolbarItem.ItemsProvider=function(){};UI.ToolbarItem.ItemsProvider.prototype={toolbarItems(){}};UI.ToolbarComboBox=class extends UI.ToolbarItem{constructor(e,t){super(createElementWithClass("span","toolbar-select-container"));this._selectElement=this.element.createChild("select","toolbar-item");const n=UI.Icon.create("smallicon-triangle-down","toolbar-dropdown-arrow");this.element.appendChild(n);if(e)this._selectElement.addEventListener("change",e,false);if(t)this._selectElement.classList.add(t)}setTitle(e){UI.ARIAUtils.setAccessibleName(this._selectElement,e);super.setTitle(e)}selectElement(){return this._selectElement}size(){return this._selectElement.childElementCount}options(){return Array.prototype.slice.call(this._selectElement.children,0)}addOption(e){this._selectElement.appendChild(e)}createOption(e,t,n){const s=this._selectElement.createChild("option");s.text=e;if(t)s.title=t;if(typeof n!=="undefined")s.value=n;return s}_applyEnabledState(e){super._applyEnabledState(e);this._selectElement.disabled=!e}removeOption(e){this._selectElement.removeChild(e)}removeOptions(){this._selectElement.removeChildren()}selectedOption(){if(this._selectElement.selectedIndex>=0)return this._selectElement[this._selectElement.selectedIndex];return null}select(e){this._selectElement.selectedIndex=Array.prototype.indexOf.call(this._selectElement,e)}setSelectedIndex(e){this._selectElement.selectedIndex=e}selectedIndex(){return this._selectElement.selectedIndex}setMaxWidth(e){this._selectElement.style.maxWidth=e+"px"}setMinWidth(e){this._selectElement.style.minWidth=e+"px"}};UI.ToolbarSettingComboBox=class extends UI.ToolbarComboBox{constructor(e,t,n){super(null);this._setting=t;this._options=e;this._selectElement.addEventListener("change",this._valueChanged.bind(this),false);if(n){const e=this._selectElement.createChild("optgroup");e.label=n;this._optionContainer=e}else{this._optionContainer=this._selectElement}this.setOptions(e);t.addChangeListener(this._settingChanged,this)}setOptions(e){this._options=e;this._optionContainer.removeChildren();for(let t=0;t<e.length;++t){const n=e[t];const s=this.createOption(n.label,n.title,n.value);this._optionContainer.appendChild(s);if(this._setting.get()===n.value)this.setSelectedIndex(t)}}value(){return this._options[this.selectedIndex()].value}_settingChanged(){if(this._muteSettingListener)return;const e=this._setting.get();for(let t=0;t<this._options.length;++t){if(e===this._options[t].value){this.setSelectedIndex(t);break}}}_valueChanged(e){const t=this._options[this.selectedIndex()];this._muteSettingListener=true;this._setting.set(t.value);this._muteSettingListener=false}};UI.ToolbarCheckbox=class extends UI.ToolbarItem{constructor(e,t,n){super(UI.CheckboxLabel.create(e));this.element.classList.add("checkbox");this.inputElement=this.element.checkboxElement;if(t)this.element.title=t;if(n)this.inputElement.addEventListener("click",n,false)}checked(){return this.inputElement.checked}setChecked(e){this.inputElement.checked=e}_applyEnabledState(e){super._applyEnabledState(e);this.inputElement.disabled=!e}};UI.ToolbarSettingCheckbox=class extends UI.ToolbarCheckbox{constructor(e,t,n){super(n||e.title()||"",t);UI.SettingsUI.bindCheckbox(this.inputElement,e)}};UI.Tooltip=class{constructor(e){this.element=e.body.createChild("div");this._shadowRoot=UI.createShadowRootWithCoreStyles(this.element,"ui/tooltip.css");this._tooltipElement=this._shadowRoot.createChild("div","tooltip");e.addEventListener("mousemove",this._mouseMove.bind(this),true);e.addEventListener("mousedown",this._hide.bind(this,true),true);e.addEventListener("mouseleave",this._hide.bind(this,false),true);e.addEventListener("keydown",this._hide.bind(this,true),true);UI.zoomManager.addEventListener(UI.ZoomManager.Events.ZoomChanged,this._reset,this);e.defaultView.addEventListener("resize",this._reset.bind(this),false)}static installHandler(e){new UI.Tooltip(e)}static install(e,t,n,s){if(!t){delete e[UI.Tooltip._symbol];return}e[UI.Tooltip._symbol]={content:t,actionId:n,options:s||{}}}static addNativeOverrideContainer(e){UI.Tooltip._nativeOverrideContainer.push(e)}_mouseMove(e){const t=e;const n=t.composedPath();if(!n||t.buttons!==0||t.movementX===0&&t.movementY===0)return;if(this._anchorElement&&n.indexOf(this._anchorElement)===-1)this._hide(false);for(const e of n){if(e===this._anchorElement)return;if(!(e instanceof Element)||e.offsetParent===null)continue;if(e[UI.Tooltip._symbol]){this._show(e,t);return}}}_show(e,t){const n=e[UI.Tooltip._symbol];this._anchorElement=e;this._tooltipElement.removeChildren();for(const e of UI.Tooltip._nativeOverrideContainer){if(this._anchorElement.isSelfOrDescendant(e)){Object.defineProperty(this._anchorElement,"title",UI.Tooltip._nativeTitle);this._anchorElement.title=n.content;return}}if(typeof n.content==="string")this._tooltipElement.setTextContentTruncatedIfNeeded(n.content);else this._tooltipElement.appendChild(n.content);if(n.actionId){const e=UI.shortcutRegistry.shortcutDescriptorsForAction(n.actionId);for(const t of e){const e=this._tooltipElement.createChild("div","tooltip-shortcut");e.textContent=t.name}}this._tooltipElement.classList.add("shown");this._tooltipElement.positionAt(0,0);const s=Date.now();const i=this._tooltipLastClosed&&s-this._tooltipLastClosed<UI.Tooltip.Timing.InstantThreshold;this._tooltipElement.classList.toggle("instant",i);this._tooltipLastOpened=i?s:s+UI.Tooltip.Timing.OpeningDelay;const o=UI.GlassPane.container(e.ownerDocument);const r=o.boxInWindow(this.element.window());const a=this._anchorElement.boxInWindow(this.element.window());const l=2;const c=2;const d=10;this._tooltipElement.classList.toggle("tooltip-breakword",!this._tooltipElement.textContent.match("\\s"));this._tooltipElement.style.maxWidth=r.width-c*2+"px";this._tooltipElement.style.maxHeight="";const h=this._tooltipElement.offsetWidth;const u=this._tooltipElement.offsetHeight;const m=this._anchorElement.nodeName==="BUTTON"||this._anchorElement.nodeName==="LABEL";let p=m?a.x:t.x+d;p=Number.constrain(p,r.x+c,r.x+r.width-h-c);let g;if(!m){g=t.y+d+u<r.y+r.height?t.y+d:t.y-u-1}else{const e=a.y+l+a.height+u<r.y+r.height;g=e?a.y+a.height+l:a.y-u-l}this._tooltipElement.positionAt(p,g)}_hide(e){delete this._anchorElement;this._tooltipElement.classList.remove("shown");if(Date.now()>this._tooltipLastOpened)this._tooltipLastClosed=Date.now();if(e)delete this._tooltipLastClosed}_reset(){this._hide(true);this._tooltipElement.positionAt(0,0);this._tooltipElement.style.maxWidth="0";this._tooltipElement.style.maxHeight="0"}};UI.Tooltip.Timing={InstantThreshold:300,OpeningDelay:600};UI.Tooltip._symbol=Symbol("Tooltip");UI.Tooltip._nativeOverrideContainer=[];UI.Tooltip._nativeTitle=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"title");Object.defineProperty(HTMLElement.prototype,"title",{get:function(){const e=this[UI.Tooltip._symbol];return e?e.content:""},set:function(e){UI.Tooltip.install(this,e)}});UI.SuggestBoxDelegate=function(){};UI.SuggestBoxDelegate.prototype={applySuggestion(e,t){},acceptSuggestion(){}};UI.SuggestBox=class{constructor(e,t){this._suggestBoxDelegate=e;this._maxItemsHeight=t;this._rowHeight=17;this._userEnteredText="";this._defaultSelectionIsDimmed=false;this._onlyCompletion=null;this._items=new UI.ListModel;this._list=new UI.ListControl(this._items,this,UI.ListMode.EqualHeightItems);this._element=this._list.element;this._element.classList.add("suggest-box");this._element.addEventListener("mousedown",e=>e.preventDefault(),true);this._element.addEventListener("click",this._onClick.bind(this),false);this._glassPane=new UI.GlassPane;this._glassPane.setAnchorBehavior(UI.GlassPane.AnchorBehavior.PreferBottom);this._glassPane.setOutsideClickCallback(this.hide.bind(this));const n=UI.createShadowRootWithCoreStyles(this._glassPane.contentElement,"ui/suggestBox.css");n.appendChild(this._element)}visible(){return this._glassPane.isShowing()}setPosition(e){this._glassPane.setContentAnchorBox(e)}setAnchorBehavior(e){this._glassPane.setAnchorBehavior(e)}_updateMaxSize(e){const t=this._maxWidth(e);const n=this._maxItemsHeight?Math.min(this._maxItemsHeight,e.length):e.length;const s=n*this._rowHeight;this._glassPane.setMaxContentSize(new UI.Size(t,s))}_maxWidth(e){const t=300;if(!e.length)return t;let n;let s=-Infinity;for(let t=0;t<e.length;t++){const i=(e[t].title||e[t].text).length+(e[t].subtitle||"").length;if(i>s){s=i;n=e[t]}}const i=this.createElementForItem(n);const o=UI.measurePreferredSize(i,this._element).width+UI.measuredScrollbarWidth(this._element.ownerDocument);return Math.min(t,o)}_show(){if(this.visible())return;this._glassPane.show(document);this._rowHeight=UI.measurePreferredSize(this.createElementForItem({text:"1",subtitle:"12"}),this._element).height}hide(){if(!this.visible())return;this._glassPane.hide()}_applySuggestion(e){if(this._onlyCompletion){UI.ARIAUtils.alert(ls`${this._onlyCompletion.text}, suggestion`,this._element);this._suggestBoxDelegate.applySuggestion(this._onlyCompletion,e);return true}const t=this._list.selectedItem();if(t&&t.text)UI.ARIAUtils.alert(ls`${t.title||t.text}, suggestion`,this._element);this._suggestBoxDelegate.applySuggestion(t,e);return this.visible()&&!!t}acceptSuggestion(){const e=this._applySuggestion();this.hide();if(!e)return false;this._suggestBoxDelegate.acceptSuggestion();return true}createElementForItem(e){const t=this._userEnteredText;const n=createElementWithClass("div","suggest-box-content-item source-code");if(e.iconType){const t=UI.Icon.create(e.iconType,"suggestion-icon");n.appendChild(t)}if(e.isSecondary)n.classList.add("secondary");n.tabIndex=-1;const s=50+t.length;const i=(e.title||e.text).trim().trimEnd(s).replace(/\n/g,"↵");const o=n.createChild("span","suggestion-title");const r=i.toLowerCase().indexOf(t.toLowerCase());if(r>0)o.createChild("span").textContent=i.substring(0,r);if(r>-1)o.createChild("span","query").textContent=i.substring(r,r+t.length);o.createChild("span").textContent=i.substring(r>-1?r+t.length:0);o.createChild("span","spacer");if(e.subtitleRenderer){const t=e.subtitleRenderer.call(null);t.classList.add("suggestion-subtitle");n.appendChild(t)}else if(e.subtitle){const t=n.createChild("span","suggestion-subtitle");t.textContent=e.subtitle.trimEnd(s-i.length)}return n}heightForItem(e){return this._rowHeight}isItemSelectable(e){return true}selectedItemChanged(e,t,n,s){if(n)n.classList.remove("selected","force-white-icons");if(s){s.classList.add("selected");s.classList.add("force-white-icons")}this._applySuggestion(true)}_onClick(e){const t=this._list.itemForNode(e.target);if(!t)return;this._list.selectItem(t);this.acceptSuggestion();e.consume(true)}_canShowBox(e,t,n,s){if(!e||!e.length)return false;if(e.length>1)return true;if(!t||t.isSecondary||!t.text.startsWith(s))return true;return n&&t.text!==s}updateSuggestions(e,t,n,s,i){this._onlyCompletion=null;const o=n?t.reduce((e,t)=>(e.priority||0)>=(t.priority||0)?e:t):null;if(this._canShowBox(t,o,s,i)){this._userEnteredText=i;this._show();this._updateMaxSize(t);this._glassPane.setContentAnchorBox(e);this._list.invalidateItemHeight();this._items.replaceAll(t);if(o&&!o.isSecondary)this._list.selectItem(o,true);else this._list.selectItem(null)}else{if(t.length===1){this._onlyCompletion=t[0];this._applySuggestion(true)}this.hide()}}keyPressed(e){switch(e.key){case"Enter":return this.enterKeyPressed();case"ArrowUp":return this._list.selectPreviousItem(true,false);case"ArrowDown":return this._list.selectNextItem(true,false);case"PageUp":return this._list.selectItemPreviousPage(false);case"PageDown":return this._list.selectItemNextPage(false)}return false}enterKeyPressed(){const e=!!this._list.selectedItem()||!!this._onlyCompletion;this.acceptSuggestion();return e}};UI.SuggestBox.Suggestion;UI.SuggestBox.Suggestions;UI.TabbedPane=class extends UI.VBox{constructor(){super(true);this.registerRequiredCSS("ui/tabbedPane.css");this.element.classList.add("tabbed-pane");this.contentElement.classList.add("tabbed-pane-shadow");this.contentElement.tabIndex=-1;this._headerElement=this.contentElement.createChild("div","tabbed-pane-header");this._headerContentsElement=this._headerElement.createChild("div","tabbed-pane-header-contents");this._tabSlider=createElementWithClass("div","tabbed-pane-tab-slider");this._tabsElement=this._headerContentsElement.createChild("div","tabbed-pane-header-tabs");this._tabsElement.setAttribute("role","tablist");this._tabsElement.addEventListener("keydown",this._keyDown.bind(this),false);this._contentElement=this.contentElement.createChild("div","tabbed-pane-content");this._contentElement.setAttribute("role","tabpanel");this._contentElement.createChild("slot");this._tabs=[];this._tabsHistory=[];this._tabsById=new Map;this._currentTabLocked=false;this._autoSelectFirstItemOnShow=true;this._triggerDropDownTimeout=null;this._dropDownButton=this._createDropDownButton();UI.zoomManager.addEventListener(UI.ZoomManager.Events.ZoomChanged,this._zoomChanged,this);this.makeTabSlider()}setAccessibleName(e){UI.ARIAUtils.setAccessibleName(this._tabsElement,e)}setCurrentTabLocked(e){this._currentTabLocked=e;this._headerElement.classList.toggle("locked",this._currentTabLocked)}setAutoSelectFirstItemOnShow(e){this._autoSelectFirstItemOnShow=e}get visibleView(){return this._currentTab?this._currentTab.view:null}tabIds(){return this._tabs.map(e=>e._id)}tabIndex(e){return this._tabs.findIndex(t=>t.id===e)}tabViews(){return this._tabs.map(e=>e.view)}tabView(e){return this._tabsById.has(e)?this._tabsById.get(e).view:null}get selectedTabId(){return this._currentTab?this._currentTab.id:null}setShrinkableTabs(e){this._shrinkableTabs=e}makeVerticalTabLayout(){this._verticalTabLayout=true;this._setTabSlider(false);this.contentElement.classList.add("vertical-tab-layout");this.invalidateConstraints()}setCloseableTabs(e){this._closeableTabs=e}focus(){if(this.visibleView)this.visibleView.focus();else this.contentElement.focus()}headerElement(){return this._headerElement}isTabCloseable(e){const t=this._tabsById.get(e);return t?t.isCloseable():false}setTabDelegate(e){const t=this._tabs.slice();for(let n=0;n<t.length;++n)t[n].setDelegate(e);this._delegate=e}appendTab(e,t,n,s,i,o,r){o=typeof o==="boolean"?o:this._closeableTabs;const a=new UI.TabbedPaneTab(this,e,t,o,n,s);a.setDelegate(this._delegate);console.assert(!this._tabsById.has(e),`Tabbed pane already contains a tab with id '${e}'`);this._tabsById.set(e,a);if(r!==undefined)this._tabs.splice(r,0,a);else this._tabs.push(a);this._tabsHistory.push(a);if(this._tabsHistory[0]===a&&this.isShowing())this.selectTab(a.id,i);this._updateTabElements()}closeTab(e,t){this.closeTabs([e],t)}closeTabs(e,t){const n=this.hasFocus();for(let n=0;n<e.length;++n)this._innerCloseTab(e[n],t);this._updateTabElements();if(this._tabsHistory.length)this.selectTab(this._tabsHistory[0].id,false);if(n)this.focus()}_innerCloseTab(e,t){if(!this._tabsById.has(e))return;if(t&&!this._tabsById.get(e)._closeable)return;if(this._currentTab&&this._currentTab.id===e)this._hideCurrentTab();const n=this._tabsById.get(e);this._tabsById.delete(e);this._tabsHistory.splice(this._tabsHistory.indexOf(n),1);this._tabs.splice(this._tabs.indexOf(n),1);if(n._shown)this._hideTabElement(n);const s={tabId:e,view:n.view,isUserGesture:t};this.dispatchEventToListeners(UI.TabbedPane.Events.TabClosed,s);return true}hasTab(e){return this._tabsById.has(e)}otherTabs(e){const t=[];for(let n=0;n<this._tabs.length;++n){if(this._tabs[n].id!==e)t.push(this._tabs[n].id)}return t}_tabsToTheRight(e){let t=-1;for(let n=0;n<this._tabs.length;++n){if(this._tabs[n].id===e){t=n;break}}if(t===-1)return[];return this._tabs.slice(t+1).map(function(e){return e.id})}_viewHasFocus(){if(this.visibleView&&this.visibleView.hasFocus())return true;return this.contentElement===this.contentElement.getComponentRoot().activeElement}selectTab(e,t){if(this._currentTabLocked)return false;const n=this._viewHasFocus();const s=this._tabsById.get(e);if(!s)return false;if(this._currentTab&&this._currentTab.id===e)return true;this.suspendInvalidations();this._hideCurrentTab();this._showTab(s);this.resumeInvalidations();this._currentTab=s;this._tabsHistory.splice(this._tabsHistory.indexOf(s),1);this._tabsHistory.splice(0,0,s);this._updateTabElements();if(n)this.focus();const i={tabId:e,view:s.view,isUserGesture:t};this.dispatchEventToListeners(UI.TabbedPane.Events.TabSelected,i);return true}selectNextTab(){const e=this._tabs.indexOf(this._currentTab);const t=mod(e+1,this._tabs.length);this.selectTab(this._tabs[t].id,true)}selectPrevTab(){const e=this._tabs.indexOf(this._currentTab);const t=mod(e-1,this._tabs.length);this.selectTab(this._tabs[t].id,true)}lastOpenedTabIds(e){function t(e){return e.id}return this._tabsHistory.slice(0,e).map(t)}setTabIcon(e,t){const n=this._tabsById.get(e);n._setIcon(t);this._updateTabElements()}setTabEnabled(e,t){const n=this._tabsById.get(e);n.tabElement.classList.toggle("disabled",!t)}toggleTabClass(e,t,n){const s=this._tabsById.get(e);if(s._toggleClass(t,n))this._updateTabElements()}_zoomChanged(e){for(let e=0;e<this._tabs.length;++e)delete this._tabs[e]._measuredWidth;if(this.isShowing())this._updateTabElements()}changeTabTitle(e,t,n){const s=this._tabsById.get(e);if(n!==undefined)s.tooltip=n;if(s.title!==t){s.title=t;this._updateTabElements()}}changeTabView(e,t){const n=this._tabsById.get(e);if(n.view===t)return;this.suspendInvalidations();const s=this._currentTab&&this._currentTab.id===e;const i=n.view.hasFocus();if(s)this._hideTab(n);n.view=t;if(s)this._showTab(n);if(i)n.view.focus();this.resumeInvalidations()}onResize(){this._updateTabElements()}headerResized(){this._updateTabElements()}wasShown(){const e=this._currentTab||this._tabsHistory[0];if(e&&this._autoSelectFirstItemOnShow)this.selectTab(e.id)}makeTabSlider(){if(this._verticalTabLayout)return;this._setTabSlider(true)}_setTabSlider(e){this._sliderEnabled=e;this._tabSlider.classList.toggle("enabled",e)}calculateConstraints(){let e=super.calculateConstraints();const t=new UI.Constraints(new UI.Size(0,0),new UI.Size(50,50));e=e.widthToMax(t).heightToMax(t);if(this._verticalTabLayout)e=e.addWidth(new UI.Constraints(new UI.Size(120,0)));else e=e.addHeight(new UI.Constraints(new UI.Size(0,30)));return e}_updateTabElements(){UI.invokeOnceAfterBatchUpdate(this,this._innerUpdateTabElements)}setPlaceholderElement(e){this._placeholderElement=e;if(this._placeholderContainerElement){this._placeholderContainerElement.removeChildren();this._placeholderContainerElement.appendChild(e)}}_innerUpdateTabElements(){if(!this.isShowing())return;if(!this._tabs.length){this._contentElement.classList.add("has-no-tabs");if(this._placeholderElement&&!this._placeholderContainerElement){this._placeholderContainerElement=this._contentElement.createChild("div","tabbed-pane-placeholder fill");this._placeholderContainerElement.appendChild(this._placeholderElement)}}else{this._contentElement.classList.remove("has-no-tabs");if(this._placeholderContainerElement){this._placeholderContainerElement.remove();delete this._placeholderContainerElement}}this._measureDropDownButton();this._updateWidths();this._updateTabsDropDown();this._updateTabSlider()}_showTabElement(e,t){if(e>=this._tabsElement.children.length)this._tabsElement.appendChild(t.tabElement);else this._tabsElement.insertBefore(t.tabElement,this._tabsElement.children[e]);t._shown=true}_hideTabElement(e){this._tabsElement.removeChild(e.tabElement);e._shown=false}_createDropDownButton(){const e=createElementWithClass("div","tabbed-pane-header-tabs-drop-down-container");const t=UI.Icon.create("largeicon-chevron","chevron-icon");UI.ARIAUtils.markAsButton(e);UI.ARIAUtils.setAccessibleName(e,ls`More tabs`);e.appendChild(t);e.addEventListener("click",this._dropDownClicked.bind(this));e.addEventListener("mousedown",e=>{if(e.which!==1||this._triggerDropDownTimeout)return;this._triggerDropDownTimeout=setTimeout(this._dropDownClicked.bind(this,e),200)});return e}_dropDownClicked(e){if(e.which!==1)return;if(this._triggerDropDownTimeout){clearTimeout(this._triggerDropDownTimeout);this._triggerDropDownTimeout=null}const t=this._dropDownButton.getBoundingClientRect();const n=new UI.ContextMenu(e,false,t.left,t.bottom);for(let e=0;e<this._tabs.length;++e){const t=this._tabs[e];if(t._shown)continue;n.defaultSection().appendCheckboxItem(t.title,this._dropDownMenuItemSelected.bind(this,t),this._tabsHistory[0]===t)}n.show()}_dropDownMenuItemSelected(e){this._lastSelectedOverflowTab=e;this.selectTab(e.id,true)}_totalWidth(){return this._headerContentsElement.getBoundingClientRect().width}_numberOfTabsShown(){let e=0;for(const t of this._tabs){if(t._shown)e++}return e}disableOverflowMenu(){this._overflowDisabled=true}_updateTabsDropDown(){const e=this._tabsToShowIndexes(this._tabs,this._tabsHistory,this._totalWidth(),this._measuredDropDownButtonWidth||0);if(this._lastSelectedOverflowTab&&this._numberOfTabsShown()!==e.length){delete this._lastSelectedOverflowTab;this._updateTabsDropDown();return}for(let t=0;t<this._tabs.length;++t){if(this._tabs[t]._shown&&e.indexOf(t)===-1)this._hideTabElement(this._tabs[t])}for(let t=0;t<e.length;++t){const n=this._tabs[e[t]];if(!n._shown)this._showTabElement(t,n)}if(!this._overflowDisabled)this._maybeShowDropDown(e.length!==this._tabs.length)}_maybeShowDropDown(e){if(e&&!this._dropDownButton.parentElement)this._headerContentsElement.appendChild(this._dropDownButton);else if(!e&&this._dropDownButton.parentElement)this._headerContentsElement.removeChild(this._dropDownButton)}_measureDropDownButton(){if(this._overflowDisabled||this._measuredDropDownButtonWidth)return;this._dropDownButton.classList.add("measuring");this._headerContentsElement.appendChild(this._dropDownButton);this._measuredDropDownButtonWidth=this._dropDownButton.getBoundingClientRect().width;this._headerContentsElement.removeChild(this._dropDownButton);this._dropDownButton.classList.remove("measuring")}_updateWidths(){const e=this._measureWidths();const t=this._shrinkableTabs?this._calculateMaxWidth(e.slice(),this._totalWidth()):Number.MAX_VALUE;let n=0;for(const s of this._tabs)s.setWidth(this._verticalTabLayout?-1:Math.min(t,e[n++]))}_measureWidths(){this._tabsElement.style.setProperty("width","2000px");const e=[];for(const t of this._tabs){if(typeof t._measuredWidth==="number")continue;const n=t._createTabElement(true);n.__tab=t;e.push(n);this._tabsElement.appendChild(n)}for(let t=0;t<e.length;++t){const n=e[t].getBoundingClientRect().width;e[t].__tab._measuredWidth=Math.ceil(n)}for(let t=0;t<e.length;++t)e[t].remove();const t=[];for(const e of this._tabs)t.push(e._measuredWidth);this._tabsElement.style.removeProperty("width");return t}_calculateMaxWidth(e,t){if(!e.length)return 0;e.sort(function(e,t){return e-t});let n=0;for(let t=0;t<e.length;++t)n+=e[t];if(t>=n)return e[e.length-1];let s=0;for(let i=e.length-1;i>0;--i){const o=e[i]-e[i-1];s+=(e.length-i)*o;if(t+s>=n){return e[i-1]+(t+s-n)/(e.length-i)}}return t/e.length}_tabsToShowIndexes(e,t,n,s){const i=[];let o=0;const r=e.length;const a=e.slice(0);if(this._currentTab!==undefined)a.unshift(a.splice(a.indexOf(this._currentTab),1)[0]);if(this._lastSelectedOverflowTab!==undefined)a.unshift(a.splice(a.indexOf(this._lastSelectedOverflowTab),1)[0]);for(let l=0;l<r;++l){const c=this._automaticReorder?t[l]:a[l];o+=c.width();let d=o;if(l!==r-1)d+=s;if(!this._verticalTabLayout&&d>n)break;i.push(e.indexOf(c))}i.sort(function(e,t){return e-t});return i}_hideCurrentTab(){if(!this._currentTab)return;this._hideTab(this._currentTab);delete this._currentTab}_showTab(e){e.tabElement.tabIndex=0;e.tabElement.classList.add("selected");UI.ARIAUtils.setSelected(e.tabElement,true);e.view.show(this.element);this._updateTabSlider()}_updateTabSlider(){if(!this._sliderEnabled)return;if(!this._currentTab){this._tabSlider.style.width=0;return}let e=0;for(let t=0;t<this._tabs.length&&this._currentTab!==this._tabs[t];t++){if(this._tabs[t]._shown)e+=this._tabs[t]._measuredWidth}const t=this._currentTab._shown?this._currentTab._measuredWidth:this._dropDownButton.offsetWidth;const n=window.devicePixelRatio>=1.5?" scaleY(0.75)":"";this._tabSlider.style.transform="translateX("+e+"px)"+n;this._tabSlider.style.width=t+"px";if(this._tabSlider.parentElement!==this._headerContentsElement)this._headerContentsElement.appendChild(this._tabSlider)}_hideTab(e){e.tabElement.removeAttribute("tabIndex");e.tabElement.classList.remove("selected");e.tabElement.setAttribute("aria-selected","false");e.view.detach()}elementsToRestoreScrollPositionsFor(){return[this._contentElement]}_insertBefore(e,t){this._tabsElement.insertBefore(e.tabElement,this._tabsElement.childNodes[t]);const n=this._tabs.indexOf(e);this._tabs.splice(n,1);if(n<t)--t;this._tabs.splice(t,0,e);this.dispatchEventToListeners(UI.TabbedPane.Events.TabOrderChanged,{tabId:e.id})}leftToolbar(){if(!this._leftToolbar){this._leftToolbar=new UI.Toolbar("tabbed-pane-left-toolbar");this._headerElement.insertBefore(this._leftToolbar.element,this._headerElement.firstChild)}return this._leftToolbar}rightToolbar(){if(!this._rightToolbar){this._rightToolbar=new UI.Toolbar("tabbed-pane-right-toolbar");this._headerElement.appendChild(this._rightToolbar.element)}return this._rightToolbar}setAllowTabReorder(e,t){this._allowTabReorder=e;this._automaticReorder=t}_keyDown(e){if(!this._currentTab)return;let t=null;switch(e.key){case"ArrowUp":case"ArrowLeft":t=this._currentTab.tabElement.previousElementSibling;if(!t&&!this._dropDownButton.parentElement)t=this._currentTab.tabElement.parentElement.lastElementChild;break;case"ArrowDown":case"ArrowRight":t=this._currentTab.tabElement.nextElementSibling;if(!t&&!this._dropDownButton.parentElement)t=this._currentTab.tabElement.parentElement.firstElementChild;break;case"Enter":case" ":this._currentTab.view.focus();return;default:return}if(!t){this._dropDownButton.click();return}const n=this._tabs.find(e=>e.tabElement===t);this.selectTab(n.id,true);t.focus()}};UI.TabbedPane.Events={TabSelected:Symbol("TabSelected"),TabClosed:Symbol("TabClosed"),TabOrderChanged:Symbol("TabOrderChanged")};UI.TabbedPaneTab=class{constructor(e,t,n,s,i,o){this._closeable=s;this._tabbedPane=e;this._id=t;this._title=n;this._tooltip=o;this._view=i;this._shown=false;this._measuredWidth;this._tabElement;this._iconContainer=null}get id(){return this._id}get title(){return this._title}set title(e){if(e===this._title)return;this._title=e;if(this._titleElement)this._titleElement.textContent=e;delete this._measuredWidth}isCloseable(){return this._closeable}_setIcon(e){this._icon=e;if(this._tabElement)this._createIconElement(this._tabElement,this._titleElement,false);delete this._measuredWidth}_toggleClass(e,t){const n=this.tabElement;const s=n.classList.contains(e);if(s===t)return false;n.classList.toggle(e,t);delete this._measuredWidth;return true}get view(){return this._view}set view(e){this._view=e}get tooltip(){return this._tooltip}set tooltip(e){this._tooltip=e;if(this._titleElement)this._titleElement.title=e||""}get tabElement(){if(!this._tabElement)this._tabElement=this._createTabElement(false);return this._tabElement}width(){return this._width}setWidth(e){this.tabElement.style.width=e===-1?"":e+"px";this._width=e}setDelegate(e){this._delegate=e}_createIconElement(e,t,n){if(e.__iconElement){e.__iconElement.remove();e.__iconElement=null}if(!this._icon)return;const s=createElementWithClass("span","tabbed-pane-header-tab-icon");const i=n?this._icon.cloneNode(true):this._icon;s.appendChild(i);e.insertBefore(s,t);e.__iconElement=s}_createTabElement(e){const t=createElementWithClass("div","tabbed-pane-header-tab");t.id="tab-"+this._id;UI.ARIAUtils.markAsTab(t);UI.ARIAUtils.setSelected(t,false);UI.ARIAUtils.setAccessibleName(t,this.title);const n=t.createChild("span","tabbed-pane-header-tab-title");n.textContent=this.title;n.title=this.tooltip||"";this._createIconElement(t,n,e);if(!e)this._titleElement=n;if(this._closeable){const e=t.createChild("div","tabbed-pane-close-button","dt-close-button");e.gray=true;e.setAccessibleName(ls`Close ${this.title}`);t.classList.add("closeable")}if(e){t.classList.add("measuring")}else{t.addEventListener("click",this._tabClicked.bind(this),false);t.addEventListener("auxclick",this._tabClicked.bind(this),false);t.addEventListener("mousedown",this._tabMouseDown.bind(this),false);t.addEventListener("mouseup",this._tabMouseUp.bind(this),false);t.addEventListener("contextmenu",this._tabContextMenu.bind(this),false);if(this._tabbedPane._allowTabReorder){UI.installDragHandle(t,this._startTabDragging.bind(this),this._tabDragging.bind(this),this._endTabDragging.bind(this),"-webkit-grabbing","pointer",200)}}return t}_tabClicked(e){const t=e.button===1;const n=this._closeable&&(t||e.target.classList.contains("tabbed-pane-close-button"));if(!n){this._tabbedPane.focus();return}this._closeTabs([this.id]);e.consume(true)}_tabMouseDown(e){if(e.target.classList.contains("tabbed-pane-close-button")||e.button===1)return;this._tabbedPane.selectTab(this.id,true)}_tabMouseUp(e){if(e.button===1)e.consume(true)}_closeTabs(e){if(this._delegate){this._delegate.closeTabs(this._tabbedPane,e);return}this._tabbedPane.closeTabs(e,true)}_tabContextMenu(e){function t(){this._closeTabs([this.id])}function n(){this._closeTabs(this._tabbedPane.otherTabs(this.id))}function s(){this._closeTabs(this._tabbedPane.tabIds())}function i(){this._closeTabs(this._tabbedPane._tabsToTheRight(this.id))}const o=new UI.ContextMenu(e);if(this._closeable){o.defaultSection().appendItem(Common.UIString("Close"),t.bind(this));o.defaultSection().appendItem(Common.UIString("Close others"),n.bind(this));o.defaultSection().appendItem(Common.UIString("Close tabs to the right"),i.bind(this));o.defaultSection().appendItem(Common.UIString("Close all"),s.bind(this))}if(this._delegate)this._delegate.onContextMenu(this.id,o);o.show()}_startTabDragging(e){if(e.target.classList.contains("tabbed-pane-close-button"))return false;this._dragStartX=e.pageX;this._tabElement.classList.add("dragging");this._tabbedPane._tabSlider.remove();return true}_tabDragging(e){const t=this._tabbedPane._tabsElement.childNodes;for(let n=0;n<t.length;++n){let s=t[n];if(s===this._tabElement)continue;const i=s.offsetLeft+s.clientWidth>this._tabElement.offsetLeft&&this._tabElement.offsetLeft+this._tabElement.clientWidth>s.offsetLeft;if(!i)continue;if(Math.abs(e.pageX-this._dragStartX)<s.clientWidth/2+5)break;if(e.pageX-this._dragStartX>0){s=s.nextSibling;++n}const o=this._tabElement.offsetLeft;this._tabbedPane._insertBefore(this,n);this._dragStartX+=this._tabElement.offsetLeft-o;break}if(!this._tabElement.previousSibling&&e.pageX-this._dragStartX<0){this._tabElement.style.setProperty("left","0px");return}if(!this._tabElement.nextSibling&&e.pageX-this._dragStartX>0){this._tabElement.style.setProperty("left","0px");return}this._tabElement.style.setProperty("left",e.pageX-this._dragStartX+"px")}_endTabDragging(e){this._tabElement.classList.remove("dragging");this._tabElement.style.removeProperty("left");delete this._dragStartX;this._tabbedPane._updateTabSlider()}};UI.TabbedPaneTabDelegate=function(){};UI.TabbedPaneTabDelegate.prototype={closeTabs(e,t){},onContextMenu(e,t){}};UI.highlightedSearchResultClassName="highlighted-search-result";UI.highlightedCurrentSearchResultClassName="current-search-result";UI.installDragHandle=function(e,t,n,s,i,o,r){function a(o){const a=new UI.DragHandler;const l=a.elementDragStart.bind(a,e,t,n,s,i,o);if(r)c=setTimeout(l,r);else l()}function l(){if(c)clearTimeout(c);c=null}let c;e.addEventListener("mousedown",a,false);if(r)e.addEventListener("mouseup",l,false);if(o!==null)e.style.cursor=o||i||""};UI.elementDragStart=function(e,t,n,s,i,o){const r=new UI.DragHandler;r.elementDragStart(e,t,n,s,i,o)};UI.DragHandler=class{constructor(){this._elementDragMove=this._elementDragMove.bind(this);this._elementDragEnd=this._elementDragEnd.bind(this);this._mouseOutWhileDragging=this._mouseOutWhileDragging.bind(this)}_createGlassPane(){this._glassPaneInUse=true;if(!UI.DragHandler._glassPaneUsageCount++){UI.DragHandler._glassPane=new UI.GlassPane;UI.DragHandler._glassPane.setPointerEventsBehavior(UI.GlassPane.PointerEventsBehavior.BlockedByGlassPane);UI.DragHandler._glassPane.show(UI.DragHandler._documentForMouseOut)}}_disposeGlassPane(){if(!this._glassPaneInUse)return;this._glassPaneInUse=false;if(--UI.DragHandler._glassPaneUsageCount)return;UI.DragHandler._glassPane.hide();delete UI.DragHandler._glassPane;delete UI.DragHandler._documentForMouseOut}elementDragStart(e,t,n,s,i,o){if(o.button||Host.isMac()&&o.ctrlKey)return;if(this._elementDraggingEventListener)return;if(t&&!t(o))return;const r=o.target.ownerDocument;this._elementDraggingEventListener=n;this._elementEndDraggingEventListener=s;console.assert((UI.DragHandler._documentForMouseOut||r)===r,"Dragging on multiple documents.");UI.DragHandler._documentForMouseOut=r;this._dragEventsTargetDocument=r;try{this._dragEventsTargetDocumentTop=r.defaultView.top.document}catch(e){this._dragEventsTargetDocumentTop=this._dragEventsTargetDocument}r.addEventListener("mousemove",this._elementDragMove,true);r.addEventListener("mouseup",this._elementDragEnd,true);r.addEventListener("mouseout",this._mouseOutWhileDragging,true);if(r!==this._dragEventsTargetDocumentTop)this._dragEventsTargetDocumentTop.addEventListener("mouseup",this._elementDragEnd,true);if(typeof i==="string"){this._restoreCursorAfterDrag=a.bind(this,e.style.cursor);e.style.cursor=i;r.body.style.cursor=i}function a(t){r.body.style.removeProperty("cursor");e.style.cursor=t;this._restoreCursorAfterDrag=null}o.preventDefault()}_mouseOutWhileDragging(){this._unregisterMouseOutWhileDragging();this._createGlassPane()}_unregisterMouseOutWhileDragging(){if(!UI.DragHandler._documentForMouseOut)return;UI.DragHandler._documentForMouseOut.removeEventListener("mouseout",this._mouseOutWhileDragging,true)}_unregisterDragEvents(){if(!this._dragEventsTargetDocument)return;this._dragEventsTargetDocument.removeEventListener("mousemove",this._elementDragMove,true);this._dragEventsTargetDocument.removeEventListener("mouseup",this._elementDragEnd,true);if(this._dragEventsTargetDocument!==this._dragEventsTargetDocumentTop)this._dragEventsTargetDocumentTop.removeEventListener("mouseup",this._elementDragEnd,true);delete this._dragEventsTargetDocument;delete this._dragEventsTargetDocumentTop}_elementDragMove(e){if(e.buttons!==1){this._elementDragEnd(e);return}if(this._elementDraggingEventListener(e))this._cancelDragEvents(e)}_cancelDragEvents(e){this._unregisterDragEvents();this._unregisterMouseOutWhileDragging();if(this._restoreCursorAfterDrag)this._restoreCursorAfterDrag();this._disposeGlassPane();delete this._elementDraggingEventListener;delete this._elementEndDraggingEventListener}_elementDragEnd(e){const t=this._elementEndDraggingEventListener;this._cancelDragEvents(e);e.preventDefault();if(t)t(e)}};UI.DragHandler._glassPaneUsageCount=0;UI.isBeingEdited=function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return false;let t=e;if(t.classList.contains("text-prompt")||t.nodeName==="INPUT"||t.nodeName==="TEXTAREA")return true;if(!UI.__editingCount)return false;while(t){if(t.__editing)return true;t=t.parentElementOrShadowHost()}return false};UI.isEditing=function(){if(UI.__editingCount)return true;const e=document.deepActiveElement();if(!e)return false;return e.classList.contains("text-prompt")||e.nodeName==="INPUT"||e.nodeName==="TEXTAREA"};UI.markBeingEdited=function(e,t){if(t){if(e.__editing)return false;e.classList.add("being-edited");e.__editing=true;UI.__editingCount=(UI.__editingCount||0)+1}else{if(!e.__editing)return false;e.classList.remove("being-edited");delete e.__editing;--UI.__editingCount}return true};UI._numberRegex=/^(-?(?:\d+(?:\.\d+)?|\.\d+))$/;UI.StyleValueDelimiters="  \t\n\"':;,/()";UI._valueModificationDirection=function(e){let t=null;if(e.type==="mousewheel"){if(e.wheelDeltaY>0||e.wheelDeltaX>0)t="Up";else if(e.wheelDeltaY<0||e.wheelDeltaX<0)t="Down"}else{if(e.key==="ArrowUp"||e.key==="PageUp")t="Up";else if(e.key==="ArrowDown"||e.key==="PageDown")t="Down"}return t};UI._modifiedHexValue=function(e,t){const n=UI._valueModificationDirection(t);if(!n)return null;const s=t;const i=parseInt(e,16);if(isNaN(i)||!isFinite(i))return null;const o=e.length;const r=o/3;if(r!==1&&r!==2)return null;let a=0;if(UI.KeyboardShortcut.eventHasCtrlOrMeta(s))a+=Math.pow(16,r*2);if(s.shiftKey)a+=Math.pow(16,r);if(s.altKey)a+=1;if(a===0)a=1;if(n==="Down")a*=-1;const l=Math.pow(16,o)-1;const c=Number.constrain(i+a,0,l);let d=c.toString(16).toUpperCase();for(let e=0,t=o-d.length;e<t;++e)d="0"+d;return d};UI._modifiedFloatNumber=function(e,t,n){const s=UI._valueModificationDirection(t);if(!s)return null;const i=t;let o=1;if(UI.KeyboardShortcut.eventHasCtrlOrMeta(i))o=100;else if(i.shiftKey)o=10;else if(i.altKey)o=.1;if(s==="Down")o*=-1;if(n)o*=n;const r=Number((e+o).toFixed(6));if(!String(r).match(UI._numberRegex))return null;return r};UI.createReplacementString=function(e,t,n){let s;let i;let o;let r=null;let a=/(.*#)([\da-fA-F]+)(.*)/.exec(e);if(a&&a.length){s=a[1];i=a[3];o=UI._modifiedHexValue(a[2],t);if(o!==null)r=s+o+i}else{a=/(.*?)(-?(?:\d+(?:\.\d+)?|\.\d+))(.*)/.exec(e);if(a&&a.length){s=a[1];i=a[3];o=UI._modifiedFloatNumber(parseFloat(a[2]),t);if(o!==null){r=n?n(s,o,i):s+o+i}}}return r};UI.handleElementValueModifications=function(e,t,n,s,i){function o(){return document.createRange()}const r=e.key==="ArrowUp"||e.key==="ArrowDown"||e.type==="mousewheel";const a=e.key==="PageUp"||e.key==="PageDown";if(!r&&!a)return false;const l=t.getComponentSelection();if(!l.rangeCount)return false;const c=l.getRangeAt(0);if(!c.commonAncestorContainer.isSelfOrDescendant(t))return false;const d=t.textContent;const h=c.startContainer.rangeOfWord(c.startOffset,UI.StyleValueDelimiters,t);const u=h.toString();if(s&&s(u))return false;const m=UI.createReplacementString(u,e,i);if(m){const t=createTextNode(m);h.deleteContents();h.insertNode(t);const s=o();s.setStart(t,0);s.setEnd(t,m.length);l.removeAllRanges();l.addRange(s);e.handled=true;e.preventDefault();if(n)n(d,m);return true}return false};Number.preciseMillisToString=function(e,t){t=t||0;const n="%."+t+"f ms";return Common.UIString(n,e)};UI._microsFormat=new Common.UIStringFormat("%.0f μs");UI._subMillisFormat=new Common.UIStringFormat("%.2f ms");UI._millisFormat=new Common.UIStringFormat("%.0f ms");UI._secondsFormat=new Common.UIStringFormat("%.2f s");UI._minutesFormat=new Common.UIStringFormat("%.1f min");UI._hoursFormat=new Common.UIStringFormat("%.1f hrs");UI._daysFormat=new Common.UIStringFormat("%.1f days");Number.millisToString=function(e,t){if(!isFinite(e))return"-";if(e===0)return"0";if(t&&e<.1)return UI._microsFormat.format(e*1e3);if(t&&e<1e3)return UI._subMillisFormat.format(e);if(e<1e3)return UI._millisFormat.format(e);const n=e/1e3;if(n<60)return UI._secondsFormat.format(n);const s=n/60;if(s<60)return UI._minutesFormat.format(s);const i=s/60;if(i<24)return UI._hoursFormat.format(i);const o=i/24;return UI._daysFormat.format(o)};Number.secondsToString=function(e,t){if(!isFinite(e))return"-";return Number.millisToString(e*1e3,t)};Number.bytesToString=function(e){if(e<1024)return Common.UIString("%.0f B",e);const t=e/1024;if(t<100)return Common.UIString("%.1f KB",t);if(t<1024)return Common.UIString("%.0f KB",t);const n=t/1024;if(n<100)return Common.UIString("%.1f MB",n);else return Common.UIString("%.0f MB",n)};Number.withThousandsSeparator=function(e){let t=e+"";const n=/(\d+)(\d{3})/;while(t.match(n))t=t.replace(n,"$1 $2");return t};UI.formatLocalized=function(e,t){const n={s:e=>e};function s(e,t){e.appendChild(typeof t==="string"?createTextNode(t):t);return e}return String.format(Common.UIString(e),t,n,createElement("span"),s).formattedResult};UI.openLinkExternallyLabel=function(){return Common.UIString("Open in new tab")};UI.copyLinkAddressLabel=function(){return Common.UIString("Copy link address")};UI.anotherProfilerActiveLabel=function(){return Common.UIString("Another profiler is already active")};UI.asyncStackTraceLabel=function(e){if(e){if(e==="Promise.resolve")return ls`Promise resolved (async)`;else if(e==="Promise.reject")return ls`Promise rejected (async)`;return ls`${e} (async)`}return Common.UIString("Async Call")};UI.installComponentRootStyles=function(e){UI._injectCoreStyles(e);e.classList.add("platform-"+Host.platform());if(!Host.isMac()&&UI.measuredScrollbarWidth(e.ownerDocument)===0)e.classList.add("overlay-scrollbar-enabled")};UI.measuredScrollbarWidth=function(e){if(typeof UI._measuredScrollbarWidth==="number")return UI._measuredScrollbarWidth;if(!e)return 16;const t=e.createElement("div");t.setAttribute("style","width: 100px; height: 100px; overflow: scroll;");e.body.appendChild(t);UI._measuredScrollbarWidth=t.offsetWidth-t.clientWidth;e.body.removeChild(t);return UI._measuredScrollbarWidth};UI.createShadowRootWithCoreStyles=function(e,t,n){const s=e.attachShadow({mode:"open",delegatesFocus:n});UI._injectCoreStyles(s);if(t)UI.appendStyle(s,t);s.addEventListener("focus",UI._focusChanged.bind(UI),true);return s};UI._injectCoreStyles=function(e){UI.appendStyle(e,"ui/inspectorCommon.css");UI.appendStyle(e,"ui/textButton.css");UI.themeSupport.injectHighlightStyleSheets(e);UI.themeSupport.injectCustomStyleSheets(e)};UI._windowFocused=function(e,t){if(t.target.document.nodeType===Node.DOCUMENT_NODE)e.body.classList.remove("inactive");UI._keyboardFocus=true;const n=()=>{const t=e.deepActiveElement();if(t)t.removeAttribute("data-keyboard-focus");UI._keyboardFocus=false};e.defaultView.requestAnimationFrame(()=>{UI._keyboardFocus=false;e.removeEventListener("mousedown",n,true)});e.addEventListener("mousedown",n,true)};UI._windowBlurred=function(e,t){if(t.target.document.nodeType===Node.DOCUMENT_NODE)e.body.classList.add("inactive")};UI._focusChanged=function(e){const t=e.target&&e.target.ownerDocument;const n=t?t.deepActiveElement():null;UI.Widget.focusWidgetForNode(n);UI.XWidget.focusWidgetForNode(n);if(!UI._keyboardFocus)return;n.setAttribute("data-keyboard-focus","true");n.addEventListener("blur",()=>n.removeAttribute("data-keyboard-focus"),{once:true,capture:true})};UI.ElementFocusRestorer=class{constructor(e){this._element=e;this._previous=e.ownerDocument.deepActiveElement();e.focus()}restore(){if(!this._element)return;if(this._element.hasFocus()&&this._previous)this._previous.focus();this._previous=null;this._element=null}};UI.highlightSearchResult=function(e,t,n,s){const i=UI.highlightSearchResults(e,[new TextUtils.SourceRange(t,n)],s);return i.length?i[0]:null};UI.highlightSearchResults=function(e,t,n){return UI.highlightRangesWithStyleClass(e,t,UI.highlightedSearchResultClassName,n)};UI.runCSSAnimationOnce=function(e,t){function n(){e.classList.remove(t);e.removeEventListener("webkitAnimationEnd",n,false)}if(e.classList.contains(t))e.classList.remove(t);e.addEventListener("webkitAnimationEnd",n,false);e.classList.add(t)};UI.highlightRangesWithStyleClass=function(e,t,n,s){s=s||[];const i=[];const o=e.childTextNodes();const r=o.map(function(e){return e.textContent}).join("");const a=e.ownerDocument;if(o.length===0)return i;const l=[];let c=0;for(let e=0;e<o.length;++e){const t={};t.offset=c;t.length=o[e].textContent.length;c=t.offset+t.length;l.push(t)}let d=0;for(let e=0;e<t.length;++e){const c=t[e].offset;const h=c+t[e].length;while(d<o.length&&l[d].offset+l[d].length<=c)d++;let u=d;while(u<o.length&&l[u].offset+l[u].length<h)u++;if(u===o.length)break;const m=a.createElement("span");m.className=n;m.textContent=r.substring(c,h);const p=o[u];const g=p.textContent;p.textContent=g.substring(h-l[u].offset);s.push({node:p,type:"changed",oldText:g,newText:p.textContent});if(d===u){p.parentElement.insertBefore(m,p);s.push({node:m,type:"added",nextSibling:p,parent:p.parentElement});i.push(m);const e=a.createTextNode(g.substring(0,c-l[d].offset));p.parentElement.insertBefore(e,m);s.push({node:e,type:"added",nextSibling:m,parent:p.parentElement})}else{const e=o[d];const t=e.textContent;const n=e.nextSibling;e.parentElement.insertBefore(m,n);s.push({node:m,type:"added",nextSibling:n,parent:e.parentElement});i.push(m);e.textContent=t.substring(0,c-l[d].offset);s.push({node:e,type:"changed",oldText:t,newText:e.textContent});for(let e=d+1;e<u;e++){const t=o[e];const n=t.textContent;t.textContent="";s.push({node:t,type:"changed",oldText:n,newText:t.textContent})}}d=u;l[d].offset=h;l[d].length=p.textContent.length}return i};UI.applyDomChanges=function(e){for(let t=0,n=e.length;t<n;++t){const n=e[t];switch(n.type){case"added":n.parent.insertBefore(n.node,n.nextSibling);break;case"changed":n.node.textContent=n.newText;break}}};UI.revertDomChanges=function(e){for(let t=e.length-1;t>=0;--t){const n=e[t];switch(n.type){case"added":n.node.remove();break;case"changed":n.node.textContent=n.oldText;break}}};UI.measurePreferredSize=function(e,t){const n=e.parentElement;const s=e.nextSibling;t=t||e.ownerDocument.body;t.appendChild(e);e.positionAt(0,0);const i=e.getBoundingClientRect();e.positionAt(undefined,undefined);if(n)n.insertBefore(e,s);else e.remove();return new UI.Size(i.width,i.height)};UI.InvokeOnceHandlers=class{constructor(e){this._handlers=null;this._autoInvoke=e}add(e,t){if(!this._handlers){this._handlers=new Map;if(this._autoInvoke)this.scheduleInvoke()}let n=this._handlers.get(e);if(!n){n=new Set;this._handlers.set(e,n)}n.add(t)}scheduleInvoke(){if(this._handlers)requestAnimationFrame(this._invoke.bind(this))}_invoke(){const e=this._handlers;this._handlers=null;const t=e.keysArray();for(let n=0;n<t.length;++n){const s=t[n];const i=e.get(s).valuesArray();for(let e=0;e<i.length;++e)i[e].call(s)}}};UI._coalescingLevel=0;UI._postUpdateHandlers=null;UI.startBatchUpdate=function(){if(!UI._coalescingLevel++)UI._postUpdateHandlers=new UI.InvokeOnceHandlers(false)};UI.endBatchUpdate=function(){if(--UI._coalescingLevel)return;UI._postUpdateHandlers.scheduleInvoke();UI._postUpdateHandlers=null};UI.invokeOnceAfterBatchUpdate=function(e,t){if(!UI._postUpdateHandlers)UI._postUpdateHandlers=new UI.InvokeOnceHandlers(true);UI._postUpdateHandlers.add(e,t)};UI.animateFunction=function(e,t,n,s,i){const o=e.performance.now();let r=e.requestAnimationFrame(a);function a(l){const c=Number.constrain((l-o)/s,0,1);t(...n.map(e=>e.from+(e.to-e.from)*c));if(c<1)r=e.requestAnimationFrame(a);else if(i)i()}return()=>e.cancelAnimationFrame(r)};UI.LongClickController=class extends Common.Object{constructor(e,t){super();this._element=e;this._callback=t;this._enable()}reset(){if(this._longClickInterval){clearInterval(this._longClickInterval);delete this._longClickInterval}}_enable(){if(this._longClickData)return;const e=s.bind(this);const t=i.bind(this);const n=this.reset.bind(this);this._element.addEventListener("mousedown",e,false);this._element.addEventListener("mouseout",n,false);this._element.addEventListener("mouseup",t,false);this._element.addEventListener("click",n,true);this._longClickData={mouseUp:t,mouseDown:e,reset:n};function s(e){if(e.which!==1)return;const t=this._callback;this._longClickInterval=setTimeout(t.bind(null,e),200)}function i(e){if(e.which!==1)return;this.reset()}}dispose(){if(!this._longClickData)return;this._element.removeEventListener("mousedown",this._longClickData.mouseDown,false);this._element.removeEventListener("mouseout",this._longClickData.reset,false);this._element.removeEventListener("mouseup",this._longClickData.mouseUp,false);this._element.addEventListener("click",this._longClickData.reset,true);delete this._longClickData}};UI.initializeUIUtils=function(e,t){e.body.classList.toggle("inactive",!e.hasFocus());e.defaultView.addEventListener("focus",UI._windowFocused.bind(UI,e),false);e.defaultView.addEventListener("blur",UI._windowBlurred.bind(UI,e),false);e.addEventListener("focus",UI._focusChanged.bind(UI),true);e.addEventListener("keydown",t=>{UI._keyboardFocus=true;e.defaultView.requestAnimationFrame(()=>void(UI._keyboardFocus=false))},true);if(!UI.themeSupport)UI.themeSupport=new UI.ThemeSupport(t);UI.themeSupport.applyTheme(e);const n=e.body;UI.appendStyle(n,"ui/inspectorStyle.css");UI.GlassPane.setContainer(e.body)};UI.beautifyFunctionName=function(e){return e||Common.UIString("(anonymous)")};UI.registerCustomElement=function(e,t,n){self.customElements.define(t,class extends n{constructor(){super();this.setAttribute("is",t)}},{extends:e});return()=>createElement(e,t)};UI.createTextButton=function(e,t,n,s){const i=createElementWithClass("button",n||"");i.textContent=e;i.classList.add("text-button");if(s)i.classList.add("primary-button");if(t)i.addEventListener("click",t,false);i.type="button";return i};UI.createInput=function(e,t){const n=createElementWithClass("input",e||"");n.spellcheck=false;n.classList.add("harmony-input");if(t)n.type=t;return n};UI.createLabel=function(e,t,n){const s=createElementWithClass("label",t||"");s.textContent=e;if(n)UI.ARIAUtils.bindLabelToControl(s,n);return s};UI.createRadioLabel=function(e,t,n){const s=createElement("span","dt-radio");s.radioElement.name=e;s.radioElement.checked=!!n;s.labelElement.createTextChild(t);return s};UI.createIconLabel=function(e,t){const n=createElement("span","dt-icon-label");n.createChild("span").textContent=e;n.type=t;return n};UI.createSlider=function(e,t,n){const s=createElement("span","dt-slider");s.sliderElement.min=e;s.sliderElement.max=t;s.sliderElement.step=1;s.sliderElement.tabIndex=n;return s};UI.appendStyle=function(e,t){const n=Runtime.cachedResources[t]||"";if(!n)console.error(t+" not preloaded. Check module.json");let s=createElement("style");s.type="text/css";s.textContent=n;e.appendChild(s);const i=UI.themeSupport.themeStyleSheet(t,n);if(i){s=createElement("style");s.type="text/css";s.textContent=i+"\n"+Runtime.resolveSourceURL(t+".theme");e.appendChild(s)}};UI.CheckboxLabel=class extends HTMLSpanElement{constructor(){super();this._shadowRoot;this.checkboxElement;this.textElement;UI.CheckboxLabel._lastId=(UI.CheckboxLabel._lastId||0)+1;const e="ui-checkbox-label"+UI.CheckboxLabel._lastId;this._shadowRoot=UI.createShadowRootWithCoreStyles(this,"ui/checkboxTextLabel.css");this.checkboxElement=this._shadowRoot.createChild("input");this.checkboxElement.type="checkbox";this.checkboxElement.setAttribute("id",e);this.textElement=this._shadowRoot.createChild("label","dt-checkbox-text");this.textElement.setAttribute("for",e);this._shadowRoot.createChild("slot")}static create(e,t,n){if(!UI.CheckboxLabel._constructor)UI.CheckboxLabel._constructor=UI.registerCustomElement("span","dt-checkbox",UI.CheckboxLabel);const s=UI.CheckboxLabel._constructor();s.checkboxElement.checked=!!t;if(e!==undefined){s.textElement.textContent=e;if(n!==undefined)s.textElement.createChild("div","dt-checkbox-subtitle").textContent=n}return s}set backgroundColor(e){this.checkboxElement.classList.add("dt-checkbox-themed");this.checkboxElement.style.backgroundColor=e}set checkColor(e){this.checkboxElement.classList.add("dt-checkbox-themed");const t=createElement("style");t.textContent="input.dt-checkbox-themed:checked:after { background-color: "+e+"}";this._shadowRoot.appendChild(t)}set borderColor(e){this.checkboxElement.classList.add("dt-checkbox-themed");this.checkboxElement.style.borderColor=e}};(function(){let e=0;UI.registerCustomElement("span","dt-radio",class extends HTMLSpanElement{constructor(){super();this.radioElement=this.createChild("input","dt-radio-button");this.labelElement=this.createChild("label");const n="dt-radio-button-id"+ ++e;this.radioElement.id=n;this.radioElement.type="radio";this.labelElement.htmlFor=n;const s=UI.createShadowRootWithCoreStyles(this,"ui/radioButton.css");s.createChild("slot");this.addEventListener("click",t,false)}});function t(e){if(this.radioElement.checked||this.radioElement.disabled)return;this.radioElement.checked=true;this.radioElement.dispatchEvent(new Event("change"))}UI.registerCustomElement("span","dt-icon-label",class extends HTMLSpanElement{constructor(){super();const e=UI.createShadowRootWithCoreStyles(this);this._iconElement=UI.Icon.create();this._iconElement.style.setProperty("margin-right","4px");e.appendChild(this._iconElement);e.createChild("slot")}set type(e){this._iconElement.setIconType(e)}});UI.registerCustomElement("span","dt-slider",class extends HTMLSpanElement{constructor(){super();const e=UI.createShadowRootWithCoreStyles(this,"ui/slider.css");this.sliderElement=createElementWithClass("input","dt-range-input");this.sliderElement.type="range";e.appendChild(this.sliderElement)}set value(e){this.sliderElement.value=e}get value(){return this.sliderElement.value}});UI.registerCustomElement("span","dt-small-bubble",class extends HTMLSpanElement{constructor(){super();const e=UI.createShadowRootWithCoreStyles(this,"ui/smallBubble.css");this._textElement=e.createChild("div");this._textElement.className="info";this._textElement.createChild("slot")}set type(e){this._textElement.className=e}});UI.registerCustomElement("div","dt-close-button",class extends HTMLDivElement{constructor(){super();const e=UI.createShadowRootWithCoreStyles(this,"ui/closeButton.css");this._buttonElement=e.createChild("div","close-button");UI.ARIAUtils.markAsButton(this._buttonElement);const t=UI.Icon.create("smallicon-cross","default-icon");this._hoverIcon=UI.Icon.create("mediumicon-red-cross-hover","hover-icon");this._activeIcon=UI.Icon.create("mediumicon-red-cross-active","active-icon");this._buttonElement.appendChild(t);this._buttonElement.appendChild(this._hoverIcon);this._buttonElement.appendChild(this._activeIcon)}set gray(e){if(e){this._hoverIcon.setIconType("mediumicon-gray-cross-hover");this._activeIcon.setIconType("mediumicon-gray-cross-active")}else{this._hoverIcon.setIconType("mediumicon-red-cross-hover");this._activeIcon.setIconType("mediumicon-red-cross-active")}}setAccessibleName(e){UI.ARIAUtils.setAccessibleName(this._buttonElement,e)}})})();UI.bindInput=function(e,t,n,s,i){e.addEventListener("change",r,false);e.addEventListener("input",o,false);e.addEventListener("keydown",a,false);e.addEventListener("focus",e.select.bind(e),false);function o(){e.classList.toggle("error-input",!n(e.value))}function r(){const s=n(e.value);e.classList.toggle("error-input",!s);if(s)t(e.value)}function a(o){if(isEnterKey(o)){if(n(e.value))t(e.value);o.preventDefault();return}if(!s)return;const r=UI._modifiedFloatNumber(parseFloat(e.value),o,i);const a=r?String(r):"";if(!n(a)||!r)return;e.value=a;t(e.value);o.preventDefault()}function l(t){if(t===e.value)return;const s=n(t);e.classList.toggle("error-input",!s);e.value=t}return l};UI.trimText=function(e,t,n,s){const i=200;if(n<=10)return"";if(t.length>i)t=s(t,i);const o=UI.measureTextWidth(e,t);if(o<=n)return t;let r=0;let a=t.length;let l=0;let c=o;while(r<a&&l!==c&&l!==n){const i=Math.ceil(r+(a-r)*(n-l)/(c-l));const o=UI.measureTextWidth(e,s(t,i));if(o<=n){r=i;l=o}else{a=i-1;c=o}}t=s(t,r);return t!=="…"?t:""};UI.trimTextMiddle=function(e,t,n){return UI.trimText(e,t,n,(e,t)=>e.trimMiddle(t))};UI.trimTextEnd=function(e,t,n){return UI.trimText(e,t,n,(e,t)=>e.trimEnd(t))};UI.measureTextWidth=function(e,t){const n=200;if(t.length>n)return e.measureText(t).width;let s=UI.measureTextWidth._textWidthCache;if(!s){s=new Map;UI.measureTextWidth._textWidthCache=s}const i=e.font;let o=s.get(i);if(!o){o=new Map;s.set(i,o)}let r=o.get(t);if(!r){r=e.measureText(t).width;o.set(t,r)}return r};UI.ThemeSupport=class{constructor(e){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default";this._themeName=e.get()==="systemPreferred"?t:e.get();this._themableProperties=new Set(["color","box-shadow","text-shadow","outline-color","background-image","background-color","border-left-color","border-right-color","border-top-color","border-bottom-color","-webkit-border-image","fill","stroke"]);this._cachedThemePatches=new Map;this._setting=e;this._customSheets=new Set}hasTheme(){return this._themeName!=="default"}themeName(){return this._themeName}injectHighlightStyleSheets(e){this._injectingStyleSheet=true;UI.appendStyle(e,"ui/inspectorSyntaxHighlight.css");if(this._themeName==="dark")UI.appendStyle(e,"ui/inspectorSyntaxHighlightDark.css");this._injectingStyleSheet=false}injectCustomStyleSheets(e){for(const t of this._customSheets){const n=createElement("style");n.type="text/css";n.textContent=t;e.appendChild(n)}}addCustomStylesheet(e){this._customSheets.add(e)}applyTheme(e){if(!this.hasTheme())return;if(this._themeName==="dark")e.documentElement.classList.add("-theme-with-dark-background");const t=e.styleSheets;const n=[];for(let e=0;e<t.length;++e)n.push(this._patchForTheme(t[e].href,t[e]));n.push("/*# sourceURL=inspector.css.theme */");const s=createElement("style");s.type="text/css";s.textContent=n.join("\n");e.head.appendChild(s)}themeStyleSheet(e,t){if(!this.hasTheme()||this._injectingStyleSheet)return"";let n=this._cachedThemePatches.get(e);if(!n){const s=createElement("style");s.type="text/css";s.textContent=t;document.body.appendChild(s);n=this._patchForTheme(e,s.sheet);document.body.removeChild(s)}return n}_patchForTheme(e,t){const n=this._cachedThemePatches.get(e);if(n)return n;try{const n=t.cssRules;const s=[];for(let e=0;e<n.length;++e){if(n[e]instanceof CSSImportRule){s.push(this._patchForTheme(n[e].styleSheet.href,n[e].styleSheet));continue}const t=[];const i=n[e].style;const o=n[e].selectorText;for(let e=0;i&&e<i.length;++e)this._patchProperty(o,i,i[e],t);if(t.length)s.push(n[e].selectorText+"{"+t.join("")+"}")}const i=s.join("\n");this._cachedThemePatches.set(e,i);return i}catch(e){this._setting.set("default");return""}}_patchProperty(e,t,n,s){if(!this._themableProperties.has(n))return;const i=t.getPropertyValue(n);if(!i||i==="none"||i==="inherit"||i==="initial"||i==="transparent")return;if(n==="background-image"&&i.indexOf("gradient")===-1)return;if(e.indexOf("-theme-")!==-1)return;let o=UI.ThemeSupport.ColorUsage.Unknown;if(n.indexOf("background")===0||n.indexOf("border")===0)o|=UI.ThemeSupport.ColorUsage.Background;if(n.indexOf("background")===-1)o|=UI.ThemeSupport.ColorUsage.Foreground;s.push(n);s.push(":");const r=i.replace(Common.Color.Regex,"\0$1\0").split("\0");for(let e=0;e<r.length;++e)s.push(this.patchColorText(r[e],o));if(t.getPropertyPriority(n))s.push(" !important");s.push(";")}patchColorText(e,t){const n=Common.Color.parse(e);if(!n)return e;const s=this.patchColor(n,t);let i=s.asString(null);if(!i)i=s.asString(s.hasAlpha()?Common.Color.Format.RGBA:Common.Color.Format.RGB);return i||e}patchColor(e,t){const n=e.hsla();this._patchHSLA(n,t);const s=[];Common.Color.hsl2rgb(n,s);return new Common.Color(s,e.format())}_patchHSLA(e,t){const n=e[0];const s=e[1];let i=e[2];const o=e[3];switch(this._themeName){case"dark":const e=t&UI.ThemeSupport.ColorUsage.Background?.14:0;const n=t&UI.ThemeSupport.ColorUsage.Foreground?.9:1;i=1-i;if(i<e*2)i=e+i/2;else if(i>2*n-1)i=n-1/2+i/2;break}e[0]=Number.constrain(n,0,1);e[1]=Number.constrain(s,0,1);e[2]=Number.constrain(i,0,1);e[3]=Number.constrain(o,0,1)}};UI.ThemeSupport.ColorUsage={Unknown:0,Foreground:1<<0,Background:1<<1};UI.createDocumentationLink=function(e,t){return UI.XLink.create("https://developers.google.com/web/tools/chrome-devtools/"+e,t)};UI.loadImage=function(e){return new Promise(t=>{const n=new Image;n.addEventListener("load",()=>t(n));n.addEventListener("error",()=>t(null));n.src=e})};UI.loadImageFromData=function(e){return e?UI.loadImage("data:image/jpg;base64,"+e):Promise.resolve(null)};UI.themeSupport;UI.createFileSelectorElement=function(e){const t=createElement("input");t.type="file";t.style.display="none";t.setAttribute("tabindex",-1);t.onchange=n;function n(n){e(t.files[0])}return t};UI.MaxLengthForDisplayedURLs=150;UI.MessageDialog=class{static async show(e,t){const n=new UI.Dialog;n.setSizeBehavior(UI.GlassPane.SizeBehavior.MeasureContent);n.setDimmed(true);const s=UI.createShadowRootWithCoreStyles(n.contentElement,"ui/confirmDialog.css");const i=s.createChild("div","widget");await new Promise(s=>{const o=UI.createTextButton(Common.UIString("OK"),s,"",true);i.createChild("div","message").createChild("span").textContent=e;i.createChild("div","button").appendChild(o);n.setOutsideClickCallback(e=>{e.consume();s()});n.show(t);o.focus()});n.hide()}};UI.ConfirmDialog=class{static async show(e,t){const n=new UI.Dialog;n.setSizeBehavior(UI.GlassPane.SizeBehavior.MeasureContent);n.setDimmed(true);const s=UI.createShadowRootWithCoreStyles(n.contentElement,"ui/confirmDialog.css");const i=s.createChild("div","widget");i.createChild("div","message").createChild("span").textContent=e;const o=i.createChild("div","button");const r=await new Promise(e=>{o.appendChild(UI.createTextButton(Common.UIString("OK"),()=>e(true),"",true));o.appendChild(UI.createTextButton(Common.UIString("Cancel"),()=>e(false)));n.setOutsideClickCallback(t=>{t.consume();e(false)});n.show(t)});n.hide();return r}};UI.createInlineButton=function(e){const t=createElement("span");const n=UI.createShadowRootWithCoreStyles(t,"ui/inlineButton.css");t.classList.add("inline-button");const s=new UI.Toolbar("");s.appendToolbarItem(e);n.appendChild(s.element);return t};UI.createExpandableText=function(e,t){const n=()=>{if(i.parentElement)i.parentElement.insertBefore(createTextNode(e.slice(t)),i);i.remove()};const s=createDocumentFragment();s.textContent=e.slice(0,t);const i=s.createChild("span");const o=Number.bytesToString(2*e.length);if(e.length<1e7){i.setAttribute("data-text",ls`Show more (${o})`);i.classList.add("expandable-inline-button");i.addEventListener("click",n);i.addEventListener("keydown",e=>{if(e.key==="Enter"||e.key===" ")n()});UI.ARIAUtils.markAsButton(i)}else{i.setAttribute("data-text",ls`long text was truncated (${o})`);i.classList.add("undisplayable-text")}const r=s.createChild("span","expandable-inline-button");r.setAttribute("data-text",ls`Copy`);r.addEventListener("click",()=>{InspectorFrontendHost.copyText(e)});r.addEventListener("keydown",t=>{if(t.key==="Enter"||t.key===" ")InspectorFrontendHost.copyText(e)});UI.ARIAUtils.markAsButton(r);return s};UI.Renderer=function(){};UI.Renderer.prototype={render(e,t){}};UI.Renderer.render=async function(e,t){if(!e)throw new Error("Can't render "+e);const n=await self.runtime.extension(UI.Renderer,e).instance();return n?n.render(e,t||{}):null};UI.Renderer.Options;UI.formatTimestamp=function(e,t){const n=new Date(e);const s=n.getFullYear()+"-"+o(n.getMonth()+1,2)+"-"+o(n.getDate(),2);const i=o(n.getHours(),2)+":"+o(n.getMinutes(),2)+":"+o(n.getSeconds(),2)+"."+o(n.getMilliseconds(),3);return t?s+" "+i:i;function o(e,t){const n=e.toString();const s=t-n.length;return s<=0?n:"0".repeat(s)+n}};UI.ARIAUtils={};UI.ARIAUtils._id=0;UI.ARIAUtils.bindLabelToControl=function(e,t){const n=UI.ARIAUtils.nextId("labelledControl");t.id=n;e.setAttribute("for",n)};UI.ARIAUtils.markAsButton=function(e){e.setAttribute("role","button")};UI.ARIAUtils.markAsCheckbox=function(e){e.setAttribute("role","checkbox")};UI.ARIAUtils.markAsDialog=function(e,t){e.setAttribute("role","dialog");if(t)e.setAttribute("aria-modal","true")};UI.ARIAUtils.markAsGroup=function(e){e.setAttribute("role","group")};UI.ARIAUtils.markAsLink=function(e){e.setAttribute("role","link")};UI.ARIAUtils.markAsTab=function(e){e.setAttribute("role","tab")};UI.ARIAUtils.markAsTree=function(e){e.setAttribute("role","tree")};UI.ARIAUtils.markAsTreeitem=function(e){e.setAttribute("role","treeitem")};UI.ARIAUtils.markAsTextBox=function(e){e.setAttribute("role","textbox")};UI.ARIAUtils.markAsMenu=function(e){e.setAttribute("role","menu")};UI.ARIAUtils.markAsMenuItem=function(e){e.setAttribute("role","menuitem")};UI.ARIAUtils.markAsListBox=function(e){e.setAttribute("role","listbox")};UI.ARIAUtils.markAsOption=function(e){e.setAttribute("role","option")};UI.ARIAUtils.markAsRadioGroup=function(e){e.setAttribute("role","radiogroup")};UI.ARIAUtils.markAsHidden=function(e){e.setAttribute("aria-hidden","true")};UI.ARIAUtils.markAsHeading=function(e,t){e.setAttribute("role","heading");e.setAttribute("aria-level",t)};UI.ARIAUtils.setPlaceholder=function(e,t){if(t)e.setAttribute("aria-placeholder",t);else e.removeAttribute("aria-placeholder")};UI.ARIAUtils.markAsPresentation=function(e){e.setAttribute("role","presentation")};UI.ARIAUtils.ensureId=function(e){if(!e.id)e.id=UI.ARIAUtils.nextId("ariaElement")};UI.ARIAUtils.nextId=function(e){return(e||"")+ ++UI.ARIAUtils._id};UI.ARIAUtils.setControls=function(e,t){if(!t){e.removeAttribute("aria-controls");return}UI.ARIAUtils.ensureId(t);e.setAttribute("aria-controls",t.id)};UI.ARIAUtils.setChecked=function(e,t){e.setAttribute("aria-checked",!!t)};UI.ARIAUtils.setExpanded=function(e,t){e.setAttribute("aria-expanded",!!t)};UI.ARIAUtils.unsetExpanded=function(e){e.removeAttribute("aria-expanded")};UI.ARIAUtils.setSelected=function(e,t){e.setAttribute("aria-selected",!!t)};UI.ARIAUtils.setPressed=function(e,t){e.setAttribute("aria-pressed",!!t)};UI.ARIAUtils.setAccessibleName=function(e,t){e.setAttribute("aria-label",t)};UI.ARIAUtils.setLabelledBy=function(e,t){let n="";for(const s of t){console.assert(e.hasSameShadowRoot(s),"elements are not in the same shadow dom");UI.ARIAUtils.ensureId(s);n+=s.id+" "}e.setAttribute("aria-labelledby",n)};UI.ARIAUtils.setDescribedBy=function(e,t){let n="";for(const s of t){console.assert(e.hasSameShadowRoot(s),"elements are not in the same shadow dom");UI.ARIAUtils.ensureId(s);n+=s.id+" "}e.setAttribute("aria-describedby",n)};UI.ARIAUtils.setActiveDescendant=function(e,t){if(!t){e.removeAttribute("aria-activedescendant");return}console.assert(e.hasSameShadowRoot(t),"elements are not in the same shadow dom");UI.ARIAUtils.ensureId(t);e.setAttribute("aria-activedescendant",t.id)};UI.ARIAUtils.alert=function(e,t){const n=t.ownerDocument;if(!n[UI.ARIAUtils.AlertElementSymbol]){const e=n.body.createChild("div");e.style.position="absolute";e.style.left="-999em";e.style.width="100em";e.style.overflow="hidden";e.setAttribute("role","alert");e.setAttribute("aria-atomic","true");n[UI.ARIAUtils.AlertElementSymbol]=e}n[UI.ARIAUtils.AlertElementSymbol].textContent=e.trimEnd(1e4)};UI.ARIAUtils.AlertElementSymbol=Symbol("AlertElementSybmol");UI.ZoomManager=class extends Common.Object{constructor(e,t){super();this._frontendHost=t;this._zoomFactor=this._frontendHost.zoomFactor();e.addEventListener("resize",this._onWindowResize.bind(this),true)}zoomFactor(){return this._zoomFactor}cssToDIP(e){return e*this._zoomFactor}dipToCSS(e){return e/this._zoomFactor}_onWindowResize(){const e=this._zoomFactor;this._zoomFactor=this._frontendHost.zoomFactor();if(e!==this._zoomFactor)this.dispatchEventToListeners(UI.ZoomManager.Events.ZoomChanged,{from:e,to:this._zoomFactor})}};UI.ZoomManager.Events={ZoomChanged:Symbol("ZoomChanged")};UI.zoomManager;UI.ShortcutsScreen=class{constructor(){this._sections={}}static registerShortcuts(){const e=UI.shortcutsScreen.section(Common.UIString("Elements Panel"));const t=UI.ShortcutsScreen.ElementsPanelShortcuts.NavigateUp.concat(UI.ShortcutsScreen.ElementsPanelShortcuts.NavigateDown);e.addRelatedKeys(t,Common.UIString("Navigate elements"));const n=UI.ShortcutsScreen.ElementsPanelShortcuts.Expand.concat(UI.ShortcutsScreen.ElementsPanelShortcuts.Collapse);e.addRelatedKeys(n,Common.UIString("Expand/collapse"));e.addAlternateKeys(UI.ShortcutsScreen.ElementsPanelShortcuts.EditAttribute,Common.UIString("Edit attribute"));e.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("elements.hide-element"),Common.UIString("Hide element"));e.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("elements.edit-as-html"),Common.UIString("Toggle edit as HTML"));const s=UI.shortcutsScreen.section(Common.UIString("Styles Pane"));const i=UI.ShortcutsScreen.ElementsPanelShortcuts.NextProperty.concat(UI.ShortcutsScreen.ElementsPanelShortcuts.PreviousProperty);s.addRelatedKeys(i,Common.UIString("Next/previous property"));s.addRelatedKeys(UI.ShortcutsScreen.ElementsPanelShortcuts.IncrementValue,Common.UIString("Increment value"));s.addRelatedKeys(UI.ShortcutsScreen.ElementsPanelShortcuts.DecrementValue,Common.UIString("Decrement value"));s.addAlternateKeys(UI.ShortcutsScreen.ElementsPanelShortcuts.IncrementBy10,Common.UIString("Increment by %f",10));s.addAlternateKeys(UI.ShortcutsScreen.ElementsPanelShortcuts.DecrementBy10,Common.UIString("Decrement by %f",10));s.addAlternateKeys(UI.ShortcutsScreen.ElementsPanelShortcuts.IncrementBy100,Common.UIString("Increment by %f",100));s.addAlternateKeys(UI.ShortcutsScreen.ElementsPanelShortcuts.DecrementBy100,Common.UIString("Decrement by %f",100));s.addAlternateKeys(UI.ShortcutsScreen.ElementsPanelShortcuts.IncrementBy01,Common.UIString("Increment by %f",.1));s.addAlternateKeys(UI.ShortcutsScreen.ElementsPanelShortcuts.DecrementBy01,Common.UIString("Decrement by %f",.1));const o=UI.shortcutsScreen.section(Common.UIString("Console"));o.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("console.clear"),Common.UIString("Clear console"));o.addRelatedKeys(UI.ShortcutsScreen.ConsolePanelShortcuts.AcceptSuggestion,Common.UIString("Accept suggestion"));o.addAlternateKeys(UI.ShortcutsScreen.ConsolePanelShortcuts.ClearConsolePrompt,Common.UIString("Clear console prompt"));o.addRelatedKeys(UI.ShortcutsScreen.ConsolePanelShortcuts.NextPreviousLine,Common.UIString("Next/previous line"));if(Host.isMac()){o.addRelatedKeys(UI.ShortcutsScreen.ConsolePanelShortcuts.NextPreviousCommand,Common.UIString("Next/previous command"))}o.addKey(UI.ShortcutsScreen.ConsolePanelShortcuts.ExecuteCommand,Common.UIString("Execute command"));const r=UI.shortcutsScreen.section(Common.UIString("Debugger"));r.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("debugger.toggle-pause"),Common.UIString("Pause/ Continue"));r.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("debugger.step-over"),Common.UIString("Step over"));r.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("debugger.step-into"),Common.UIString("Step into"));r.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("debugger.step-out"),Common.UIString("Step out"));const a=UI.shortcutRegistry.shortcutDescriptorsForAction("debugger.next-call-frame").concat(UI.shortcutRegistry.shortcutDescriptorsForAction("debugger.previous-call-frame"));r.addRelatedKeys(a,Common.UIString("Next/previous call frame"));r.addAlternateKeys(UI.ShortcutsScreen.SourcesPanelShortcuts.EvaluateSelectionInConsole,Common.UIString("Evaluate selection in console"));r.addAlternateKeys(UI.ShortcutsScreen.SourcesPanelShortcuts.AddSelectionToWatch,Common.UIString("Add selection to watch"));r.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("debugger.toggle-breakpoint"),Common.UIString("Toggle breakpoint"));r.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("debugger.toggle-breakpoint-enabled"),Common.UIString("Toggle breakpoint enabled"));r.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("debugger.toggle-breakpoints-active"),Common.UIString("Toggle all breakpoints"));r.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("debugger.breakpoint-input-window"),ls`Open breakpoint editor`);const l=UI.shortcutsScreen.section(Common.UIString("Text Editor"));l.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("sources.go-to-member"),Common.UIString("Go to member"));l.addAlternateKeys(UI.ShortcutsScreen.SourcesPanelShortcuts.ToggleAutocompletion,Common.UIString("Autocompletion"));l.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("sources.go-to-line"),Common.UIString("Go to line"));l.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("sources.jump-to-previous-location"),Common.UIString("Jump to previous editing location"));l.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("sources.jump-to-next-location"),Common.UIString("Jump to next editing location"));l.addAlternateKeys(UI.ShortcutsScreen.SourcesPanelShortcuts.ToggleComment,Common.UIString("Toggle comment"));l.addAlternateKeys(UI.ShortcutsScreen.SourcesPanelShortcuts.IncreaseCSSUnitByOne,Common.UIString("Increment CSS unit by 1"));l.addAlternateKeys(UI.ShortcutsScreen.SourcesPanelShortcuts.DecreaseCSSUnitByOne,Common.UIString("Decrement CSS unit by 1"));l.addAlternateKeys(UI.ShortcutsScreen.SourcesPanelShortcuts.IncreaseCSSUnitByTen,Common.UIString("Increment CSS unit by 10"));l.addAlternateKeys(UI.ShortcutsScreen.SourcesPanelShortcuts.DecreaseCSSUnitByTen,Common.UIString("Decrement CSS unit by 10"));l.addAlternateKeys(UI.ShortcutsScreen.SourcesPanelShortcuts.SelectNextOccurrence,Common.UIString("Select next occurrence"));l.addAlternateKeys(UI.ShortcutsScreen.SourcesPanelShortcuts.SoftUndo,Common.UIString("Soft undo"));l.addAlternateKeys(UI.ShortcutsScreen.SourcesPanelShortcuts.GotoMatchingBracket,Common.UIString("Go to matching bracket"));l.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("sources.close-editor-tab"),Common.UIString("Close editor tab"));l.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("sources.switch-file"),Common.UIString("Switch between files with the same name and different extensions."));const c=UI.shortcutsScreen.section(Common.UIString("Performance Panel"));c.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("timeline.toggle-recording"),Common.UIString("Start/stop recording"));c.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("timeline.record-reload"),Common.UIString("Record page reload"));c.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("timeline.save-to-file"),Common.UIString("Save profile"));c.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("timeline.load-from-file"),Common.UIString("Load profile"));c.addRelatedKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("timeline.jump-to-previous-frame").concat(UI.shortcutRegistry.shortcutDescriptorsForAction("timeline.jump-to-next-frame")),Common.UIString("Jump to previous/next frame"));c.addRelatedKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("timeline.show-history"),Common.UIString("Pick a recording from history"));c.addRelatedKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("timeline.previous-recording").concat(UI.shortcutRegistry.shortcutDescriptorsForAction("timeline.next-recording")),Common.UIString("Show previous/next recording"));const d=UI.shortcutsScreen.section(Common.UIString("Memory Panel"));d.addAlternateKeys(UI.shortcutRegistry.shortcutDescriptorsForAction("profiler.heap-toggle-recording"),Common.UIString("Start/stop recording"));const h=UI.shortcutsScreen.section(Common.UIString("Layers Panel"));h.addAlternateKeys(UI.ShortcutsScreen.LayersPanelShortcuts.ResetView,Common.UIString("Reset view"));h.addAlternateKeys(UI.ShortcutsScreen.LayersPanelShortcuts.PanMode,Common.UIString("Switch to pan mode"));h.addAlternateKeys(UI.ShortcutsScreen.LayersPanelShortcuts.RotateMode,Common.UIString("Switch to rotate mode"));h.addAlternateKeys(UI.ShortcutsScreen.LayersPanelShortcuts.TogglePanRotate,Common.UIString("Temporarily toggle pan/rotate mode while held"));h.addAlternateKeys(UI.ShortcutsScreen.LayersPanelShortcuts.ZoomIn,Common.UIString("Zoom in"));h.addAlternateKeys(UI.ShortcutsScreen.LayersPanelShortcuts.ZoomOut,Common.UIString("Zoom out"));h.addRelatedKeys(UI.ShortcutsScreen.LayersPanelShortcuts.Up.concat(UI.ShortcutsScreen.LayersPanelShortcuts.Down),Common.UIString("Pan or rotate up/down"));h.addRelatedKeys(UI.ShortcutsScreen.LayersPanelShortcuts.Left.concat(UI.ShortcutsScreen.LayersPanelShortcuts.Right),Common.UIString("Pan or rotate left/right"))}section(e){let t=this._sections[e];if(!t)this._sections[e]=t=new UI.ShortcutsSection(e);return t}createShortcutsTabView(){const e=[];for(const t in this._sections)e.push(this._sections[t]);function t(e,t){return e.order-t.order}e.sort(t);const n=new UI.Widget;n.element.className="settings-tab-container";n.element.createChild("header").createChild("h1").createTextChild(ls`Shortcuts`);const s=n.element.createChild("div","settings-container-wrapper");const i=s.createChild("div");i.className="settings-content settings-container";for(let t=0;t<e.length;++t)e[t].renderSection(i);const o=s.createChild("p","settings-footnote");o.appendChild(UI.createDocumentationLink("iterate/inspect-styles/shortcuts",Common.UIString("Full list of DevTools keyboard shortcuts and gestures")));return n}};UI.shortcutsScreen;UI.ShortcutsSection=class{constructor(e){this.name=e;this._lines=[];this.order=++UI.ShortcutsSection._sequenceNumber}addKey(e,t){this._addLine(this._renderKey(e),t)}addRelatedKeys(e,t){this._addLine(this._renderSequence(e,"/"),t)}addAlternateKeys(e,t){this._addLine(this._renderSequence(e,Common.UIString("or")),t)}_addLine(e,t){this._lines.push({key:e,text:t})}renderSection(e){const t=e.createChild("div","settings-block");const n=t.createChild("div","settings-line");n.createChild("div","settings-key-cell");n.createChild("div","settings-section-title settings-cell").textContent=this.name;for(let e=0;e<this._lines.length;++e){const n=t.createChild("div","settings-line");const s=n.createChild("div","settings-key-cell");s.appendChild(this._lines[e].key);s.appendChild(this._createSpan("settings-key-delimiter",":"));n.createChild("div","settings-cell").textContent=this._lines[e].text}}_renderSequence(e,t){const n=this._createSpan("settings-key-delimiter",t);return this._joinNodes(e.map(this._renderKey.bind(this)),n)}_renderKey(e){const t=e.name;const n=this._createSpan("settings-combine-keys","+");return this._joinNodes(t.split(" + ").map(this._createSpan.bind(this,"settings-key")),n)}_createSpan(e,t){const n=createElement("span");n.className=e;n.textContent=t;return n}_joinNodes(e,t){const n=createDocumentFragment();for(let s=0;s<e.length;++s){if(s>0)n.appendChild(t.cloneNode(true));n.appendChild(e[s])}return n}};UI.ShortcutsSection._sequenceNumber=0;UI.ShortcutsScreen.ElementsPanelShortcuts={NavigateUp:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Up)],NavigateDown:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Down)],Expand:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Right)],Collapse:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Left)],EditAttribute:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Enter)],NextProperty:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Tab)],PreviousProperty:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Tab,UI.KeyboardShortcut.Modifiers.Shift)],IncrementValue:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Up)],DecrementValue:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Down)],IncrementBy10:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.PageUp),UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Up,UI.KeyboardShortcut.Modifiers.Shift)],DecrementBy10:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.PageDown),UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Down,UI.KeyboardShortcut.Modifiers.Shift)],IncrementBy100:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.PageUp,UI.KeyboardShortcut.Modifiers.Shift)],DecrementBy100:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.PageDown,UI.KeyboardShortcut.Modifiers.Shift)],IncrementBy01:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Up,UI.KeyboardShortcut.Modifiers.Alt)],DecrementBy01:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Down,UI.KeyboardShortcut.Modifiers.Alt)]};UI.ShortcutsScreen.ConsolePanelShortcuts={AcceptSuggestion:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Tab),UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Right)],ClearConsolePrompt:[UI.KeyboardShortcut.makeDescriptor("u",UI.KeyboardShortcut.Modifiers.Ctrl)],ExecuteCommand:UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Enter),NextPreviousLine:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Down),UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Up)],NextPreviousCommand:[UI.KeyboardShortcut.makeDescriptor("N",UI.KeyboardShortcut.Modifiers.Alt),UI.KeyboardShortcut.makeDescriptor("P",UI.KeyboardShortcut.Modifiers.Alt)]};UI.ShortcutsScreen.SourcesPanelShortcuts={SelectNextOccurrence:[UI.KeyboardShortcut.makeDescriptor("d",UI.KeyboardShortcut.Modifiers.CtrlOrMeta)],SoftUndo:[UI.KeyboardShortcut.makeDescriptor("u",UI.KeyboardShortcut.Modifiers.CtrlOrMeta)],GotoMatchingBracket:[UI.KeyboardShortcut.makeDescriptor("m",UI.KeyboardShortcut.Modifiers.Ctrl)],ToggleAutocompletion:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Space,UI.KeyboardShortcut.Modifiers.Ctrl)],IncreaseCSSUnitByOne:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Up,UI.KeyboardShortcut.Modifiers.Alt)],DecreaseCSSUnitByOne:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Down,UI.KeyboardShortcut.Modifiers.Alt)],IncreaseCSSUnitByTen:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.PageUp,UI.KeyboardShortcut.Modifiers.Alt)],DecreaseCSSUnitByTen:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.PageDown,UI.KeyboardShortcut.Modifiers.Alt)],EvaluateSelectionInConsole:[UI.KeyboardShortcut.makeDescriptor("e",UI.KeyboardShortcut.Modifiers.Shift|UI.KeyboardShortcut.Modifiers.Ctrl)],AddSelectionToWatch:[UI.KeyboardShortcut.makeDescriptor("a",UI.KeyboardShortcut.Modifiers.Shift|UI.KeyboardShortcut.Modifiers.Ctrl)],ToggleComment:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Slash,UI.KeyboardShortcut.Modifiers.CtrlOrMeta)]};UI.ShortcutsScreen.LayersPanelShortcuts={ResetView:[UI.KeyboardShortcut.makeDescriptor("0")],PanMode:[UI.KeyboardShortcut.makeDescriptor("x")],RotateMode:[UI.KeyboardShortcut.makeDescriptor("v")],TogglePanRotate:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Shift)],ZoomIn:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Plus,UI.KeyboardShortcut.Modifiers.Shift),UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.NumpadPlus)],ZoomOut:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Minus,UI.KeyboardShortcut.Modifiers.Shift),UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.NumpadMinus)],Up:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Up),UI.KeyboardShortcut.makeDescriptor("w")],Down:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Down),UI.KeyboardShortcut.makeDescriptor("s")],Left:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Left),UI.KeyboardShortcut.makeDescriptor("a")],Right:[UI.KeyboardShortcut.makeDescriptor(UI.KeyboardShortcut.Keys.Right),UI.KeyboardShortcut.makeDescriptor("d")]};UI.Geometry={};UI.Geometry._Eps=1e-5;UI.Geometry.Vector=class{constructor(e,t,n){this.x=e;this.y=t;this.z=n}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){const e=this.length();if(e<=UI.Geometry._Eps)return;this.x/=e;this.y/=e;this.z/=e}};UI.Geometry.Point=class{constructor(e,t){this.x=e;this.y=t}distanceTo(e){return Math.sqrt(Math.pow(e.x-this.x,2)+Math.pow(e.y-this.y,2))}projectOn(e){if(e.x===0&&e.y===0)return new UI.Geometry.Point(0,0);return e.scale((this.x*e.x+this.y*e.y)/(Math.pow(e.x,2)+Math.pow(e.y,2)))}scale(e){return new UI.Geometry.Point(this.x*e,this.y*e)}toString(){return Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100}};UI.Geometry.CubicBezier=class{constructor(e,t){this.controlPoints=[e,t]}static parse(e){const t=UI.Geometry.CubicBezier.KeywordValues;const n=e.toLowerCase().replace(/\s+/g,"");if(Object.keys(t).indexOf(n)!==-1)return UI.Geometry.CubicBezier.parse(t[n]);const s=/^cubic-bezier\(([^,]+),([^,]+),([^,]+),([^,]+)\)$/;const i=n.match(s);if(i){const e=new UI.Geometry.Point(parseFloat(i[1]),parseFloat(i[2]));const t=new UI.Geometry.Point(parseFloat(i[3]),parseFloat(i[4]));return new UI.Geometry.CubicBezier(e,t)}return null}evaluateAt(e){function t(e,t,n){return 3*(1-n)*(1-n)*n*e+3*(1-n)*n*n*t+Math.pow(n,3)}const n=t(this.controlPoints[0].x,this.controlPoints[1].x,e);const s=t(this.controlPoints[0].y,this.controlPoints[1].y,e);return new UI.Geometry.Point(n,s)}asCSSText(){const e="cubic-bezier("+this.controlPoints.join(", ")+")";const t=UI.Geometry.CubicBezier.KeywordValues;for(const n in t){if(e===t[n])return n}return e}};UI.Geometry.CubicBezier.Regex=/((cubic-bezier\([^)]+\))|\b(linear|ease-in-out|ease-in|ease-out|ease)\b)/g;UI.Geometry.CubicBezier.KeywordValues={linear:"cubic-bezier(0, 0, 1, 1)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)"};UI.Geometry.EulerAngles=class{constructor(e,t,n){this.alpha=e;this.beta=t;this.gamma=n}static fromRotationMatrix(e){const t=Math.atan2(e.m23,e.m33);const n=Math.atan2(-e.m13,Math.sqrt(e.m11*e.m11+e.m12*e.m12));const s=Math.atan2(e.m12,e.m11);return new UI.Geometry.EulerAngles(UI.Geometry.radiansToDegrees(s),UI.Geometry.radiansToDegrees(t),UI.Geometry.radiansToDegrees(n))}toRotate3DString(){const e=-Math.sin(UI.Geometry.degreesToRadians(this.beta));const t=Math.cos(UI.Geometry.degreesToRadians(this.beta));const n={alpha:[0,1,0],beta:[-1,0,0],gamma:[0,e,t]};return"rotate3d("+n.alpha.join(",")+","+this.alpha+"deg) "+"rotate3d("+n.beta.join(",")+","+this.beta+"deg) "+"rotate3d("+n.gamma.join(",")+","+this.gamma+"deg)"}};UI.Geometry.scalarProduct=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z};UI.Geometry.crossProduct=function(e,t){const n=e.y*t.z-e.z*t.y;const s=e.z*t.x-e.x*t.z;const i=e.x*t.y-e.y*t.x;return new UI.Geometry.Vector(n,s,i)};UI.Geometry.subtract=function(e,t){const n=e.x-t.x;const s=e.y-t.y;const i=e.z-t.z;return new UI.Geometry.Vector(n,s,i)};UI.Geometry.multiplyVectorByMatrixAndNormalize=function(e,t){const n=e.x*t.m14+e.y*t.m24+e.z*t.m34+t.m44;const s=(e.x*t.m11+e.y*t.m21+e.z*t.m31+t.m41)/n;const i=(e.x*t.m12+e.y*t.m22+e.z*t.m32+t.m42)/n;const o=(e.x*t.m13+e.y*t.m23+e.z*t.m33+t.m43)/n;return new UI.Geometry.Vector(s,i,o)};UI.Geometry.calculateAngle=function(e,t){const n=e.length();const s=t.length();if(n<=UI.Geometry._Eps||s<=UI.Geometry._Eps)return 0;const i=UI.Geometry.scalarProduct(e,t)/n/s;if(Math.abs(i)>1)return 0;return UI.Geometry.radiansToDegrees(Math.acos(i))};UI.Geometry.degreesToRadians=function(e){return e*Math.PI/180};UI.Geometry.radiansToDegrees=function(e){return e*180/Math.PI};UI.Geometry.boundsForTransformedPoints=function(e,t,n){if(!n)n={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};if(t.length%3)console.assert("Invalid size of points array");for(let s=0;s<t.length;s+=3){let i=new UI.Geometry.Vector(t[s],t[s+1],t[s+2]);i=UI.Geometry.multiplyVectorByMatrixAndNormalize(i,e);n.minX=Math.min(n.minX,i.x);n.maxX=Math.max(n.maxX,i.x);n.minY=Math.min(n.minY,i.y);n.maxY=Math.max(n.maxY,i.y)}return n};UI.Size=class{constructor(e,t){this.width=e;this.height=t}clipTo(e){if(!e)return this;return new UI.Size(Math.min(this.width,e.width),Math.min(this.height,e.height))}scale(e){return new UI.Size(this.width*e,this.height*e)}};UI.Size.prototype.isEqual=function(e){return!!e&&this.width===e.width&&this.height===e.height};UI.Size.prototype.widthToMax=function(e){return new UI.Size(Math.max(this.width,typeof e==="number"?e:e.width),this.height)};UI.Size.prototype.addWidth=function(e){return new UI.Size(this.width+(typeof e==="number"?e:e.width),this.height)};UI.Size.prototype.heightToMax=function(e){return new UI.Size(this.width,Math.max(this.height,typeof e==="number"?e:e.height))};UI.Size.prototype.addHeight=function(e){return new UI.Size(this.width,this.height+(typeof e==="number"?e:e.height))};UI.Insets=class{constructor(e,t,n,s){this.left=e;this.top=t;this.right=n;this.bottom=s}isEqual(e){return!!e&&this.left===e.left&&this.top===e.top&&this.right===e.right&&this.bottom===e.bottom}};UI.Rect=class{constructor(e,t,n,s){this.left=e;this.top=t;this.width=n;this.height=s}isEqual(e){return!!e&&this.left===e.left&&this.top===e.top&&this.width===e.width&&this.height===e.height}scale(e){return new UI.Rect(this.left*e,this.top*e,this.width*e,this.height*e)}size(){return new UI.Size(this.width,this.height)}relativeTo(e){return new UI.Rect(this.left-e.left,this.top-e.top,this.width,this.height)}rebaseTo(e){return new UI.Rect(this.left+e.left,this.top+e.top,this.width,this.height)}};UI.Constraints=class{constructor(e,t){this.minimum=e||new UI.Size(0,0);this.preferred=t||this.minimum;if(this.minimum.width>this.preferred.width||this.minimum.height>this.preferred.height)throw new Error("Minimum size is greater than preferred.")}};UI.Constraints.prototype.isEqual=function(e){return!!e&&this.minimum.isEqual(e.minimum)&&this.preferred.isEqual(e.preferred)};UI.Constraints.prototype.widthToMax=function(e){if(typeof e==="number")return new UI.Constraints(this.minimum.widthToMax(e),this.preferred.widthToMax(e));return new UI.Constraints(this.minimum.widthToMax(e.minimum),this.preferred.widthToMax(e.preferred))};UI.Constraints.prototype.addWidth=function(e){if(typeof e==="number")return new UI.Constraints(this.minimum.addWidth(e),this.preferred.addWidth(e));return new UI.Constraints(this.minimum.addWidth(e.minimum),this.preferred.addWidth(e.preferred))};UI.Constraints.prototype.heightToMax=function(e){if(typeof e==="number")return new UI.Constraints(this.minimum.heightToMax(e),this.preferred.heightToMax(e));return new UI.Constraints(this.minimum.heightToMax(e.minimum),this.preferred.heightToMax(e.preferred))};UI.Constraints.prototype.addHeight=function(e){if(typeof e==="number")return new UI.Constraints(this.minimum.addHeight(e),this.preferred.addHeight(e));return new UI.Constraints(this.minimum.addHeight(e.minimum),this.preferred.addHeight(e.preferred))};UI.XLink=class extends UI.XElement{static create(e,t,n,s){if(!t)t=e;n=n||"";return UI.html`
        <x-link href='${e}' class='${n} devtools-link' ${s?"no-click":""}
        >${t.trimMiddle(UI.MaxLengthForDisplayedURLs)}</x-link>`}constructor(){super();this.style.setProperty("display","inline");UI.ARIAUtils.markAsLink(this);this.tabIndex=0;this.setAttribute("target","_blank");this._href=null;this._clickable=true;this._onClick=(e=>{e.consume(true);InspectorFrontendHost.openInNewTab(this._href)});this._onKeyDown=(e=>{if(e.key!==" "&&!isEnterKey(e))return;e.consume(true);InspectorFrontendHost.openInNewTab(this._href)})}static get observedAttributes(){return UI.XElement.observedAttributes.concat(["href","no-click"])}attributeChangedCallback(e,t,n){if(e==="no-click"){this._clickable=!n;this._updateClick();return}if(e==="href"){let e=n;if(n.trim().toLowerCase().startsWith("javascript:"))e=null;if(Common.ParsedURL.isRelativeURL(n))e=null;this._href=e;this.title=n;this._updateClick();return}super.attributeChangedCallback(e,t,n)}_updateClick(){if(this._href!==null&&this._clickable){this.addEventListener("click",this._onClick,false);this.addEventListener("keydown",this._onKeyDown,false);this.style.setProperty("cursor","pointer")}else{this.removeEventListener("click",this._onClick,false);this.removeEventListener("keydown",this._onKeyDown,false);this.style.removeProperty("cursor")}}};UI.XLink.ContextMenuProvider=class{appendApplicableItems(e,t,n){let s=n;while(s&&!(s instanceof UI.XLink))s=s.parentNodeOrShadowHost();if(!s||!s._href)return;t.revealSection().appendItem(UI.openLinkExternallyLabel(),()=>InspectorFrontendHost.openInNewTab(s._href));t.revealSection().appendItem(UI.copyLinkAddressLabel(),()=>InspectorFrontendHost.copyText(s._href))}};self.customElements.define("x-link",UI.XLink);UI.XWidget=class extends UI.XElement{constructor(){super();this.style.setProperty("display","flex");this.style.setProperty("flex-direction","column");this.style.setProperty("align-items","stretch");this.style.setProperty("justify-content","flex-start");this.style.setProperty("contain","layout style");this._visible=false;this._shadowRoot;this._defaultFocusedElement=null;this._elementsToRestoreScrollPositionsFor=[];this._onShownCallback;this._onHiddenCallback;this._onResizedCallback;if(!UI.XWidget._observer){UI.XWidget._observer=new ResizeObserver(e=>{for(const t of e){if(t.target._visible&&t.target._onResizedCallback)t.target._onResizedCallback.call(null)}})}UI.XWidget._observer.observe(this);this.setElementsToRestoreScrollPositionsFor([this])}static focusWidgetForNode(e){e=e&&e.parentNodeOrShadowHost();let t=null;while(e){if(e instanceof UI.XWidget){if(t)e._defaultFocusedElement=t;t=e}e=e.parentNodeOrShadowHost()}}isShowing(){return this._visible}registerRequiredCSS(e){UI.appendStyle(this._shadowRoot||this,e)}setOnShown(e){this._onShownCallback=e}setOnHidden(e){this._onHiddenCallback=e}setOnResized(e){this._onResizedCallback=e}setElementsToRestoreScrollPositionsFor(e){for(const e of this._elementsToRestoreScrollPositionsFor)e.removeEventListener("scroll",UI.XWidget._storeScrollPosition,{passive:true,capture:false});this._elementsToRestoreScrollPositionsFor=e;for(const e of this._elementsToRestoreScrollPositionsFor)e.addEventListener("scroll",UI.XWidget._storeScrollPosition,{passive:true,capture:false})}restoreScrollPositions(){for(const e of this._elementsToRestoreScrollPositionsFor){if(e._scrollTop)e.scrollTop=e._scrollTop;if(e._scrollLeft)e.scrollLeft=e._scrollLeft}}static _storeScrollPosition(e){const t=e.currentTarget;t._scrollTop=t.scrollTop;t._scrollLeft=t.scrollLeft}setDefaultFocusedElement(e){if(e&&!this.isSelfOrAncestor(e))throw new Error("Default focus must be descendant");this._defaultFocusedElement=e}focus(){if(!this._visible)return;let e;if(this._defaultFocusedElement&&this.isSelfOrAncestor(this._defaultFocusedElement)){e=this._defaultFocusedElement}else if(this.tabIndex!==-1){e=this}else{let t=this.traverseNextNode(this);while(t){if(t instanceof UI.XWidget&&t._visible){e=t;break}t=t.traverseNextNode(this)}}if(!e||e.hasFocus())return;if(e===this)HTMLElement.prototype.focus.call(this);else e.focus()}connectedCallback(){this._visible=true;this.restoreScrollPositions();if(this._onShownCallback)this._onShownCallback.call(null)}disconnectedCallback(){this._visible=false;if(this._onHiddenCallback)this._onHiddenCallback.call(null)}};self.customElements.define("x-widget",UI.XWidget);Runtime.cachedResources["ui/checkboxTextLabel.css"]="/*\n * Copyright (c) 2014 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n    padding: 0;\n    margin: 0;\n    display: inline-flex;\n    flex-shrink: 0;\n    align-items: center !important;\n}\n\ninput {\n    height: 12px;\n    width: 12px;\n    flex-shrink: 0;\n}\n\ninput:focus {\n    outline: auto 5px -webkit-focus-ring-color;\n}\n\ninput.dt-checkbox-themed {\n    -webkit-appearance: none;\n    margin: auto 5px auto 2px;\n    border: 1px solid rgb(45, 45, 45);\n    border-radius: 3px;\n    background-color: rgb(102, 102, 102);\n}\n\ninput.dt-checkbox-themed:after {\n    content: '';\n    line-height: 10px;\n    position: absolute;\n    cursor: pointer;\n    width: 12px;\n    height: 12px;\n    background: none;\n}\n\ninput.dt-checkbox-themed:checked:after {\n    background-color: #333;\n}\n\ninput.dt-checkbox-themed:after {\n    -webkit-mask-image: url(Images/checkboxCheckmark.svg);\n    -webkit-mask-size: 11px 11px;\n    -webkit-mask-position: 0 0;\n}\n\n:host-context(.-theme-with-dark-background) input:not(.dt-checkbox-themed) {\n    filter: invert(80%);\n}\n\n.dt-checkbox-text {\n    margin-left: 3px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.dt-checkbox-subtitle {\n    color: gray;\n}\n";Runtime.cachedResources["ui/closeButton.css"]="/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.close-button {\n    width: 14px;\n    height: 14px;\n    cursor: default;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.hover-icon, .active-icon {\n    display: none;\n}\n\n.close-button:hover .default-icon, .close-button:active .default-icon {\n    display: none;\n}\n\n.close-button:hover .hover-icon {\n    display: block;\n}\n\n.close-button:active .hover-icon {\n    display: none !important;\n}\n\n.close-button:active .active-icon {\n    display: block;\n}\n";Runtime.cachedResources["ui/confirmDialog.css"]="/*\n * Copyright (c) 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.widget {\n    padding: 20px;\n}\n\n.message, .button {\n    font-size: larger;\n    white-space: pre;\n    margin: 5px;\n}\n\n.button {\n    text-align: center;\n    margin-top: 10px;\n}\n\n.button button {\n    min-width: 80px;\n}\n\n.reason {\n    color: #8b0000;\n}\n";Runtime.cachedResources["ui/dialog.css"]="/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.widget {\n    box-shadow: var(--drop-shadow);\n    background: white;\n    justify-content: flex-start;\n    align-items: stretch;\n    display: flex;\n}\n\n.dialog-close-button {\n    position: absolute;\n    right: 9px;\n    top: 9px;\n    z-index: 1;\n}";Runtime.cachedResources["ui/dropTarget.css"]="/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    display: flex;\n    background-color: rgba(255,255,255,0.8);\n    z-index: 1000;\n}\n\n.drop-target-message {\n    flex: auto;\n    font-size: 30px;\n    color: #999;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: 20px;\n    border: 4px dashed #ddd;\n    pointer-events: none;\n}\n";Runtime.cachedResources["ui/emptyWidget.css"]="/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.empty-view {\n    color: hsla(0, 0%, 43%, 1);\n    padding: 30px;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    min-width: 70px;\n}\n\n.empty-view-scroller {\n    justify-content: center;\n    overflow: auto;\n}\n\n.empty-view p {\n    white-space: initial;\n    line-height: 18px;\n    max-width: 300px;\n    flex-shrink: 0;\n}\n";Runtime.cachedResources["ui/filter.css"]='/*\n * Copyright (C) 2013 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n.filter-bar {\n    background-color: var(--toolbar-bg-color);\n    flex: none;\n    flex-wrap: wrap;\n    align-items: center;\n    border-bottom: var(--divider-border);\n}\n\n.filter-text-filter {\n    display: inline-flex;\n    margin-left: 1px;\n    margin-right: 2px;\n    min-width: 40px;\n    max-width: 200px;\n    height: 24px;\n    align-items: center;\n}\n\n.filter-bitset-filter {\n    padding: 2px;\n    display: inline-flex;\n    overflow: hidden;\n    height: 24px;\n    position: relative;\n    margin: 0;\n}\n\n.filter-bitset-filter span {\n    display: inline-block;\n    flex: none;\n    margin: auto 2px;\n    padding: 3px;\n    background: transparent;\n    text-shadow: rgba(255, 255, 255, 0.5) 0 1px 0;\n    border-radius: 6px;\n    overflow: hidden;\n}\n\n.filter-bitset-filter-divider {\n    background-color: #ccc;\n    height: 16px;\n    width: 1px;\n    margin: auto 2px;\n    display: inline-block;\n}\n\n.filter-bitset-filter span.selected,\n.filter-bitset-filter span:hover,\n.filter-bitset-filter span:active {\n    color: white;\n    text-shadow: rgba(0, 0, 0, 0.4) 0 1px 0;\n}\n\n.filter-bitset-filter span:hover {\n    background: rgba(0, 0, 0, 0.2);\n}\n\n.filter-bitset-filter span.selected {\n    background: rgba(0, 0, 0, 0.3);\n}\n\n.filter-bitset-filter span:active {\n    background: rgba(0, 0, 0, 0.5);\n}\n\n.filter-checkbox-filter {\n    padding-left: 4px;\n    padding-right: 2px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    display: inline-flex;\n    vertical-align: middle;\n    height: 24px;\n    position: relative;\n}\n\n.filter-checkbox-filter > [is=dt-checkbox] {\n    display: flex;\n    margin: auto 0;\n}\n\n.filter-input-field {\n    margin: 0 3px;\n    padding-left: 3px;\n    width: 163px;\n    height: 18px;\n    line-height: 20px;\n    display: inline-block;\n    background: #FFF;\n    overflow: hidden;\n    white-space: nowrap;\n    cursor: auto;\n}\n\n.filter-input-field:hover {\n    box-shadow: var(--focus-ring-inactive-shadow);\n}\n\n.filter-input-field:focus,\n.filter-input-field:not(:empty) {\n    box-shadow: var(--focus-ring-active-shadow);\n}\n';Runtime.cachedResources["ui/glassPane.css"]="/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n    position: absolute !important;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    overflow: hidden;\n    contain: strict;\n    background-color: transparent;\n}\n\n:host-context(.dimmed-pane) {\n    background-color: rgba(255, 255, 255, 0.5);\n}\n\n:host-context(.no-pointer-events) {\n    pointer-events: none;\n}\n\n.widget {\n    display: flex;\n    background-color: transparent;\n    pointer-events: auto;\n    flex: none;\n}\n\n.no-pointer-events {\n    pointer-events: none;\n}\n\n.arrow-top {\n    margin-top: -19px;\n    margin-left: -9px;\n}\n\n.arrow-bottom {\n    margin-left: -9px;\n}\n\n.arrow-left {\n    margin-left: -19px;\n    margin-top: -9px;\n}\n\n.arrow-right {\n    margin-top: -9px;\n}\n\n.arrow-none {\n    display: none;\n}\n\n:host-context(.-theme-with-dark-background) .arrow {\n    -webkit-filter: invert(80%);\n}\n";Runtime.cachedResources["ui/infobar.css"]="/*\n * Copyright 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.infobar {\n    color: rgb(34, 34, 34);\n    display: flex;\n    flex: auto;\n    border-bottom: 1px solid rgb(171, 171, 171);\n    flex-direction: column;\n    align-items: stretch;\n    position: relative;\n}\n\n.infobar-warning {\n    background-color: rgb(253, 242, 192);\n}\n\n.infobar-info {\n    background-color: rgb(255, 255, 255);\n}\n\n.infobar-main-row {\n    display: flex;\n    flex-direction: row;\n    flex: auto;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    justify-content: space-between;\n    margin-right: 20px;\n    min-height: 25px;\n    align-items: center;\n    padding-left: 4px;\n}\n\n.infobar-main-row > * {\n    flex: none;\n    padding: 0 3px;\n}\n\n.infobar-main-title {\n    flex: auto;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.infobar-details-rows {\n    padding: 5px 5px 0 5px;\n}\n\n.infobar-details-row {\n    display: flex;\n    flex-direction: column;\n    line-height: 18px;\n    padding-bottom: 6px;\n}\n\n.close-button {\n    position: absolute;\n    top: 5px;\n    right: 6px;\n}\n\n.infobar-toggle {\n    color: hsl(214, 92%, 50%);\n    cursor: pointer;\n}\n\n.infobar-toggle:hover {\n    color: hsl(214, 92%, 30%);\n}\n\n.info-icon {\n    -webkit-mask-image: url(Images/ic_info_black_18dp.svg);\n    background-color: hsl(214, 92%, 50%);\n}\n\n.warning-icon {\n    -webkit-mask-image: url(Images/ic_warning_black_18dp.svg);\n    background-color: hsl(44, 92%, 50%);\n}\n\n.icon {\n    -webkit-mask-size: 18px 18px;\n    width: 18px;\n    height: 19px;\n}\n";Runtime.cachedResources["ui/inlineButton.css"]="/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  display: inline-block;\n  border: 1px solid #ddd;\n  position: relative;\n  top: 7px;\n  margin: 2px;\n  background-color: var(--toolbar-bg-color);\n}\n\n:host > * {\n  position: relative;\n  left: -2px;\n  width: 28px;\n  height: 26px;\n}";Runtime.cachedResources["ui/inspectorCommon.css"]='/*\n * Copyright 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n* {\n    /* This is required for correct sizing of flex items because we rely\n     * on an old version of the flexbox spec.\n     * Longer-term we should remove this, see crbug.com/473625 */\n    min-width: 0;\n    min-height: 0;\n}\n\n:host-context(.platform-mac) .monospace,\n:host-context(.platform-mac) .source-code,\n.platform-mac .monospace,\n.platform-mac .source-code {\n    font-size: 11px !important;\n    font-family: Menlo, monospace;\n}\n\n:host-context(.platform-windows) .monospace,\n:host-context(.platform-windows) .source-code,\n.platform-windows .monospace,\n.platform-windows .source-code {\n    font-size: 12px !important;\n    font-family: Consolas, Lucida Console, Courier New, monospace;\n}\n\n:host-context(.platform-linux) .monospace,\n:host-context(.platform-linux) .source-code,\n.platform-linux .monospace,\n.platform-linux .source-code {\n    font-size: 11px !important;\n    font-family: dejavu sans mono, monospace;\n}\n\n.source-code {\n    font-family: monospace;\n    font-size: 11px !important;\n    white-space: pre-wrap;\n}\n\n* {\n    box-sizing: border-box;\n}\n\n:focus {\n    outline-width: 0;\n}\n\ninput[type=radio]:focus {\n    outline: auto 5px -webkit-focus-ring-color;\n}\n\nimg {\n    -webkit-user-drag: none;\n}\n\niframe,\na img {\n    border: none;\n}\n\n.fill {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\niframe.fill {\n    width: 100%;\n    height: 100%;\n}\n\n.widget {\n    position: relative;\n    flex: auto;\n    contain: style;\n}\n\n.hbox {\n    display: flex;\n    flex-direction: row !important;\n    position: relative;\n}\n\n.vbox {\n    display: flex;\n    flex-direction: column !important;\n    position: relative;\n}\n\n.view-container > .toolbar {\n    border-bottom: 1px solid #eee;\n}\n\n.flex-auto {\n    flex: auto;\n}\n\n.flex-none {\n    flex: none;\n}\n\n.flex-centered {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.overflow-auto {\n    overflow: auto;\n}\n\niframe.widget {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n}\n\n.hidden {\n    display: none !important;\n}\n\n.monospace {\n    font-size: 10px !important;\n    font-family: monospace;\n}\n\n.highlighted-search-result {\n    border-radius: 1px;\n    background-color: rgba(255, 255, 0, 0.8);\n    outline: 1px solid rgba(255, 255, 0, 0.8);\n}\n\n.-theme-with-dark-background .highlighted-search-result,\n:host-context(.-theme-with-dark-background) .highlighted-search-result {\n    background-color: hsl(133, 100%, 30%);\n    color: #333;\n}\n\n.link {\n    cursor: pointer;\n    text-decoration: underline;\n    color: rgb(17, 85, 204);\n}\n\nbutton,\ninput,\nselect {\n    /* Form elements do not automatically inherit font style from ancestors. */\n    font-family: inherit;\n    font-size: inherit;\n}\n\ninput {\n    background-color: white;\n    color: inherit;\n}\n\n:host-context(.-theme-with-dark-background) input[type="checkbox"]::not(.-theme-preserve) {\n    -webkit-filter: invert(80%);\n}\n\n.harmony-input:not([type]),\n.harmony-input[type=number],\n.harmony-input[type=text] {\n    padding: 3px 6px;\n    height: 24px;\n    border: none;\n}\n\n.harmony-input:not([type]):not(.error-input):not(:invalid):hover,\n.harmony-input[type=number]:not(.error-input):not(:invalid):hover,\n.harmony-input[type=text]:not(.error-input):not(:invalid):hover {\n    box-shadow: var(--focus-ring-inactive-shadow);\n}\n\n.harmony-input:not([type]):not(.error-input):not(:invalid):focus,\n.harmony-input[type=number]:not(.error-input):not(:invalid):focus,\n.harmony-input[type=text]:not(.error-input):not(:invalid):focus {\n    box-shadow: var(--focus-ring-active-shadow);\n}\n\n.highlighted-search-result.current-search-result {\n    border-radius: 1px;\n    padding: 1px;\n    margin: -1px;\n    background-color: rgba(255, 127, 0, 0.8);\n}\n\n.dimmed {\n    opacity: 0.6;\n}\n\n.editing {\n    box-shadow: var(--drop-shadow);\n    background-color: white;\n    text-overflow: clip !important;\n    padding-left: 2px;\n    margin-left: -2px;\n    padding-right: 2px;\n    margin-right: -2px;\n    margin-bottom: -1px;\n    padding-bottom: 1px;\n    opacity: 1.0 !important;\n}\n\n.editing,\n.editing * {\n    color: #222 !important;\n    text-decoration: none !important;\n}\n\n.harmony-input:not([type]).error-input,\n.harmony-input[type=number].error-input,\n.harmony-input[type=text].error-input,\n.harmony-input:not([type]):invalid,\n.harmony-input[type=number]:invalid,\n.harmony-input[type=text]:invalid {\n    box-shadow: 0 0 0 1px #ff1a00;\n}\n\n.chrome-select {\n    -webkit-appearance: none;\n    -webkit-user-select: none;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 2px;\n    color: #333;\n    font: inherit;\n    margin: 0;\n    outline: none;\n    padding-right: 20px;\n    padding-left: 6px;\n    background-image: -webkit-image-set(url(Images/chromeSelect.png) 1x, url(Images/chromeSelect_2x.png) 2x);\n    background-color: hsl(0, 0%, 98%);\n    background-position: right center;\n    background-repeat: no-repeat;\n    min-height: 24px;\n    min-width: 80px;\n    background-size: 15px;\n}\n\n.chrome-select:enabled:active,\n.chrome-select:enabled:focus,\n.chrome-select:enabled:hover {\n    background-color: hsl(0, 0%, 96%);\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n.chrome-select:enabled:active {\n    background-color: #f2f2f2;\n}\n\n.chrome-select:enabled:focus {\n    border-color: transparent;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1), 0 0 0 2px rgba(66, 133, 244, 0.4);\n}\n\n.chrome-select:disabled {\n    opacity: 0.38;\n}\n\n.chrome-select optgroup,\n.chrome-select option {\n    background-color: #EEEEEE;\n    color: #222;\n}\n\n:not(.platform-mac).-theme-with-dark-background ::-webkit-scrollbar,\n:host-context(:not(.platform-mac).-theme-with-dark-background) ::-webkit-scrollbar {\n    width: 14px;\n    height: 14px;\n}\n\n:not(.platform-mac).-theme-with-dark-background ::-webkit-scrollbar-track,\n:host-context(:not(.platform-mac).-theme-with-dark-background) ::-webkit-scrollbar-track {\n    -webkit-box-shadow: inset 0 0 1px rgba(255,255,255,0.3);\n}\n\n:not(.platform-mac).-theme-with-dark-background ::-webkit-scrollbar-thumb,\n:host-context(:not(.platform-mac).-theme-with-dark-background) ::-webkit-scrollbar-thumb {\n    border-radius: 2px;\n    background-color: #333;\n    -webkit-box-shadow: inset 0 0 1px rgba(255,255,255,0.5);\n}\n\n:not(.platform-mac).-theme-with-dark-background ::-webkit-scrollbar-corner,\n:host-context(:not(.platform-mac).-theme-with-dark-background) ::-webkit-scrollbar-corner {\n    background-color: #242424;\n}\n\n.gray-info-message {\n    text-align: center;\n    font-style: italic;\n    padding: 6px;\n    color: #888;\n    white-space: nowrap;\n}\n\nspan[is=dt-icon-label] {\n    flex: none;\n}\n\n.full-widget-dimmed-banner a {\n    color: inherit;\n}\n\n.full-widget-dimmed-banner {\n    color: #777;\n    background-color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    padding: 20px;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    font-size: 13px;\n    overflow: auto;\n    z-index: 500;\n}\n\n[is=ui-icon] {\n    display: inline-block;\n    flex-shrink: 0;\n}\n\n.-theme-with-dark-background [is=ui-icon].icon-invert,\n:host-context(.-theme-with-dark-background) [is=ui-icon].icon-invert {\n    filter: invert(80%) hue-rotate(180deg);\n}\n\n[is=ui-icon].icon-mask {\n    background-color: rgb(110, 110, 110);\n    -webkit-mask-position: var(--spritesheet-position);\n}\n\n[is=ui-icon]:not(.icon-mask) {\n    background-position: var(--spritesheet-position);\n}\n\n.spritesheet-smallicons:not(.icon-mask) {\n    background-image: url(Images/smallIcons.svg);\n}\n\n.spritesheet-smallicons.icon-mask {\n    -webkit-mask-image: url(Images/smallIcons.svg);\n}\n\n.spritesheet-largeicons:not(.icon-mask) {\n    background-image: url(Images/largeIcons.svg);\n}\n\n.spritesheet-largeicons.icon-mask {\n    -webkit-mask-image: url(Images/largeIcons.svg);\n}\n\n.spritesheet-mediumicons:not(.icon-mask) {\n    background-image: url(Images/mediumIcons.svg);\n}\n\n.spritesheet-mediumicons.icon-mask {\n    -webkit-mask-image: url(Images/mediumIcons.svg);\n}\n\n.spritesheet-arrowicons {\n    background-image: url(Images/popoverArrows.png);\n}\n\n:host-context(.force-white-icons) [is=ui-icon].spritesheet-smallicons, .force-white-icons [is=ui-icon].spritesheet-smallicons, [is=ui-icon].force-white-icons.spritesheet-smallicons, -theme-preserve {\n    -webkit-mask-image: url(Images/smallIcons.svg);\n    -webkit-mask-position: var(--spritesheet-position);\n    background: #fafafa !important;\n}\n\n:host-context(.force-white-icons) [is=ui-icon].spritesheet-largeicons, .force-white-icons [is=ui-icon].spritesheet-largeicons, [is=ui-icon].force-white-icons.spritesheet-largeicons, -theme-preserve {\n    -webkit-mask-image: url(Images/largeIcons.svg);\n    -webkit-mask-position: var(--spritesheet-position);\n    background: #fafafa !important;\n}\n\n:host-context(.force-white-icons) [is=ui-icon].spritesheet-mediumicon, .force-white-icons [is=ui-icon].spritesheet-mediumicons, [is=ui-icon].force-white-icons.spritesheet-mediumicons, -theme-preserve {\n    -webkit-mask-image: url(Images/mediumIcons.svg);\n    -webkit-mask-position: var(--spritesheet-position);\n    background: #fafafa !important;\n}\n\n.expandable-inline-button {\n    background-color: #dedede;\n    color: #333;\n    cursor: pointer;\n    border-radius: 3px;\n}\n\n.undisplayable-text,\n.expandable-inline-button {\n    padding: 2px 4px;\n    margin: 0 2px;\n    font-size: 12px;\n    font-family: sans-serif;\n    white-space: nowrap;\n    display: inline-block;\n}\n\n.undisplayable-text::after,\n.expandable-inline-button::after {\n    content: attr(data-text);\n}\n\n.undisplayable-text {\n    color: rgb(128, 128, 128);\n    font-style: italic;\n}\n\n.expandable-inline-button:hover {\n    background-color: #d5d5d5;\n}\n\n.expandable-inline-button[data-keyboard-focus="true"] {\n    background-color: #bbbbbb;\n}\n\n::selection {\n    background-color: #bbdefb;\n}\n\n.-theme-with-dark-background *::selection,\n:host-context(.-theme-with-dark-background) *::selection {\n    background-color: #9e9e9e;\n}\n\nbutton.link {\n    border: none;\n    background: none;\n    padding: 3px;\n}\n\nbutton.link[data-keyboard-focus="true"]:focus {\n    background-color: rgba(0, 0, 0, 0.08);\n    border-radius: 2px;\n}\n';Runtime.cachedResources["ui/inspectorStyle.css"]="/*\n * Copyright (C) 2006, 2007, 2008 Apple Inc.  All rights reserved.\n * Copyright (C) 2009 Anthony Ricaud <rik@webkit.org>\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. (\"Apple\") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS \"AS IS\" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n:root {\n    height: 100%;\n    overflow: hidden;\n}\n\n:root {\n    --accent-color: #1a73e8;\n    --accent-fg-color: #1a73e8;\n    --accent-color-hover: #3b86e8;\n    --focus-bg-color: hsl(214, 40%, 92%);\n    --toolbar-bg-color: #f3f3f3;\n    --toolbar-hover-bg-color: #eaeaea;\n    --selection-fg-color: white;\n    --selection-inactive-fg-color: #5a5a5a;\n    --selection-inactive-bg-color: #dadada;\n    --tab-selected-fg-color: #333;\n    --tab-selected-bg-color: var(--toolbar-bg-color);\n    --drop-shadow: 0 0 0 1px rgba(0, 0, 0, 0.05),\n                   0 2px 4px rgba(0, 0, 0, 0.2),\n                   0 2px 6px rgba(0, 0, 0, 0.1);\n    --divider-color: #d0d0d0;\n    --focus-ring-inactive-shadow: 0 0 0 1px #e0e0e0;\n    --editor-selection-bg-color: #cfe8fc;\n    --editor-selection-inactive-bg-color: #e0e0e0;\n}\n\n.-theme-with-dark-background {\n    --accent-color: #0e639c;\n    --accent-fg-color: #cccccc;\n    --accent-color-hover: rgb(17, 119, 187);\n    --focus-bg-color: hsl(214, 19%, 27%);\n    --toolbar-bg-color: #333333;\n    --toolbar-hover-bg-color: #202020;\n    --selection-fg-color: #cdcdcd;\n    --selection-inactive-fg-color: #cdcdcd;\n    --selection-inactive-bg-color: hsl(0, 0%, 28%);\n    --tab-selected-fg-color: #eaeaea;\n    --tab-selected-bg-color: black;\n    --drop-shadow: 0 0 0 1px rgba(255, 255, 255, 0.2),\n                   0 2px 4px 2px rgba(0, 0, 0, 0.2),\n                   0 2px 6px 2px rgba(0, 0, 0, 0.1);\n    --divider-color: #525252;\n    --focus-ring-inactive-shadow: 0 0 0 1px #5a5a5a;\n    --editor-selection-bg-color: hsl(207, 88%, 22%);\n    --editor-selection-inactive-bg-color: #454545;\n}\n\n:root {\n    --focus-ring-active-shadow: 0 0 0 1px var(--accent-color);\n    --selection-bg-color: var(--accent-color);\n    --divider-border: 1px solid var(--divider-color);\n}\n\nbody {\n    height: 100%;\n    width: 100%;\n    position: relative;\n    overflow: hidden;\n    margin: 0;\n    cursor: default;\n    font-family: '.SFNSDisplay-Regular', 'Helvetica Neue', 'Lucida Grande', sans-serif;\n    font-size: 12px;\n    tab-size: 4;\n    -webkit-user-select: none;\n    color: #222;\n    background: white;\n}\n\n.platform-linux {\n    color: rgb(48, 57, 66);\n    font-family: Roboto, Ubuntu, Arial, sans-serif;\n}\n\n.platform-mac {\n    color: rgb(48, 57, 66);\n    font-family: '.SFNSDisplay-Regular', 'Helvetica Neue', 'Lucida Grande', sans-serif;\n}\n\n.platform-windows {\n    font-family: 'Segoe UI', Tahoma, sans-serif;\n}\n\n.panel {\n    display: flex;\n    overflow: hidden;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 0;\n    background-color: white;\n}\n\n.panel-sidebar {\n    overflow-x: hidden;\n    background-color: var(--toolbar-bg-color);\n}\n\niframe.extension {\n    flex: auto;\n    width: 100%;\n    height: 100%;\n}\n\niframe.panel.extension {\n    display: block;\n    height: 100%;\n}\n";Runtime.cachedResources["ui/inspectorSyntaxHighlight.css"]='/*\n * Copyright (C) 2009 Apple Inc.  All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. ("Apple") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS "AS IS" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n.cm-js-keyword {color: hsl(310, 86%, 36%);}\n.cm-js-number {color: hsl(248, 100%, 41%);}\n.cm-js-comment {color: hsl(120, 100%, 23%); font-style: italic;}\n.cm-js-string {color: hsl(1, 80%, 43%);}\n.cm-js-string-2 {color: hsl(1, 99%, 39%);}\n.cm-js-atom {color: hsl(310, 86%, 36%);}\n.cm-js-def {color: hsl(240, 73%, 38%);}\n.cm-js-operator {color: hsl(27, 100%, 30%);}\n.cm-js-meta {color: hsl(27, 100%, 30%);}\n.cm-js-variable-2 {color: hsl(240, 73%, 38%);}\n\n.cm-css-keyword { color: rgb(7, 144, 154);}\n.cm-css-number {color: rgb(50, 0, 255);}\n.cm-css-comment {color: rgb(0, 116, 0);}\n.cm-css-def {color: rgb(200, 0, 0);}\n.cm-css-meta {color: rgb(200, 0, 0);}\n.cm-css-atom {color: rgb(7, 144, 154);}\n.cm-css-string {color: rgb(7, 144, 154);}\n.cm-css-string-2 {color: rgb(7, 144, 154);}\n.cm-css-link {color: rgb(7, 144, 154);}\n.cm-css-variable {color: rgb(200, 0, 0);}\n.cm-css-variable-2 {color: rgb(0, 0, 128);}\n.cm-css-property, .webkit-css-property {color: rgb(200, 0, 0);}\n\n.cm-xml-meta {color: rgb(192, 192, 192);}\n.cm-xml-comment {color: rgb(35, 110, 37);}\n.cm-xml-string {color: rgb(26, 26, 166);}\n.cm-xml-tag {color: var(--dom-tag-name-color);}\n.cm-xml-attribute {color: rgb(153, 69, 0);}\n.cm-xml-link {color: #00e;}\n\n:root {\n    --dom-tag-name-color: rgb(136, 18, 128);\n    --dom-attribute-name-color: rgb(153, 69, 0);\n}\n\n.webkit-html-comment {\n    /* Keep this in sync with view-source.css (.webkit-html-comment) */\n    color: rgb(35, 110, 37);\n}\n\n.webkit-html-tag {\n    color: rgb(168, 148, 166);\n}\n\n.webkit-html-tag-name, .webkit-html-close-tag-name {\n    /* Keep this in sync with view-source.css (.webkit-html-tag) */\n    color: var(--dom-tag-name-color);\n}\n\n.webkit-html-pseudo-element {\n    /* This one is non-standard. */\n    color: brown;\n}\n\n.webkit-html-js-node,\n.webkit-html-css-node {\n    white-space: pre-wrap;\n}\n\n.webkit-html-text-node {\n    unicode-bidi: -webkit-isolate;\n}\n\n.webkit-html-entity-value {\n    /* This one is non-standard. */\n    background-color: rgba(0, 0, 0, 0.15);\n    unicode-bidi: -webkit-isolate;\n}\n\n.webkit-html-doctype {\n    /* Keep this in sync with view-source.css (.webkit-html-doctype) */\n    color: rgb(192, 192, 192);\n}\n\n.webkit-html-attribute-name {\n    /* Keep this in sync with view-source.css (.webkit-html-attribute-name) */\n    color: var(--dom-attribute-name-color);\n    unicode-bidi: -webkit-isolate;\n}\n\n.webkit-html-attribute-value {\n    /* Keep this in sync with view-source.css (.webkit-html-attribute-value) */\n    color: rgb(26, 26, 166);\n    unicode-bidi: -webkit-isolate;\n}\n\n.devtools-link {\n    color: rgb(17, 85, 204);\n    text-decoration: underline;\n}\n\n.devtools-link [is=ui-icon] {\n    vertical-align: middle;\n}\n\n.devtools-link[data-keyboard-focus="true"]:focus {\n    outline-width: unset;\n}\n\n.devtools-link:not(.devtools-link-prevent-click) {\n    cursor: pointer;\n}\n\n.-theme-with-dark-background .devtools-link,\n:host-context(.-theme-with-dark-background) .devtools-link {\n    color: hsl(0, 0%, 67%);\n}\n\n/* Default CodeMirror Theme */\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-invalidchar {color: #f00;}\n\n.cm-header {color: blue;}\n.cm-quote {color: #090;}\n\n.cm-keyword {color: #708;}\n.cm-atom {color: #219;}\n.cm-number {color: #164;}\n.cm-def {color: #00f;}\n.cm-variable-2 {color: #05a;}\n.cm-variable-3, .cm-type {color: #085;}\n.cm-comment {color: #a50;}\n.cm-string {color: #a11;}\n.cm-string-2 {color: #f50;}\n.cm-meta {color: #555;}\n.cm-qualifier {color: #555;}\n.cm-builtin {color: #30a;}\n.cm-bracket {color: #997;}\n.cm-tag {color: #170;}\n.cm-attribute {color: #00c;}\n.cm-hr {color: #999;}\n.cm-link {color: #00c;}\n\n.cm-error {color: #f00;}\n';Runtime.cachedResources["ui/inspectorSyntaxHighlightDark.css"]="/*\n * Copyright 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.cm-js-atom{color:rgb(161, 247, 181);}\n.cm-js-attribute{color:rgb(97, 148, 198);}\n.cm-js-builtin{color:rgb(159, 180, 214);}\n.cm-js-comment{color:rgb(116, 116, 116);}\n.cm-js-def{color:var(--dom-tag-name-color);}\n.cm-js-keyword{color:rgb(154, 127, 213);}\n.cm-js-link{color:rgb(159, 180, 214);}\n.cm-js-meta{color:rgb(221, 251, 85);}\n.cm-js-number{color:rgb(161, 247, 181);}\n.cm-js-operator{color:rgb(210, 192, 87);}\n.cm-js-property{color:rgb(210, 192, 87);}\n.cm-js-string{color:rgb(242, 139, 84);}\n.cm-js-string-2{color:rgb(242, 139, 84);}\n.cm-js-tag{color:var(--dom-tag-name-color);}\n.cm-js-variable{color:rgb(217, 217, 217);}\n.cm-js-variable-2{color:rgb(217, 217, 217);}\n.cm-atom{color:rgb(161, 247, 181);}\n.cm-comment{color:rgb(116, 116, 116);}\n.cm-variable{color:rgb(217, 217, 217);}\n.cm-string{color:rgb(242, 139, 84);}\n.cm-keyword{color:rgb(154, 127, 213);}\n.cm-number{color:rgb(161, 247, 181);}\n.cm-operator{color:rgb(210, 192, 87);}\n.cm-css-atom{color:rgb(217, 217, 217);}\n.cm-css-builtin{color:rgb(255, 163, 79);}\n.cm-css-def{color:rgb(255, 163, 79);}\n.cm-css-comment{color:rgb(116, 116, 116);}\n.cm-css-meta{color:rgb(132, 240, 255);}\n.cm-css-number{color:rgb(217, 217, 217);}\n.cm-css-operator{color:rgb(217, 217, 217);}\n.cm-css-property{color:rgb(132, 240, 255);}\n.cm-css-qualifier{color:rgb(255, 163, 79);}\n.cm-css-string{color:rgb(231, 194, 111);}\n.cm-css-string-2{color:rgb(217, 217, 217);}\n.cm-css-tag{color:rgb(255, 163, 79);}\n.cm-css-variable{color:rgb(255, 163, 79);}\n.cm-css-variable-2{color:rgb(255, 163, 79);}\n.cm-xml-comment{color:rgb(137, 137, 137);}\n.cm-xml-error{color:rgb(198, 95, 95);}\n.cm-xml-string{color:rgb(242, 151, 102);}\n.cm-xml-tag{color:var(--dom-tag-name-color);}\n.cm-xml-attribute{color:var(--dom-attribute-name-color);}\n.cm-xml-link{color:rgb(231, 194, 111);}\n\n.webkit-html-attribute-name{color:var(--dom-attribute-name-color);}\n.webkit-html-attribute-value{color:rgb(242, 151, 102);}\n.webkit-html-comment{color:rgb(137, 137, 137);}\n.devtools-link{color:rgb(231, 194, 111);}\n.webkit-html-tag{color:var(--dom-tag-name-color);}\n.webkit-html-tag-name{color:var(--dom-tag-name-color);}\n.webkit-html-close-tag-name{color:var(--dom-tag-name-color);}\n.webkit-html-text-node{color:rgb(207, 208, 208);}\n.webkit-html-css-node{color:rgb(207, 208, 208);}\n.webkit-html-js-node{color:rgb(207, 208, 208);}\n.webkit-html-pseudo-element{color:rgb(93, 175, 215);}\n.webkit-css-property{color: rgb(53, 212, 199);}\n\n.cm-def{color:var(--dom-tag-name-color);}\n.cm-header{color:var(--dom-tag-name-color);}\n.cm-variable-2{color:rgb(217, 217, 217);}\n\n.cm-variable-2 {color: #05a;}\n.cm-variable-3, .cm-type {color: rgb(93, 176, 215);}\n.cm-string {color: rgb(242, 139, 84);}\n.cm-meta {color: #555;}\n.cm-meta {color:rgb(221, 251, 85);}\n.cm-qualifier{color:rgb(255, 163, 79);}\n.cm-builtin{color:rgb(159, 180, 214);}\n.cm-bracket {color: #997;}\n.cm-tag{color:var(--dom-tag-name-color);}\n.cm-attribute{color:rgb(97, 148, 198);}\n.cm-hr {color: #999;}\n.cm-link{color:rgb(159, 180, 214);}\n\n:root {\n    --dom-tag-name-color: rgb(93, 176, 215);\n    --dom-attribute-name-color: rgb(155, 187, 220);\n}\n";Runtime.cachedResources["ui/inspectorViewTabbedPane.css"]="/*\n * Copyright 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.tabbed-pane-header-tab,\n.tabbed-pane-header-tab.selected {\n    height: 26px;\n    margin: 0;\n    border: none;\n    border-left: 2px solid transparent;\n    border-right: 2px solid transparent;\n}\n\n.tabbed-pane-header-tab.selected {\n    border-width: 0 2px 0 2px;\n}\n\n.tabbed-pane-header-contents {\n    margin-left: 0;\n}\n\n.tabbed-pane-left-toolbar {\n    margin-right: 0 !important;\n}\n";Runtime.cachedResources["ui/listWidget.css"]="/*\n * Copyright 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.list {\n    flex: auto 0 1;\n    overflow-y: auto;\n    border: 1px solid rgb(231, 231, 231);\n    flex-direction: column;\n}\n\n.list-separator {\n    background: rgb(231, 231, 231);\n    height: 1px;\n}\n\n.list-item {\n    flex: none;\n    min-height: 30px;\n    display: flex;\n    align-items: center;\n    position: relative;\n    overflow: hidden;\n}\n\n.list-item:hover {\n    background: hsl(0, 0%, 96%);\n}\n\n.controls-container {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n    align-items: stretch;\n    pointer-events: none;\n}\n\n.controls-gradient {\n    flex: 0 1 50px;\n}\n\n.list-item:hover .controls-gradient {\n    background-image: linear-gradient(90deg, transparent, hsl(0, 0%, 96%));\n}\n\n.controls-buttons {\n    flex: none;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    pointer-events: auto;\n    visibility: hidden;\n}\n\n.list-item:hover .controls-buttons {\n    background-color: hsl(0, 0%, 96%);\n    visibility: visible;\n}\n\n.editor-container {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    flex: none;\n    background: hsl(0, 0%, 96%);\n    overflow: hidden;\n}\n\n.editor-content {\n    flex: auto;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n}\n\n.editor-buttons {\n    flex: none;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n    padding: 5px;\n}\n\n.editor-buttons > button {\n    flex: none;\n    margin-right: 10px;\n}\n\n.editor-content input {\n    margin-right: 10px;\n}\n\n.editor-content input.error-input {\n    background-color: white;\n}\n";Runtime.cachedResources["ui/popover.css"]="/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.widget {\n    display: flex;\n    background: white;\n    box-shadow: var(--drop-shadow);\n    border-radius: 2px;\n    overflow: auto;\n    -webkit-user-select: text;\n    line-height: 11px;\n}\n\n.widget.has-padding {\n    padding: 6px;\n}\n";Runtime.cachedResources["ui/progressIndicator.css"]="/*\n * Copyright (c) 2014 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.progress-indicator-shadow-stop-button {\n    background-color: rgb(216, 0, 0) !important;\n    border: 0;\n    width: 10px;\n    height: 12px;\n    border-radius: 2px;\n}\n\n.progress-indicator-shadow-container {\n    display: flex;\n    flex: 1 0 auto;\n    align-items: center;\n}\n\n.progress-indicator-shadow-container .title {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    max-width: 150px;\n    margin-right: 2px;\n    color: #777;\n}\n\n.progress-indicator-shadow-container progress {\n    flex: auto;\n    margin: 0 2px;\n    width: 100px\n}\n";Runtime.cachedResources["ui/radioButton.css"]="/*\n * Copyright (c) 2014 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n::slotted(input.dt-radio-button) {\n    height: 17px;\n    width: 17px;\n    min-width: 17px;\n    border: 1px solid rgb(165, 165, 165);\n    background-image: linear-gradient(to bottom, rgb(252, 252, 252), rgb(223, 223, 223));\n    border-radius: 8px;\n    -webkit-appearance: none;\n    vertical-align: middle;\n    margin: 0 5px 5px 0;\n}\n\n::slotted(input.dt-radio-button:active:not(:disabled)) {\n    background-image: linear-gradient(to bottom, rgb(194, 194, 194), rgb(239, 239, 239));\n}\n\n::slotted(input.dt-radio-button:checked) {\n    background: url(Images/radioDot.png) center no-repeat,\n                linear-gradient(to bottom, rgb(252, 252, 252), rgb(223, 223, 223));\n}\n\n::slotted(input.dt-radio-button:checked:active) {\n    background: url(Images/radioDot.png) center no-repeat,\n                linear-gradient(to bottom, rgb(194, 194, 194), rgb(239, 239, 239));\n}\n";Runtime.cachedResources["ui/remoteDebuggingTerminatedScreen.css"]="/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.widget {\n    padding: 20px;\n}\n\n.message, .button {\n    font-size: larger;\n    white-space: pre;\n    margin: 5px;\n}\n\n.button {\n    text-align: center;\n    margin-top: 10px;\n}\n\n.reason {\n    color: #8b0000;\n}\n";Runtime.cachedResources["ui/reportView.css"]="/*\n * Copyright 2016 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n    background-color: #f9f9f9;\n}\n\n.report-content-box {\n    background-color: white;\n    white-space: nowrap;\n    overflow: auto;\n}\n\n.report-content-box.no-scroll {\n    overflow: visible;\n}\n\n.report-header {\n    border-bottom: 1px solid rgb(230, 230, 230);\n    padding: 12px 24px;\n}\n\n.report-header .toolbar {\n    margin-bottom: -8px;\n}\n\n.report-header .toolbar {\n    margin-top: 5px;\n    margin-left: -8px;\n}\n\n.report-title {\n    font-size: 15px;\n}\n\n.report-url, .report-subtitle {\n    font-size: 12px;\n    margin-top: 10px;\n}\n\n.report-section {\n    display: flex;\n    padding: 12px;\n    border-bottom: 1px solid rgb(230, 230, 230);\n    flex-direction: column;\n}\n\n.report-section-header {\n    margin-left: 18px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n}\n\n.report-section-title {\n    flex: auto;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    font-weight: bold;\n    color: #555;\n}\n\n.report-field {\n    margin-top: 8px;\n    display: flex;\n    line-height: 28px;\n}\n\n.report-row {\n    margin: 10px 0 2px 18px;\n}\n\n.report-field-name {\n    color: #888;\n    flex: 0 0 128px;\n    text-align: right;\n    padding: 0 6px;\n    white-space: pre;\n}\n\n.report-field-value {\n    flex: auto;\n    padding: 0 6px;\n    white-space: pre;\n}\n\n.report-field-value-subtitle {\n    color: #888;\n    line-height: 14px;\n}\n\n.report-row-selectable {\n    user-select: text;\n}\n";Runtime.cachedResources["ui/rootView.css"]="/*\n * Copyright 2016 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.root-view {\n    background-color: white;\n    overflow: hidden;\n    position: absolute !important;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n}\n";Runtime.cachedResources["ui/searchableView.css"]="/*\n * Copyright (c) 2014 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.search-bar {\n    flex: 0 0 31px;\n    background-color: #eee;\n    border-top: 1px solid #ccc;\n    display: flex;\n    overflow: hidden;\n    z-index: 0;\n}\n\n.search-bar.replaceable {\n    flex: 0 0 57px;\n}\n\n.search-replace {\n    -webkit-appearance: none;\n    border: 0;\n    padding: 0 3px;\n    margin: 0;\n    flex: 1;\n}\n\n.search-replace:focus {\n    outline: none;\n}\n\n.toolbar-search {\n    display: flex;\n    width: 100%;\n}\n\n.toolbar-search > div {\n    margin: 2px 2px;\n    flex-shrink: 0;\n}\n\n.toolbar-search-inputs {\n    flex-grow: 1;\n    min-width: 150px;\n}\n\n.toolbar-search-navigation-controls {\n    align-self: stretch;\n}\n\n.toolbar-search-navigation {\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    background-repeat: no-repeat;\n    background-position: 4px 7px;\n    border-left: 1px solid rgb(170, 170, 170);\n    opacity: 0.3;\n}\n\n.toolbar-search-navigation.enabled {\n    opacity: 1.0;\n}\n\n.toolbar-search button.search-action-button {\n    font-weight: 400;\n    height: 22px;\n    width: 87px;\n}\n\n.toolbar-search-control {\n    display: -webkit-flex;\n    position: relative;\n    background-color: white;\n}\n\n.toolbar-search-buttons {\n    display: flex;\n    flex-direction: column;\n}\n\n.toolbar-replace-control,\n#search-input-field {\n    margin-top: 1px;\n    line-height: 17px;\n}\n\n.toolbar-search-control, .toolbar-replace-control {\n    border: 1px solid rgb(163, 163, 163);\n    height: 22px;\n    border-radius: 2px;\n    width: 100%;\n    margin-top: 2px;\n    margin-bottom: 2px;\n}\n\n.toolbar-search-navigation.enabled:active {\n    background-position: 4px 7px, 0 0;\n}\n\n.toolbar-search-navigation.toolbar-search-navigation-prev {\n    background-image: url(Images/searchPrev.png);\n    border-left: 1px solid rgb(163, 163, 163);\n}\n\n:host-context(.-theme-with-dark-background) .toolbar-search-navigation {\n    -webkit-filter: invert(90%);\n}\n\n.toolbar-search-navigation.toolbar-search-navigation-prev.enabled:active {\n    background-image: url(Images/searchPrev.png), #f2f2f2;\n}\n\n.toolbar-search-navigation.toolbar-search-navigation-next {\n    background-image: url(Images/searchNext.png);\n    border-left: 1px solid rgb(230, 230, 230);\n}\n\n.toolbar-search-navigation.toolbar-search-navigation-next.enabled:active {\n    background-image: url(Images/searchNext.png), #f2f2f2;\n}\n\n.search-results-matches {\n    display: inline-block;\n    text-align: right;\n    padding: 0 4px;\n    color: rgb(165, 165, 165);\n    align-self: center;\n}\n\n.first-row-buttons {\n    display: flex;\n    justify-content: space-between;\n}\n\n.toolbar-search > .replace-toggle-toolbar {\n    margin: 2px -2px 0 0;\n}\n\n.toolbar-search-options {\n    margin: 0 auto;\n}\n";Runtime.cachedResources["ui/slider.css"]="/*\n * Copyright 2016 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.dt-range-input {\n    -webkit-appearance: none;\n    margin: 0;\n    padding: 0;\n    height: 10px;\n    width: 88px;\n    outline: none;\n    background: none;\n}\n\n.dt-range-input::-webkit-slider-thumb, -theme-preserve {\n    -webkit-appearance: none;\n    margin: 0;\n    padding: 0;\n    border: 0;\n    width: 12px;\n    height: 12px;\n    margin-top: -5px;\n    border-radius: 50%;\n    background-color: #4285F4;\n}\n\n.dt-range-input::-webkit-slider-runnable-track {\n    -webkit-appearance: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 2px;\n    background-color: rgba(0, 0, 0, 0.26);\n}\n\n.dt-range-input:focus::-webkit-slider-thumb, -theme-preserve {\n    box-shadow: 0 0 0 2px rgba(66, 133, 244, 0.4);\n}\n\n.dt-range-input:disabled::-webkit-slider-thumb {\n    background-color: #bdbdbd;\n}\n";Runtime.cachedResources["ui/smallBubble.css"]="/*\n * Copyright 2016 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\ndiv {\n    display: inline-block;\n    height: 14px;\n    vertical-align: middle;\n    white-space: nowrap;\n    padding: 1px 4px;\n    text-align: left;\n    font-size: 11px;\n    line-height: normal;\n    font-weight: bold;\n    text-shadow: none;\n    color: white;\n    margin-top: -1px;\n    border-radius: 7px;\n}\n\ndiv.verbose {\n    background-color: rgb(0, 0, 255);\n}\n\ndiv.info {\n    background-color: rgb(128, 151, 189);\n}\n\ndiv.warning {\n    background-color: rgb(232, 164, 0);\n}\n\ndiv.error {\n    background-color: rgb(216, 35, 35);\n}\n";Runtime.cachedResources["ui/segmentedButton.css"]="/*\n * Copyright 2018 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.segmented-button {\n  align-items: center;\n  align-content: center;\n  display: flex;\n}\n\n.segmented-button-segment {\n  background-color: white;\n  border: var(--divider-border);\n  border-right-style: none;\n  color: #5a5a5a;\n  flex: 1 1 0;\n  font-weight: 700;\n  margin-left: -1px;\n  padding: 4px 16px;\n}\n\n.segmented-button-segment:hover {\n  background-color: #F4F4F4;\n  color: #333;\n}\n\n.segmented-button-segment:first-child {\n  border-bottom-left-radius: 4px;\n  border-top-left-radius: 4px;\n}\n\n.segmented-button-segment:last-child {\n  border-bottom-right-radius: 4px;\n  border-right-style: solid;\n  border-top-right-radius: 4px;\n}\n\n.segmented-button-segment.segmented-button-segment-selected {\n  background-color: hsl(218, 81%, 59%);\n  border-color: transparent;\n  color: #FAFAFA;\n}\n\n.segmented-button-segment.segmented-button-segment-selected:hover {\n  background-color: hsl(218, 81%, 62%);\n  color: #FFF;\n}\n\n/* Remove a border between the selected button and its siblin */\n.segmented-button-segment-selected + .segmented-button-segment {\n  border-left-color: transparent;\n}\n";Runtime.cachedResources["ui/softContextMenu.css"]="/*\n * Copyright (c) 2014 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.soft-context-menu {\n    overflow-y: auto;\n    min-width: 160px !important;\n    /* NOTE: Keep padding in sync with padding adjustment in SoftContextMenu.js */\n    padding: 4px 0 4px 0;\n    border: 1px solid #b9b9b9;\n    background-color: #FFF;\n    box-shadow: var(--drop-shadow);\n    --context-menu-hover-bg: #ebebeb;\n    --context-menu-hover-color: #222;\n    --context-menu-seperator-color: var(--divider-color);\n}\n\n:host:host-context(.platform-mac):host-context(html:not(.-theme-with-dark-background)) .soft-context-menu {\n    border: 1px solid rgba(196, 196, 196, 0.9);\n    border-top: 1px solid rgba(196, 196, 196, 0.5);\n    border-radius: 4px;\n    background-color: rgb(240, 240, 240);\n    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.25);\n    --context-menu-hover-color: #FFF;\n    --context-menu-seperator-color: rgb(222, 222, 222);\n}\n\n:host-context(.-theme-with-dark-background) .soft-context-menu {\n    --context-menu-hover-bg: var(--selection-bg-color);\n    --context-menu-hover-color: var(--selection-fg-color);\n    border: none;\n}\n\n.soft-context-menu-item {\n    display: flex;\n    width: 100%;\n    line-height: 14px;\n    font-size: 12px;\n    border-top: 1px solid transparent;\n    border-bottom: 1px solid transparent;\n    padding: 2px 7px 2px 8px;\n    margin: 0 13px 0 0;\n    white-space: nowrap;\n}\n\n.soft-context-menu-disabled {\n    color: #999;\n    pointer-events: none;\n}\n\n.soft-context-menu-separator {\n    height: 10px;\n    margin: 0 1px;\n}\n\n.soft-context-menu-separator > .separator-line {\n    margin: 0;\n    height: 5px;\n    border-bottom: 1px solid var(--context-menu-seperator-color);\n    pointer-events: none;\n}\n\n.soft-context-menu-item-mouse-over {\n    border-top: 1px solid var(--context-menu-hover-bg);\n    border-bottom: 1px solid var(--context-menu-hover-bg);\n    background-color: var(--context-menu-hover-bg);\n    color: var(--context-menu-hover-color);\n}\n\n:host:host-context(.platform-mac):host-context(html:not(.-theme-with-dark-background)) .soft-context-menu-item-mouse-over {\n    border-top: 1px solid transparent;\n    border-bottom: 1px solid transparent;\n    background-image: linear-gradient(to right, hsl(214, 81%, 60%), hsl(214, 100%, 56%));\n}\n\n:host:host-context(.platform-mac):host-context(html:not(.-theme-with-dark-background)) .separator-line {\n    border-width: 2px;\n}\n\n.soft-context-menu-item-submenu-arrow {\n    pointer-events: none;\n    font-size: 11px;\n    text-align: right;\n    align-self: center;\n    margin-left: auto;\n}\n\n.soft-context-menu-item-mouse-over .soft-context-menu-item-checkmark {\n    color: var(--selection-fg-color);\n}\n\n.soft-context-menu-custom-item {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    flex: auto;\n}\n\n.soft-context-menu-shortcut {\n    color: gray;\n    pointer-events: none;\n    flex: 1 1 auto;\n    text-align: right;\n    padding-left: 10px;\n}\n\n.soft-context-menu-item-mouse-over .soft-context-menu-shortcut {\n    color: inherit;\n}\n\n.checkmark {\n    opacity: 0.7;\n    pointer-events: none;\n    margin: auto 5px auto 0px;\n}\n\n:host-context(.-theme-with-dark-background) .checkmark {\n    filter: invert(80%);\n}\n\n.soft-context-menu-item-mouse-over .checkmark {\n    opacity: 1;\n    filter: none;\n}\n";Runtime.cachedResources["ui/softDropDown.css"]="/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.item.disabled {\n    opacity: 0.5;\n}\n\n.item-list {\n    background-color: white;\n    box-shadow: var(--drop-shadow);\n    overflow-x: hidden;\n    overflow-y: auto;\n    width: 100%;\n}\n\n.item.highlighted {\n    color: var(--selection-fg-color);\n    background-color: var(--selection-bg-color);\n}\n";Runtime.cachedResources["ui/softDropDownButton.css"]='/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\nbutton.soft-dropdown {\n    height: 26px;\n    text-align: left;\n    position: relative;\n    border: none;\n    background: none;\n}\n\nbutton.soft-dropdown[disabled] {\n    opacity: .5;\n}\n\nbutton.soft-dropdown > .title {\n    padding-right: 5px;\n    width: 120px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\nbutton.soft-dropdown[data-keyboard-focus="true"]:focus::before {\n    content: "";\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    right: 2px;\n    bottom: 2px;\n    border-radius: 2px;\n    background: rgba(0, 0, 0, 0.08);\n}\n';Runtime.cachedResources["ui/splitWidget.css"]='/*\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n * 1. Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GOOGLE INC. AND ITS CONTRIBUTORS\n * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GOOGLE INC.\n * OR ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n:host {\n    overflow: hidden;\n}\n\n.shadow-split-widget {\n    display: flex;\n    overflow: hidden;\n}\n\n.shadow-split-widget-contents {\n    display: flex;\n    position: relative;\n    flex-direction: column;\n    contain: layout size style;\n}\n\n.shadow-split-widget-sidebar {\n    flex: none;\n}\n\n.shadow-split-widget-main, .shadow-split-widget-sidebar.maximized {\n    flex: auto;\n}\n\n.shadow-split-widget.hbox > .shadow-split-widget-resizer {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    width: 6px;\n    z-index: 500;\n}\n\n.shadow-split-widget.vbox > .shadow-split-widget-resizer {\n    position: absolute;\n    left: 0;\n    right: 0;\n    height: 6px;\n    z-index: 500;\n}\n\n.shadow-split-widget.vbox > .shadow-split-widget-sidebar.no-default-splitter {\n    border: 0 !important;\n}\n\n.shadow-split-widget.vbox > .shadow-split-widget-sidebar:not(.maximized) {\n    border: 0;\n    border-top: 1px solid var(--divider-color);\n}\n\n.shadow-split-widget.vbox > .shadow-split-widget-sidebar:first-child:not(.maximized) {\n    border: 0;\n    border-bottom: 1px solid var(--divider-color);\n}\n\n.shadow-split-widget.hbox > .shadow-split-widget-sidebar:not(.maximized) {\n    border: 0;\n    border-left: 1px solid var(--divider-color);\n}\n\n.shadow-split-widget.hbox > .shadow-split-widget-sidebar:first-child:not(.maximized) {\n    border: 0;\n    border-right: 1px solid var(--divider-color);\n}\n\n:host-context(.disable-resizer-for-elements-hack) .shadow-split-widget-resizer {\n    pointer-events: none;\n}\n';Runtime.cachedResources["ui/toolbar.css"]='/*\n * Copyright (c) 2014 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n    flex: none;\n    padding: 0 2px;\n}\n\n.toolbar-shadow {\n    position: relative;\n    white-space: nowrap;\n    height: 26px;\n    overflow: hidden;\n    z-index: 12;\n    display: flex;\n    flex: none;\n    align-items: center;\n}\n\n.toolbar-shadow.wrappable {\n    flex-wrap: wrap;\n    overflow: visible;\n}\n\n.toolbar-shadow.toolbar-grow-vertical {\n    height: initial;\n}\n\n.toolbar-shadow.vertical {\n    flex-direction: column;\n    height: auto;\n    align-items: flex-start;\n}\n\n.toolbar-item {\n    position: relative;\n    display: flex;\n    background-color: transparent;\n    flex: none;\n    align-items: center;\n    justify-content: center;\n    padding: 0;\n    height: 26px;\n    border: none;\n    white-space: pre;\n}\n\n.toolbar-item,\n.toolbar-item .devtools-link {\n    color: #5a5a5a;\n}\n\nselect.toolbar-item:disabled {\n    opacity: 0.5;\n}\n\n.toolbar-dropdown-arrow {\n    background-color: #6D6D6D;\n    pointer-events: none;\n    flex: none;\n}\n\nselect.toolbar-item:disabled + .toolbar-dropdown-arrow {\n    opacity: 0.5;\n}\n\n/* Toolbar item */\n\n.toolbar-button {\n    white-space: nowrap;\n    overflow: hidden;\n    min-width: 28px;\n    background: transparent;\n    border-radius: 0;\n}\n\n.toolbar-text {\n    margin: 0 5px;\n    flex: none;\n    color: #5a5a5a;\n}\n\n.toolbar-text:empty {\n    margin: 0;\n}\n\n.toolbar-has-dropdown {\n    justify-content: space-between;\n    padding: 0 3px 0 5px;\n}\n\n.toolbar-has-dropdown .toolbar-text {\n    margin: 0 4px 0 0;\n    text-overflow: ellipsis;\n    flex: auto;\n    overflow: hidden;\n    text-align: right;\n}\n\n.toolbar-button.dark-text .toolbar-dropdown-arrow {\n    background-color: #333;\n}\n\n.toolbar-has-glyph .toolbar-text {\n    margin-left: -4px;\n}\n\n.toolbar-button:not(.toolbar-has-glyph):not(.toolbar-has-dropdown):not(.largeicon-menu) {\n    font-weight: bold;\n}\n\n.toolbar-render-as-links * {\n    font-weight: initial;\n    color: rgb(17, 85, 204);\n    text-decoration: underline;\n    cursor: pointer;\n}\n\n.toolbar-toggled-gray:not(.toolbar-render-as-links) .toolbar-button:not(.toolbar-has-glyph):not(.toolbar-has-dropdown):not(.largeicon-menu):hover {\n    background-color: var(--toolbar-bg-color);\n}\n\n.toolbar-glyph {\n    background-color: #5a5a5a;\n    flex: none;\n}\n\n/* Button */\n\n.toolbar-button:disabled {\n    opacity: 0.5;\n}\n\n.toolbar-button.dark-text .toolbar-text{\n    color: #333 !important;\n}\n\n:not(.toolbar-render-as-links) .toolbar-button:enabled:hover:not(:active) .toolbar-glyph {\n    background-color: #333;\n}\n\n:not(.toolbar-render-as-links) .toolbar-button:enabled:hover:not(:active) .toolbar-text {\n    color: #333;\n}\n\n.toolbar-button.toolbar-state-on .toolbar-glyph,\n.toolbar-blue-on-hover .toolbar-button:not(.toolbar-state-on):enabled:hover:not(:active) {\n    background-color: var(--accent-color);\n}\n\n.toolbar-button.toolbar-state-on .toolbar-text {\n    color: var(--accent-color);\n}\n\n.toolbar-blue-on-hover .toolbar-button:not(.toolbar-state-on):enabled:hover .toolbar-glyph {\n    background-color: white;\n}\n\n.toolbar-blue-on-hover .toolbar-button:not(.toolbar-state-on):enabled:hover .toolbar-text {\n    color: white;\n}\n\n.toolbar-button.toolbar-state-on:enabled:hover:not(:active) .toolbar-glyph,\n.toolbar-blue-on-hover .toolbar-button:not(.toolbar-state-on):enabled:active:hover {\n    background-color: var(--accent-color);\n}\n\n.toolbar-button.toolbar-state-on:enabled:hover:not(:active) .toolbar-text {\n    color: var(--accent-color);\n}\n\n.toolbar-toggled-gray .toolbar-button.toolbar-state-on {\n    background-color: var(--toolbar-bg-color) !important;\n}\n\n.toolbar-button.toolbar-state-on.toolbar-toggle-with-red-color .toolbar-glyph,\n.toolbar-button.toolbar-state-off.toolbar-default-with-red-color .toolbar-glyph {\n    background-color: rgb(216, 0, 0) !important;\n}\n\n:host-context(.-theme-with-dark-background) .toolbar-button.toolbar-state-on.toolbar-toggle-with-red-color .toolbar-glyph,\n:host-context(.-theme-with-dark-background) .toolbar-button.toolbar-state-off.toolbar-default-with-red-color .toolbar-glyph {\n    background-color: hsl(0, 100%, 65%) !important;\n}\n\n\n/* Checkbox */\n\n.toolbar-item.checkbox {\n    padding: 0 5px 0 2px;\n}\n\n.toolbar-item.checkbox:hover {\n    color: #333;\n}\n\n/* Select */\n\n.toolbar-select-container {\n    display: inline-flex;\n    flex-shrink: 0;\n    margin-right: 6px;\n}\n\nselect.toolbar-item {\n    min-width: 38px;\n    -webkit-appearance: none;\n    border: 0;\n    border-radius: 0;\n    padding: 0 13px 0 5px;\n    margin-right: -10px;\n    position: relative;\n    height: 22px;\n    margin-top: 2px;\n    margin-bottom: 2px;\n}\n\nselect.toolbar-item[data-keyboard-focus="true"]:focus {\n    background: rgba(0, 0, 0, 0.08);\n    border-radius: 2px;\n}\n\nselect.toolbar-item[data-keyboard-focus="true"]:focus > * {\n    background: white;\n}\n\n/* Input */\n\n.toolbar-input {\n    width: 120px;\n    height: 19px;\n    padding: 4px 3px 3px 3px;\n    margin: 1px 3px;\n    background-color: white;\n    border: 1px solid transparent ;\n    min-width: 35px;\n}\n\n.toolbar-input:hover {\n    box-shadow: var(--focus-ring-inactive-shadow);\n}\n\n.toolbar-input.focused,\n.toolbar-input:not(.toolbar-input-empty) {\n    box-shadow: var(--focus-ring-active-shadow);\n}\n\n.toolbar-input > input {\n    border: none;\n    flex-grow: 1;\n}\n\n.toolbar-input-clear-button {\n    opacity: 0.7;\n    flex-basis: 13px;\n    flex-shrink: 0;\n    height: 16px;\n}\n\n.toolbar-input-clear-button:hover {\n    opacity: .99;\n}\n\n.toolbar-input-empty .toolbar-input-clear-button {\n    display: none;\n}\n\n.toolbar-prompt-proxy {\n    flex: 1;\n}\n\n.toolbar-input-prompt {\n    flex: 1;\n    overflow: hidden;\n    white-space: nowrap;\n    cursor: auto;\n}\n\n/* Separator */\n\n.toolbar-divider {\n    background-color: #ccc;\n    width: 1px;\n    margin: 5px 4px;\n    height: 16px;\n}\n\n.toolbar-spacer {\n    flex: auto;\n}\n\n/* Long click */\n\n.long-click-glyph {\n    position: absolute;\n    background-color: #5a5a5a;\n    top: 0;\n    left:  0;\n}\n\n.toolbar-button.emulate-active {\n    background-color: rgb(163, 163, 163);\n}\n\n.toolbar-button[data-keyboard-focus="true"]:focus::after {\n    position: absolute;\n    top: 2px;\n    bottom: 2px;\n    left: 2px;\n    right: 2px;\n    background-color: rgba(0, 0, 0, 0.08);\n    border-radius: 2px;\n    content: "";\n}\n\n.toolbar-shadow.floating {\n    flex-direction: column;\n    height: auto;\n    background-color: white;\n    border: 1px solid #ccc;\n    margin-top: -1px;\n    width: 28px;\n    left: -2px;\n}\n\ninput[is=history-input] {\n    border: none;\n    line-height: 16px;\n    padding: 1px;\n}\n\ninput[is=history-input]:hover {\n    box-shadow: var(--focus-ring-inactive-shadow);\n}\n\ninput[is=history-input]:focus,\ninput[is=history-input]:not(:placeholder-shown) {\n    box-shadow: var(--focus-ring-active-shadow);\n}\n\n.toolbar-item.warning {\n    background: hsl(0, 100%, 95%);\n}\n';Runtime.cachedResources["ui/suggestBox.css"]='/*\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n:host {\n    display: flex;\n    flex: auto;\n}\n\n.suggest-box {\n    flex: auto;\n    background-color: #FFFFFF;\n    pointer-events: auto;\n    margin-left: -3px;\n    box-shadow: var(--drop-shadow);\n    overflow-x: hidden;\n}\n\n.suggest-box-content-item {\n    padding: 1px 0 1px 1px;\n    margin: 0;\n    border: 1px solid transparent;\n    white-space: nowrap;\n    display: flex;\n}\n\n.suggest-box-content-item.secondary {\n    background-color: #f9f9f9;\n}\n\n.suggestion-title {\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.suggestion-title span {\n    white-space: pre;\n}\n\n.suggestion-subtitle {\n    flex: auto;\n    text-align: right;\n    color: #999;\n    margin-right: 3px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.suggestion-icon {\n    user-select: none;\n    align-self: center;\n    flex-shrink: 0;\n}\n\n.suggest-box-content-item .query {\n    font-weight: bold;\n}\n\n.suggest-box-content-item .spacer {\n    display: inline-block;\n    width: 20px;\n}\n\n.suggest-box-content-item.selected {\n    background-color: var(--selection-bg-color);\n}\n\n.suggest-box-content-item.selected > span {\n    color: var(--selection-fg-color);\n}\n\n.suggest-box-content-item:hover:not(.selected) {\n    background-color: rgba(56, 121, 217, 0.1);\n}\n';Runtime.cachedResources["ui/tabbedPane.css"]='/*\n * Copyright (C) 2006, 2007, 2008 Apple Inc.  All rights reserved.\n * Copyright (C) 2009 Anthony Ricaud <rik@webkit.org>\n * Copyright (C) 2011 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n * 1. Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GOOGLE INC. AND ITS CONTRIBUTORS\n * "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GOOGLE INC.\n * OR ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n.tabbed-pane {\n    flex: auto;\n    overflow: hidden;\n}\n\n.tabbed-pane-content {\n    position: relative;\n    overflow: auto;\n    flex: auto;\n    display: flex;\n    flex-direction: column;\n}\n\n.tabbed-pane-content.has-no-tabs {\n    background-color: lightgray;\n}\n\n.tabbed-pane-placeholder {\n    font-size: 14px;\n    text-align: center;\n    margin-top: 20px;\n    text-shadow: rgba(255, 255, 255, 0.75) 0 1px 0;\n    line-height: 28px;\n    overflow: hidden;\n}\n\n.tabbed-pane-placeholder-row {\n    display: flex;\n    white-space: nowrap;\n}\n\n.tabbed-pane-placeholder-key {\n    flex: 1;\n    text-align: right;\n    padding-right: 14px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.tabbed-pane-placeholder-value {\n    flex: 1;\n    text-align: left;\n    padding-left: 14px;\n}\n\n.tabbed-pane-header {\n    display: flex;\n    flex: 0 0 27px;\n    border-bottom: 1px solid #ccc;\n    overflow: visible;\n    width: 100%;\n    background-color: var(--toolbar-bg-color);\n}\n\n.tabbed-pane-header-contents {\n    flex: auto;\n    pointer-events: none;\n    margin-left: 0;\n    position: relative;\n}\n\n.tabbed-pane-header-contents > * {\n    pointer-events: initial;\n}\n\n.tabbed-pane-header-tab-icon {\n    min-width: 14px;\n    display: flex;\n    align-items: center;\n    margin-right: 2px;\n}\n\n.tabbed-pane-header-tab {\n    float: left;\n    padding: 2px 0.8em;\n    height: 26px;\n    line-height: 15px;\n    white-space: nowrap;\n    cursor: default;\n    display: flex;\n    align-items: center;\n    color: #5a5a5a;\n}\n\n.tabbed-pane-header-tab.closeable {\n    padding-right: 4px;\n}\n\n.tabbed-pane-header-tab:hover,\n.tabbed-pane-shadow .tabbed-pane-header-tab[data-keyboard-focus="true"]:focus {\n    color: #333;\n    background-color: var(--toolbar-hover-bg-color);\n}\n\n.tabbed-pane-header-tab-title {\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\n\n.tabbed-pane-header-tab.measuring {\n    visibility: hidden;\n}\n\n.tabbed-pane-header-tab.selected {\n    border-bottom: none;\n}\n\n.tabbed-pane-header-tab.selected {\n    background-color: var(--tab-selected-bg-color);\n    color: var(--tab-selected-fg-color);\n}\n\n.tabbed-pane-header-tab.dragging {\n    position: relative;\n    box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.37);\n    background-color: #e5e5e5;\n}\n\n.tabbed-pane-header-tab .tabbed-pane-close-button {\n    margin: 0 -3px 0 4px;\n    visibility: hidden;\n}\n\n.tabbed-pane-header-tab:hover .tabbed-pane-close-button,\n.tabbed-pane-header-tab.selected .tabbed-pane-close-button {\n    visibility: visible;\n}\n\n.tabbed-pane-header-tabs-drop-down-container {\n    float: left;\n    opacity: 0.8;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    height: 100%;\n}\n\n.tabbed-pane-header-tabs-drop-down-container > .chevron-icon {\n    background-color: hsla(0,0%,20%,1);\n    display: block;\n}\n\n.tabbed-pane-header-tabs-drop-down-container:hover {\n    background-color: rgb(229, 229, 229);\n}\n\n.tabbed-pane-header-tabs-drop-down-container.measuring {\n    visibility: hidden;\n}\n\n.tabbed-pane-header-tabs-drop-down-container:hover {\n    opacity: 1.0;\n}\n\n.tabbed-pane-header-tabs-drop-down-container:active {\n    opacity: 0.8;\n}\n\n/* Web page style */\n\n.tabbed-pane-shadow.vertical-tab-layout {\n    flex-direction: row !important;\n}\n\n.tabbed-pane-shadow.vertical-tab-layout .tabbed-pane-header {\n    background-color: transparent;\n    border: none transparent !important;\n    width: auto;\n    flex: 0 0 auto;\n    flex-direction: column;\n    padding-top: 10px;\n    overflow: hidden;\n}\n\n.tabbed-pane-shadow.vertical-tab-layout .tabbed-pane-content {\n    padding: 10px 10px 10px 0;\n    overflow-x: hidden;\n}\n\n.tabbed-pane-shadow.vertical-tab-layout .tabbed-pane-header-contents {\n    margin: 0;\n    flex: none;\n}\n\n.tabbed-pane-shadow.vertical-tab-layout .tabbed-pane-header-tabs {\n    display: flex;\n    flex-direction: column;\n    width: 120px;\n}\n\n.tabbed-pane-shadow.vertical-tab-layout .tabbed-pane-header-tab {\n    background-color: transparent;\n    border: none transparent;\n    font-weight: normal;\n    text-shadow: none;\n    color: #777;\n    height: 26px;\n    padding-left: 10px;\n    border-left: 6px solid transparent;\n    margin: 0;\n    display: flex;\n    align-items: center;\n}\n\n.tabbed-pane-shadow.vertical-tab-layout .tabbed-pane-header-tab:not(.selected) {\n    cursor: pointer !important;\n}\n\n.tabbed-pane-shadow.vertical-tab-layout .tabbed-pane-header-tab.selected {\n    color: inherit;\n    border: none transparent;\n    border-left: 6px solid #666;\n}\n\n.tabbed-pane-tab-slider {\n    height: 2px;\n    position: absolute;\n    bottom: -1px;\n    background-color: var(--accent-color);\n    left: 0;\n    z-index: 50;\n    transform-origin: 0 100%;\n    transition: transform 150ms cubic-bezier(0, 0, 0.2, 1);\n    visibility: hidden;\n}\n\n:host-context(.-theme-with-dark-background) .tabbed-pane-tab-slider {\n    display: none;\n}\n\n@media (-webkit-min-device-pixel-ratio: 1.1) {\n    .tabbed-pane-tab-slider {\n        border-top: none;\n    }\n}\n\n.tabbed-pane-tab-slider.enabled {\n    visibility: visible;\n}\n\n.tabbed-pane-header-tab.disabled {\n    opacity: 0.5;\n    pointer-events: none;\n}\n\n.tabbed-pane-left-toolbar {\n    margin-right: -4px;\n    flex: none;\n}\n\n.tabbed-pane-right-toolbar {\n    margin-left: -4px;\n    flex: none;\n}\n';Runtime.cachedResources["ui/targetCrashedScreen.css"]="/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.widget {\n    padding: 25px;\n}\n\n.message {\n    font-size: larger;\n    white-space: pre;\n    margin: 5px;\n}\n";Runtime.cachedResources["ui/textButton.css"]="/*\n * Copyright (c) 2014 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.text-button {\n    margin: 2px;\n    height: 24px;\n    font-size: 12px;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 4px;\n    padding: 0px 12px;\n    font-weight: 500;\n    color: var(--accent-fg-color);\n    background-color: #fff;\n    flex: none;\n    white-space: nowrap;\n}\n\n.text-button:not(:disabled):focus,\n.text-button:not(:disabled):hover,\n.text-button:not(:disabled):active {\n    background-color: var(--toolbar-bg-color);\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n    cursor: pointer;\n}\n\n.text-button:not(:disabled):active {\n    background-color: #f2f2f2;\n}\n\n.text-button:not(:disabled):focus {\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1), 0 0 0 2px rgba(66, 133, 244, 0.4);\n}\n\n.text-button:disabled {\n    opacity: 0.38;\n}\n\n.text-button.primary-button, -theme-preserve {\n    background-color: var(--accent-color);\n    border: none;\n    color: #fff;\n}\n\n.text-button.primary-button:not(:disabled):focus,\n.text-button.primary-button:not(:disabled):hover,\n.text-button.primary-button:not(:disabled):active, -theme-preserve {\n    background-color: var(--accent-color-hover);\n}\n\n.-theme-with-dark-background .text-button:not(.primary-button):not(:disabled):focus,\n.-theme-with-dark-background .text-button:not(.primary-button):not(:disabled):hover,\n.-theme-with-dark-background .text-button:not(.primary-button):not(:disabled):active {\n    background-color: #313131;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n}\n\n.-theme-with-dark-background .text-button:not(.primary-button):not(:disabled):focus {\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1), 0 0 0 2px rgba(94, 151, 246, 0.6);\n}\n\n.-theme-with-dark-background .text-button:not(.primary-button):not(:disabled):active {\n    background-color: #3e3e3e;\n}\n";Runtime.cachedResources["ui/textPrompt.css"]="/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n .text-prompt-root {\n    display: flex;\n    align-items: center;\n}\n\n.text-prompt-editing {\n    box-shadow: var(--drop-shadow);\n    background-color: white;\n    text-overflow: clip !important;\n    padding-left: 2px;\n    margin-left: -2px;\n    padding-right: 2px;\n    margin-right: -2px;\n    margin-bottom: -1px;\n    padding-bottom: 1px;\n    opacity: 1.0 !important;\n}\n\n.text-prompt-editing > .text-prompt {\n    color: #222 !important;\n    text-decoration: none !important;\n    white-space: pre;\n}\n\n.text-prompt > .auto-complete-text {\n    color: rgb(128, 128, 128) !important;\n}\n\n.text-prompt[data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: rgb(128, 128, 128);\n}\n\n.text-prompt:not([data-placeholder]):empty::after {\n    content: '\\00A0';\n    width: 0;\n    display: block;\n}\n\n.text-prompt {\n    cursor: text;\n    overflow-x: visible;\n}\n\n.text-prompt::-webkit-scrollbar {\n    display: none;\n}\n\n.text-prompt.disabled {\n    opacity: 0.5;\n    cursor: default;\n}\n\n.text-prompt-editing br {\n    display: none;\n}\n\n.text-prompt-root:not(:focus-within) ::selection {\n    background: transparent;\n}\n";Runtime.cachedResources["ui/tooltip.css"]="/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.tooltip {\n    background: hsl(0, 0%, 95%);\n    border-radius: 2px;\n    color: hsl(0, 0%, 20%);\n    padding: 5px 8px;\n    line-height: 14px;\n    display: flex;\n    align-items: center;\n    -webkit-filter: drop-shadow(0 1px 2px hsla(0, 0%, 0%, 0.3));\n    border: 1px solid hsla(0, 0%, 0%, 0.1);\n    background-clip: padding-box;\n    box-sizing: border-box;\n    position: absolute;\n    visibility: hidden;\n    transition: visibility 0s 100ms, opacity 150ms cubic-bezier(0, 0, .2, 1);\n    z-index: 20001;\n    top: 0;\n    left: 0;\n    opacity: 0;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    pointer-events: none;\n}\n\n.tooltip-breakword {\n    word-break: break-word;\n}\n\n.tooltip.shown {\n    visibility: visible;\n    transition-delay: 600ms;\n    opacity: 1;\n}\n\n.tooltip.shown.instant {\n    transition-delay: 0s;\n}\n\n.tooltip-shortcut {\n    color: hsl(0, 0%, 45%);\n    display: inline-block;\n    margin-left: 8px;\n    flex: 0 0 auto;\n}\n";Runtime.cachedResources["ui/treeoutline.css"]='/*\n * Copyright 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n    flex: 1 1 auto;\n    padding: 2px 0 0 0;\n}\n\n.tree-outline-disclosure:not(.tree-outline-disclosure-hide-overflow) {\n    min-width: 100%;\n    display: inline-block;\n}\n\n.tree-outline {\n    padding: 0 0 4px 4px;\n    margin: 0;\n    z-index: 0;\n    position: relative;\n}\n\n.tree-outline:not(.hide-selection-when-blurred) li.hovered:not(.selected) .selection {\n    display: block;\n    left: 3px;\n    right: 3px;\n    background-color: rgba(56, 121, 217, 0.1);\n    border-radius: 5px;\n}\n\n.tree-outline li .selection {\n    display: none;\n    z-index: -1;\n    margin-left: -10000px;\n}\n\n.tree-outline:not(.hide-selection-when-blurred) li.selected {\n    color: var(--selection-inactive-fg-color);\n}\n\n.tree-outline:not(.hide-selection-when-blurred) li.selected .selection {\n    display: block;\n    background-color: var(--selection-inactive-bg-color);\n}\n\n.tree-outline:not(.hide-selection-when-blurred) li.in-clipboard .highlight {\n    outline: 1px dotted darkgrey;\n}\n\n.tree-outline:not(.hide-selection-when-blurred) li.elements-drag-over .selection {\n    display: block;\n    margin-top: -2px;\n    border-top: 2px solid;\n    border-top-color: var(--selection-bg-color);\n}\n\nol.tree-outline:not(.hide-selection-when-blurred) li.selected:focus .selection {\n    background-color: var(--selection-bg-color);\n}\n\nol.tree-outline:not(.hide-selection-when-blurred) li.parent.selected:focus::before {\n    background-color: var(--selection-fg-color);\n}\n\nol.tree-outline,\n.tree-outline ol {\n    list-style-type: none;\n}\n\n.tree-outline ol {\n    padding-left: 12px;\n}\n\n.tree-outline li {\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    position: relative;\n    display: flex;\n    align-items: center;\n    min-height: 16px;\n}\n\nol.tree-outline:not(.hide-selection-when-blurred) li.selected:focus {\n    color: var(--selection-fg-color);\n}\n\nol.tree-outline:not(.hide-selection-when-blurred) li.selected:focus * {\n    color: inherit;\n}\n\n.tree-outline li .icons-container {\n    align-self: center;\n    display: flex;\n    align-items: center;\n}\n\n.tree-outline li .leading-icons {\n    margin-right: 4px;\n}\n\n.tree-outline li .trailing-icons {\n    margin-left: 4px;\n}\n\n.tree-outline li::before {\n    -webkit-user-select: none;\n    -webkit-mask-image: url(Images/treeoutlineTriangles.svg);\n    -webkit-mask-size: 32px 24px;\n    content: "\\00a0\\00a0";\n    text-shadow: none;\n    margin-right: -2px;\n    height: 12px;\n    width: 13px;\n}\n\n.tree-outline li:not(.parent)::before {\n    background-color: transparent;\n}\n\n.tree-outline li::before {\n    -webkit-mask-position: 0 0;\n    background-color: #727272;\n}\n\n.tree-outline li.parent.expanded::before {\n    -webkit-mask-position: -16px 0;\n}\n\n.tree-outline ol.children {\n    display: none;\n}\n\n.tree-outline ol.children.expanded {\n    display: block;\n}\n\n.tree-outline.tree-outline-dense li {\n    margin-top: 1px;\n    min-height: 12px;\n}\n\n.tree-outline.tree-outline-dense li.parent {\n    margin-top: 0;\n}\n\n.tree-outline.tree-outline-dense li.parent::before {\n    top: 0;\n}\n\n.tree-outline.tree-outline-dense ol {\n    padding-left: 10px;\n}\n\n.tree-outline.hide-selection-when-blurred .selected:focus[data-keyboard-focus="true"] {\n    background: var(--focus-bg-color);\n    border-radius: 2px;\n}\n\n.tree-outline-disclosure:not(.tree-outline-disclosure-hide-overflow) .tree-outline.hide-selection-when-blurred .selected:focus[data-keyboard-focus="true"] {\n    width: fit-content;\n    padding-right: 3px;\n}\n';Runtime.cachedResources["ui/viewContainers.css"]='/*\n * Copyright (C) 2006, 2007, 2008 Apple Inc.  All rights reserved.\n * Copyright (C) 2009 Anthony Ricaud <rik@webkit.org>\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n *\n * 1.  Redistributions of source code must retain the above copyright\n *     notice, this list of conditions and the following disclaimer.\n * 2.  Redistributions in binary form must reproduce the above copyright\n *     notice, this list of conditions and the following disclaimer in the\n *     documentation and/or other materials provided with the distribution.\n * 3.  Neither the name of Apple Computer, Inc. ("Apple") nor the names of\n *     its contributors may be used to endorse or promote products derived\n *     from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY APPLE AND ITS CONTRIBUTORS "AS IS" AND ANY\n * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL APPLE OR ITS CONTRIBUTORS BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n.expandable-view-title {\n    display: flex;\n    align-items: center;\n    background-color: var(--toolbar-bg-color);\n    height: 22px;\n    padding: 0 5px;\n    border-top: var(--divider-border);\n    white-space: nowrap;\n    overflow: hidden;\n    position: relative;\n    border-bottom: 1px solid transparent;\n}\n\n.expandable-view-title.expanded,\n.expandable-view-title:last-child {\n    border-bottom: 1px solid #ddd;\n}\n\n.expandable-view-title .toolbar {\n    margin-top: -3px;\n}\n\n.expandable-view-title:not(.expanded) .toolbar {\n    display: none;\n}\n\n.title-expand-icon {\n    margin-right: 2px;\n    margin-bottom: -2px;\n}\n\n.expandable-view-title[data-keyboard-focus="true"]:focus {\n    background-color: #e0e0e0;\n}\n\n.expandable-view-title > .toolbar {\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n\n';self["Components"]=self["Components"]||{};Components.JSPresentationUtils={};Components.JSPresentationUtils.buildStackTracePreviewContents=function(e,t,n,s){const i=createElement("span");i.style.display="inline-block";const o=UI.createShadowRootWithCoreStyles(i,"components/jsUtils.css");const r=o.createChild("table","stack-preview-container");let a=0;let l=0;const c=[];function d(n){let s=0;for(const i of n.callFrames){l++;let o=l>30&&n.callFrames.length>31;const a=createElement("tr");a.createChild("td").textContent="\n";a.createChild("td","function-name").textContent=UI.beautifyFunctionName(i.functionName);const d=t.maybeLinkifyConsoleCallFrame(e,i);if(d){d.addEventListener("contextmenu",h.bind(null,d));const e=Components.Linkifier.uiLocation(d);if(e&&Bindings.blackboxManager.isBlackboxedUISourceCode(e.uiSourceCode))o=true;a.createChild("td").textContent=" @ ";a.createChild("td").appendChild(d);c.push(d)}if(o){a.classList.add("blackboxed");++s}r.appendChild(a)}a+=s;return n.callFrames.length===s}function h(e,t){const n=new UI.ContextMenu(t);t.consume(true);const s=Components.Linkifier.uiLocation(e);if(s&&Bindings.blackboxManager.canBlackboxUISourceCode(s.uiSourceCode)){if(Bindings.blackboxManager.isBlackboxedUISourceCode(s.uiSourceCode)){n.debugSection().appendItem(ls`Stop blackboxing`,()=>Bindings.blackboxManager.unblackboxUISourceCode(s.uiSourceCode))}else{n.debugSection().appendItem(ls`Blackbox script`,()=>Bindings.blackboxManager.blackboxUISourceCode(s.uiSourceCode))}}n.appendApplicableItems(t);n.show()}if(!n)return{element:i,links:c};d(n);let u=n.parent;while(u){if(!u.callFrames.length){u=u.parent;continue}const e=r.createChild("tr");e.createChild("td").textContent="\n";e.createChild("td","stack-preview-async-description").textContent=UI.asyncStackTraceLabel(u.description);e.createChild("td");e.createChild("td");if(d(u))e.classList.add("blackboxed");u=u.parent}if(a){const e=r.createChild("tr","show-blackboxed-link");e.createChild("td").textContent="\n";const t=e.createChild("td");t.colSpan=4;const n=t.createChild("span","link");if(a===1)n.textContent=ls`Show 1 more frame`;else n.textContent=ls`Show ${a} more frames`;n.addEventListener("click",()=>{r.classList.add("show-blackboxed");if(s)s()},false)}return{element:i,links:c}};Components.DockController=class extends Common.Object{constructor(e){super();this._canDock=e;this._closeButton=new UI.ToolbarButton(Common.UIString("Close"),"largeicon-delete");this._closeButton.addEventListener(UI.ToolbarButton.Events.Click,InspectorFrontendHost.closeWindow.bind(InspectorFrontendHost));if(!e){this._dockSide=Components.DockController.State.Undocked;this._closeButton.setVisible(false);return}this._states=[Components.DockController.State.DockedToRight,Components.DockController.State.DockedToBottom,Components.DockController.State.DockedToLeft,Components.DockController.State.Undocked];this._currentDockStateSetting=Common.settings.moduleSetting("currentDockState");this._currentDockStateSetting.addChangeListener(this._dockSideChanged,this);this._lastDockStateSetting=Common.settings.createSetting("lastDockState","bottom");if(this._states.indexOf(this._currentDockStateSetting.get())===-1)this._currentDockStateSetting.set("right");if(this._states.indexOf(this._lastDockStateSetting.get())===-1)this._currentDockStateSetting.set("bottom")}initialize(){if(!this._canDock)return;this._titles=[Common.UIString("Dock to right"),Common.UIString("Dock to bottom"),Common.UIString("Dock to left"),Common.UIString("Undock into separate window")];this._dockSideChanged()}_dockSideChanged(){this.setDockSide(this._currentDockStateSetting.get())}dockSide(){return this._dockSide}canDock(){return this._canDock}isVertical(){return this._dockSide===Components.DockController.State.DockedToRight||this._dockSide===Components.DockController.State.DockedToLeft}setDockSide(e){if(this._states.indexOf(e)===-1)e=this._states[0];if(this._dockSide===e)return;if(this._dockSide)this._lastDockStateSetting.set(this._dockSide);this._savedFocus=document.deepActiveElement();const t={from:this._dockSide,to:e};this.dispatchEventToListeners(Components.DockController.Events.BeforeDockSideChanged,t);console.timeStamp("DockController.setIsDocked");this._dockSide=e;this._currentDockStateSetting.set(e);InspectorFrontendHost.setIsDocked(e!==Components.DockController.State.Undocked,this._setIsDockedResponse.bind(this,t));this._closeButton.setVisible(this._dockSide!==Components.DockController.State.Undocked);this.dispatchEventToListeners(Components.DockController.Events.DockSideChanged,t)}_setIsDockedResponse(e){this.dispatchEventToListeners(Components.DockController.Events.AfterDockSideChanged,e);if(this._savedFocus){this._savedFocus.focus();this._savedFocus=null}}_toggleDockSide(){if(this._lastDockStateSetting.get()===this._currentDockStateSetting.get()){const e=this._states.indexOf(this._currentDockStateSetting.get())||0;this._lastDockStateSetting.set(this._states[(e+1)%this._states.length])}this.setDockSide(this._lastDockStateSetting.get())}};Components.DockController.State={DockedToBottom:"bottom",DockedToRight:"right",DockedToLeft:"left",Undocked:"undocked"};Components.DockController.Events={BeforeDockSideChanged:Symbol("BeforeDockSideChanged"),DockSideChanged:Symbol("DockSideChanged"),AfterDockSideChanged:Symbol("AfterDockSideChanged")};Components.DockController.ToggleDockActionDelegate=class{handleAction(e,t){Components.dockController._toggleDockSide();return true}};Components.DockController.CloseButtonProvider=class{item(){return Components.dockController._closeButton}};Components.dockController;Components.ImagePreview=class{static build(e,t,n,s){const i=e.model(SDK.ResourceTreeModel);if(!i)return Promise.resolve(null);let o=i.resourceForURL(t);let r=t;if(!d(o)&&s&&s.currentSrc){r=s.currentSrc;o=i.resourceForURL(r)}if(!d(o))return Promise.resolve(null);let a;const l=new Promise(e=>a=e);const c=createElement("img");c.addEventListener("load",h,false);c.addEventListener("error",()=>a(null),false);o.populateImageSource(c);return l;function d(e){return!!e&&e.resourceType()===Common.resourceTypes.Image}function h(){const e=createElement("table");UI.appendStyle(e,"components/imagePreview.css");e.className="image-preview-container";const i=c.naturalWidth;const o=c.naturalHeight;const l=s?s.renderedWidth:i;const d=s?s.renderedHeight:o;let h;if(n){if(d!==o||l!==i){h=ls`${l} \xd7 ${d} pixels (intrinsic: ${i} \xd7 ${o} pixels)`}else{h=ls`${l} \xd7 ${d} pixels`}}e.createChild("tr").createChild("td","image-container").appendChild(c);if(h)e.createChild("tr").createChild("td").createChild("span","description").textContent=h;if(r!==t){e.createChild("tr").createChild("td").createChild("span","description").textContent=String.sprintf("currentSrc: %s",r.trimMiddle(100))}a(e)}}static async loadDimensionsForNode(e){if(!e.nodeName()||e.nodeName().toLowerCase()!=="img")return;const t=await e.resolveToObject("");if(!t)return;const n=t.callFunctionJSON(s,undefined);t.release();return n;function s(){return{renderedWidth:this.width,renderedHeight:this.height,currentSrc:this.currentSrc}}}};Components.Linkifier=class{constructor(e,t){this._maxLength=e||UI.MaxLengthForDisplayedURLs;this._anchorsByTarget=new Map;this._locationPoolByTarget=new Map;this._useLinkDecorator=!!t;Components.Linkifier._instances.add(this);SDK.targetManager.observeTargets(this)}static setLinkDecorator(e){console.assert(!Components.Linkifier._decorator,"Cannot re-register link decorator.");Components.Linkifier._decorator=e;e.addEventListener(Components.LinkDecorator.Events.LinkIconChanged,t);for(const e of Components.Linkifier._instances)e._updateAllAnchorDecorations();function t(e){const t=e.data;const n=t[Components.Linkifier._sourceCodeAnchors]||[];for(const e of n)Components.Linkifier._updateLinkDecorations(e)}}_updateAllAnchorDecorations(){for(const e of this._anchorsByTarget.values()){for(const t of e)Components.Linkifier._updateLinkDecorations(t)}}static _bindUILocation(e,t){Components.Linkifier._linkInfo(e).uiLocation=t;if(!t)return;const n=t.uiSourceCode;let s=n[Components.Linkifier._sourceCodeAnchors];if(!s){s=new Set;n[Components.Linkifier._sourceCodeAnchors]=s}s.add(e)}static _unbindUILocation(e){const t=Components.Linkifier._linkInfo(e);if(!t.uiLocation)return;const n=t.uiLocation.uiSourceCode;t.uiLocation=null;const s=n[Components.Linkifier._sourceCodeAnchors];if(s)s.delete(e)}targetAdded(e){this._anchorsByTarget.set(e,[]);this._locationPoolByTarget.set(e,new Bindings.LiveLocationPool)}targetRemoved(e){const t=this._locationPoolByTarget.remove(e);t.disposeAll();const n=this._anchorsByTarget.remove(e);for(const e of n){const t=Components.Linkifier._linkInfo(e);t.liveLocation=null;Components.Linkifier._unbindUILocation(e);if(t.fallback){e.href=t.fallback.href;e.title=t.fallback.title;e.className=t.fallback.className;e.textContent=t.fallback.textContent;e[Components.Linkifier._infoSymbol]=t.fallback[Components.Linkifier._infoSymbol]}}}maybeLinkifyScriptLocation(e,t,n,s,i,o){let r=null;if(n){r=Components.Linkifier.linkifyURL(n,{className:o,lineNumber:s,columnNumber:i,maxLength:this._maxLength})}if(!e||e.isDisposed())return r;const a=e.model(SDK.DebuggerModel);if(!a)return r;const l=(t?a.createRawLocationByScriptId(t,s,i||0):null)||a.createRawLocationByURL(n,s,i||0);if(!l)return r;const c=Components.Linkifier._createLink("",o||"");const d=Components.Linkifier._linkInfo(c);d.enableDecorator=this._useLinkDecorator;d.fallback=r;d.liveLocation=Bindings.debuggerWorkspaceBinding.createLiveLocation(l,this._updateAnchor.bind(this,c),this._locationPoolByTarget.get(l.debuggerModel.target()));const h=this._anchorsByTarget.get(l.debuggerModel.target());h.push(c);return c}linkifyScriptLocation(e,t,n,s,i,o){const r=this.maybeLinkifyScriptLocation(e,t,n,s,i,o);return r||Components.Linkifier.linkifyURL(n,{className:o,lineNumber:s,columnNumber:i,maxLength:this._maxLength})}linkifyRawLocation(e,t,n){return this.linkifyScriptLocation(e.debuggerModel.target(),e.scriptId,t,e.lineNumber,e.columnNumber,n)}maybeLinkifyConsoleCallFrame(e,t,n){return this.maybeLinkifyScriptLocation(e,t.scriptId,t.url,t.lineNumber,t.columnNumber,n)}linkifyStackTraceTopFrame(e,t,n){console.assert(t.callFrames&&t.callFrames.length);const s=t.callFrames[0];const i=Components.Linkifier.linkifyURL(s.url,{className:n,lineNumber:s.lineNumber,columnNumber:s.columnNumber,maxLength:this._maxLength});if(e.isDisposed())return i;const o=e.model(SDK.DebuggerModel);const r=o.createRawLocationsByStackTrace(t);if(r.length===0)return i;const a=Components.Linkifier._createLink("",n||"");const l=Components.Linkifier._linkInfo(a);l.enableDecorator=this._useLinkDecorator;l.fallback=i;l.liveLocation=Bindings.debuggerWorkspaceBinding.createStackTraceTopFrameLiveLocation(r,this._updateAnchor.bind(this,a),this._locationPoolByTarget.get(e));const c=this._anchorsByTarget.get(e);c.push(a);return a}linkifyCSSLocation(e,t){const n=Components.Linkifier._createLink("",t||"");const s=Components.Linkifier._linkInfo(n);s.enableDecorator=this._useLinkDecorator;s.liveLocation=Bindings.cssWorkspaceBinding.createLiveLocation(e,this._updateAnchor.bind(this,n),this._locationPoolByTarget.get(e.cssModel().target()));const i=this._anchorsByTarget.get(e.cssModel().target());i.push(n);return n}reset(){for(const e of this._anchorsByTarget.keysArray()){this.targetRemoved(e);this.targetAdded(e)}}dispose(){for(const e of this._anchorsByTarget.keysArray())this.targetRemoved(e);SDK.targetManager.unobserveTargets(this);Components.Linkifier._instances.delete(this)}_updateAnchor(e,t){Components.Linkifier._unbindUILocation(e);const n=t.uiLocation();if(!n)return;Components.Linkifier._bindUILocation(e,n);const s=n.linkText(true);Components.Linkifier._setTrimmedText(e,s,this._maxLength);let i=n.uiSourceCode.url();if(typeof n.lineNumber==="number")i+=":"+(n.lineNumber+1);e.title=i;e.classList.toggle("webkit-html-blackbox-link",t.isBlackboxed());Components.Linkifier._updateLinkDecorations(e)}static _updateLinkDecorations(e){const t=Components.Linkifier._linkInfo(e);if(!t||!t.enableDecorator)return;if(!Components.Linkifier._decorator||!t.uiLocation)return;if(t.icon&&t.icon.parentElement)e.removeChild(t.icon);const n=Components.Linkifier._decorator.linkIcon(t.uiLocation.uiSourceCode);if(n){n.style.setProperty("margin-right","2px");e.insertBefore(n,e.firstChild)}t.icon=n}static linkifyURL(e,t){t=t||{};const n=t.text;const s=t.className||"";const i=t.lineNumber;const o=t.columnNumber;const r=t.preventClick;const a=t.maxLength||UI.MaxLengthForDisplayedURLs;if(!e||e.trim().toLowerCase().startsWith("javascript:")){const t=createElementWithClass("span",s);t.textContent=n||e||Common.UIString("(unknown)");return t}let l=n||Bindings.displayNameForURL(e);if(typeof i==="number"&&!n)l+=":"+(i+1);const c=l!==e?e:"";const d=Components.Linkifier._createLink(l,s,a,c,e,r);const h=Components.Linkifier._linkInfo(d);if(typeof i==="number")h.lineNumber=i;if(typeof o==="number")h.columnNumber=o;return d}static linkifyRevealable(e,t,n){const s=Components.Linkifier._createLink(t,"",UI.MaxLengthForDisplayedURLs,undefined,n);Components.Linkifier._linkInfo(s).revealable=e;return s}static _createLink(e,t,n,s,i,o){const r=createElementWithClass("span",t);r.classList.add("devtools-link");if(s)r.title=s;if(i)r.href=i;Components.Linkifier._setTrimmedText(r,e,n);r[Components.Linkifier._infoSymbol]={icon:null,enableDecorator:false,uiLocation:null,liveLocation:null,url:i||null,lineNumber:null,columnNumber:null,revealable:null,fallback:null};if(!o){r.addEventListener("click",e=>{if(Components.Linkifier._handleClick(e))e.consume(true)},false);r.addEventListener("keydown",e=>{if(isEnterKey(e)&&Components.Linkifier._handleClick(e))e.consume(true)},false)}else{r.classList.add("devtools-link-prevent-click")}UI.ARIAUtils.markAsLink(r);return r}static _setTrimmedText(e,t,n){e.removeChildren();if(n&&t.length>n){const e=o(t,n);i(e[0]);s(e[1]);i(e[2])}else{i(t)}function s(t){const n=e.createChild("span","devtools-link-ellipsis").createTextChild("…");n[Components.Linkifier._untruncatedNodeTextSymbol]=t}function i(t){const n=TextUtils.TextUtils.splitStringByRegexes(t,[/[a-f0-9]{20,}/g]);for(const t of n){if(t.regexIndex===-1){e.createTextChild(t.value)}else{e.createTextChild(t.value.substring(0,7));s(t.value.substring(7))}}}function o(e,t){let n=Math.floor(t/2);let s=e.length-Math.ceil(t/2)+1;if(e.codePointAt(s-1)>=65536){s++;n++}if(n>0&&e.codePointAt(n-1)>=65536)n--;return[e.substring(0,n),e.substring(n,s),e.substring(s)]}}static untruncatedNodeText(e){return e[Components.Linkifier._untruncatedNodeTextSymbol]||e.textContent}static _linkInfo(e){return e?e[Components.Linkifier._infoSymbol]||null:null}static _handleClick(e){const t=e.currentTarget;if(UI.isBeingEdited(e.target)||t.hasSelection())return false;const n=Components.Linkifier._linkActions(t);if(n.length){n[0].handler.call(null);return true}return false}static _linkHandlerSetting(){if(!Components.Linkifier._linkHandlerSettingInstance){Components.Linkifier._linkHandlerSettingInstance=Common.settings.createSetting("openLinkHandler",Common.UIString("auto"))}return Components.Linkifier._linkHandlerSettingInstance}static registerLinkHandler(e,t){Components.Linkifier._linkHandlers.set(e,t);self.runtime.sharedInstance(Components.Linkifier.LinkHandlerSettingUI)._update()}static unregisterLinkHandler(e){Components.Linkifier._linkHandlers.delete(e);self.runtime.sharedInstance(Components.Linkifier.LinkHandlerSettingUI)._update()}static uiLocation(e){const t=Components.Linkifier._linkInfo(e);return t?t.uiLocation:null}static _linkActions(e){const t=Components.Linkifier._linkInfo(e);const n=[];if(!t)return n;let s="";let i=null;if(t.uiLocation){i=t.uiLocation;s=i.uiSourceCode.contentURL()}else if(t.url){s=t.url;const e=Workspace.workspace.uiSourceCodeForURL(s)||Workspace.workspace.uiSourceCodeForURL(Common.ParsedURL.urlWithoutHash(s));i=e?e.uiLocation(t.lineNumber||0,t.columnNumber||0):null}const o=s?Bindings.resourceForURL(s):null;const r=i?i.uiSourceCode:o;const a=t.revealable||i||o;if(a){const e=Common.Revealer.revealDestination(a);n.push({section:"reveal",title:e?ls`Reveal in ${e}`:ls`Reveal`,handler:()=>Common.Revealer.reveal(a)})}if(r){const e=i?i.lineNumber:t.lineNumber||0;for(const t of Components.Linkifier._linkHandlers.keys()){const s=Components.Linkifier._linkHandlers.get(t);const i={section:"reveal",title:Common.UIString("Open using %s",t),handler:s.bind(null,r,e)};if(t===Components.Linkifier._linkHandlerSetting().get())n.unshift(i);else n.push(i)}}if(o||t.url){n.push({section:"reveal",title:UI.openLinkExternallyLabel(),handler:()=>InspectorFrontendHost.openInNewTab(s)});n.push({section:"clipboard",title:UI.copyLinkAddressLabel(),handler:()=>InspectorFrontendHost.copyText(s)})}return n}};Components.Linkifier._instances=new Set;Components.Linkifier._decorator=null;Components.Linkifier._sourceCodeAnchors=Symbol("Linkifier.anchors");Components.Linkifier._infoSymbol=Symbol("Linkifier.info");Components.Linkifier._untruncatedNodeTextSymbol=Symbol("Linkifier.untruncatedNodeText");Components._LinkInfo;Components.LinkifyURLOptions;Components.Linkifier.MaxLengthToIgnoreLinkifier=1e4;Components.Linkifier.LinkHandler;Components.Linkifier._linkHandlers=new Map;Components.LinkDecorator=function(){};Components.LinkDecorator.prototype={linkIcon(e){}};Components.LinkDecorator.Events={LinkIconChanged:Symbol("LinkIconChanged")};Components.Linkifier.LinkContextMenuProvider=class{appendApplicableItems(e,t,n){let s=n;while(s&&!s[Components.Linkifier._infoSymbol])s=s.parentNodeOrShadowHost();const i=s;const o=Components.Linkifier._linkActions(i);for(const e of o)t.section(e.section).appendItem(e.title,e.handler)}};Components.Linkifier.LinkHandlerSettingUI=class{constructor(){this._element=createElementWithClass("select","chrome-select");this._element.addEventListener("change",this._onChange.bind(this),false);this._update()}_update(){this._element.removeChildren();const e=Components.Linkifier._linkHandlers.keysArray();e.unshift(Common.UIString("auto"));for(const t of e){const e=createElement("option");e.textContent=t;e.selected=t===Components.Linkifier._linkHandlerSetting().get();this._element.appendChild(e)}this._element.disabled=e.length<=1}_onChange(e){const t=e.target.value;Components.Linkifier._linkHandlerSetting().set(t)}settingElement(){return UI.SettingsUI.createCustomSetting(Common.UIString("Link handling:"),this._element)}};Components.Linkifier.ContentProviderContextMenuProvider=class{appendApplicableItems(e,t,n){const s=n;if(!s.contentURL())return;t.revealSection().appendItem(UI.openLinkExternallyLabel(),()=>InspectorFrontendHost.openInNewTab(s.contentURL()));for(const e of Components.Linkifier._linkHandlers.keys()){const n=Components.Linkifier._linkHandlers.get(e);t.revealSection().appendItem(Common.UIString("Open using %s",e),n.bind(null,s,0))}if(s instanceof SDK.NetworkRequest)return;t.clipboardSection().appendItem(UI.copyLinkAddressLabel(),()=>InspectorFrontendHost.copyText(s.contentURL()))}};Components.reload=function(){if(Components.dockController.canDock()&&Components.dockController.dockSide()===Components.DockController.State.Undocked)InspectorFrontendHost.setIsDocked(true,function(){});window.location.reload()};Components.TargetDetachedDialog=class extends SDK.SDKModel{constructor(e){super(e);if(e.parentTarget())return;e.registerInspectorDispatcher(this);e.inspectorAgent().enable();this._hideCrashedDialog=null;Components.TargetDetachedDialog._disconnectedScreenWithReasonWasShown=false}detached(e){Components.TargetDetachedDialog._disconnectedScreenWithReasonWasShown=true;UI.RemoteDebuggingTerminatedScreen.show(e)}static webSocketConnectionLost(){UI.RemoteDebuggingTerminatedScreen.show(ls`WebSocket disconnected`)}targetCrashed(){const e=new UI.Dialog;e.setSizeBehavior(UI.GlassPane.SizeBehavior.MeasureContent);e.addCloseButton();e.setDimmed(true);this._hideCrashedDialog=e.hide.bind(e);new UI.TargetCrashedScreen(()=>this._hideCrashedDialog=null).show(e.contentElement);e.show()}targetReloadedAfterCrash(){if(this._hideCrashedDialog){this._hideCrashedDialog.call(null);this._hideCrashedDialog=null}}};SDK.SDKModel.register(Components.TargetDetachedDialog,SDK.Target.Capability.Inspector,true);Runtime.cachedResources["components/imagePreview.css"]="/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.image-preview-container {\n    background: transparent;\n    text-align: center;\n    border-spacing: 0;\n}\n\n.image-preview-container img {\n    margin: 2px auto;\n    max-width: 100px;\n    max-height: 100px;\n    background-image: url(Images/checker.png);\n    -webkit-user-select: text;\n    -webkit-user-drag: auto;\n}\n\n.image-container {\n    padding: 0;\n}\n";Runtime.cachedResources["components/jsUtils.css"]="/*\n * Copyright 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n  display: inline;\n}\n\n.stack-preview-async-description {\n    padding: 3px 0 1px;\n    font-style: italic;\n}\n\n.stack-preview-container .webkit-html-blackbox-link {\n    opacity: 0.6;\n}\n\n.stack-preview-container > tr {\n    height: 16px;\n    line-height: 16px;\n}\n\n.stack-preview-container td {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.stack-preview-container .function-name {\n    max-width: 80em;\n}\n\n.stack-preview-container:not(.show-blackboxed) > tr.blackboxed {\n    display: none;\n}\n\n.stack-preview-container.show-blackboxed > tr.show-blackboxed-link {\n    display: none;\n}\n\n.stack-preview-container > tr.show-blackboxed-link {\n    font-style: italic;\n}\n";self["Persistence"]=self["Persistence"]||{};Persistence.PlatformFileSystem=class{constructor(e,t){this._path=e;this._type=t}getMetadata(e){return Promise.resolve(null)}initialFilePaths(){return[]}initialGitFolders(){return[]}path(){return this._path}embedderPath(){throw new Error("Not implemented")}type(){return this._type}async createFile(e,t){return Promise.resolve(null)}deleteFile(e){return Promise.resolve(false)}requestFileBlob(e){return Promise.resolve(null)}requestFileContent(e,t){t(null,false)}setFileContent(e,t,n){throw new Error("Not implemented")}renameFile(e,t,n){n(false)}addExcludedFolder(e){}removeExcludedFolder(e){}fileSystemRemoved(){}isFileExcluded(e){return false}excludedFolders(){return new Set}searchInPath(e,t){return Promise.resolve([])}indexContent(e){setImmediate(()=>e.done())}mimeFromPath(e){throw new Error("Not implemented")}canExcludeFolder(e){return false}contentType(e){throw new Error("Not implemented")}tooltipForURL(e){throw new Error("Not implemented")}supportsAutomapping(){throw new Error("Not implemented")}};Persistence.IsolatedFileSystem=class extends Persistence.PlatformFileSystem{constructor(e,t,n,s,i){super(t,i);this._manager=e;this._embedderPath=n;this._domFileSystem=s;this._excludedFoldersSetting=Common.settings.createLocalSetting("workspaceExcludedFolders",{});this._excludedFolders=new Set(this._excludedFoldersSetting.get()[t]||[]);this._excludedEmbedderFolders=[];this._initialFilePaths=new Set;this._initialGitFolders=new Set;this._fileLocks=new Map}static create(e,t,n,s,i,o){const r=InspectorFrontendHost.isolatedFileSystem(i,o);if(!r)return Promise.resolve(null);const a=new Persistence.IsolatedFileSystem(e,t,n,r,s);return a._initializeFilePaths().then(()=>a).catchException(null)}static errorMessage(e){return Common.UIString("File system error: %s",e.message)}_serializedFileOperation(e,t){const n=Promise.resolve(this._fileLocks.get(e)).then(()=>t.call(null));this._fileLocks.set(e,n);return n}getMetadata(e){let t;const n=new Promise(e=>t=e);this._domFileSystem.root.getFile(e,undefined,s,i);return n;function s(e){e.getMetadata(t,i)}function i(n){const s=Persistence.IsolatedFileSystem.errorMessage(n);console.error(s+" when getting file metadata '"+e);t(null)}}initialFilePaths(){return this._initialFilePaths.valuesArray()}initialGitFolders(){return this._initialGitFolders.valuesArray()}embedderPath(){return this._embedderPath}_initializeFilePaths(){let e;const t=new Promise(t=>e=t);let n=1;const s=i.bind(this);this._requestEntries("",s);return t;function i(t){for(let e=0;e<t.length;++e){const i=t[e];if(!i.isDirectory){if(this.isFileExcluded(i.fullPath))continue;this._initialFilePaths.add(i.fullPath.substr(1))}else{if(i.fullPath.endsWith("/.git")){const e=i.fullPath.lastIndexOf("/");const t=i.fullPath.substring(1,e);this._initialGitFolders.add(t)}if(this.isFileExcluded(i.fullPath+"/")){this._excludedEmbedderFolders.push(Common.ParsedURL.urlToPlatformPath(this.path()+i.fullPath,Host.isWin()));continue}++n;this._requestEntries(i.fullPath,s)}}if(--n===0)e()}}async _createFoldersIfNotExist(e){let t=await new Promise(t=>this._domFileSystem.root.getDirectory(e,undefined,t,()=>t(null)));if(t)return t;const n=e.split("/");let s="";for(const e of n){s=s+"/"+e;t=await this._innerCreateFolderIfNeeded(s);if(!t)return null}return t}_innerCreateFolderIfNeeded(e){return new Promise(t=>{this._domFileSystem.root.getDirectory(e,{create:true},e=>t(e),n=>{const s=Persistence.IsolatedFileSystem.errorMessage(n);console.error(s+" trying to create directory '"+e+"'");t(null)})})}async createFile(e,t){const n=await this._createFoldersIfNotExist(e);if(!n)return null;const s=await this._serializedFileOperation(e,i.bind(this,t||"NewFile"));if(!s)return null;return s.fullPath.substr(1);function i(t,s){return new Promise(o=>{const r=t+(s||"");n.getFile(r,{create:true,exclusive:true},o,n=>{if(n.name==="InvalidModificationError"){o(i.call(this,t,s?s+1:1));return}const a=Persistence.IsolatedFileSystem.errorMessage(n);console.error(a+" when testing if file exists '"+(this.path()+"/"+e+"/"+r)+"'");o(null)})})}}deleteFile(e){let t;const n=new Promise(e=>t=e);this._domFileSystem.root.getFile(e,undefined,s.bind(this),o.bind(this));return n;function s(e){e.remove(i,o.bind(this))}function i(){t(true)}function o(n){const s=Persistence.IsolatedFileSystem.errorMessage(n);console.error(s+" when deleting file '"+(this.path()+"/"+e)+"'");t(false)}}requestFileBlob(e){return new Promise(t=>{this._domFileSystem.root.getFile(e,undefined,e=>{e.file(t,n.bind(this))},n.bind(this));function n(n){if(n.name==="NotFoundError"){t(null);return}const s=Persistence.IsolatedFileSystem.errorMessage(n);console.error(s+" when getting content for file '"+(this.path()+"/"+e)+"'");t(null)}})}requestFileContent(e,t){const n=async()=>{const n=await this.requestFileBlob(e);if(!n){t(null,false);return}const s=new FileReader;const i=Common.ParsedURL.extractExtension(e);const o=Persistence.IsolatedFileSystem.BinaryExtensions.has(i);const r=new Promise(e=>s.onloadend=e);if(o)s.readAsBinaryString(n);else s.readAsText(n);await r;if(s.error){console.error("Can't read file: "+e+": "+s.error);t(null,false);return}let a;try{a=s.result}catch(t){a=null;console.error("Can't read file: "+e+": "+t)}if(a===undefined||a===null){t(null,false);return}t(o?btoa(a):a,o)};this._serializedFileOperation(e,n)}async setFileContent(e,t,n){Host.userMetrics.actionTaken(Host.UserMetrics.Action.FileSavedInWorkspace);let s;const i=()=>{const t=new Promise(e=>s=e);this._domFileSystem.root.getFile(e,{create:true},o.bind(this),a.bind(this));return t};this._serializedFileOperation(e,i);function o(e){e.createWriter(r.bind(this),a.bind(this))}async function r(e){e.onerror=a.bind(this);e.onwriteend=o;let i;if(n)i=await(await fetch(`data:application/octet-stream;base64,${t}`)).blob();else i=new Blob([t],{type:"text/plain"});e.write(i);function o(){e.onwriteend=s;e.truncate(i.size)}}function a(t){const n=Persistence.IsolatedFileSystem.errorMessage(t);console.error(n+" when setting content for file '"+(this.path()+"/"+e)+"'");s()}}renameFile(e,t,n){t=t?t.trim():t;if(!t||t.indexOf("/")!==-1){n(false);return}let s;let i;this._domFileSystem.root.getFile(e,undefined,o.bind(this),d.bind(this));function o(e){if(e.name===t){n(false);return}s=e;s.getParent(r.bind(this),d.bind(this))}function r(e){i=e;i.getFile(t,null,a,l.bind(this))}function a(e){n(false)}function l(e){if(e.name!=="NotFoundError"){n(false);return}s.moveTo(i,t,c,d.bind(this))}function c(e){n(true,e.name)}function d(s){const i=Persistence.IsolatedFileSystem.errorMessage(s);console.error(i+" when renaming file '"+(this.path()+"/"+e)+"' to '"+t+"'");n(false)}}_readDirectory(e,t){const n=e.createReader();let s=[];function i(e){if(!e.length){t(s.sort())}else{s=s.concat(o(e));n.readEntries(i,r)}}function o(e){return Array.prototype.slice.call(e||[],0)}n.readEntries(i,r);function r(n){const s=Persistence.IsolatedFileSystem.errorMessage(n);console.error(s+" when reading directory '"+e.fullPath+"'");t([])}}_requestEntries(e,t){this._domFileSystem.root.getDirectory(e,undefined,n.bind(this),s);function n(e){this._readDirectory(e,t)}function s(n){const s=Persistence.IsolatedFileSystem.errorMessage(n);console.error(s+" when requesting entry '"+e+"'");t([])}}_saveExcludedFolders(){const e=this._excludedFoldersSetting.get();e[this.path()]=this._excludedFolders.valuesArray();this._excludedFoldersSetting.set(e)}addExcludedFolder(e){this._excludedFolders.add(e);this._saveExcludedFolders();this._manager.dispatchEventToListeners(Persistence.IsolatedFileSystemManager.Events.ExcludedFolderAdded,e)}removeExcludedFolder(e){this._excludedFolders.delete(e);this._saveExcludedFolders();this._manager.dispatchEventToListeners(Persistence.IsolatedFileSystemManager.Events.ExcludedFolderRemoved,e)}fileSystemRemoved(){const e=this._excludedFoldersSetting.get();delete e[this.path()];this._excludedFoldersSetting.set(e)}isFileExcluded(e){if(this._excludedFolders.has(e))return true;const t=this._manager.workspaceFolderExcludePatternSetting().asRegExp();return!!(t&&t.test(e))}excludedFolders(){return this._excludedFolders}searchInPath(e,t){return new Promise(n=>{const s=this._manager.registerCallback(i);InspectorFrontendHost.searchInPath(s,this._embedderPath,e);function i(e){n(e.map(e=>Common.ParsedURL.platformPathToURL(e)));t.worked(1)}})}indexContent(e){e.setTotalWork(1);const t=this._manager.registerProgress(e);InspectorFrontendHost.indexPath(t,this._embedderPath,JSON.stringify(this._excludedEmbedderFolders))}mimeFromPath(e){return Common.ResourceType.mimeFromURL(e)||"text/plain"}canExcludeFolder(e){return!!e&&this.type()!=="overrides"}contentType(e){const t=Common.ParsedURL.extractExtension(e);if(Persistence.IsolatedFileSystem._styleSheetExtensions.has(t))return Common.resourceTypes.Stylesheet;if(Persistence.IsolatedFileSystem._documentExtensions.has(t))return Common.resourceTypes.Document;if(Persistence.IsolatedFileSystem.ImageExtensions.has(t))return Common.resourceTypes.Image;if(Persistence.IsolatedFileSystem._scriptExtensions.has(t))return Common.resourceTypes.Script;return Persistence.IsolatedFileSystem.BinaryExtensions.has(t)?Common.resourceTypes.Other:Common.resourceTypes.Document}tooltipForURL(e){const t=Common.ParsedURL.urlToPlatformPath(e,Host.isWin()).trimMiddle(150);return ls`Linked to ${t}`}supportsAutomapping(){return this.type()!=="overrides"}};Persistence.IsolatedFileSystem._styleSheetExtensions=new Set(["css","scss","sass","less"]);Persistence.IsolatedFileSystem._documentExtensions=new Set(["htm","html","asp","aspx","phtml","jsp"]);Persistence.IsolatedFileSystem._scriptExtensions=new Set(["asp","aspx","c","cc","cljs","coffee","cpp","cs","dart","java","js","jsp","jsx","h","m","mjs","mm","py","sh","ts","tsx","ls"]);Persistence.IsolatedFileSystem.ImageExtensions=new Set(["jpeg","jpg","svg","gif","webp","png","ico","tiff","tif","bmp"]);Persistence.IsolatedFileSystem.BinaryExtensions=new Set(["cmd","com","exe","a","ar","iso","tar","bz2","gz","lz","lzma","z","7z","apk","arc","cab","dmg","jar","pak","rar","zip","3gp","aac","aiff","flac","m4a","mmf","mp3","ogg","oga","raw","sln","wav","wma","webm","mkv","flv","vob","ogv","gifv","avi","mov","qt","mp4","m4p","m4v","mpg","mpeg","jpeg","jpg","gif","webp","png","ico","tiff","tif","bmp"]);Persistence.IsolatedFileSystemManager=class extends Common.Object{constructor(){super();this._fileSystems=new Map;this._callbacks=new Map;this._progresses=new Map;InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.FileSystemRemoved,this._onFileSystemRemoved,this);InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.FileSystemAdded,this._onFileSystemAdded,this);InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.FileSystemFilesChangedAddedRemoved,this._onFileSystemFilesChanged,this);InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.IndexingTotalWorkCalculated,this._onIndexingTotalWorkCalculated,this);InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.IndexingWorked,this._onIndexingWorked,this);InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.IndexingDone,this._onIndexingDone,this);InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.SearchCompleted,this._onSearchCompleted,this);this._initExcludePatterSetting();this._fileSystemRequestResolve=null;this._fileSystemsLoadedPromise=this._requestFileSystems()}_requestFileSystems(){let e;const t=new Promise(t=>e=t);InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.FileSystemsLoaded,n,this);InspectorFrontendHost.requestFileSystems();return t;function n(e){const t=e.data;const n=[];for(let e=0;e<t.length;++e)n.push(this._innerAddFileSystem(t[e],false));Promise.all(n).then(s)}function s(t){e(t.filter(e=>!!e))}}addFileSystem(e){return new Promise(t=>{this._fileSystemRequestResolve=t;InspectorFrontendHost.addFileSystem(e||"")})}removeFileSystem(e){InspectorFrontendHost.removeFileSystem(e.embedderPath())}waitForFileSystems(){return this._fileSystemsLoadedPromise}_innerAddFileSystem(e,t){const n=e.fileSystemPath;const s=Common.ParsedURL.platformPathToURL(e.fileSystemPath);const i=Persistence.IsolatedFileSystem.create(this,s,n,e.type,e.fileSystemName,e.rootURL);return i.then(o.bind(this));function o(e){if(!e)return null;this._fileSystems.set(s,e);if(t)this.dispatchEventToListeners(Persistence.IsolatedFileSystemManager.Events.FileSystemAdded,e);return e}}addPlatformFileSystem(e,t){this._fileSystems.set(e,t);this.dispatchEventToListeners(Persistence.IsolatedFileSystemManager.Events.FileSystemAdded,t)}async _onFileSystemAdded(e){const t=e.data["errorMessage"];let n=e.data["fileSystem"];if(t){Common.console.error(Common.UIString("Unable to add filesystem: %s",t));if(!this._fileSystemRequestResolve)return;this._fileSystemRequestResolve.call(null,null);this._fileSystemRequestResolve=null}else if(n){n=await this._innerAddFileSystem(n,true);if(this._fileSystemRequestResolve){this._fileSystemRequestResolve.call(null,n);this._fileSystemRequestResolve=null}}}_onFileSystemRemoved(e){const t=e.data;const n=Common.ParsedURL.platformPathToURL(t);const s=this._fileSystems.get(n);if(!s)return;this._fileSystems.delete(n);s.fileSystemRemoved();this.dispatchEventToListeners(Persistence.IsolatedFileSystemManager.Events.FileSystemRemoved,s)}_onFileSystemFilesChanged(e){const t={changed:n.call(this,e.data.changed),added:n.call(this,e.data.added),removed:n.call(this,e.data.removed)};this.dispatchEventToListeners(Persistence.IsolatedFileSystemManager.Events.FileSystemFilesChanged,t);function n(e){const t=new Multimap;for(const n of e){const e=Common.ParsedURL.platformPathToURL(n);for(const s of this._fileSystems.keys()){if(this._fileSystems.get(s).isFileExcluded(n))continue;const i=s.endsWith("/")?s:s+"/";if(!e.startsWith(i))continue;t.set(s,e)}}return t}}fileSystems(){return this._fileSystems.valuesArray()}fileSystem(e){return this._fileSystems.get(e)||null}_initExcludePatterSetting(){const e=["/node_modules/","/bower_components/","/\\.devtools","/\\.git/","/\\.sass-cache/","/\\.hg/","/\\.idea/","/\\.svn/","/\\.cache/","/\\.project/"];const t=["/Thumbs.db$","/ehthumbs.db$","/Desktop.ini$","/\\$RECYCLE.BIN/"];const n=["/\\.DS_Store$","/\\.Trashes$","/\\.Spotlight-V100$","/\\.AppleDouble$","/\\.LSOverride$","/Icon$","/\\._.*$"];const s=["/.*~$"];let i=e;if(Host.isWin())i=i.concat(t);else if(Host.isMac())i=i.concat(n);else i=i.concat(s);const o=i.join("|");this._workspaceFolderExcludePatternSetting=Common.settings.createRegExpSetting("workspaceFolderExcludePattern",o,Host.isWin()?"i":"")}workspaceFolderExcludePatternSetting(){return this._workspaceFolderExcludePatternSetting}registerCallback(e){const t=++Persistence.IsolatedFileSystemManager._lastRequestId;this._callbacks.set(t,e);return t}registerProgress(e){const t=++Persistence.IsolatedFileSystemManager._lastRequestId;this._progresses.set(t,e);return t}_onIndexingTotalWorkCalculated(e){const t=e.data["requestId"];const n=e.data["totalWork"];const s=this._progresses.get(t);if(!s)return;s.setTotalWork(n)}_onIndexingWorked(e){const t=e.data["requestId"];const n=e.data["worked"];const s=this._progresses.get(t);if(!s)return;s.worked(n);if(s.isCanceled()){InspectorFrontendHost.stopIndexing(t);this._onIndexingDone(e)}}_onIndexingDone(e){const t=e.data["requestId"];const n=this._progresses.get(t);if(!n)return;n.done();this._progresses.delete(t)}_onSearchCompleted(e){const t=e.data["requestId"];const n=e.data["files"];const s=this._callbacks.get(t);if(!s)return;s.call(null,n);this._callbacks.delete(t)}};Persistence.IsolatedFileSystemManager.FileSystem;Persistence.IsolatedFileSystemManager.FilesChangedData;Persistence.IsolatedFileSystemManager.Events={FileSystemAdded:Symbol("FileSystemAdded"),FileSystemRemoved:Symbol("FileSystemRemoved"),FileSystemFilesChanged:Symbol("FileSystemFilesChanged"),ExcludedFolderAdded:Symbol("ExcludedFolderAdded"),ExcludedFolderRemoved:Symbol("ExcludedFolderRemoved")};Persistence.IsolatedFileSystemManager._lastRequestId=0;Persistence.isolatedFileSystemManager;Persistence.FileSystemWorkspaceBinding=class{constructor(e,t){this._isolatedFileSystemManager=e;this._workspace=t;this._eventListeners=[this._isolatedFileSystemManager.addEventListener(Persistence.IsolatedFileSystemManager.Events.FileSystemAdded,this._onFileSystemAdded,this),this._isolatedFileSystemManager.addEventListener(Persistence.IsolatedFileSystemManager.Events.FileSystemRemoved,this._onFileSystemRemoved,this),this._isolatedFileSystemManager.addEventListener(Persistence.IsolatedFileSystemManager.Events.FileSystemFilesChanged,this._fileSystemFilesChanged,this)];this._boundFileSystems=new Map;this._isolatedFileSystemManager.waitForFileSystems().then(this._onFileSystemsLoaded.bind(this))}static projectId(e){return e}static relativePath(e){const t=e.project()._fileSystemBaseURL;return e.url().substring(t.length).split("/")}static tooltipForUISourceCode(e){const t=e.project()._fileSystem;return t.tooltipForURL(e.url())}static fileSystemType(e){const t=e._fileSystem;return t.type()}static fileSystemSupportsAutomapping(e){const t=e._fileSystem;return t.supportsAutomapping()}static completeURL(e,t){const n=e;return n._fileSystemBaseURL+t}static fileSystemPath(e){return e}fileSystemManager(){return this._isolatedFileSystemManager}_onFileSystemsLoaded(e){for(const t of e)this._addFileSystem(t)}_onFileSystemAdded(e){const t=e.data;this._addFileSystem(t)}_addFileSystem(e){const t=new Persistence.FileSystemWorkspaceBinding.FileSystem(this,e,this._workspace);this._boundFileSystems.set(e.path(),t)}_onFileSystemRemoved(e){const t=e.data;const n=this._boundFileSystems.get(t.path());n.dispose();this._boundFileSystems.remove(t.path())}_fileSystemFilesChanged(e){const t=e.data;for(const e of t.changed.keysArray()){const n=this._boundFileSystems.get(e);if(!n)continue;t.changed.get(e).forEach(e=>n._fileChanged(e))}for(const e of t.added.keysArray()){const n=this._boundFileSystems.get(e);if(!n)continue;t.added.get(e).forEach(e=>n._fileChanged(e))}for(const e of t.removed.keysArray()){const n=this._boundFileSystems.get(e);if(!n)continue;t.removed.get(e).forEach(e=>n.removeUISourceCode(e))}}dispose(){Common.EventTarget.removeEventListeners(this._eventListeners);for(const e of this._boundFileSystems.values()){e.dispose();this._boundFileSystems.remove(e._fileSystem.path())}}};Persistence.FileSystemWorkspaceBinding.FileSystem=class extends Workspace.ProjectStore{constructor(e,t,n){const s=t.path();const i=Persistence.FileSystemWorkspaceBinding.projectId(s);console.assert(!n.project(i));const o=s.substr(s.lastIndexOf("/")+1);super(n,i,Workspace.projectTypes.FileSystem,o);this._fileSystem=t;this._fileSystemBaseURL=this._fileSystem.path()+"/";this._fileSystemParentURL=this._fileSystemBaseURL.substr(0,s.lastIndexOf("/")+1);this._fileSystemWorkspaceBinding=e;this._fileSystemPath=s;this._creatingFilesGuard=new Set;n.addProject(this);this.populate()}fileSystemPath(){return this._fileSystemPath}mimeType(e){return this._fileSystem.mimeFromPath(e.url())}initialGitFolders(){return this._fileSystem.initialGitFolders().map(e=>this._fileSystemPath+"/"+e)}_filePathForUISourceCode(e){return e.url().substring(this._fileSystemPath.length)}isServiceProject(){return false}requestMetadata(e){if(e[Persistence.FileSystemWorkspaceBinding._metadata])return e[Persistence.FileSystemWorkspaceBinding._metadata];const t=this._filePathForUISourceCode(e);const n=this._fileSystem.getMetadata(t).then(s);e[Persistence.FileSystemWorkspaceBinding._metadata]=n;return n;function s(e){if(!e)return null;return new Workspace.UISourceCodeMetadata(e.modificationTime,e.size)}}requestFileBlob(e){return this._fileSystem.requestFileBlob(this._filePathForUISourceCode(e))}requestFileContent(e,t){const n=this._filePathForUISourceCode(e);this._fileSystem.requestFileContent(n,t)}canSetFileContent(){return true}async setFileContent(e,t,n){const s=this._filePathForUISourceCode(e);await this._fileSystem.setFileContent(s,t,n)}fullDisplayName(e){const t=e.project()._fileSystemParentURL;return e.url().substring(t.length)}canRename(){return true}rename(e,t,n){if(t===e.name()){n(true,e.name(),e.url(),e.contentType());return}let s=this._filePathForUISourceCode(e);this._fileSystem.renameFile(s,t,i.bind(this));function i(t,i){if(!t||!i){n(false,i);return}console.assert(i);const o=s.lastIndexOf("/");const r=s.substring(0,o);s=r+"/"+i;s=s.substr(1);const a=this._fileSystemBaseURL+s;const l=this._fileSystem.contentType(i);this.renameUISourceCode(e,i);n(true,i,a,l)}}searchInFileContent(e,t,n,s){return new Promise(i=>{const o=this._filePathForUISourceCode(e);this._fileSystem.requestFileContent(o,r);function r(e){i(e?Common.ContentProvider.performSearchInContent(e,t,n,s):[])}})}async findFilesMatchingSearchRequest(e,t,n){let s=t;const i=e.queries().slice();if(!i.length)i.push("");n.setTotalWork(i.length);for(const t of i){const i=await this._fileSystem.searchInPath(e.isRegex()?"":t,n);s=s.intersectOrdered(i.sort(),String.naturalOrderComparator);n.worked(1)}n.done();return s}indexContent(e){this._fileSystem.indexContent(e)}populate(){const e=1e3;const t=this._fileSystem.initialFilePaths();n.call(this,0);function n(s){const i=Math.min(s+e,t.length);for(let e=s;e<i;++e)this._addFile(t[e]);if(i<t.length)setTimeout(n.bind(this,i),100)}}excludeFolder(e){let t=e.substring(this._fileSystemBaseURL.length);if(!t.startsWith("/"))t="/"+t;if(!t.endsWith("/"))t+="/";this._fileSystem.addExcludedFolder(t);const n=this.uiSourceCodes().slice();for(let t=0;t<n.length;++t){const s=n[t];if(s.url().startsWith(e))this.removeUISourceCode(s.url())}}canExcludeFolder(e){return this._fileSystem.canExcludeFolder(e)}canCreateFile(){return true}async createFile(e,t,n,s){const i=this._fileSystemPath+e+(!e.endsWith("/")?"/":"")+t;this._creatingFilesGuard.add(i);const o=await this._fileSystem.createFile(e,t);if(!o)return null;const r=this._addFile(o);r.setContent(n,!!s);this._creatingFilesGuard.delete(i);return r}deleteFile(e){const t=this._filePathForUISourceCode(e);this._fileSystem.deleteFile(t).then(t=>{if(t)this.removeUISourceCode(e.url())})}remove(){this._fileSystemWorkspaceBinding._isolatedFileSystemManager.removeFileSystem(this._fileSystem)}_addFile(e){const t=this._fileSystem.contentType(e);const n=this.createUISourceCode(this._fileSystemBaseURL+e,t);this.addUISourceCode(n);return n}_fileChanged(e){if(this._creatingFilesGuard.has(e))return;const t=this.uiSourceCodeForURL(e);if(!t){const t=this._fileSystem.contentType(e);this.addUISourceCode(this.createUISourceCode(e,t));return}t[Persistence.FileSystemWorkspaceBinding._metadata]=null;t.checkContentUpdated()}tooltipForURL(e){return this._fileSystem.tooltipForURL(e)}dispose(){this.removeProject()}};Persistence.FileSystemWorkspaceBinding._metadata=Symbol("FileSystemWorkspaceBinding.Metadata");Persistence.Automapping=class{constructor(e,t,n){this._workspace=e;this._onStatusAdded=t;this._onStatusRemoved=n;this._statuses=new Set;this._fileSystemUISourceCodes=new Map;this._sweepThrottler=new Common.Throttler(100);const s=new Persistence.PathEncoder;this._filesIndex=new Persistence.Automapping.FilePathIndex(s);this._projectFoldersIndex=new Persistence.Automapping.FolderIndex(s);this._activeFoldersIndex=new Persistence.Automapping.FolderIndex(s);this._eventListeners=[this._workspace.addEventListener(Workspace.Workspace.Events.UISourceCodeAdded,e=>this._onUISourceCodeAdded(e.data)),this._workspace.addEventListener(Workspace.Workspace.Events.UISourceCodeRemoved,e=>this._onUISourceCodeRemoved(e.data)),this._workspace.addEventListener(Workspace.Workspace.Events.UISourceCodeRenamed,this._onUISourceCodeRenamed,this),this._workspace.addEventListener(Workspace.Workspace.Events.ProjectAdded,e=>this._onProjectAdded(e.data),this),this._workspace.addEventListener(Workspace.Workspace.Events.ProjectRemoved,e=>this._onProjectRemoved(e.data),this)];for(const t of e.projects())this._onProjectAdded(t);for(const t of e.uiSourceCodes())this._onUISourceCodeAdded(t)}_scheduleRemap(){for(const e of this._statuses.valuesArray())this._clearNetworkStatus(e.network);this._scheduleSweep()}_scheduleSweep(){this._sweepThrottler.schedule(e.bind(this));function e(){const e=this._workspace.projectsForType(Workspace.projectTypes.Network);for(const t of e){for(const e of t.uiSourceCodes())this._computeNetworkStatus(e)}this._onSweepHappenedForTest();return Promise.resolve()}}_onSweepHappenedForTest(){}_onProjectRemoved(e){for(const t of e.uiSourceCodes())this._onUISourceCodeRemoved(t);if(e.type()!==Workspace.projectTypes.FileSystem)return;const t=e;for(const e of t.initialGitFolders())this._projectFoldersIndex.removeFolder(e);this._projectFoldersIndex.removeFolder(t.fileSystemPath());this._scheduleRemap()}_onProjectAdded(e){if(e.type()!==Workspace.projectTypes.FileSystem)return;const t=e;for(const e of t.initialGitFolders())this._projectFoldersIndex.addFolder(e);this._projectFoldersIndex.addFolder(t.fileSystemPath());e.uiSourceCodes().forEach(this._onUISourceCodeAdded.bind(this));this._scheduleRemap()}_onUISourceCodeAdded(e){const t=e.project();if(t.type()===Workspace.projectTypes.FileSystem){if(!Persistence.FileSystemWorkspaceBinding.fileSystemSupportsAutomapping(t))return;this._filesIndex.addPath(e.url());this._fileSystemUISourceCodes.set(e.url(),e);this._scheduleSweep()}else if(t.type()===Workspace.projectTypes.Network){this._computeNetworkStatus(e)}}_onUISourceCodeRemoved(e){if(e.project().type()===Workspace.projectTypes.FileSystem){this._filesIndex.removePath(e.url());this._fileSystemUISourceCodes.delete(e.url());const t=e[Persistence.Automapping._status];if(t)this._clearNetworkStatus(t.network)}else if(e.project().type()===Workspace.projectTypes.Network){this._clearNetworkStatus(e)}}_onUISourceCodeRenamed(e){const t=e.data.uiSourceCode;const n=e.data.oldURL;if(t.project().type()!==Workspace.projectTypes.FileSystem)return;this._filesIndex.removePath(n);this._fileSystemUISourceCodes.delete(n);const s=t[Persistence.Automapping._status];if(s)this._clearNetworkStatus(s.network);this._filesIndex.addPath(t.url());this._fileSystemUISourceCodes.set(t.url(),t);this._scheduleSweep()}_computeNetworkStatus(e){if(e[Persistence.Automapping._processingPromise]||e[Persistence.Automapping._status])return;if(e.url().startsWith("wasm://"))return;const t=this._createBinding(e).then(n.bind(this)).then(s.bind(this));e[Persistence.Automapping._processingPromise]=t;async function n(n){if(!n)return null;if(e[Persistence.Automapping._processingPromise]!==t)return null;if(n.network.contentType().isFromSourceMap()||!n.fileSystem.contentType().isTextType())return n;if(n.fileSystem.isDirty()&&(n.network.isDirty()||n.network.hasCommits()))return null;const s=await Promise.all([n.fileSystem.requestContent(),new Promise(e=>n.network.project().requestFileContent(n.network,e))]);const i=s[0];const o=s[1];if(i===null||o===null)return null;if(e[Persistence.Automapping._processingPromise]!==t)return null;const r=Bindings.NetworkProject.targetForUISourceCode(n.network);let a=false;if(r&&r.type()===SDK.Target.Type.Node){const e=Persistence.Persistence.rewrapNodeJSContent(n.fileSystem,i,o);a=i===e}else{a=i.trimRight()===o.trimRight()}if(!a){this._prevalidationFailedForTest(n);return null}return n}function s(n){if(e[Persistence.Automapping._processingPromise]!==t)return;e[Persistence.Automapping._processingPromise]=null;if(!n||this._disposed){this._onBindingFailedForTest();return}if(n.network[Persistence.Automapping._status]||n.fileSystem[Persistence.Automapping._status])return;this._statuses.add(n);n.network[Persistence.Automapping._status]=n;n.fileSystem[Persistence.Automapping._status]=n;if(n.exactMatch){const e=this._projectFoldersIndex.closestParentFolder(n.fileSystem.url());const t=e?this._activeFoldersIndex.addFolder(e):false;if(t)this._scheduleSweep()}this._onStatusAdded.call(null,n)}}_prevalidationFailedForTest(e){}_onBindingFailedForTest(){}_clearNetworkStatus(e){if(e[Persistence.Automapping._processingPromise]){e[Persistence.Automapping._processingPromise]=null;return}const t=e[Persistence.Automapping._status];if(!t)return;this._statuses.delete(t);t.network[Persistence.Automapping._status]=null;t.fileSystem[Persistence.Automapping._status]=null;if(t.exactMatch){const e=this._projectFoldersIndex.closestParentFolder(t.fileSystem.url());if(e)this._activeFoldersIndex.removeFolder(e)}this._onStatusRemoved.call(null,t)}_createBinding(e){if(e.url().startsWith("file://")||e.url().startsWith("snippet://")){const t=this._fileSystemUISourceCodes.get(e.url());const n=t?new Persistence.AutomappingStatus(e,t,false):null;return Promise.resolve(n)}let t=Common.ParsedURL.extractPath(e.url());if(t===null)return Promise.resolve(null);if(t.endsWith("/"))t+="index.html";const n=this._filesIndex.similarFiles(t).map(e=>this._fileSystemUISourceCodes.get(e));if(!n.length)return Promise.resolve(null);return this._pullMetadatas(n.concat(e)).then(s.bind(this));function s(){const t=n.filter(e=>!!this._activeFoldersIndex.closestParentFolder(e.url()));const s=e[Persistence.Automapping._metadata];if(!s||!s.modificationTime&&typeof s.contentSize!=="number"){if(t.length!==1)return null;return new Persistence.AutomappingStatus(e,t[0],false)}let i=this._filterWithMetadata(t,s);if(!i.length)i=this._filterWithMetadata(n,s);if(i.length!==1)return null;return new Persistence.AutomappingStatus(e,i[0],true)}}_pullMetadatas(e){const t=e.map(e=>n(e));return Promise.all(t);function n(e){return e.requestMetadata().then(t=>e[Persistence.Automapping._metadata]=t)}}_filterWithMetadata(e,t){return e.filter(e=>{const n=e[Persistence.Automapping._metadata];if(!n)return false;const s=!t.modificationTime||Math.abs(t.modificationTime-n.modificationTime)<1e3;const i=!t.contentSize||n.contentSize===t.contentSize;return s&&i})}dispose(){if(this._disposed)return;this._disposed=true;Common.EventTarget.removeEventListeners(this._eventListeners);for(const e of this._statuses.valuesArray())this._clearNetworkStatus(e.network)}};Persistence.Automapping._status=Symbol("Automapping.Status");Persistence.Automapping._processingPromise=Symbol("Automapping.ProcessingPromise");Persistence.Automapping._metadata=Symbol("Automapping.Metadata");Persistence.Automapping.FilePathIndex=class{constructor(e){this._encoder=e;this._reversedIndex=new Common.Trie}addPath(e){const t=this._encoder.encode(e);this._reversedIndex.add(t.reverse())}removePath(e){const t=this._encoder.encode(e);this._reversedIndex.remove(t.reverse())}similarFiles(e){const t=this._encoder.encode(e);const n=this._reversedIndex.longestPrefix(t.reverse(),false);if(!n)return[];return this._reversedIndex.words(n).map(e=>this._encoder.decode(e.reverse()))}};Persistence.Automapping.FolderIndex=class{constructor(e){this._encoder=e;this._index=new Common.Trie;this._folderCount=new Map}addFolder(e){if(e.endsWith("/"))e=e.substring(0,e.length-1);const t=this._encoder.encode(e);this._index.add(t);const n=this._folderCount.get(t)||0;this._folderCount.set(t,n+1);return n===0}removeFolder(e){if(e.endsWith("/"))e=e.substring(0,e.length-1);const t=this._encoder.encode(e);const n=this._folderCount.get(t)||0;if(!n)return false;if(n>1){this._folderCount.set(t,n-1);return false}this._index.remove(t);this._folderCount.delete(t);return true}closestParentFolder(e){const t=this._encoder.encode(e);const n=this._index.longestPrefix(t,true);return this._encoder.decode(n)}};Persistence.AutomappingStatus=class{constructor(e,t,n){this.network=e;this.fileSystem=t;this.exactMatch=n}};Persistence.NetworkPersistenceManager=class extends Common.Object{constructor(e){super();this._bindingSymbol=Symbol("NetworkPersistenceBinding");this._originalResponseContentPromiseSymbol=Symbol("OriginalResponsePromise");this._savingSymbol=Symbol("SavingForOverrides");this._enabledSetting=Common.settings.moduleSetting("persistenceNetworkOverridesEnabled");this._enabledSetting.addChangeListener(this._enabledChanged,this);this._workspace=e;this._networkUISourceCodeForEncodedPath=new Map;this._interceptionHandlerBound=this._interceptionHandler.bind(this);this._updateInterceptionThrottler=new Common.Throttler(50);this._project=null;this._activeProject=null;this._active=false;this._enabled=false;this._workspace.addEventListener(Workspace.Workspace.Events.ProjectAdded,e=>this._onProjectAdded(e.data));this._workspace.addEventListener(Workspace.Workspace.Events.ProjectRemoved,e=>this._onProjectRemoved(e.data));this._eventDescriptors=[];this._enabledChanged()}active(){return this._active}project(){return this._project}originalContentForUISourceCode(e){if(!e[this._bindingSymbol])return null;const t=e[this._bindingSymbol].fileSystem;return t[this._originalResponseContentPromiseSymbol]||null}_enabledChanged(){if(this._enabled===this._enabledSetting.get())return;this._enabled=this._enabledSetting.get();if(this._enabled){this._eventDescriptors=[Workspace.workspace.addEventListener(Workspace.Workspace.Events.UISourceCodeRenamed,e=>{const t=e.data.uiSourceCode;this._onUISourceCodeRemoved(t);this._onUISourceCodeAdded(t)}),Workspace.workspace.addEventListener(Workspace.Workspace.Events.UISourceCodeAdded,e=>this._onUISourceCodeAdded(e.data)),Workspace.workspace.addEventListener(Workspace.Workspace.Events.UISourceCodeRemoved,e=>this._onUISourceCodeRemoved(e.data)),Workspace.workspace.addEventListener(Workspace.Workspace.Events.WorkingCopyCommitted,e=>this._onUISourceCodeWorkingCopyCommitted(e.data.uiSourceCode))];this._updateActiveProject()}else{Common.EventTarget.removeEventListeners(this._eventDescriptors);this._updateActiveProject()}}_updateActiveProject(){const e=this._active;this._active=!!(this._enabledSetting.get()&&SDK.targetManager.mainTarget()&&this._project);if(this._active===e)return;if(this._active){this._project.uiSourceCodes().forEach(this._filesystemUISourceCodeAdded.bind(this));const e=this._workspace.projectsForType(Workspace.projectTypes.Network);for(const t of e)t.uiSourceCodes().forEach(this._networkUISourceCodeAdded.bind(this))}else if(this._project){this._project.uiSourceCodes().forEach(this._filesystemUISourceCodeRemoved.bind(this));this._networkUISourceCodeForEncodedPath.clear()}Persistence.persistence.setAutomappingEnabled(!this._active)}_encodedPathFromUrl(e){if(!this._active)return"";let t=Common.ParsedURL.urlWithoutHash(e.replace(/^https?:\/\//,""));if(t.endsWith("/")&&t.indexOf("?")===-1)t=t+"index.html";let n=o(t);const s=Persistence.FileSystemWorkspaceBinding.fileSystemPath(this._project.id());const i=n.join("/");if(s.length+i.length>200){const e=n[0];const s=n[n.length-1];const o=s?s.substr(0,10)+"-":"";const r=Common.ParsedURL.extractExtension(t);const a=r?"."+r.substr(0,10):"";n=[e,"longurls",o+String.hashCode(i).toString(16)+a]}return n.join("/");function o(e){const t=[];for(const n of r(e)){if(!n)continue;let e=encodeURI(n).replace(/[\/:\?\*]/g,e=>"%"+e[0].charCodeAt(0).toString(16));if(Persistence.NetworkPersistenceManager._reservedFileNames.has(e.toLowerCase()))e=e.split("").map(e=>"%"+e.charCodeAt(0).toString(16)).join("");const s=e.charAt(e.length-1);if(s===".")e=e.substr(0,e.length-1)+"%2e";t.push(e)}return t}function r(e){e=Common.ParsedURL.urlWithoutHash(e);const t=e.indexOf("?");if(t===-1)return e.split("/");if(t===0)return[e];const n=e.substr(t);const s=e.substr(0,e.length-n.length).split("/");s[s.length-1]+=n;return s}}_decodeLocalPathToUrlPath(e){try{return unescape(e)}catch(e){console.error(e)}return e}_unbind(e){const t=e[this._bindingSymbol];if(!t)return;delete t.network[this._bindingSymbol];delete t.fileSystem[this._bindingSymbol];Persistence.persistence.removeBinding(t)}async _bind(e,t){if(e[this._bindingSymbol])this._unbind(e);if(t[this._bindingSymbol])this._unbind(t);const n=new Persistence.PersistenceBinding(e,t);e[this._bindingSymbol]=n;t[this._bindingSymbol]=n;Persistence.persistence.addBinding(n);const s=e[this._savingSymbol]?e:t;const[i,o]=await Promise.all([s.requestContent(),s.contentEncoded()]);Persistence.persistence.syncContent(s,i,o)}_onUISourceCodeWorkingCopyCommitted(e){this.saveUISourceCodeForOverrides(e)}canSaveUISourceCodeForOverrides(e){return this._active&&e.project().type()===Workspace.projectTypes.Network&&!e[this._bindingSymbol]&&!e[this._savingSymbol]}async saveUISourceCodeForOverrides(e){if(!this.canSaveUISourceCodeForOverrides(e))return;e[this._savingSymbol]=true;let t=this._encodedPathFromUrl(e.url());const n=await e.requestContent();const s=await e.contentEncoded();const i=t.lastIndexOf("/");const o=t.substr(i+1);t=t.substr(0,i);await this._project.createFile(t,o,n,s);this._fileCreatedForTest(t,o);e[this._savingSymbol]=false}_fileCreatedForTest(e,t){}_patternForFileSystemUISourceCode(e){const t=Persistence.FileSystemWorkspaceBinding.relativePath(e);if(t.length<2)return"";if(t[1]==="longurls"&&t.length!==2)return"http?://"+t[0]+"/*";return"http?://"+this._decodeLocalPathToUrlPath(t.join("/"))}_onUISourceCodeAdded(e){this._networkUISourceCodeAdded(e);this._filesystemUISourceCodeAdded(e)}_networkUISourceCodeAdded(e){if(!this._active||e.project().type()!==Workspace.projectTypes.Network)return;const t=Common.ParsedURL.urlWithoutHash(e.url());this._networkUISourceCodeForEncodedPath.set(this._encodedPathFromUrl(t),e);const n=this._project.uiSourceCodeForURL(this._project.fileSystemPath()+"/"+this._encodedPathFromUrl(t));if(!n)return;this._bind(e,n)}_filesystemUISourceCodeAdded(e){if(!this._active||e.project()!==this._project)return;this._updateInterceptionPatterns();const t=Persistence.FileSystemWorkspaceBinding.relativePath(e);const n=this._networkUISourceCodeForEncodedPath.get(t.join("/"));if(n)this._bind(n,e)}_updateInterceptionPatterns(){this._updateInterceptionThrottler.schedule(e.bind(this));function e(){if(!this._active)return SDK.multitargetNetworkManager.setInterceptionHandlerForPatterns([],this._interceptionHandlerBound);const e=new Set;const t="index.html";for(const n of this._project.uiSourceCodes()){const s=this._patternForFileSystemUISourceCode(n);e.add(s);if(s.endsWith("/"+t))e.add(s.substr(0,s.length-t.length))}return SDK.multitargetNetworkManager.setInterceptionHandlerForPatterns(Array.from(e).map(e=>({urlPattern:e,interceptionStage:Protocol.Network.InterceptionStage.HeadersReceived})),this._interceptionHandlerBound)}}_onUISourceCodeRemoved(e){this._networkUISourceCodeRemoved(e);this._filesystemUISourceCodeRemoved(e)}_networkUISourceCodeRemoved(e){if(e.project().type()!==Workspace.projectTypes.Network)return;this._unbind(e);this._networkUISourceCodeForEncodedPath.delete(this._encodedPathFromUrl(e.url()))}_filesystemUISourceCodeRemoved(e){if(e.project()!==this._project)return;this._updateInterceptionPatterns();delete e[this._originalResponseContentPromiseSymbol];this._unbind(e)}_setProject(e){if(e===this._project)return;if(this._project)this._project.uiSourceCodes().forEach(this._filesystemUISourceCodeRemoved.bind(this));this._project=e;if(this._project)this._project.uiSourceCodes().forEach(this._filesystemUISourceCodeAdded.bind(this));this._updateActiveProject();this.dispatchEventToListeners(Persistence.NetworkPersistenceManager.Events.ProjectChanged,this._project)}_onProjectAdded(e){if(e.type()!==Workspace.projectTypes.FileSystem||Persistence.FileSystemWorkspaceBinding.fileSystemType(e)!=="overrides")return;const t=Persistence.FileSystemWorkspaceBinding.fileSystemPath(e.id());if(!t)return;if(this._project)this._project.remove();this._setProject(e)}_onProjectRemoved(e){if(e!==this._project)return;this._setProject(null)}async _interceptionHandler(e){const t=e.request.method;if(!this._active||t!=="GET"&&t!=="POST")return;const n=this._project.fileSystemPath()+"/"+this._encodedPathFromUrl(e.request.url);const s=this._project.uiSourceCodeForURL(n);if(!s)return;let i="";if(e.responseHeaders){const t=SDK.NetworkManager.lowercaseHeaders(e.responseHeaders);i=t["content-type"]}if(!i){const t=Common.resourceTypes[e.resourceType]||Common.resourceTypes.Other;i=s.mimeType();if(Common.ResourceType.fromMimeType(i)!==t)i=t.canonicalMimeType()}const o=s.project();s[this._originalResponseContentPromiseSymbol]=e.responseBody().then(e=>{if(e.error||e.content===null)return null;return e.encoded?atob(e.content):e.content});const r=await o.requestFileBlob(s);e.continueRequestWithContent(new Blob([r],{type:i}))}};Persistence.NetworkPersistenceManager._reservedFileNames=new Set(["con","prn","aux","nul","com1","com2","com3","com4","com5","com6","com7","com8","com9","lpt1","lpt2","lpt3","lpt4","lpt5","lpt6","lpt7","lpt8","lpt9"]);Persistence.NetworkPersistenceManager.Events={ProjectChanged:Symbol("ProjectChanged")};Persistence.networkPersistenceManager;Persistence.Persistence=class extends Common.Object{constructor(e,t){super();this._workspace=e;this._breakpointManager=t;this._filePathPrefixesToBindingCount=new Map;this._subscribedBindingEventListeners=new Multimap;const n=new Persistence.PersistenceUtils.LinkDecorator(this);Components.Linkifier.setLinkDecorator(n);this._mapping=null;this.setAutomappingEnabled(true)}setAutomappingEnabled(e){if(e===!!this._mapping)return;if(!e){this._mapping.dispose();this._mapping=null}else{this._mapping=new Persistence.Automapping(this._workspace,this._onStatusAdded.bind(this),this._onStatusRemoved.bind(this))}}addBinding(e){this._innerAddBinding(e)}addBindingForTest(e){this._innerAddBinding(e)}removeBinding(e){this._innerRemoveBinding(e)}removeBindingForTest(e){this._innerRemoveBinding(e)}_innerAddBinding(e){e.network[Persistence.Persistence._binding]=e;e.fileSystem[Persistence.Persistence._binding]=e;e.fileSystem.forceLoadOnCheckContent();e.network.addEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted,this._onWorkingCopyCommitted,this);e.fileSystem.addEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted,this._onWorkingCopyCommitted,this);e.network.addEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged,this._onWorkingCopyChanged,this);e.fileSystem.addEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged,this._onWorkingCopyChanged,this);this._addFilePathBindingPrefixes(e.fileSystem.url());this._moveBreakpoints(e.fileSystem,e.network);console.assert(!e.fileSystem.isDirty()||!e.network.isDirty());if(e.fileSystem.isDirty()){this._syncWorkingCopy(e.fileSystem)}else if(e.network.isDirty()){this._syncWorkingCopy(e.network)}else if(e.network.hasCommits()&&e.network.content()!==e.fileSystem.content()){e.network.setWorkingCopy(e.network.content());this._syncWorkingCopy(e.network)}this._notifyBindingEvent(e.network);this._notifyBindingEvent(e.fileSystem);this.dispatchEventToListeners(Persistence.Persistence.Events.BindingCreated,e)}_innerRemoveBinding(e){if(e.network[Persistence.Persistence._binding]!==e)return;console.assert(e.network[Persistence.Persistence._binding]===e.fileSystem[Persistence.Persistence._binding],"ERROR: inconsistent binding for networkURL "+e.network.url());e.network[Persistence.Persistence._binding]=null;e.fileSystem[Persistence.Persistence._binding]=null;e.network.removeEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted,this._onWorkingCopyCommitted,this);e.fileSystem.removeEventListener(Workspace.UISourceCode.Events.WorkingCopyCommitted,this._onWorkingCopyCommitted,this);e.network.removeEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged,this._onWorkingCopyChanged,this);e.fileSystem.removeEventListener(Workspace.UISourceCode.Events.WorkingCopyChanged,this._onWorkingCopyChanged,this);this._removeFilePathBindingPrefixes(e.fileSystem.url());this._breakpointManager.copyBreakpoints(e.network.url(),e.fileSystem);this._notifyBindingEvent(e.network);this._notifyBindingEvent(e.fileSystem);this.dispatchEventToListeners(Persistence.Persistence.Events.BindingRemoved,e)}_onStatusAdded(e){const t=new Persistence.PersistenceBinding(e.network,e.fileSystem);e[Persistence.Persistence._binding]=t;this._innerAddBinding(t)}_onStatusRemoved(e){const t=e[Persistence.Persistence._binding];this._innerRemoveBinding(t)}_onWorkingCopyChanged(e){const t=e.data;this._syncWorkingCopy(t)}_syncWorkingCopy(e){const t=e[Persistence.Persistence._binding];if(!t||t[Persistence.Persistence._muteWorkingCopy])return;const n=t.network===e?t.fileSystem:t.network;if(!e.isDirty()){t[Persistence.Persistence._muteWorkingCopy]=true;n.resetWorkingCopy();t[Persistence.Persistence._muteWorkingCopy]=false;this._contentSyncedForTest();return}const s=Bindings.NetworkProject.targetForUISourceCode(t.network);if(s.type()===SDK.Target.Type.Node){const t=e.workingCopy();n.requestContent().then(()=>{const e=Persistence.Persistence.rewrapNodeJSContent(n,n.workingCopy(),t);i.call(this,()=>e)});return}i.call(this,()=>e.workingCopy());function i(e){t[Persistence.Persistence._muteWorkingCopy]=true;n.setWorkingCopyGetter(e);t[Persistence.Persistence._muteWorkingCopy]=false;this._contentSyncedForTest()}}_onWorkingCopyCommitted(e){const t=e.data.uiSourceCode;const n=e.data.content;this.syncContent(t,n,e.data.encoded)}syncContent(e,t,n){const s=e[Persistence.Persistence._binding];if(!s||s[Persistence.Persistence._muteCommit])return;const i=s.network===e?s.fileSystem:s.network;const o=Bindings.NetworkProject.targetForUISourceCode(s.network);if(o.type()===SDK.Target.Type.Node){i.requestContent().then(e=>{const n=Persistence.Persistence.rewrapNodeJSContent(i,e,t);r.call(this,n)});return}r.call(this,t);function r(e){s[Persistence.Persistence._muteCommit]=true;i.setContent(e,n);s[Persistence.Persistence._muteCommit]=false;this._contentSyncedForTest()}}static rewrapNodeJSContent(e,t,n){if(e.project().type()===Workspace.projectTypes.FileSystem){if(n.startsWith(Persistence.Persistence._NodePrefix)&&n.endsWith(Persistence.Persistence._NodeSuffix)){n=n.substring(Persistence.Persistence._NodePrefix.length,n.length-Persistence.Persistence._NodeSuffix.length)}if(t.startsWith(Persistence.Persistence._NodeShebang))n=Persistence.Persistence._NodeShebang+n}else{if(n.startsWith(Persistence.Persistence._NodeShebang))n=n.substring(Persistence.Persistence._NodeShebang.length);if(t.startsWith(Persistence.Persistence._NodePrefix)&&t.endsWith(Persistence.Persistence._NodeSuffix))n=Persistence.Persistence._NodePrefix+n+Persistence.Persistence._NodeSuffix}return n}_contentSyncedForTest(){}_moveBreakpoints(e,t){const n=this._breakpointManager.breakpointLocationsForUISourceCode(e).map(e=>e.breakpoint);for(const e of n){e.remove(false);this._breakpointManager.setBreakpoint(t,e.lineNumber(),e.columnNumber(),e.condition(),e.enabled())}}hasUnsavedCommittedChanges(e){if(this._workspace.hasResourceContentTrackingExtensions())return false;if(e.project().canSetFileContent())return false;if(e[Persistence.Persistence._binding])return false;return!!e.hasCommits()}binding(e){return e[Persistence.Persistence._binding]||null}subscribeForBindingEvent(e,t){this._subscribedBindingEventListeners.set(e,t)}unsubscribeFromBindingEvent(e,t){this._subscribedBindingEventListeners.delete(e,t)}_notifyBindingEvent(e){if(!this._subscribedBindingEventListeners.has(e))return;const t=Array.from(this._subscribedBindingEventListeners.get(e));for(const e of t)e.call(null)}fileSystem(e){const t=this.binding(e);return t?t.fileSystem:null}network(e){const t=this.binding(e);return t?t.network:null}_addFilePathBindingPrefixes(e){let t="";for(const n of e.split("/")){t+=n+"/";const e=this._filePathPrefixesToBindingCount.get(t)||0;this._filePathPrefixesToBindingCount.set(t,e+1)}}_removeFilePathBindingPrefixes(e){let t="";for(const n of e.split("/")){t+=n+"/";const e=this._filePathPrefixesToBindingCount.get(t);if(e===1)this._filePathPrefixesToBindingCount.delete(t);else this._filePathPrefixesToBindingCount.set(t,e-1)}}filePathHasBindings(e){if(!e.endsWith("/"))e+="/";return this._filePathPrefixesToBindingCount.has(e)}dispose(){if(this._mapping){this._mapping.dispose();this._mapping=null}}};Persistence.Persistence._binding=Symbol("Persistence.Binding");Persistence.Persistence._muteCommit=Symbol("Persistence.MuteCommit");Persistence.Persistence._muteWorkingCopy=Symbol("Persistence.MuteWorkingCopy");Persistence.Persistence._NodePrefix="(function (exports, require, module, __filename, __dirname) { ";Persistence.Persistence._NodeSuffix="\n});";Persistence.Persistence._NodeShebang="#!/usr/bin/env node";Persistence.Persistence.Events={BindingCreated:Symbol("BindingCreated"),BindingRemoved:Symbol("BindingRemoved")};Persistence.PathEncoder=class{constructor(){this._encoder=new Common.CharacterIdMap}encode(e){return e.split("/").map(e=>this._encoder.toChar(e)).join("")}decode(e){return e.split("").map(e=>this._encoder.fromChar(e)).join("/")}};Persistence.PersistenceBinding=class{constructor(e,t){this.network=e;this.fileSystem=t}};Persistence.MappingSystem=function(){};Persistence.MappingSystem.prototype={dispose:function(){}};Persistence.persistence;Persistence.PersistenceActions={};Persistence.PersistenceActions.ContextMenuProvider=class{appendApplicableItems(e,t,n){const s=n;async function i(){if(s instanceof Workspace.UISourceCode)s.commitWorkingCopy();let e=await s.requestContent();if(await s.contentEncoded())e=window.atob(e);const t=s.contentURL();Workspace.fileManager.save(t,e,true);Workspace.fileManager.close(t)}if(s.contentType().isDocumentOrScriptOrStyleSheet())t.saveSection().appendItem(Common.UIString("Save as..."),i);const o=Workspace.workspace.uiSourceCodeForURL(s.contentURL());if(o&&Persistence.networkPersistenceManager.canSaveUISourceCodeForOverrides(o)){t.saveSection().appendItem(Common.UIString("Save for overrides"),()=>{o.commitWorkingCopy();Persistence.networkPersistenceManager.saveUISourceCodeForOverrides(o);Common.Revealer.reveal(o)})}const r=o&&Persistence.persistence.binding(o);const a=r?r.fileSystem.contentURL():s.contentURL();if(a.startsWith("file://")){const e=Common.ParsedURL.urlToPlatformPath(a,Host.isWin());t.revealSection().appendItem(Common.UIString("Open in containing folder"),()=>InspectorFrontendHost.showItemInFolder(e))}}};Persistence.PersistenceUtils=class{static tooltipForUISourceCode(e){const t=Persistence.persistence.binding(e);if(!t)return"";if(e===t.network)return Persistence.FileSystemWorkspaceBinding.tooltipForUISourceCode(t.fileSystem);if(t.network.contentType().isFromSourceMap())return Common.UIString("Linked to source map: %s",t.network.url().trimMiddle(150));return Common.UIString("Linked to %s",t.network.url().trimMiddle(150))}static iconForUISourceCode(e){const t=Persistence.persistence.binding(e);if(t){if(!t.fileSystem.url().startsWith("file://"))return null;const e=UI.Icon.create("mediumicon-file-sync");e.title=Persistence.PersistenceUtils.tooltipForUISourceCode(t.network);if(Persistence.networkPersistenceManager.project()===t.fileSystem.project())e.style.filter="hue-rotate(160deg)";return e}if(e.project().type()!==Workspace.projectTypes.FileSystem||!e.url().startsWith("file://"))return null;const n=UI.Icon.create("mediumicon-file");n.title=Persistence.PersistenceUtils.tooltipForUISourceCode(e);return n}};Persistence.PersistenceUtils.LinkDecorator=class extends Common.Object{constructor(e){super();e.addEventListener(Persistence.Persistence.Events.BindingCreated,this._bindingChanged,this);e.addEventListener(Persistence.Persistence.Events.BindingRemoved,this._bindingChanged,this)}_bindingChanged(e){const t=e.data;this.dispatchEventToListeners(Components.LinkDecorator.Events.LinkIconChanged,t.network)}linkIcon(e){return Persistence.PersistenceUtils.iconForUISourceCode(e)}};Persistence.EditFileSystemView=class extends UI.VBox{constructor(e){super(true);this.registerRequiredCSS("persistence/editFileSystemView.css");this._fileSystemPath=e;this._eventListeners=[Persistence.isolatedFileSystemManager.addEventListener(Persistence.IsolatedFileSystemManager.Events.ExcludedFolderAdded,this._update,this),Persistence.isolatedFileSystemManager.addEventListener(Persistence.IsolatedFileSystemManager.Events.ExcludedFolderRemoved,this._update,this)];const t=this.contentElement.createChild("div","file-system-header");t.createChild("div","file-system-header-text").textContent=Common.UIString("Excluded folders");t.appendChild(UI.createTextButton(Common.UIString("Add"),this._addExcludedFolderButtonClicked.bind(this),"add-button"));this._excludedFoldersList=new UI.ListWidget(this);this._excludedFoldersList.element.classList.add("file-system-list");this._excludedFoldersList.registerRequiredCSS("persistence/editFileSystemView.css");const n=createElementWithClass("div","file-system-list-empty");n.textContent=Common.UIString("None");this._excludedFoldersList.setEmptyPlaceholder(n);this._excludedFoldersList.show(this.contentElement);this.contentElement.tabIndex=0;this._update()}dispose(){Common.EventTarget.removeEventListeners(this._eventListeners)}_update(){if(this._muteUpdate)return;this._excludedFoldersList.clear();this._excludedFolders=[];for(const e of Persistence.isolatedFileSystemManager.fileSystem(this._fileSystemPath).excludedFolders().values()){this._excludedFolders.push(e);this._excludedFoldersList.appendItem(e,true)}}_addExcludedFolderButtonClicked(){this._excludedFoldersList.addNewItem(0,"")}renderItem(e,t){const n=createElementWithClass("div","file-system-list-item");const s=t?e:Common.UIString("%s (via .devtools)",e);const i=n.createChild("div","file-system-value");i.textContent=s;i.title=s;return n}removeItemRequested(e,t){Persistence.isolatedFileSystemManager.fileSystem(this._fileSystemPath).removeExcludedFolder(this._excludedFolders[t])}commitEdit(e,t,n){this._muteUpdate=true;if(!n){Persistence.isolatedFileSystemManager.fileSystem(this._fileSystemPath).removeExcludedFolder(e)}Persistence.isolatedFileSystemManager.fileSystem(this._fileSystemPath).addExcludedFolder(this._normalizePrefix(t.control("pathPrefix").value));this._muteUpdate=false;this._update()}beginEdit(e){const t=this._createExcludedFolderEditor();t.control("pathPrefix").value=e;return t}_createExcludedFolderEditor(){if(this._excludedFolderEditor)return this._excludedFolderEditor;const e=new UI.ListWidget.Editor;this._excludedFolderEditor=e;const t=e.contentElement();const n=t.createChild("div","file-system-edit-row");n.createChild("div","file-system-value").textContent=Common.UIString("Folder path");const s=t.createChild("div","file-system-edit-row");s.createChild("div","file-system-value").appendChild(e.createInput("pathPrefix","text","/path/to/folder/",i.bind(this)));return e;function i(e,t,n){const s=this._normalizePrefix(n.value);const i=Persistence.isolatedFileSystemManager.fileSystem(this._fileSystemPath).excludedFolders().size;for(let e=0;e<i;++e){if(e!==t&&this._excludedFolders[e]===s)return false}return!!s}}_normalizePrefix(e){if(!e)return"";return e+(e[e.length-1]==="/"?"":"/")}};Persistence.WorkspaceSettingsTab=class extends UI.VBox{constructor(){super();this.registerRequiredCSS("persistence/workspaceSettingsTab.css");const e=this.element.createChild("header");e.createChild("h3").createTextChild(Common.UIString("Workspace"));this.containerElement=this.element.createChild("div","settings-container-wrapper").createChild("div","settings-tab settings-content settings-container");Persistence.isolatedFileSystemManager.addEventListener(Persistence.IsolatedFileSystemManager.Events.FileSystemAdded,e=>this._fileSystemAdded(e.data),this);Persistence.isolatedFileSystemManager.addEventListener(Persistence.IsolatedFileSystemManager.Events.FileSystemRemoved,e=>this._fileSystemRemoved(e.data),this);const t=this._createFolderExcludePatternInput();t.classList.add("folder-exclude-pattern");this.containerElement.appendChild(t);const n=this.containerElement.createChild("div","settings-info-message");n.createTextChild(Common.UIString("Mappings are inferred automatically."));this._fileSystemsListContainer=this.containerElement.createChild("div","");const s=UI.createTextButton(ls`Add folder\u2026`,this._addFileSystemClicked.bind(this));this.containerElement.appendChild(s);this.setDefaultFocusedElement(s);this._elementByPath=new Map;this._mappingViewByPath=new Map;const i=Persistence.isolatedFileSystemManager.fileSystems();for(let e=0;e<i.length;++e)this._addItem(i[e])}_createFolderExcludePatternInput(){const e=createElement("p");const t=e.createChild("label");t.textContent=Common.UIString("Folder exclude pattern");const n=UI.createInput("","text");e.appendChild(n);n.style.width="270px";const s=Persistence.isolatedFileSystemManager.workspaceFolderExcludePatternSetting();const i=UI.bindInput(n,s.set.bind(s),o,false);s.addChangeListener(()=>i.call(null,s.get()));i(s.get());return e;function o(e){let t;try{t=new RegExp(e)}catch(e){}return!!t}}_addItem(e){if(!(e instanceof Persistence.IsolatedFileSystem))return;const t=Persistence.networkPersistenceManager.project();if(t&&Persistence.isolatedFileSystemManager.fileSystem(t.fileSystemPath())===e)return;const n=this._renderFileSystem(e);this._elementByPath.set(e.path(),n);this._fileSystemsListContainer.appendChild(n);const s=new Persistence.EditFileSystemView(e.path());this._mappingViewByPath.set(e.path(),s);s.element.classList.add("file-system-mapping-view");s.show(n)}_renderFileSystem(e){const t=e.path();const n=t.lastIndexOf(Host.isWin()?"\\":"/");const s=t.substr(n+1);const i=createElementWithClass("div","file-system-container");const o=i.createChild("div","file-system-header");o.createChild("div","file-system-name").textContent=s;const r=o.createChild("div","file-system-path");r.textContent=t;r.title=t;const a=new UI.Toolbar("");const l=new UI.ToolbarButton(Common.UIString("Remove"),"largeicon-delete");l.addEventListener(UI.ToolbarButton.Events.Click,this._removeFileSystemClicked.bind(this,e));a.appendToolbarItem(l);o.appendChild(a.element);return i}_removeFileSystemClicked(e){Persistence.isolatedFileSystemManager.removeFileSystem(e)}_addFileSystemClicked(){Persistence.isolatedFileSystemManager.addFileSystem()}_fileSystemAdded(e){this._addItem(e)}_fileSystemRemoved(e){const t=this._mappingViewByPath.get(e.path());if(t){t.dispose();this._mappingViewByPath.delete(e.path())}const n=this._elementByPath.get(e.path());if(n){this._elementByPath.delete(e.path());n.remove()}}};Runtime.cachedResources["persistence/editFileSystemView.css"]="/*\n * Copyright 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.file-system-header {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    flex: auto;\n    margin: 10px 0;\n}\n\n.file-system-header-text {\n    flex: 1 0 auto;\n}\n\n.add-button {\n    margin-left: 10px;\n    align-self: flex-start;\n}\n\n.file-system-list {\n    flex: auto;\n}\n\n.file-system-list-empty {\n    flex: auto;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n}\n\n.file-system-list-item {\n    padding: 3px 5px 3px 5px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    flex: auto 1 1;\n}\n\n.list-item .file-system-value {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    -webkit-user-select: none;\n    overflow: hidden;\n}\n\n.file-system-value {\n    flex: 1 1 0px;\n}\n\n.file-system-edit-row {\n    flex: none;\n    display: flex;\n    flex-direction: row;\n    margin: 6px 5px;\n    align-items: center;\n}\n\n.file-system-edit-row input {\n    width: 100%;\n    text-align: inherit;\n}\n";Runtime.cachedResources["persistence/workspaceSettingsTab.css"]="/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\nheader {\n    padding: 0 0 6px;\n    border-bottom: 1px solid #EEEEEE;\n}\n\nheader > h3 {\n    font-size: 18px;\n    font-weight: normal;\n    margin: 0;\n    padding-bottom: 3px;\n}\n\n.settings-content {\n    overflow-y: auto;\n    overflow-x: hidden;\n    margin: 8px 8px 8px 0;\n    padding: 0 4px;\n    flex: auto;\n}\n\n.settings-container {\n    width: 100%;\n    -webkit-column-width: 288px;\n}\n\n\n.settings-tab.settings-container {\n    -webkit-column-width: 308px;\n}\n\n.settings-tab label {\n    padding-right: 4px;\n    display: inline-flex;\n}\n\n.settings-container-wrapper {\n    position: absolute;\n    top: 31px;\n    left: 0px;\n    right: 0;\n    bottom: 0;\n    overflow: auto;\n    padding-top: 9px;\n}\n\n.settings-tab.settings-content {\n    margin: 0;\n    padding: 0;\n}\n\n.settings-tab p {\n    margin: 12px 0;\n}\n\np.folder-exclude-pattern {\n    display: flex;\n    align-items: center;\n}\n\np.folder-exclude-pattern > input {\n    flex: auto;\n}\n\n.settings-tab .file-system-container {\n    border-top: 1px solid #aaa;\n    padding: 19px 0 10px;\n    margin: 20px 0;\n}\n\n.settings-tab .file-system-header {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n}\n\n.settings-tab .file-system-name {\n    font-weight: bold;\n    flex: none;\n    margin-right: 10px;\n    font-size: 15px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 70%;\n}\n\n.settings-tab .file-system-path {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    flex: auto;\n}\n\n.settings-info-message {\n    background-color: #eee;\n    padding: 10px;\n    margin: 20px 0;\n}\n\n.settings-tab.settings-content.settings-container {\n    -webkit-column-width: initial;\n    overflow: hidden;\n    padding-right: 10px;\n}\n";self["Ndb"]=self["Ndb"]||{};(function(){InspectorFrontendHost.getPreferences=async function(e){[Ndb.backend]=await carlo.loadParams();const t={__bundled__uiTheme:'"dark"'};for(let e=0;e<window.localStorage.length;e++){const n=window.localStorage.key(e);t[n]=window.localStorage.getItem(n)}e(t)};InspectorFrontendHost.isHostedMode=(()=>false);InspectorFrontendHost.copyText=(e=>navigator.clipboard.writeText(e));InspectorFrontendHost.openInNewTab=(e=>Ndb.backend.openInNewTab(e));InspectorFrontendHost.bringToFront=(()=>Ndb.backend.bringToFront());InspectorFrontendHost.loadNetworkResource=(async(e,t,n,s)=>{const i=await Ndb.backend.loadNetworkResource(e,t);if(i){Host.ResourceLoader.streamWrite(n,i);s({statusCode:200})}else{s({statusCode:404})}})})();Ndb.Connection=class{constructor(e){this._onMessage=null;this._onDisconnect=null;this._channel=e}static async create(e){const t=new Ndb.Connection(e);await e.listen(rpc.handle(t));return t}setOnMessage(e){this._onMessage=e}setOnDisconnect(e){this._onDisconnect=e}sendRawMessage(e){this._channel.send(e)}disconnect(){this._channel.close()}dispatchMessage(e){if(this._onMessage)this._onMessage(e)}};Ndb.FileSystem=class extends Persistence.PlatformFileSystem{constructor(e,t,n,s,i){super(i,"");this._fsService=e;this._fsIOService=t;this._searchService=n;this._rootURL=i;this._manager=s;this._initialFilePaths=[]}static async create(e,t){const n=new Ndb.FileSystem.SearchClient;const[s,i,o]=await Promise.all([Ndb.backend.createService("file_system.js"),Ndb.backend.createService("file_system_io.js"),Ndb.backend.createService("search.js",rpc.handle(n))]);InspectorFrontendHost.stopIndexing=o.stopIndexing.bind(o);const r=new Ndb.FileSystem(s,i,o,e,t);await r._initFilePaths();return r}embedderPath(){throw new Error("Not implemented")}async _initFilePaths(){await this._fsService.startWatcher(this._rootURL,this._excludePattern(),rpc.handle(this))}forceFileLoad(e){return this._fsService.forceFileLoad(e)}initialFilePaths(){return this._initialFilePaths}initialGitFolders(){return[]}getMetadata(e){throw new Error("not implemented")}requestFileBlob(e){throw new Error("not implemented")}async requestFileContent(e,t){const n=await this._fsIOService.readFile(this._rootURL+e,"base64");if(this.contentType(e)===Common.resourceTypes.Image){t(n,true)}else{const e=await(await fetch(`data:application/octet-stream;base64,${n}`)).text();t(e,false)}}async setFileContent(e,t,n){await this._fsIOService.writeFile(this._rootURL+e,n?t:t.toBase64(),"base64")}async createFile(e,t){const n=await this._fsIOService.createFile(this._rootURL+(e.length===0||e.startsWith("/")?"":"/")+e);return n.substr(this._rootURL.length+1)}async deleteFile(e){return await this._fsIOService.deleteFile(this._rootURL+e)}async renameFile(e,t,n){const s=await this._fsIOService.renameFile(this._rootURL+e,t);n(s,s?t:null)}contentType(e){const t=Common.ParsedURL.extractExtension(e);if(Persistence.IsolatedFileSystem._styleSheetExtensions.has(t))return Common.resourceTypes.Stylesheet;if(Persistence.IsolatedFileSystem._documentExtensions.has(t))return Common.resourceTypes.Document;if(Persistence.IsolatedFileSystem.ImageExtensions.has(t))return Common.resourceTypes.Image;if(Persistence.IsolatedFileSystem._scriptExtensions.has(t))return Common.resourceTypes.Script;return Persistence.IsolatedFileSystem.BinaryExtensions.has(t)?Common.resourceTypes.Other:Common.resourceTypes.Document}mimeFromPath(e){return Common.ResourceType.mimeFromURL(e)||"text/plain"}canExcludeFolder(e){return!!e}tooltipForURL(e){const t=Common.ParsedURL.urlToPlatformPath(e,Host.isWin()).trimMiddle(150);return ls`Linked to ${t}`}searchInPath(e,t){return new Promise(n=>{const s=this._manager.registerCallback(i);this._searchService.searchInPath(s,this._rootURL,e);function i(e){n(e);t.worked(1)}})}filesChanged(e){for(const t of e){const e=new Multimap;e.set(this._rootURL,t.name);const n=new Multimap;Persistence.isolatedFileSystemManager.dispatchEventToListeners(Persistence.IsolatedFileSystemManager.Events.FileSystemFilesChanged,{changed:t.type==="change"?e:n,added:t.type==="add"?e:n,removed:t.type==="unlink"?e:n})}}indexContent(e){e.setTotalWork(1);const t=this._manager.registerProgress(e);this._searchService.indexPath(t,this._rootURL,this._excludePattern())}supportsAutomapping(){return true}_excludePattern(){return this._manager.workspaceFolderExcludePatternSetting().get()}};Ndb.FileSystem.SearchClient=class{indexingTotalWorkCalculated(e,t,n){this._callFrontend(()=>InspectorFrontendAPI.indexingTotalWorkCalculated(e,t,n))}indexingWorked(e,t,n){this._callFrontend(()=>InspectorFrontendAPI.indexingWorked(e,t,n))}indexingDone(e,t){this._callFrontend(n=>InspectorFrontendAPI.indexingDone(e,t))}searchCompleted(e,t,n){this._callFrontend(s=>InspectorFrontendAPI.searchCompleted(e,t,n))}_callFrontend(e){if(Runtime.queryParam("debugFrontend"))setTimeout(e,0);else e()}};Ndb.npmExecPath=function(){if(!Ndb._npmExecPathPromise)Ndb._npmExecPathPromise=Ndb.backend.which("npm").then(e=>e.resolvedPath);return Ndb._npmExecPathPromise};Ndb.NdbMain=class extends Common.Object{async run(){InspectorFrontendAPI.setUseSoftMenu(true);document.title="ndb";Common.moduleSetting("blackboxInternalScripts").addChangeListener(Ndb.NdbMain._calculateBlackboxState);Ndb.NdbMain._calculateBlackboxState();const e=Persistence.isolatedFileSystemManager.workspaceFolderExcludePatternSetting();e.set(Ndb.NdbMain._defaultExcludePattern().join("|"));Ndb.nodeProcessManager=await Ndb.NodeProcessManager.create(SDK.targetManager);Ndb.processInfo=await Ndb.backend.processInfo();await Ndb.nodeProcessManager.addFileSystem(Ndb.processInfo.cwd);SDK.SDKModel.register(NdbSdk.NodeWorkerModel,SDK.Target.Capability.JS,true);SDK.SDKModel.register(NdbSdk.NodeRuntimeModel,SDK.Target.Capability.JS,true);await new Promise(e=>SDK.initMainConnection(e));SDK.targetManager.createTarget("<root>",ls`Root`,SDK.Target.Type.Browser,null);if(Common.moduleSetting("autoStartMain").get()){const e=await Ndb.mainConfiguration();if(e){if(e.prof)await Ndb.nodeProcessManager.profile(e.execPath,e.args);else Ndb.nodeProcessManager.debug(e.execPath,e.args)}}Ndb.nodeProcessManager.startRepl()}static _defaultExcludePattern(){const e=["/bower_components/","/\\.devtools","/\\.git/","/\\.sass-cache/","/\\.hg/","/\\.idea/","/\\.svn/","/\\.cache/","/\\.project/"];const t=["/Thumbs.db$","/ehthumbs.db$","/Desktop.ini$","/\\$RECYCLE.BIN/"];const n=["/\\.DS_Store$","/\\.Trashes$","/\\.Spotlight-V100$","/\\.AppleDouble$","/\\.LSOverride$","/Icon$","/\\._.*$"];const s=["/.*~$"];let i=e;if(Host.isWin())i=i.concat(t);else if(Host.isMac())i=i.concat(n);else i=i.concat(s);return i}static _calculateBlackboxState(){const e=Common.moduleSetting("blackboxInternalScripts").get();const t="^internal[\\/].*|bin/npm-cli.js$|bin/yarn.js$";const n=Common.moduleSetting("skipStackFramesPattern").getAsArray().filter(({pattern:e})=>e!==t&&e!=="^internal/.*");if(e)n.push({pattern:t});Common.moduleSetting("skipStackFramesPattern").setAsArray(n)}};Ndb.mainConfiguration=(async()=>{const e=Ndb.processInfo;const t=e.argv.slice(2);if(t.length===0||t[0]===".")return null;let n;let s;let i=false;if(t[0]==="--prof"){i=true;t.shift()}if(t[0].endsWith(".js")||t[0].endsWith(".mjs")||t[0].startsWith("-")){n=await Ndb.processInfo.nodeExecPath;s=t}else{n=t[0];s=t.slice(1)}if(n==="npm")n=await Ndb.npmExecPath();else if(n==="node")n=await Ndb.processInfo.nodeExecPath;return{name:"main",command:t.join(" "),execPath:n,args:s,prof:i}});Ndb.ContextMenuProvider=class{appendApplicableItems(e,t,n){if(!(n instanceof Workspace.UISourceCode))return;const s=n.url();if(!s.startsWith("file://")||!s.endsWith(".js")&&!s.endsWith(".mjs"))return;t.debugSection().appendItem(ls`Run this script`,async()=>{const e=await Ndb.backend.fileURLToPath(s);const t=s.endsWith(".mjs")?["--experimental-modules",e]:[e];Ndb.nodeProcessManager.debug(Ndb.processInfo.nodeExecPath,t)})}};Ndb._connectionSymbol=Symbol("connection");Ndb.NodeProcessManager=class extends Common.Object{constructor(e){super();this._service=null;this._lastDebugId=0;this._lastStarted=null;this._targetManager=e;this._cwds=new Map;this._finishProfiling=null;this._cpuProfiles=[];this._targetManager.addModelListener(SDK.RuntimeModel,SDK.RuntimeModel.Events.ExecutionContextDestroyed,this._onExecutionContextDestroyed,this);this._targetManager.addModelListener(NdbSdk.NodeRuntimeModel,NdbSdk.NodeRuntimeModel.Events.WaitingForDisconnect,this._onWaitingForDisconnect,this)}static async create(e){const t=new Ndb.NodeProcessManager(e);t._service=await Ndb.backend.createService("ndd_service.js",rpc.handle(t));return t}env(){return this._service.env()}async addFileSystem(e,t){let n=this._cwds.get(e);if(!n){async function s(){const t=Persistence.isolatedFileSystemManager;const n=await Ndb.FileSystem.create(t,e);t.addPlatformFileSystem(e,n);return n}n=s();this._cwds.set(e,n)}if(t)await(await n).forceFileLoad(t);await n}async detected(e,t){const n=await Ndb.Connection.create(t);const s=this._targetManager.createTarget(e.id,i(e),SDK.Target.Type.Node,this._targetManager.targetById(e.ppid)||this._targetManager.mainTarget(),undefined,false,n);s[NdbSdk.connectionSymbol]=n;await this.addFileSystem(e.cwd,e.scriptName);if(e.scriptName){const t=e.scriptName;const s=Workspace.workspace.uiSourceCodeForURL(t);const i=Bindings.blackboxManager.isBlackboxedURL(t,false);if(i)return n.disconnect();if(s){if(Common.moduleSetting("pauseAtStart").get()&&!i)Bindings.breakpointManager.setBreakpoint(s,0,0,"",true);else Common.Revealer.reveal(s)}}if(e.data===this._profilingNddData)this._profiling.add(s.id());function i(e){if(e.data==="ndb/repl")return"repl";return e.argv.map(e=>{const t=e.lastIndexOf("/");const n=e.lastIndexOf("\\");if(t===-1&&n===-1)return e;return e.slice(Math.max(t,n)+1)}).join(" ")}}disconnected(e){const t=this._targetManager.targetById(e);if(t){this._targetManager.removeTarget(t);t.dispose()}}async terminalData(e,t){const n=await(await fetch(`data:application/octet-stream;base64,${t}`)).text();if(n.startsWith("Debugger listening on")||n.startsWith("Debugger attached.")||n.startsWith("Waiting for the debugger to disconnect..."))return;await Ndb.backend.writeTerminalData(e,t);this.dispatchEventToListeners(Ndb.NodeProcessManager.Events.TerminalData,n)}async _onExecutionContextDestroyed(e){const t=e.data;if(!t.isDefault)return;return this._onWaitingForDisconnect({data:t.target()})}async _onWaitingForDisconnect(e){const t=e.data;if(t.name()==="repl")this.startRepl();if(this._profiling&&(this._profiling.has(t.id())||this._profiling.has(t.parentTarget().id()))){this._cpuProfiles.push({profile:await t.model(SDK.CPUProfilerModel).stopRecording(),name:t.name(),id:t.id()});this._profiling.delete(t.id());if(this._profiling.size===0)this._finishProfiling()}const n=t[NdbSdk.connectionSymbol];if(n)await n.disconnect()}async startRepl(){const e=btoa(`console.log('Welcome to the ndb %cR%cE%cP%cL%c!',\n      'color:#8bc34a', 'color:#ffc107', 'color:#ff5722', 'color:#2196f3', 'color:inherit');\n      process.title = 'ndb/repl';\n      process.on('uncaughtException', console.error);\n      setInterval(_ => 0, 2147483647)//# sourceURL=repl.js`);const t=["-e",`eval(Buffer.from('${e}', 'base64').toString())`];const n={ignoreOutput:true,data:"ndb/repl"};const s=Ndb.processInfo.nodeExecPath;return this.debug(s,t,n)}async debug(e,t,n){n=n||{};const s=n.data||String(++this._lastDebugId);if(!n.data)this._lastStarted={execPath:e,args:t,debugId:s,isProfiling:!!this._finishProfiling};return this._service.debug(e,t,{...n,data:s,cwd:Ndb.processInfo.cwd})}async profile(e,t,n){await UI.viewManager.showView("timeline");const s=UI.actionRegistry.action("timeline.toggle-recording");await s.execute();this._profilingNddData=String(++this._lastDebugId);this._profiling=new Set;this.debug(e,t,{data:this._profilingNddData});await new Promise(e=>this._finishProfiling=e);this._profilingNddData="";await Promise.all(SDK.targetManager.models(SDK.CPUProfilerModel).map(e=>e.stopRecording()));const i=Timeline.TimelinePanel.instance()._controller;const o=this._cpuProfiles.find(e=>!e.id.includes("#"));i.traceEventsCollected([{cat:SDK.TracingModel.DevToolsMetadataEventCategory,name:TimelineModel.TimelineModel.DevToolsMetadataEvent.TracingStartedInPage,ph:"M",pid:1,tid:o.id,ts:0,args:{data:{sessionId:1}}}]);for(const{profile:e,name:t,id:n}of this._cpuProfiles){i.traceEventsCollected([{cat:SDK.TracingModel.DevToolsMetadataEventCategory,name:TimelineModel.TimelineModel.DevToolsMetadataEvent.TracingSessionIdForWorker,ph:"M",pid:1,tid:n,ts:0,args:{data:{sessionId:1,workerThreadId:n,workerId:n,url:t}}}]);i.traceEventsCollected(TimelineModel.TimelineJSProfileProcessor.buildTraceProfileFromCpuProfile(e,n,false,TimelineModel.TimelineModel.WorkerThreadName))}this._cpuProfiles=[];await s.execute()}async kill(e){return e.runtimeAgent().invoke_evaluate({expression:"process.exit(-1)"})}async restartLast(){if(!this._lastStarted)return;await Promise.all(SDK.targetManager.targets().filter(e=>e.id()!=="<root>").map(e=>e.runtimeAgent().invoke_evaluate({expression:`'${this._lastStarted.debugId}' === process.env.NDD_DATA && process.exit(-1)`})));const{execPath:e,args:t,isProfiling:n}=this._lastStarted;if(!n)await this.debug(e,t);else await this.profile(e,t)}};Ndb.NodeProcessManager.Events={TerminalData:Symbol("terminalData")};Ndb.RestartActionDelegate=class{handleAction(e,t){switch(t){case"ndb.restart":Ndb.nodeProcessManager.restartLast();return true}return false}};SDK.Target.prototype.decorateLabel=function(e){return this.name()};const originalToggle=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){if(arguments.length===1)t=!this.contains(e);return originalToggle.call(this,e,!!t)};SDK.TextSourceMap.load=async function(e,t){const{payload:n,error:s}=await Ndb.backend.loadSourceMap(e,t);if(s||!n)return null;let i;try{i=new SDK.TextSourceMap(t,e,n)}catch(t){Common.console.warn("DevTools failed to parse SourceMap: "+e);return null}const o=await Ndb.backend.getNodeScriptPrefix();for(const e of Workspace.workspace.uiSourceCodes()){if(e.url()===t&&e.project().type()===Workspace.projectTypes.Network){const t=await e.requestContent();if(t.startsWith(o)){for(const e of i.mappings()){if(!e.lineNumber)e.columnNumber+=o.length}break}}}return i};self["ConsoleCounters"]=self["ConsoleCounters"]||{};ConsoleCounters.WarningErrorCounter=class{constructor(){ConsoleCounters.WarningErrorCounter._instanceForTest=this;const e=createElement("div");this._toolbarItem=new UI.ToolbarItem(e);this._counter=createElement("div");this._counter.addEventListener("click",Common.console.show.bind(Common.console),false);const t=UI.createShadowRootWithCoreStyles(this._counter,"console_counters/errorWarningCounter.css");e.appendChild(this._counter);this._violationCounter=createElement("div");this._violationCounter.addEventListener("click",()=>{UI.viewManager.showView("audits")});const n=UI.createShadowRootWithCoreStyles(this._violationCounter,"console_counters/errorWarningCounter.css");if(Runtime.experiments.isEnabled("spotlight"))e.appendChild(this._violationCounter);this._errors=this._createItem(t,"smallicon-error");this._warnings=this._createItem(t,"smallicon-warning");if(Runtime.experiments.isEnabled("spotlight"))this._violations=this._createItem(n,"smallicon-info");this._titles=[];this._errorCount=-1;this._warningCount=-1;this._violationCount=-1;this._throttler=new Common.Throttler(100);SDK.consoleModel.addEventListener(SDK.ConsoleModel.Events.ConsoleCleared,this._update,this);SDK.consoleModel.addEventListener(SDK.ConsoleModel.Events.MessageAdded,this._update,this);SDK.consoleModel.addEventListener(SDK.ConsoleModel.Events.MessageUpdated,this._update,this);this._update()}_updatedForTest(){}_createItem(e,t){const n=createElementWithClass("span","counter-item");const s=n.createChild("span","","dt-icon-label");s.type=t;const i=s.createChild("span");e.appendChild(n);return{item:n,text:i}}_updateItem(e,t,n){e.item.classList.toggle("hidden",!t);e.item.classList.toggle("counter-item-first",n);e.text.textContent=t}_update(){this._updatingForTest=true;this._throttler.schedule(this._updateThrottled.bind(this))}_updateThrottled(){const e=SDK.consoleModel.errors();const t=SDK.consoleModel.warnings();const n=SDK.consoleModel.violations();if(e===this._errorCount&&t===this._warningCount&&n===this._violationCount)return Promise.resolve();this._errorCount=e;this._warningCount=t;this._violationCount=n;this._titles=[];this._counter.classList.toggle("hidden",!(e||t));this._violationCounter.classList.toggle("hidden",!n);this._toolbarItem.setVisible(!!(e||t||n));let s="";if(e===1)s=ls`${e} error`;else s=ls`${e} errors`;this._updateItem(this._errors,e,false);if(e)this._titles.push(s);let i="";if(t===1)i=ls`${t} warning`;else i=ls`${t} warnings`;this._updateItem(this._warnings,t,!e);if(t)this._titles.push(i);if(Runtime.experiments.isEnabled("spotlight")){let e="";if(n===1)e=ls`${n} violation`;else e=ls`${n} violations`;this._updateItem(this._violations,n,true);this._violationCounter.title=e}this._counter.title=this._titles.join(", ");UI.inspectorView.toolbarItemResized();this._updatingForTest=false;this._updatedForTest();return Promise.resolve()}item(){return this._toolbarItem}};Runtime.cachedResources["console_counters/errorWarningCounter.css"]="/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n:host {\n    cursor: pointer;\n    padding: 0 2px;\n    min-width: 26px;\n}\n\n:host:hover {\n    color: #333;\n}\n\n.counter-item {\n    margin-left: 6px;\n}\n\n.counter-item.counter-item-first {\n    margin-left: 0;\n}\n";self["BrowserSDK"]=self["BrowserSDK"]||{};BrowserSDK.LogManager=class{constructor(){SDK.targetManager.observeModels(SDK.LogModel,this)}modelAdded(e){const t=[];t.push(e.addEventListener(SDK.LogModel.Events.EntryAdded,this._logEntryAdded,this));e[BrowserSDK.LogManager._eventSymbol]=t}modelRemoved(e){Common.EventTarget.removeEventListeners(e[BrowserSDK.LogManager._eventSymbol])}_logEntryAdded(e){const t=e.data;const n=t.logModel.target();const s=new SDK.ConsoleMessage(n.model(SDK.RuntimeModel),t.entry.source,t.entry.level,t.entry.text,undefined,t.entry.url,t.entry.lineNumber,undefined,[t.entry.text,...t.entry.args||[]],t.entry.stackTrace,t.entry.timestamp,undefined,undefined,t.entry.workerId);if(t.entry.networkRequestId)SDK.networkLog.associateConsoleMessageWithRequest(s,t.entry.networkRequestId);if(s.source===SDK.ConsoleMessage.MessageSource.Worker){const e=s.workerId||"";if(SDK.targetManager.targetById(e))return;setTimeout(()=>{if(!SDK.targetManager.targetById(e))SDK.consoleModel.addMessage(s)},1e3)}else{SDK.consoleModel.addMessage(s)}}};BrowserSDK.LogManager._eventSymbol=Symbol("_events");new BrowserSDK.LogManager;self["Extensions"]=self["Extensions"]||{};function defineCommonExtensionSymbols(e){if(!e.panels)e.panels={};e.panels.SearchAction={CancelSearch:"cancelSearch",PerformSearch:"performSearch",NextSearchResult:"nextSearchResult",PreviousSearchResult:"previousSearchResult"};e.Events={ButtonClicked:"button-clicked-",PanelObjectSelected:"panel-objectSelected-",NetworkRequestFinished:"network-request-finished",OpenResource:"open-resource",PanelSearch:"panel-search-",RecordingStarted:"trace-recording-started-",RecordingStopped:"trace-recording-stopped-",ResourceAdded:"resource-added",ResourceContentCommitted:"resource-content-committed",ViewShown:"view-shown-",ViewHidden:"view-hidden-"};e.Commands={AddRequestHeaders:"addRequestHeaders",AddTraceProvider:"addTraceProvider",ApplyStyleSheet:"applyStyleSheet",CompleteTraceSession:"completeTraceSession",CreatePanel:"createPanel",CreateSidebarPane:"createSidebarPane",CreateToolbarButton:"createToolbarButton",EvaluateOnInspectedPage:"evaluateOnInspectedPage",ForwardKeyboardEvent:"_forwardKeyboardEvent",GetHAR:"getHAR",GetPageResources:"getPageResources",GetRequestContent:"getRequestContent",GetResourceContent:"getResourceContent",InspectedURLChanged:"inspectedURLChanged",OpenResource:"openResource",Reload:"Reload",Subscribe:"subscribe",SetOpenResourceHandler:"setOpenResourceHandler",SetResourceContent:"setResourceContent",SetSidebarContent:"setSidebarContent",SetSidebarHeight:"setSidebarHeight",SetSidebarPage:"setSidebarPage",ShowPanel:"showPanel",Unsubscribe:"unsubscribe",UpdateButton:"updateButton"}}function injectedExtensionAPI(e,t,n,s,i,o){const r=new Set(s);const a=window.chrome||{};const l=Object.getOwnPropertyDescriptor(a,"devtools");if(l)return;const c={};defineCommonExtensionSymbols(c);const d=c.Commands;const h=c.Events;let u=false;function m(e,t){this._type=e;this._listeners=[];this._customDispatch=t}m.prototype={addListener:function(e){if(typeof e!=="function")throw"addListener: callback is not a function";if(this._listeners.length===0)X.sendRequest({command:d.Subscribe,type:this._type});this._listeners.push(e);X.registerHandler("notify-"+this._type,this._dispatch.bind(this))},removeListener:function(e){const t=this._listeners;for(let n=0;n<t.length;++n){if(t[n]===e){t.splice(n,1);break}}if(this._listeners.length===0)X.sendRequest({command:d.Unsubscribe,type:this._type})},_fire:function(e){const t=this._listeners.slice();for(let e=0;e<t.length;++e)t[e].apply(null,arguments)},_dispatch:function(e){if(this._customDispatch)this._customDispatch.call(this,e);else this._fire.apply(this,e.arguments)}};function p(){this.inspectedWindow=new O;this.panels=new _;this.network=new g;this.timeline=new N;v(this,"webInspector","resources","network")}function g(){function e(e){const t=e.arguments[1];t.__proto__=new M(e.arguments[0]);this._fire(t)}this.onRequestFinished=new I(h.NetworkRequestFinished,e);v(this,"network","onFinished","onRequestFinished");this.onNavigated=new I(h.InspectedURLChanged)}g.prototype={getHAR:function(e){function t(t){const n=t&&t.entries||[];for(let e=0;e<n.length;++e){n[e].__proto__=new M(n[e]._requestId);delete n[e]._requestId}e(t)}X.sendRequest({command:d.GetHAR},e&&t)},addRequestHeaders:function(e){X.sendRequest({command:d.AddRequestHeaders,headers:e,extensionId:window.location.hostname})}};function f(e){this._id=e}f.prototype={getContent:function(e){function t(t){e(t.content,t.encoding)}X.sendRequest({command:d.GetRequestContent,id:this._id},e&&t)}};function _(){const e={elements:new D,sources:new R};function t(t){return e[t]}for(const n in e)this.__defineGetter__(n,t.bind(null,n));this.applyStyleSheet=function(e){X.sendRequest({command:d.ApplyStyleSheet,styleSheet:e})}}_.prototype={create:function(e,t,n,s){const i="extension-panel-"+X.nextObjectId();const o={command:d.CreatePanel,id:i,title:e,icon:t,page:n};X.sendRequest(o,s&&s.bind(this,new k(i)))},setOpenResourceHandler:function(e){const t=X.hasHandler(h.OpenResource);function n(t){u=true;try{e.call(null,new T(t.resource),t.lineNumber)}finally{u=false}}if(!e)X.unregisterHandler(h.OpenResource);else X.registerHandler(h.OpenResource,n);if(t===!e)X.sendRequest({command:d.SetOpenResourceHandler,handlerPresent:!!e})},openResource:function(e,t,n){X.sendRequest({command:d.OpenResource,url:e,lineNumber:t},n)},get SearchAction(){return c.panels.SearchAction}};function b(e){this._id=e;function t(e){const t=e.arguments[0];if(typeof t==="number")this._fire(window.parent.frames[t]);else this._fire()}if(e){this.onShown=new I(h.ViewShown+e,t);this.onHidden=new I(h.ViewHidden+e)}}function S(e){b.call(this,null);this._hostPanelName=e;this.onSelectionChanged=new I(h.PanelObjectSelected+e)}S.prototype={createSidebarPane:function(e,t){const n="extension-sidebar-"+X.nextObjectId();const s={command:d.CreateSidebarPane,panel:this._hostPanelName,id:n,title:e};function i(){t(new x(n))}X.sendRequest(s,t&&i)},__proto__:b.prototype};function y(e){return function(){const t={__proto__:e.prototype};e.apply(t,arguments);G(this,t)}}function v(e,t,n,s){let i=false;function o(){if(!i){console.warn(t+"."+n+" is deprecated. Use "+t+"."+s+" instead");i=true}return e[s]}e.__defineGetter__(n,o)}function C(e){const t=e[e.length-1];return typeof t==="function"?t:undefined}const w=y(A);const I=y(m);const k=y(L);const x=y(U);const E=y(S);const M=y(f);const T=y(K);const P=y(B);function D(){E.call(this,"elements")}D.prototype={__proto__:E.prototype};function R(){E.call(this,"sources")}R.prototype={__proto__:E.prototype};function L(e){b.call(this,e);this.onSearch=new I(h.PanelSearch+e)}L.prototype={createStatusBarButton:function(e,t,n){const s="button-"+X.nextObjectId();const i={command:d.CreateToolbarButton,panel:this._id,id:s,icon:e,tooltip:t,disabled:!!n};X.sendRequest(i);return new w(s)},show:function(){if(!u)return;const e={command:d.ShowPanel,id:this._id};X.sendRequest(e)},__proto__:b.prototype};function U(e){b.call(this,e)}U.prototype={setHeight:function(e){X.sendRequest({command:d.SetSidebarHeight,id:this._id,height:e})},setExpression:function(e,t,n){const s={command:d.SetSidebarContent,id:this._id,expression:e,rootTitle:t,evaluateOnPage:true};if(typeof n==="object")s.evaluateOptions=n;X.sendRequest(s,C(arguments))},setObject:function(e,t,n){X.sendRequest({command:d.SetSidebarContent,id:this._id,expression:e,rootTitle:t},n)},setPage:function(e){X.sendRequest({command:d.SetSidebarPage,id:this._id,page:e})},__proto__:b.prototype};function A(e){this._id=e;this.onClicked=new I(h.ButtonClicked+e)}A.prototype={update:function(e,t,n){const s={command:d.UpdateButton,id:this._id,icon:e,tooltip:t,disabled:!!n};X.sendRequest(s)}};function N(){}N.prototype={addTraceProvider:function(e,t){const n="extension-trace-provider-"+X.nextObjectId();X.sendRequest({command:d.AddTraceProvider,id:n,categoryName:e,categoryTooltip:t});return new F(n)}};function B(e){this._id=e}B.prototype={complete:function(e,t){const n={command:d.CompleteTraceSession,id:this._id,url:e||"",timeOffset:t||0};X.sendRequest(n)}};function F(e){function t(e){const t=e.arguments[0];this._fire(new P(t))}this.onRecordingStarted=new I(h.RecordingStarted+e,t);this.onRecordingStopped=new I(h.RecordingStopped+e)}function O(){function e(e){this._fire(new T(e.arguments[0]))}function t(e){this._fire(new T(e.arguments[0]),e.arguments[1])}this.onResourceAdded=new I(h.ResourceAdded,e);this.onResourceContentCommitted=new I(h.ResourceContentCommitted,t)}O.prototype={reload:function(e){let t=null;if(typeof e==="object"){t=e}else if(typeof e==="string"){t={userAgent:e};console.warn("Passing userAgent as string parameter to inspectedWindow.reload() is deprecated. "+"Use inspectedWindow.reload({ userAgent: value}) instead.")}X.sendRequest({command:d.Reload,options:t})},eval:function(e,t){const n=C(arguments);function s(e){if(e.isError||e.isException)n(undefined,e);else n(e.value)}const i={command:d.EvaluateOnInspectedPage,expression:e};if(typeof t==="object")i.evaluateOptions=t;X.sendRequest(i,n&&s);return null},getResources:function(e){function t(e){return new T(e)}function n(n){e(n.map(t))}X.sendRequest({command:d.GetPageResources},e&&n)}};function K(e){this._url=e.url;this._type=e.type}K.prototype={get url(){return this._url},get type(){return this._type},getContent:function(e){function t(t){e(t.content,t.encoding)}X.sendRequest({command:d.GetResourceContent,url:this._url},e&&t)},setContent:function(e,t,n){X.sendRequest({command:d.SetResourceContent,url:this._url,content:e,commit:t},n)}};function W(){return t}let H=[];let j=null;function V(e){let t=0;if(e.shiftKey)t|=1;if(e.ctrlKey)t|=2;if(e.altKey)t|=4;if(e.metaKey)t|=8;const n=e.keyCode&255|t<<8;if(!r.has(n))return;e.preventDefault();const s={eventType:e.type,ctrlKey:e.ctrlKey,altKey:e.altKey,metaKey:e.metaKey,shiftKey:e.shiftKey,keyIdentifier:e.keyIdentifier,key:e.key,code:e.code,location:e.location,keyCode:e.keyCode};H.push(s);if(!j)j=setTimeout(q,0)}function q(){j=null;const e={command:d.ForwardKeyboardEvent,entries:H};X.sendRequest(e);H=[]}document.addEventListener("keydown",V,false);function z(){this._callbacks={};this._handlers={};this._lastRequestId=0;this._lastObjectId=0;this.registerHandler("callback",this._onCallback.bind(this));const e=new MessageChannel;this._port=e.port1;this._port.addEventListener("message",this._onMessage.bind(this),false);this._port.start();window.parent.postMessage("registerExtension","*",[e.port2])}z.prototype={sendRequest:function(e,t){if(typeof t==="function")e.requestId=this._registerCallback(t);this._port.postMessage(e)},hasHandler:function(e){return!!this._handlers[e]},registerHandler:function(e,t){this._handlers[e]=t},unregisterHandler:function(e){delete this._handlers[e]},nextObjectId:function(){return o.toString()+"_"+ ++this._lastObjectId},_registerCallback:function(e){const t=++this._lastRequestId;this._callbacks[t]=e;return t},_onCallback:function(e){if(e.requestId in this._callbacks){const t=this._callbacks[e.requestId];delete this._callbacks[e.requestId];t(e.result)}},_onMessage:function(e){const t=e.data;const n=this._handlers[t.command];if(n)n.call(this,t)}};function G(e,t){for(const n in t){if(n.charAt(0)==="_")continue;let s=null;for(let e=t;e&&!s;e=e.__proto__)s=Object.getOwnPropertyDescriptor(e,n);if(!s)continue;if(typeof s.value==="function")e[n]=s.value.bind(t);else if(typeof s.get==="function")e.__defineGetter__(n,s.get.bind(t));else Object.defineProperty(e,n,s)}}const X=new z;const $=new p;Object.defineProperty(a,"devtools",{value:{},enumerable:true});a.devtools.inspectedWindow={};a.devtools.inspectedWindow.__defineGetter__("tabId",W);a.devtools.inspectedWindow.__proto__=$.inspectedWindow;a.devtools.network=$.network;a.devtools.panels=$.panels;a.devtools.panels.themeName=n;if(e.exposeExperimentalAPIs!==false){a.experimental=a.experimental||{};a.experimental.devtools=a.experimental.devtools||{};const e=Object.getOwnPropertyNames($);for(let t=0;t<e.length;++t){const n=Object.getOwnPropertyDescriptor($,e[t]);if(n)Object.defineProperty(a.experimental.devtools,e[t],n)}a.experimental.devtools.inspectedWindow=a.devtools.inspectedWindow}if(e.exposeWebInspectorNamespace)window.webInspector=$;i(X,$)}function buildExtensionAPIInjectedScript(e,t,n,s,i){const o=[e,t||null,n,s].map(e=>JSON.stringify(e)).join(",");if(!i)i=(()=>{});return"(function(injectedScriptId){ "+defineCommonExtensionSymbols.toString()+";"+"("+injectedExtensionAPI.toString()+")("+o+","+i+", injectedScriptId);"+"})"}Extensions.ExtensionTraceProvider=class{constructor(e,t,n,s){this._extensionOrigin=e;this._id=t;this._categoryName=n;this._categoryTooltip=s}start(e){const t=String(++Extensions.ExtensionTraceProvider._lastSessionId);Extensions.extensionServer.startTraceRecording(this._id,t,e)}stop(){Extensions.extensionServer.stopTraceRecording(this._id)}shortDisplayName(){return this._categoryName}longDisplayName(){return this._categoryTooltip}persistentIdentifier(){return`${this._extensionOrigin}/${this._categoryName}`}};Extensions.ExtensionTraceProvider._lastSessionId=0;Extensions.TracingSession=function(){};Extensions.TracingSession.prototype={complete:function(e,t){}};Extensions.ExtensionServer=class extends Common.Object{constructor(){super();this._clientObjects={};this._handlers={};this._subscribers={};this._subscriptionStartHandlers={};this._subscriptionStopHandlers={};this._extraHeaders={};this._requests={};this._lastRequestId=0;this._registeredExtensions={};this._status=new Extensions.ExtensionStatus;this._sidebarPanes=[];this._traceProviders=[];this._traceSessions=new Map;const e=Extensions.extensionAPI.Commands;this._registerHandler(e.AddRequestHeaders,this._onAddRequestHeaders.bind(this));this._registerHandler(e.AddTraceProvider,this._onAddTraceProvider.bind(this));this._registerHandler(e.ApplyStyleSheet,this._onApplyStyleSheet.bind(this));this._registerHandler(e.CompleteTraceSession,this._onCompleteTraceSession.bind(this));this._registerHandler(e.CreatePanel,this._onCreatePanel.bind(this));this._registerHandler(e.CreateSidebarPane,this._onCreateSidebarPane.bind(this));this._registerHandler(e.CreateToolbarButton,this._onCreateToolbarButton.bind(this));this._registerHandler(e.EvaluateOnInspectedPage,this._onEvaluateOnInspectedPage.bind(this));this._registerHandler(e.ForwardKeyboardEvent,this._onForwardKeyboardEvent.bind(this));this._registerHandler(e.GetHAR,this._onGetHAR.bind(this));this._registerHandler(e.GetPageResources,this._onGetPageResources.bind(this));this._registerHandler(e.GetRequestContent,this._onGetRequestContent.bind(this));this._registerHandler(e.GetResourceContent,this._onGetResourceContent.bind(this));this._registerHandler(e.Reload,this._onReload.bind(this));this._registerHandler(e.SetOpenResourceHandler,this._onSetOpenResourceHandler.bind(this));this._registerHandler(e.SetResourceContent,this._onSetResourceContent.bind(this));this._registerHandler(e.SetSidebarHeight,this._onSetSidebarHeight.bind(this));this._registerHandler(e.SetSidebarContent,this._onSetSidebarContent.bind(this));this._registerHandler(e.SetSidebarPage,this._onSetSidebarPage.bind(this));this._registerHandler(e.ShowPanel,this._onShowPanel.bind(this));this._registerHandler(e.Subscribe,this._onSubscribe.bind(this));this._registerHandler(e.OpenResource,this._onOpenResource.bind(this));this._registerHandler(e.Unsubscribe,this._onUnsubscribe.bind(this));this._registerHandler(e.UpdateButton,this._onUpdateButton.bind(this));window.addEventListener("message",this._onWindowMessage.bind(this),false);InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.SetInspectedTabId,this._setInspectedTabId,this);this._initExtensions()}initializeExtensions(){InspectorFrontendHost.setAddExtensionCallback(this._addExtension.bind(this))}hasExtensions(){return!!Object.keys(this._registeredExtensions).length}notifySearchAction(e,t,n){this._postNotification(Extensions.extensionAPI.Events.PanelSearch+e,t,n)}notifyViewShown(e,t){this._postNotification(Extensions.extensionAPI.Events.ViewShown+e,t)}notifyViewHidden(e){this._postNotification(Extensions.extensionAPI.Events.ViewHidden+e)}notifyButtonClicked(e){this._postNotification(Extensions.extensionAPI.Events.ButtonClicked+e)}_inspectedURLChanged(e){if(e.data!==SDK.targetManager.mainTarget())return;this._requests={};const t=e.data.inspectedURL();this._postNotification(Extensions.extensionAPI.Events.InspectedURLChanged,t)}startTraceRecording(e,t,n){this._traceSessions.set(t,n);this._postNotification("trace-recording-started-"+e,t)}stopTraceRecording(e){this._postNotification("trace-recording-stopped-"+e)}hasSubscribers(e){return!!this._subscribers[e]}_postNotification(e,t){const n=this._subscribers[e];if(!n)return;const s={command:"notify-"+e,arguments:Array.prototype.slice.call(arguments,1)};for(let e=0;e<n.length;++e)n[e].postMessage(s)}_onSubscribe(e,t){const n=this._subscribers[e.type];if(n){n.push(t)}else{this._subscribers[e.type]=[t];if(this._subscriptionStartHandlers[e.type])this._subscriptionStartHandlers[e.type]()}}_onUnsubscribe(e,t){const n=this._subscribers[e.type];if(!n)return;n.remove(t);if(!n.length){delete this._subscribers[e.type];if(this._subscriptionStopHandlers[e.type])this._subscriptionStopHandlers[e.type]()}}_onAddRequestHeaders(e){const t=e.extensionId;if(typeof t!=="string")return this._status.E_BADARGTYPE("extensionId",typeof t,"string");let n=this._extraHeaders[t];if(!n){n={};this._extraHeaders[t]=n}for(const t in e.headers)n[t]=e.headers[t];const s={};for(const e in this._extraHeaders){const t=this._extraHeaders[e];for(const e in t){if(typeof t[e]==="string")s[e]=t[e]}}SDK.multitargetNetworkManager.setExtraHTTPHeaders(s)}_onApplyStyleSheet(e){if(!Runtime.experiments.isEnabled("applyCustomStylesheet"))return;const t=createElement("style");t.textContent=e.styleSheet;document.head.appendChild(t);UI.themeSupport.addCustomStylesheet(e.styleSheet);for(let e=document.body;e;e=e.traverseNextNode(document.body)){if(e instanceof ShadowRoot)UI.themeSupport.injectCustomStyleSheets(e)}}_onCreatePanel(e,t){const n=e.id;if(n in this._clientObjects||UI.inspectorView.hasPanel(n))return this._status.E_EXISTS(n);const s=this._expandResourcePath(t._extensionOrigin,e.page);let i=t._extensionOrigin+e.title;i=i.replace(/\s/g,"");const o=new Extensions.ExtensionServerPanelView(i,e.title,new Extensions.ExtensionPanel(this,i,n,s));this._clientObjects[n]=o;UI.inspectorView.addPanel(o);return this._status.OK()}_onShowPanel(e){let t=e.id;const n=this._clientObjects[e.id];if(n&&n instanceof Extensions.ExtensionServerPanelView)t=n.viewId();UI.inspectorView.showPanel(t)}_onCreateToolbarButton(e,t){const n=this._clientObjects[e.panel];if(!n||!(n instanceof Extensions.ExtensionServerPanelView))return this._status.E_NOTFOUND(e.panel);const s=new Extensions.ExtensionButton(this,e.id,this._expandResourcePath(t._extensionOrigin,e.icon),e.tooltip,e.disabled);this._clientObjects[e.id]=s;n.widget().then(i);function i(e){e.addToolbarItem(s.toolbarButton())}return this._status.OK()}_onUpdateButton(e,t){const n=this._clientObjects[e.id];if(!n||!(n instanceof Extensions.ExtensionButton))return this._status.E_NOTFOUND(e.id);n.update(this._expandResourcePath(t._extensionOrigin,e.icon),e.tooltip,e.disabled);return this._status.OK()}_onCompleteTraceSession(e){const t=this._traceSessions.get(e.id);if(!t)return this._status.E_NOTFOUND(e.id);this._traceSessions.delete(e.id);t.complete(e.url,e.timeOffset)}_onCreateSidebarPane(e){if(e.panel!=="elements"&&e.panel!=="sources")return this._status.E_NOTFOUND(e.panel);const t=e.id;const n=new Extensions.ExtensionSidebarPane(this,e.panel,e.title,t);this._sidebarPanes.push(n);this._clientObjects[t]=n;this.dispatchEventToListeners(Extensions.ExtensionServer.Events.SidebarPaneAdded,n);return this._status.OK()}sidebarPanes(){return this._sidebarPanes}_onSetSidebarHeight(e){const t=this._clientObjects[e.id];if(!t)return this._status.E_NOTFOUND(e.id);t.setHeight(e.height);return this._status.OK()}_onSetSidebarContent(e,t){const n=this._clientObjects[e.id];if(!n)return this._status.E_NOTFOUND(e.id);function s(n){const s=n?this._status.E_FAILED(n):this._status.OK();this._dispatchCallback(e.requestId,t,s)}if(e.evaluateOnPage){return n.setExpression(e.expression,e.rootTitle,e.evaluateOptions,t._extensionOrigin,s.bind(this))}n.setObject(e.expression,e.rootTitle,s.bind(this))}_onSetSidebarPage(e,t){const n=this._clientObjects[e.id];if(!n)return this._status.E_NOTFOUND(e.id);n.setPage(this._expandResourcePath(t._extensionOrigin,e.page))}_onOpenResource(e){const t=Workspace.workspace.uiSourceCodeForURL(e.url);if(t){Common.Revealer.reveal(t.uiLocation(e.lineNumber,0));return this._status.OK()}const n=Bindings.resourceForURL(e.url);if(n){Common.Revealer.reveal(n);return this._status.OK()}const s=SDK.networkLog.requestForURL(e.url);if(s){Common.Revealer.reveal(s);return this._status.OK()}return this._status.E_NOTFOUND(e.url)}_onSetOpenResourceHandler(e,t){const n=this._registeredExtensions[t._extensionOrigin].name||"Extension "+t._extensionOrigin;if(e.handlerPresent)Components.Linkifier.registerLinkHandler(n,this._handleOpenURL.bind(this,t));else Components.Linkifier.unregisterLinkHandler(n)}_handleOpenURL(e,t,n){e.postMessage({command:"open-resource",resource:this._makeResource(t),lineNumber:n+1})}_onReload(e){const t=e.options||{};SDK.multitargetNetworkManager.setUserAgentOverride(typeof t.userAgent==="string"?t.userAgent:"");let n;if(t.injectedScript)n="(function(){"+t.injectedScript+"})()";SDK.ResourceTreeModel.reloadAllPages(!!t.ignoreCache,n);return this._status.OK()}_onEvaluateOnInspectedPage(e,t){function n(n,s,i){let o;if(n||!s)o=this._status.E_PROTOCOLERROR(n.toString());else if(i)o={isException:true,value:s.description};else o={value:s.value};this._dispatchCallback(e.requestId,t,o)}return this.evaluate(e.expression,true,true,e.evaluateOptions,t._extensionOrigin,n.bind(this))}async _onGetHAR(){const e=SDK.networkLog.requests();const t=await SDK.HARLog.build(e);for(let n=0;n<t.entries.length;++n)t.entries[n]._requestId=this._requestId(e[n]);return t}_makeResource(e){return{url:e.contentURL(),type:e.contentType().name()}}_onGetPageResources(){const e=new Map;function t(t){if(!e.has(t.contentURL()))e.set(t.contentURL(),this._makeResource(t))}let n=Workspace.workspace.uiSourceCodesForProjectType(Workspace.projectTypes.Network);n=n.concat(Workspace.workspace.uiSourceCodesForProjectType(Workspace.projectTypes.ContentScripts));n.forEach(t.bind(this));for(const e of SDK.targetManager.models(SDK.ResourceTreeModel))e.forAllResources(t.bind(this));return e.valuesArray()}async _getResourceContent(e,t,n){const s=await e.requestContent();const i=await e.contentEncoded();this._dispatchCallback(t.requestId,n,{encoding:i?"base64":"",content:s})}_onGetRequestContent(e,t){const n=this._requestById(e.id);if(!n)return this._status.E_NOTFOUND(e.id);this._getResourceContent(n,e,t)}_onGetResourceContent(e,t){const n=e.url;const s=Workspace.workspace.uiSourceCodeForURL(n)||Bindings.resourceForURL(n);if(!s)return this._status.E_NOTFOUND(n);this._getResourceContent(s,e,t)}_onSetResourceContent(e,t){function n(n){const s=n?this._status.E_FAILED(n):this._status.OK();this._dispatchCallback(e.requestId,t,s)}const s=e.url;const i=Workspace.workspace.uiSourceCodeForURL(s);if(!i||!i.contentType().isDocumentOrScriptOrStyleSheet()){const e=SDK.ResourceTreeModel.resourceForURL(s);if(!e)return this._status.E_NOTFOUND(s);return this._status.E_NOTSUPPORTED("Resource is not editable")}i.setWorkingCopy(e.content);if(e.commit)i.commitWorkingCopy();n.call(this,null)}_requestId(e){if(!e._extensionRequestId){e._extensionRequestId=++this._lastRequestId;this._requests[e._extensionRequestId]=e}return e._extensionRequestId}_requestById(e){return this._requests[e]}_onAddTraceProvider(e,t){const n=new Extensions.ExtensionTraceProvider(t._extensionOrigin,e.id,e.categoryName,e.categoryTooltip);this._clientObjects[e.id]=n;this._traceProviders.push(n);this.dispatchEventToListeners(Extensions.ExtensionServer.Events.TraceProviderAdded,n)}traceProviders(){return this._traceProviders}_onForwardKeyboardEvent(e){e.entries.forEach(t);function t(e){const t=new window.KeyboardEvent(e.eventType,{key:e.key,code:e.code,keyCode:e.keyCode,location:e.location,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey});t.__keyCode=n(e);document.dispatchEvent(t)}function n(e){let t=e.keyCode;if(!t){if(e.key==="Escape")t=27}return t||0}}_dispatchCallback(e,t,n){if(e)t.postMessage({command:"callback",requestId:e,result:n})}_initExtensions(){this._registerAutosubscriptionHandler(Extensions.extensionAPI.Events.ResourceAdded,Workspace.workspace,Workspace.Workspace.Events.UISourceCodeAdded,this._notifyResourceAdded);this._registerAutosubscriptionTargetManagerHandler(Extensions.extensionAPI.Events.NetworkRequestFinished,SDK.NetworkManager,SDK.NetworkManager.Events.RequestFinished,this._notifyRequestFinished);function e(){UI.context.addFlavorChangeListener(SDK.DOMNode,this._notifyElementsSelectionChanged,this)}function t(){UI.context.removeFlavorChangeListener(SDK.DOMNode,this._notifyElementsSelectionChanged,this)}this._registerSubscriptionHandler(Extensions.extensionAPI.Events.PanelObjectSelected+"elements",e.bind(this),t.bind(this));this._registerResourceContentCommittedHandler(this._notifyUISourceCodeContentCommitted);SDK.targetManager.addEventListener(SDK.TargetManager.Events.InspectedURLChanged,this._inspectedURLChanged,this)}_notifyResourceAdded(e){const t=e.data;this._postNotification(Extensions.extensionAPI.Events.ResourceAdded,this._makeResource(t))}_notifyUISourceCodeContentCommitted(e){const t=e.data.uiSourceCode;const n=e.data.content;this._postNotification(Extensions.extensionAPI.Events.ResourceContentCommitted,this._makeResource(t),n)}async _notifyRequestFinished(e){const t=e.data;const n=await SDK.HARLog.Entry.build(t);this._postNotification(Extensions.extensionAPI.Events.NetworkRequestFinished,this._requestId(t),n)}_notifyElementsSelectionChanged(){this._postNotification(Extensions.extensionAPI.Events.PanelObjectSelected+"elements")}sourceSelectionChanged(e,t){this._postNotification(Extensions.extensionAPI.Events.PanelObjectSelected+"sources",{startLine:t.startLine,startColumn:t.startColumn,endLine:t.endLine,endColumn:t.endColumn,url:e})}_setInspectedTabId(e){this._inspectedTabId=e.data}_addExtension(e){const t=new RegExp("([^:]+://[^/]*)/");const n=e.startPage;const s=e.name;try{const i=t.exec(n);if(!i){console.error("Skipping extension with invalid URL: "+n);return false}const o=i[1];if(!this._registeredExtensions[o]){const t=buildExtensionAPIInjectedScript(e,this._inspectedTabId,UI.themeSupport.themeName(),UI.shortcutRegistry.globalShortcutKeys(),Extensions.extensionServer["_extensionAPITestHook"]);InspectorFrontendHost.setInjectedScriptForOrigin(o,t);this._registeredExtensions[o]={name:s}}const r=createElement("iframe");r.src=n;r.style.display="none";document.body.appendChild(r)}catch(e){console.error("Failed to initialize extension "+n+":"+e);return false}return true}_registerExtension(e,t){if(!this._registeredExtensions.hasOwnProperty(e)){if(e!==window.location.origin)console.error("Ignoring unauthorized client request from "+e);return}t._extensionOrigin=e;t.addEventListener("message",this._onmessage.bind(this),false);t.start()}_onWindowMessage(e){if(e.data==="registerExtension")this._registerExtension(e.origin,e.ports[0])}async _onmessage(e){const t=e.data;let n;if(t.command in this._handlers)n=await this._handlers[t.command](t,e.target);else n=this._status.E_NOTSUPPORTED(t.command);if(n&&t.requestId)this._dispatchCallback(t.requestId,e.target,n)}_registerHandler(e,t){console.assert(e);this._handlers[e]=t}_registerSubscriptionHandler(e,t,n){this._subscriptionStartHandlers[e]=t;this._subscriptionStopHandlers[e]=n}_registerAutosubscriptionHandler(e,t,n,s){this._registerSubscriptionHandler(e,t.addEventListener.bind(t,n,s,this),t.removeEventListener.bind(t,n,s,this))}_registerAutosubscriptionTargetManagerHandler(e,t,n,s){this._registerSubscriptionHandler(e,SDK.targetManager.addModelListener.bind(SDK.targetManager,t,n,s,this),SDK.targetManager.removeModelListener.bind(SDK.targetManager,t,n,s,this))}_registerResourceContentCommittedHandler(e){function t(){Workspace.workspace.addEventListener(Workspace.Workspace.Events.WorkingCopyCommittedByUser,e,this);Workspace.workspace.setHasResourceContentTrackingExtensions(true)}function n(){Workspace.workspace.setHasResourceContentTrackingExtensions(false);Workspace.workspace.removeEventListener(Workspace.Workspace.Events.WorkingCopyCommittedByUser,e,this)}this._registerSubscriptionHandler(Extensions.extensionAPI.Events.ResourceContentCommitted,t.bind(this),n.bind(this))}_expandResourcePath(e,t){if(!t)return;return e+this._normalizePath(t)}_normalizePath(e){const t=e.split("/");const n=[];for(let e=0;e<t.length;++e){if(t[e]===".")continue;if(t[e]==="")continue;if(t[e]==="..")n.pop();else n.push(t[e])}return"/"+n.join("/")}evaluate(e,t,n,s,i,o){let r;function a(e){let t;function n(n){t=n.url===e?n:null;return t}SDK.ResourceTreeModel.frames().some(n);return t}s=s||{};let l;if(s.frameURL){l=a(s.frameURL)}else{const e=SDK.targetManager.mainTarget();const t=e&&e.model(SDK.ResourceTreeModel);l=t&&t.mainFrame}if(!l){if(s.frameURL)console.warn("evaluate: there is no frame with URL "+s.frameURL);else console.warn("evaluate: the main frame is not yet available");return this._status.E_NOTFOUND(s.frameURL||"<top>")}let c;if(s.useContentScriptContext)c=i;else if(s.scriptExecutionContext)c=s.scriptExecutionContext;const d=l.resourceTreeModel().target().model(SDK.RuntimeModel);const h=d?d.executionContexts():[];if(c){for(let e=0;e<h.length;++e){const t=h[e];if(t.frameId===l.id&&t.origin===c&&!t.isDefault)r=t}if(!r){console.warn("The JavaScript context "+c+" was not found in the frame "+l.url);return this._status.E_NOTFOUND(c)}}else{for(let e=0;e<h.length;++e){const t=h[e];if(t.frameId===l.id&&t.isDefault)r=t}if(!r)return this._status.E_FAILED(l.url+" has no execution context")}r.evaluate({expression:e,objectGroup:"extension",includeCommandLineAPI:t,silent:true,returnByValue:n,generatePreview:false},false,false).then(u);function u(e){if(e.error){o(e.error,null,false);return}o(null,e.object||null,!!e.exceptionDetails)}}};Extensions.ExtensionServer.Events={SidebarPaneAdded:Symbol("SidebarPaneAdded"),TraceProviderAdded:Symbol("TraceProviderAdded")};Extensions.ExtensionServerPanelView=class extends UI.SimpleView{constructor(e,t,n){super(t);this._name=e;this._panel=n}viewId(){return this._name}widget(){return Promise.resolve(this._panel)}};Extensions.ExtensionStatus=class{constructor(){function e(e,t){const n=Array.prototype.slice.call(arguments,2);const s={code:e,description:t,details:n};if(e!=="OK"){s.isError=true;console.error("Extension server error: "+String.vsprintf(t,n))}return s}this.OK=e.bind(null,"OK","OK");this.E_EXISTS=e.bind(null,"E_EXISTS","Object already exists: %s");this.E_BADARG=e.bind(null,"E_BADARG","Invalid argument %s: %s");this.E_BADARGTYPE=e.bind(null,"E_BADARGTYPE","Invalid type for argument %s: got %s, expected %s");this.E_NOTFOUND=e.bind(null,"E_NOTFOUND","Object not found: %s");this.E_NOTSUPPORTED=e.bind(null,"E_NOTSUPPORTED","Object does not support requested operation: %s");this.E_PROTOCOLERROR=e.bind(null,"E_PROTOCOLERROR","Inspector protocol error: %s");this.E_FAILED=e.bind(null,"E_FAILED","Operation failed: %s")}};Extensions.ExtensionStatus.Record;Extensions.extensionAPI={};defineCommonExtensionSymbols(Extensions.extensionAPI);Extensions.extensionServer;Extensions.ExtensionPanel=class extends UI.Panel{constructor(e,t,n,s){super(t);this._server=e;this._id=n;this.setHideOnDetach();this._panelToolbar=new UI.Toolbar("hidden",this.element);this._searchableView=new UI.SearchableView(this);this._searchableView.show(this.element);const i=new Extensions.ExtensionView(e,this._id,s,"extension");i.show(this._searchableView.element)}addToolbarItem(e){this._panelToolbar.element.classList.remove("hidden");this._panelToolbar.appendToolbarItem(e)}searchCanceled(){this._server.notifySearchAction(this._id,Extensions.extensionAPI.panels.SearchAction.CancelSearch);this._searchableView.updateSearchMatchesCount(0)}searchableView(){return this._searchableView}performSearch(e,t,n){const s=e.query;this._server.notifySearchAction(this._id,Extensions.extensionAPI.panels.SearchAction.PerformSearch,s)}jumpToNextSearchResult(){this._server.notifySearchAction(this._id,Extensions.extensionAPI.panels.SearchAction.NextSearchResult)}jumpToPreviousSearchResult(){this._server.notifySearchAction(this._id,Extensions.extensionAPI.panels.SearchAction.PreviousSearchResult)}supportsCaseSensitiveSearch(){return false}supportsRegexSearch(){return false}};Extensions.ExtensionButton=class{constructor(e,t,n,s,i){this._id=t;this._toolbarButton=new UI.ToolbarButton("","");this._toolbarButton.addEventListener(UI.ToolbarButton.Events.Click,e.notifyButtonClicked.bind(e,this._id));this.update(n,s,i)}update(e,t,n){if(typeof e==="string")this._toolbarButton.setBackgroundImage(e);if(typeof t==="string")this._toolbarButton.setTitle(t);if(typeof n==="boolean")this._toolbarButton.setEnabled(!n)}toolbarButton(){return this._toolbarButton}};Extensions.ExtensionSidebarPane=class extends UI.SimpleView{constructor(e,t,n,s){super(n);this.element.classList.add("fill");this._panelName=t;this._server=e;this._id=s}id(){return this._id}panelName(){return this._panelName}setObject(e,t,n){this._createObjectPropertiesView();this._setObject(SDK.RemoteObject.fromLocalObject(e),t,n)}setExpression(e,t,n,s,i){this._createObjectPropertiesView();this._server.evaluate(e,true,false,n,s,this._onEvaluate.bind(this,t,i))}setPage(e){if(this._objectPropertiesView){this._objectPropertiesView.detach();delete this._objectPropertiesView}if(this._extensionView)this._extensionView.detach(true);this._extensionView=new Extensions.ExtensionView(this._server,this._id,e,"extension fill");this._extensionView.show(this.element);if(!this.element.style.height)this.setHeight("150px")}setHeight(e){this.element.style.height=e}_onEvaluate(e,t,n,s,i){if(n||!s)t(n.toString());else this._setObject(s,e,t)}_createObjectPropertiesView(){if(this._objectPropertiesView)return;if(this._extensionView){this._extensionView.detach(true);delete this._extensionView}this._objectPropertiesView=new Extensions.ExtensionNotifierView(this._server,this._id);this._objectPropertiesView.show(this.element)}_setObject(e,t,n){if(!this._objectPropertiesView){n("operation cancelled");return}this._objectPropertiesView.element.removeChildren();UI.Renderer.render(e,{title:t,editable:false}).then(e=>{if(!e){n();return}if(e.tree&&e.tree.firstChild())e.tree.firstChild().expand();this._objectPropertiesView.element.appendChild(e.node);n()})}};Extensions.ExtensionView=class extends UI.Widget{constructor(e,t,n,s){super();this.setHideOnDetach();this.element.className="vbox flex-auto";this.element.tabIndex=-1;this._server=e;this._id=t;this._iframe=createElement("iframe");this._iframe.addEventListener("load",this._onLoad.bind(this),false);this._iframe.src=n;this._iframe.className=s;this.setDefaultFocusedElement(this.element);this.element.appendChild(this._iframe)}wasShown(){if(typeof this._frameIndex==="number")this._server.notifyViewShown(this._id,this._frameIndex)}willHide(){if(typeof this._frameIndex==="number")this._server.notifyViewHidden(this._id)}_onLoad(){const e=window.frames;this._frameIndex=Array.prototype.indexOf.call(e,this._iframe.contentWindow);if(this.isShowing())this._server.notifyViewShown(this._id,this._frameIndex)}};Extensions.ExtensionNotifierView=class extends UI.VBox{constructor(e,t){super();this._server=e;this._id=t}wasShown(){this._server.notifyViewShown(this._id)}willHide(){this._server.notifyViewHidden(this._id)}};self["Main"]=self["Main"]||{};Main.SimpleApp=class{presentUI(e){const t=new UI.RootView;UI.inspectorView.show(t.element);t.attachToDocument(e);t.focus()}};Main.SimpleAppProvider=class{createApp(){return new Main.SimpleApp}};Main.ExecutionContextSelector=class{constructor(e,t){t.addFlavorChangeListener(SDK.ExecutionContext,this._executionContextChanged,this);t.addFlavorChangeListener(SDK.Target,this._targetChanged,this);e.addModelListener(SDK.RuntimeModel,SDK.RuntimeModel.Events.ExecutionContextCreated,this._onExecutionContextCreated,this);e.addModelListener(SDK.RuntimeModel,SDK.RuntimeModel.Events.ExecutionContextDestroyed,this._onExecutionContextDestroyed,this);e.addModelListener(SDK.RuntimeModel,SDK.RuntimeModel.Events.ExecutionContextOrderChanged,this._onExecutionContextOrderChanged,this);this._targetManager=e;this._context=t;e.observeModels(SDK.RuntimeModel,this)}modelAdded(e){setImmediate(t.bind(this));function t(){if(!this._context.flavor(SDK.Target))this._context.setFlavor(SDK.Target,e.target())}}modelRemoved(e){const t=this._context.flavor(SDK.ExecutionContext);if(t&&t.runtimeModel===e)this._currentExecutionContextGone();const n=this._targetManager.models(SDK.RuntimeModel);if(this._context.flavor(SDK.Target)===e.target()&&n.length)this._context.setFlavor(SDK.Target,n[0].target())}_executionContextChanged(e){const t=e.data;if(t){this._context.setFlavor(SDK.Target,t.target());if(!this._ignoreContextChanged)this._lastSelectedContextId=this._contextPersistentId(t)}}_contextPersistentId(e){return e.isDefault?e.target().name()+":"+e.frameId:""}_targetChanged(e){const t=e.data;const n=this._context.flavor(SDK.ExecutionContext);if(!t||n&&n.target()===t)return;const s=t.model(SDK.RuntimeModel);const i=s?s.executionContexts():[];if(!i.length)return;let o=null;for(let e=0;e<i.length&&!o;++e){if(this._shouldSwitchToContext(i[e]))o=i[e]}for(let e=0;e<i.length&&!o;++e){if(this._isDefaultContext(i[e]))o=i[e]}this._ignoreContextChanged=true;this._context.setFlavor(SDK.ExecutionContext,o||i[0]);this._ignoreContextChanged=false}_shouldSwitchToContext(e){if(this._lastSelectedContextId&&this._lastSelectedContextId===this._contextPersistentId(e))return true;if(!this._lastSelectedContextId&&this._isDefaultContext(e))return true;return false}_isDefaultContext(e){if(!e.isDefault||!e.frameId)return false;if(e.target().parentTarget())return false;const t=e.target().model(SDK.ResourceTreeModel);const n=t&&t.frameForId(e.frameId);if(n&&n.isTopFrame())return true;return false}_onExecutionContextCreated(e){this._switchContextIfNecessary(e.data)}_onExecutionContextDestroyed(e){const t=e.data;if(this._context.flavor(SDK.ExecutionContext)===t)this._currentExecutionContextGone()}_onExecutionContextOrderChanged(e){const t=e.data;const n=t.executionContexts();for(let e=0;e<n.length;e++){if(this._switchContextIfNecessary(n[e]))break}}_switchContextIfNecessary(e){if(!this._context.flavor(SDK.ExecutionContext)||this._shouldSwitchToContext(e)){this._ignoreContextChanged=true;this._context.setFlavor(SDK.ExecutionContext,e);this._ignoreContextChanged=false;return true}return false}_currentExecutionContextGone(){const e=this._targetManager.models(SDK.RuntimeModel);let t=null;for(let n=0;n<e.length&&!t;++n){const s=e[n].executionContexts();for(const e of s){if(this._isDefaultContext(e)){t=e;break}}}if(!t){for(let n=0;n<e.length&&!t;++n){const s=e[n].executionContexts();if(s.length){t=s[0];break}}}this._ignoreContextChanged=true;this._context.setFlavor(SDK.ExecutionContext,t);this._ignoreContextChanged=false}};Main.Main=class{constructor(){Main.Main._instanceForTest=this;runOnWindowLoad(this._loaded.bind(this))}static time(e){if(Host.isUnderTest())return;console.time(e)}static timeEnd(e){if(Host.isUnderTest())return;console.timeEnd(e)}async _loaded(){console.timeStamp("Main._loaded");await Runtime.appStarted();Runtime.setPlatform(Host.platform());Runtime.setL10nCallback(ls);InspectorFrontendHost.getPreferences(this._gotPreferences.bind(this))}_gotPreferences(e){console.timeStamp("Main._gotPreferences");if(Host.isUnderTest(e))self.runtime.useTestBase();this._createSettings(e);this._createAppUI()}_createSettings(e){this._initializeExperiments();let t="";if(Host.isCustomDevtoolsFrontend())t="__custom__";else if(!Runtime.queryParam("can_dock")&&!!Runtime.queryParam("debugFrontend")&&!Host.isUnderTest())t="__bundled__";let n;if(!Host.isUnderTest()&&window.localStorage){n=new Common.SettingsStorage(window.localStorage,undefined,undefined,()=>window.localStorage.clear(),t)}else{n=new Common.SettingsStorage({},undefined,undefined,undefined,t)}const s=new Common.SettingsStorage(e,InspectorFrontendHost.setPreference,InspectorFrontendHost.removePreference,InspectorFrontendHost.clearPreferences,t);Common.settings=new Common.Settings(s,n);if(!Host.isUnderTest())(new Common.VersionController).updateVersion()}_initializeExperiments(){Runtime.experiments.register("applyCustomStylesheet","Allow custom UI themes");Runtime.experiments.register("sourcesPrettyPrint","Automatically pretty print in the Sources Panel");Runtime.experiments.register("backgroundServices","Background web platform feature events",true);Runtime.experiments.register("backgroundServicesNotifications","Background services section for Notifications");Runtime.experiments.register("backgroundServicesPushMessaging","Background services section for Push Messaging");Runtime.experiments.register("blackboxJSFramesOnTimeline","Blackbox JavaScript frames on Timeline",true);Runtime.experiments.register("emptySourceMapAutoStepping","Empty sourcemap auto-stepping");Runtime.experiments.register("inputEventsOnTimelineOverview","Input events on Timeline overview",true);Runtime.experiments.register("liveHeapProfile","Live heap profile",true);Runtime.experiments.register("nativeHeapProfiler","Native memory sampling heap profiler",true);Runtime.experiments.register("protocolMonitor","Protocol Monitor");Runtime.experiments.register("samplingHeapProfilerTimeline","Sampling heap profiler timeline",true);Runtime.experiments.register("sourceDiff","Source diff");Runtime.experiments.register("splitInDrawer","Split in drawer",true);Runtime.experiments.register("spotlight","Spotlight",true);Runtime.experiments.register("terminalInDrawer","Terminal in drawer",true);Runtime.experiments.register("timelineEventInitiators","Timeline: event initiators");Runtime.experiments.register("timelineFlowEvents","Timeline: flow events",true);Runtime.experiments.register("timelineInvalidationTracking","Timeline: invalidation tracking",true);Runtime.experiments.register("timelineShowAllEvents","Timeline: show all events",true);Runtime.experiments.register("timelineV8RuntimeCallStats","Timeline: V8 Runtime Call Stats on Timeline",true);Runtime.experiments.register("timelineWebGL","Timeline: WebGL-based flamechart");Runtime.experiments.cleanUpStaleExperiments();const e=Runtime.queryParam("enabledExperiments");if(e)Runtime.experiments.setServerEnabledExperiments(e.split(";"));Runtime.experiments.setDefaultExperiments(["backgroundServices","backgroundServicesNotifications","backgroundServicesPushMessaging"]);if(Host.isUnderTest()&&Runtime.queryParam("test").includes("live-line-level-heap-profile.js"))Runtime.experiments.enableForTest("liveHeapProfile")}async _createAppUI(){Main.Main.time("Main._createAppUI");UI.viewManager=new UI.ViewManager;Persistence.isolatedFileSystemManager=new Persistence.IsolatedFileSystemManager;const e=Common.settings.createSetting("uiTheme","systemPreferred");UI.initializeUIUtils(document,e);e.addChangeListener(Components.reload.bind(Components));UI.installComponentRootStyles(document.body);this._addMainEventListeners(document);const t=!!Runtime.queryParam("can_dock");UI.zoomManager=new UI.ZoomManager(window,InspectorFrontendHost);UI.inspectorView=UI.InspectorView.instance();UI.ContextMenu.initialize();UI.ContextMenu.installHandler(document);UI.Tooltip.installHandler(document);Components.dockController=new Components.DockController(t);SDK.consoleModel=new SDK.ConsoleModel;SDK.multitargetNetworkManager=new SDK.MultitargetNetworkManager;SDK.domDebuggerManager=new SDK.DOMDebuggerManager;SDK.targetManager.addEventListener(SDK.TargetManager.Events.SuspendStateChanged,this._onSuspendStateChanged.bind(this));UI.shortcutsScreen=new UI.ShortcutsScreen;UI.shortcutsScreen.section(Common.UIString("Elements Panel"));UI.shortcutsScreen.section(Common.UIString("Styles Pane"));UI.shortcutsScreen.section(Common.UIString("Debugger"));UI.shortcutsScreen.section(Common.UIString("Console"));Workspace.fileManager=new Workspace.FileManager;Workspace.workspace=new Workspace.Workspace;Bindings.networkProjectManager=new Bindings.NetworkProjectManager;Bindings.resourceMapping=new Bindings.ResourceMapping(SDK.targetManager,Workspace.workspace);new Bindings.PresentationConsoleMessageManager;Bindings.cssWorkspaceBinding=new Bindings.CSSWorkspaceBinding(SDK.targetManager,Workspace.workspace);Bindings.debuggerWorkspaceBinding=new Bindings.DebuggerWorkspaceBinding(SDK.targetManager,Workspace.workspace);Bindings.breakpointManager=new Bindings.BreakpointManager(Workspace.workspace,SDK.targetManager,Bindings.debuggerWorkspaceBinding);Extensions.extensionServer=new Extensions.ExtensionServer;new Persistence.FileSystemWorkspaceBinding(Persistence.isolatedFileSystemManager,Workspace.workspace);Persistence.persistence=new Persistence.Persistence(Workspace.workspace,Bindings.breakpointManager);Persistence.networkPersistenceManager=new Persistence.NetworkPersistenceManager(Workspace.workspace);new Main.ExecutionContextSelector(SDK.targetManager,UI.context);Bindings.blackboxManager=new Bindings.BlackboxManager(Bindings.debuggerWorkspaceBinding);new Main.Main.PauseListener;UI.actionRegistry=new UI.ActionRegistry;UI.shortcutRegistry=new UI.ShortcutRegistry(UI.actionRegistry,document);UI.ShortcutsScreen.registerShortcuts();this._registerForwardedShortcuts();this._registerMessageSinkListener();Main.Main.timeEnd("Main._createAppUI");this._showAppUI(await self.runtime.extension(Common.AppProvider).instance())}_showAppUI(e){Main.Main.time("Main._showAppUI");const t=e.createApp();Components.dockController.initialize();t.presentUI(document);const n=UI.actionRegistry.action("elements.toggle-element-search");if(n){InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.EnterInspectElementMode,n.execute.bind(n),this)}InspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.RevealSourceLine,this._revealSourceLine,this);UI.inspectorView.createToolbars();InspectorFrontendHost.loadCompleted();const s=self.runtime.extensions(Common.QueryParamHandler);for(const e of s){const t=Runtime.queryParam(e.descriptor()["name"]);if(t!==null)e.instance().then(i.bind(null,t))}function i(e,t){t.handleQueryParam(e)}setTimeout(this._initializeTarget.bind(this),0);Main.Main.timeEnd("Main._showAppUI")}async _initializeTarget(){Main.Main.time("Main._initializeTarget");const e=await Promise.all(self.runtime.extensions("early-initialization").map(e=>e.instance()));for(const t of e)await t.run();InspectorFrontendHost.readyForTest();setTimeout(this._lateInitialization.bind(this),100);Main.Main.timeEnd("Main._initializeTarget")}_lateInitialization(){Main.Main.time("Main._lateInitialization");this._registerShortcuts();Extensions.extensionServer.initializeExtensions();const e=self.runtime.extensions("late-initialization");const t=[];for(const s of e){const e=s.descriptor()["setting"];if(!e||Common.settings.moduleSetting(e).get()){t.push(s.instance().then(e=>e.run()));continue}async function n(t){if(!t.data)return;Common.settings.moduleSetting(e).removeChangeListener(n);(await s.instance()).run()}Common.settings.moduleSetting(e).addChangeListener(n)}this._lateInitDonePromise=Promise.all(t);Main.Main.timeEnd("Main._lateInitialization")}lateInitDonePromiseForTest(){return this._lateInitDonePromise}_registerForwardedShortcuts(){const e=["main.toggle-dock","debugger.toggle-breakpoints-active","debugger.toggle-pause","commandMenu.show","console.show"];const t=UI.shortcutRegistry.keysForActions(e).map(UI.KeyboardShortcut.keyCodeAndModifiersFromKey);InspectorFrontendHost.setWhitelistedShortcuts(JSON.stringify(t))}_registerMessageSinkListener(){Common.console.addEventListener(Common.Console.Events.MessageAdded,e);function e(e){const t=e.data;if(t.show)Common.console.show()}}_revealSourceLine(e){const t=e.data["url"];const n=e.data["lineNumber"];const s=e.data["columnNumber"];const i=Workspace.workspace.uiSourceCodeForURL(t);if(i){Common.Revealer.reveal(i.uiLocation(n,s));return}function o(e){const i=e.data;if(i.url()===t){Common.Revealer.reveal(i.uiLocation(n,s));Workspace.workspace.removeEventListener(Workspace.Workspace.Events.UISourceCodeAdded,o)}}Workspace.workspace.addEventListener(Workspace.Workspace.Events.UISourceCodeAdded,o)}_registerShortcuts(){const e=UI.KeyboardShortcut;const t=UI.shortcutsScreen.section(Common.UIString("All Panels"));let n=[e.makeDescriptor("[",e.Modifiers.CtrlOrMeta),e.makeDescriptor("]",e.Modifiers.CtrlOrMeta)];t.addRelatedKeys(n,Common.UIString("Go to the panel to the left/right"));const s=Common.UIString("Show console");t.addKey(e.makeDescriptor(e.Keys.Tilde,e.Modifiers.Ctrl),s);t.addKey(e.makeDescriptor(e.Keys.Esc),Common.UIString("Toggle drawer"));if(Components.dockController.canDock()){t.addKey(e.makeDescriptor("M",e.Modifiers.CtrlOrMeta|e.Modifiers.Shift),Common.UIString("Toggle device mode"));t.addKey(e.makeDescriptor("D",e.Modifiers.CtrlOrMeta|e.Modifiers.Shift),Common.UIString("Toggle dock side"))}t.addKey(e.makeDescriptor("f",e.Modifiers.CtrlOrMeta),Common.UIString("Search"));const i=Host.isMac()?UI.KeyboardShortcut.Modifiers.Meta|UI.KeyboardShortcut.Modifiers.Alt:UI.KeyboardShortcut.Modifiers.Ctrl|UI.KeyboardShortcut.Modifiers.Shift;const o=e.makeDescriptor("f",i);t.addKey(o,Common.UIString("Search across all sources"));const r=UI.shortcutRegistry.shortcutDescriptorsForAction("elements.toggle-element-search");if(r.length)t.addKey(r[0],Common.UIString("Select node to inspect"));const a=UI.KeyboardShortcut.makeDescriptor("p",UI.KeyboardShortcut.Modifiers.CtrlOrMeta);t.addKey(a,Common.UIString("Go to source"));if(Host.isMac()){n=[e.makeDescriptor("g",e.Modifiers.Meta),e.makeDescriptor("g",e.Modifiers.Meta|e.Modifiers.Shift)];t.addRelatedKeys(n,Common.UIString("Find next/previous"))}}_postDocumentKeyDown(e){if(!e.handled)UI.shortcutRegistry.handleShortcut(e)}_redispatchClipboardEvent(e){const t=new CustomEvent("clipboard-"+e.type,{bubbles:true});t["original"]=e;const n=e.target&&e.target.ownerDocument;const s=n?n.deepActiveElement():null;if(s)s.dispatchEvent(t);if(t.handled)e.preventDefault()}_contextMenuEventFired(e){if(e.handled||e.target.classList.contains("popup-glasspane"))e.preventDefault()}_addMainEventListeners(e){e.addEventListener("keydown",this._postDocumentKeyDown.bind(this),false);e.addEventListener("beforecopy",this._redispatchClipboardEvent.bind(this),true);e.addEventListener("copy",this._redispatchClipboardEvent.bind(this),false);e.addEventListener("cut",this._redispatchClipboardEvent.bind(this),false);e.addEventListener("paste",this._redispatchClipboardEvent.bind(this),false);e.addEventListener("contextmenu",this._contextMenuEventFired.bind(this),true)}_onSuspendStateChanged(){const e=SDK.targetManager.allTargetsSuspended();UI.inspectorView.onSuspendStateChanged(e)}};Main.Main.ZoomActionDelegate=class{handleAction(e,t){if(InspectorFrontendHost.isHostedMode())return false;switch(t){case"main.zoom-in":InspectorFrontendHost.zoomIn();return true;case"main.zoom-out":InspectorFrontendHost.zoomOut();return true;case"main.zoom-reset":InspectorFrontendHost.resetZoom();return true}return false}};Main.Main.SearchActionDelegate=class{handleAction(e,t){const n=UI.SearchableView.fromElement(document.deepActiveElement())||UI.inspectorView.currentPanelDeprecated().searchableView();if(!n)return false;switch(t){case"main.search-in-panel.find":return n.handleFindShortcut();case"main.search-in-panel.cancel":return n.handleCancelSearchShortcut();case"main.search-in-panel.find-next":return n.handleFindNextShortcut();case"main.search-in-panel.find-previous":return n.handleFindPreviousShortcut()}return false}};Main.Main.MainMenuItem=class{constructor(){this._item=new UI.ToolbarMenuButton(this._handleContextMenu.bind(this),true);this._item.setTitle(Common.UIString("Customize and control DevTools"))}item(){return this._item}_handleContextMenu(e){if(Components.dockController.canDock()){const n=createElementWithClass("div","flex-centered flex-auto");n.tabIndex=-1;const s=n.createChild("span","flex-auto");s.textContent=Common.UIString("Dock side");const i=UI.shortcutRegistry.shortcutDescriptorsForAction("main.toggle-dock");s.title=Common.UIString("Placement of DevTools relative to the page. (%s to restore last position)",i[0].name);n.appendChild(s);const o=new UI.Toolbar("",n);if(Host.isMac()&&!UI.themeSupport.hasTheme())o.makeBlueOnHover();const r=new UI.ToolbarToggle(Common.UIString("Undock into separate window"),"largeicon-undock");const a=new UI.ToolbarToggle(Common.UIString("Dock to bottom"),"largeicon-dock-to-bottom");const l=new UI.ToolbarToggle(Common.UIString("Dock to right"),"largeicon-dock-to-right");const c=new UI.ToolbarToggle(Common.UIString("Dock to left"),"largeicon-dock-to-left");r.addEventListener(UI.ToolbarButton.Events.MouseDown,e=>e.data.consume());a.addEventListener(UI.ToolbarButton.Events.MouseDown,e=>e.data.consume());l.addEventListener(UI.ToolbarButton.Events.MouseDown,e=>e.data.consume());c.addEventListener(UI.ToolbarButton.Events.MouseDown,e=>e.data.consume());r.addEventListener(UI.ToolbarButton.Events.Click,t.bind(null,Components.DockController.State.Undocked));a.addEventListener(UI.ToolbarButton.Events.Click,t.bind(null,Components.DockController.State.DockedToBottom));l.addEventListener(UI.ToolbarButton.Events.Click,t.bind(null,Components.DockController.State.DockedToRight));c.addEventListener(UI.ToolbarButton.Events.Click,t.bind(null,Components.DockController.State.DockedToLeft));r.setToggled(Components.dockController.dockSide()===Components.DockController.State.Undocked);a.setToggled(Components.dockController.dockSide()===Components.DockController.State.DockedToBottom);l.setToggled(Components.dockController.dockSide()===Components.DockController.State.DockedToRight);c.setToggled(Components.dockController.dockSide()===Components.DockController.State.DockedToLeft);o.appendToolbarItem(r);o.appendToolbarItem(c);o.appendToolbarItem(a);o.appendToolbarItem(l);n.addEventListener("keydown",e=>{let t=0;if(e.key==="ArrowLeft")t=-1;else if(e.key==="ArrowRight")t=1;else return;const n=[r,c,a,l];let s=n.findIndex(e=>e.element.hasFocus());s=Number.constrain(s+t,0,n.length-1);n[s].element.focus();e.consume(true)});e.headerSection().appendCustomItem(n)}function t(t){Components.dockController.setDockSide(t);e.discard()}if(Components.dockController.dockSide()===Components.DockController.State.Undocked&&SDK.targetManager.mainTarget()&&SDK.targetManager.mainTarget().type()===SDK.Target.Type.Frame)e.defaultSection().appendAction("inspector_main.focus-debuggee",Common.UIString("Focus debuggee"));e.defaultSection().appendAction("main.toggle-drawer",UI.inspectorView.drawerVisible()?Common.UIString("Hide console drawer"):Common.UIString("Show console drawer"));e.appendItemsAtLocation("mainMenu");const n=e.defaultSection().appendSubMenuItem(Common.UIString("More tools"));const s=self.runtime.extensions("view",undefined,true);for(const e of s){const t=e.descriptor();if(t["persistence"]!=="closeable")continue;if(t["location"]!=="drawer-view"&&t["location"]!=="panel")continue;n.defaultSection().appendItem(e.title(),UI.viewManager.showView.bind(UI.viewManager,t["id"]))}const i=e.footerSection().appendSubMenuItem(Common.UIString("Help"));i.appendItemsAtLocation("mainMenuHelp")}};Main.Main.PauseListener=class{constructor(){SDK.targetManager.addModelListener(SDK.DebuggerModel,SDK.DebuggerModel.Events.DebuggerPaused,this._debuggerPaused,this)}_debuggerPaused(e){SDK.targetManager.removeModelListener(SDK.DebuggerModel,SDK.DebuggerModel.Events.DebuggerPaused,this._debuggerPaused,this);const t=e.data;const n=t.debuggerPausedDetails();UI.context.setFlavor(SDK.Target,t.target());Common.Revealer.reveal(n)}};Main.sendOverProtocol=function(e,t){return new Promise((n,s)=>{Protocol.test.sendRawMessage(e,t,(e,...t)=>{if(e)return s(e);return n(t)})})};Main.ReloadActionDelegate=class{handleAction(e,t){switch(t){case"main.debug-reload":Components.reload();return true}return false}};new Main.Main;self["ProductRegistry"]=self["ProductRegistry"]||{};ProductRegistry.BadgePool=class{constructor(e){this._showTitles=false;this._badgeElements=new Map;if(!e){this._setting=Common.settings.moduleSetting("product_registry.badges-visible");this._setting.addChangeListener(this._settingUpdated.bind(this));if(this._setting.get())Host.userMetrics.actionTaken(Host.UserMetrics.Action.ShowedThirdPartyBadges)}}setShowTitles(e){this._showTitles=e}badgeForFrame(e){return this._badgeForFrameOrUrl(this._resolveUrl.bind(this,e))}badgeForURL(e){return this._badgeForFrameOrUrl(()=>Promise.resolve(e))}reset(){this._badgeElements.clear()}_badgeForFrameOrUrl(e){const t=createElementWithClass("span","hidden");const n=UI.createShadowRootWithCoreStyles(t,"product_registry/badge.css");const s=n.createChild("span");s.classList.toggle("hide-badge-title",!this._showTitles);s.addEventListener("mousedown",e=>e.consume());s.addEventListener("click",e=>{this._showPopup(s);e.consume()},false);this._badgeElements.set(s,e);this._renderBadge(s);return t}async _resolveUrl(e){const t=await ProductRegistry.instance();let n=new Common.ParsedURL(e.url);const s=t.entryForUrl(n);if(!s){e.findCreationCallFrame(e=>{if(!e.url)return false;n=new Common.ParsedURL(e.url);return!!t.entryForUrl(n)})}return n}async _renderBadge(e){if(e.children.length||!this._isVisible(e)){this._updateBadgeElementVisibility(e);return}const t=await this._badgeElements.get(e)();const n=await ProductRegistry.instance();const s=t&&n.nameForUrl(t);if(!s)return;const i=s.replace(/[a-z]*/g,"").split(" ");let o;if(i.length>1)o=i[0][0]+i[1][0];else o=s;const r=e.createChild("span","product-registry-badge monospace");r.setAttribute("data-initial",o.substring(0,2).toUpperCase());r.title=s;r.style.backgroundColor=ProductRegistry.BadgePool.colorForEntryName(s);e.createChild("span","product-registry-badge-title").textContent=s;this._updateBadgeElementVisibility(e)}_settingUpdated(){for(const e of this._badgeElements.keys())this._renderBadge(e)}_isVisible(e){return!this._setting||this._setting.get()}_updateBadgeElementVisibility(e){e.parentNodeOrShadowHost().parentNodeOrShadowHost().classList.toggle("hidden",!this._isVisible(e))}async _showPopup(e){if(!this._badgeElements.has(e))return;const t=await ProductRegistry.instance();const n=await this._badgeElements.get(e)();const s=t.nameForUrl(n);const i=createElement("div");const o=UI.createShadowRootWithCoreStyles(i,"product_registry/popup.css");const r=o.createChild("div","product-registry-popup");const a=r.createChild("div","product-registry-domain");a.textContent=n.domain();const l=r.createChild("div","product-registry-name");l.textContent=s;const c="https://docs.google.com/forms/d/e/1FAIpQLSchz2FdcQ-rRllzl8BbhWaTRRY-12BpPjW6Hr9e1-BpCA083w/viewform"+"?entry_1425918171="+encodeURIComponent((n.domain()+n.path).substr(0,100));r.appendChild(UI.XLink.create(c,"Report mismatch","product-registry-link"));const d=new UI.Dialog;d.setContentAnchorBox(e.boxInWindow());d.contentElement.appendChild(i);d.setSizeBehavior(UI.GlassPane.SizeBehavior.MeasureContent);d.setAnchorBehavior(UI.GlassPane.AnchorBehavior.PreferTop);d.addCloseButton();d.show(e.ownerDocument)}static colorForEntryName(e){if(!ProductRegistry.BadgePool._colorGenerator){ProductRegistry.BadgePool._colorGenerator=new Common.Color.Generator({min:30,max:330},{min:50,max:80,count:3},80)}return ProductRegistry.BadgePool._colorGenerator.colorForID(e)}};ProductRegistry.instance=function(){const e=self.runtime.extension(ProductRegistry.Registry);if(e)return e.instance();return Promise.resolve(self.singleton(ProductRegistry.RegistryStub))};ProductRegistry.Registry=function(){};ProductRegistry.Registry.prototype={nameForUrl:function(e){},entryForUrl:function(e){},typeForUrl:function(e){}};ProductRegistry.RegistryStub=class{nameForUrl(e){return null}entryForUrl(e){return null}typeForUrl(e){return null}};ProductRegistry.Registry.ProductEntry;Runtime.cachedResources["product_registry/badge.css"]="/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.product-registry-badge {\n  background-color: rgba(0, 0, 0, 0.2);\n  border-radius: 2px;\n  padding: 1px 2px;\n  white-space: pre;\n  cursor: pointer;\n}\n\n.product-registry-badge::before {\n  content: attr(data-initial);\n  color: #222;\n}\n\n.hide-badge-title .product-registry-badge-title {\n  display: none;\n}\n\n.product-registry-badge-title {\n  padding-left: 4px;\n}";Runtime.cachedResources["product_registry/popup.css"]="/*\n * Copyright 2017 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.product-registry-popup {\n    background-color: white;\n    padding: 15px 45px 15px 15px;\n    border-radius: 4px;\n    white-space: nowrap;\n    box-shadow: 0px 1px 2px 0px gray;\n}\n\n.product-registry-domain {\n    font-weight: bold;\n}\n\n.product-registry-name {\n    padding: 10px 0;\n}\n\n.product-registry-link {\n    display: block;\n}\n\ndiv[is=dt-close-button] {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n}\n";